{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./app/frontend/_common/js/AuthorDialog.js","webpack:///./app/frontend/_common/js/AuthorPage.js","webpack:///./app/frontend/_common/js/BackendStorage.js","webpack:///./app/frontend/_common/js/FilesScreen.js","webpack:///./app/frontend/_common/js/InputPrompt.js","webpack:///./app/frontend/_common/js/PopConfirm.js","webpack:///./app/frontend/_common/js/SimulatorDialog.js","webpack:///./app/frontend/_common/js/UserAdminDialog.js","webpack:///./app/frontend/_common/js/Userinfo.js","webpack:///./app/frontend/_common/js/inlineSVG.js","webpack:///./app/frontend/_common/js/toast.js","webpack:///./app/frontend/designer/images/cursors/cursor_circle.png","webpack:///./app/frontend/designer/images/cursors/cursor_line.png","webpack:///./app/frontend/designer/images/cursors/cursor_port.png","webpack:///./app/frontend/designer/images/cursors/cursor_rectangle.png","webpack:///./app/frontend/designer/images/cursors/cursor_text.png","webpack:///./app/frontend/designer/images/layer_circle.svg","webpack:///./app/frontend/designer/images/layer_line.svg","webpack:///./app/frontend/designer/images/layer_port.svg","webpack:///./app/frontend/designer/images/layer_rect.svg","webpack:///./app/frontend/designer/images/layer_text.svg","webpack:///./app/frontend/designer/js/Application.js","webpack:///./app/frontend/designer/js/Configuration.js","webpack:///./app/frontend/designer/js/FilterPane.js","webpack:///./app/frontend/designer/js/Hardware.js","webpack:///./app/frontend/designer/js/LabelInplaceEditor.js","webpack:///./app/frontend/designer/js/Layer.js","webpack:///./app/frontend/designer/js/Toolbar.js","webpack:///./app/frontend/designer/js/View.js","webpack:///./app/frontend/designer/js/dialog/FigureCodeEdit.js","webpack:///./app/frontend/designer/js/dialog/FigureMarkdownEdit.js","webpack:///./app/frontend/designer/js/dialog/FigureTest.js","webpack:///./app/frontend/designer/js/dialog/FileSave.js","webpack:///./app/frontend/designer/js/figure/CircuitFigure.js","webpack:///./app/frontend/designer/js/figure/DecoratedInputPort.js","webpack:///./app/frontend/designer/js/figure/DecoratedOutputPort.js","webpack:///./app/frontend/designer/js/figure/ExtLabel.js","webpack:///./app/frontend/designer/js/figure/ExtLine.js","webpack:///./app/frontend/designer/js/figure/ExtPolygon.js","webpack:///./app/frontend/designer/js/figure/ExtPort.js","webpack:///./app/frontend/designer/js/figure/MarkerFigure.js","webpack:///./app/frontend/designer/js/figure/MarkerStateAFigure.js","webpack:///./app/frontend/designer/js/figure/MarkerStateBFigure.js","webpack:///./app/frontend/designer/js/figure/PolyCircle.js","webpack:///./app/frontend/designer/js/figure/PolyRect.js","webpack:///./app/frontend/designer/js/figure/TestSwitch.js","webpack:///./app/frontend/designer/js/figure/index.js","webpack:///./app/frontend/designer/js/filter/BlurFilter.js","webpack:///./app/frontend/designer/js/filter/FanoutFilter.js","webpack:///./app/frontend/designer/js/filter/FillColorFilter.js","webpack:///./app/frontend/designer/js/filter/Filter.js","webpack:///./app/frontend/designer/js/filter/FontColorFilter.js","webpack:///./app/frontend/designer/js/filter/FontSizeFilter.js","webpack:///./app/frontend/designer/js/filter/LinearGradientFilter.js","webpack:///./app/frontend/designer/js/filter/OpacityFilter.js","webpack:///./app/frontend/designer/js/filter/OutlineStrokeFilter.js","webpack:///./app/frontend/designer/js/filter/PortDirectionFilter.js","webpack:///./app/frontend/designer/js/filter/PortTypeFilter.js","webpack:///./app/frontend/designer/js/filter/PositionFilter.js","webpack:///./app/frontend/designer/js/filter/RadiusFilter.js","webpack:///./app/frontend/designer/js/filter/SizeFilter.js","webpack:///./app/frontend/designer/js/filter/StrokeFilter.js","webpack:///./app/frontend/designer/js/filter/TextLinearGradientFilter.js","webpack:///./app/frontend/designer/js/filter/index.js","webpack:///./app/frontend/designer/js/global.js","webpack:///./app/frontend/designer/js/index.js","webpack:///./app/frontend/designer/js/io/FigureWriter.js","webpack:///./app/frontend/designer/js/policy/AbstractGeoToolPolicy.js","webpack:///./app/frontend/designer/js/policy/AbstractToolPolicy.js","webpack:///./app/frontend/designer/js/policy/CircleToolPolicy.js","webpack:///./app/frontend/designer/js/policy/GeoDifferenceToolPolicy.js","webpack:///./app/frontend/designer/js/policy/GeoIntersectionToolPolicy.js","webpack:///./app/frontend/designer/js/policy/GeoUnionToolPolicy.js","webpack:///./app/frontend/designer/js/policy/LineToolPolicy.js","webpack:///./app/frontend/designer/js/policy/PortToolPolicy.js","webpack:///./app/frontend/designer/js/policy/RectangleToolPolicy.js","webpack:///./app/frontend/designer/js/policy/SelectionToolPolicy.js","webpack:///./app/frontend/designer/js/policy/TextToolPolicy.js","webpack:///./app/frontend/designer/js/util/mousetrap-global.js","webpack:///./app/frontend/designer/js/util/mousetrap-pause.js","webpack:///./app/frontend/designer/js/widget/jscolor/arrow.gif","webpack:///./app/frontend/designer/js/widget/jscolor/cross.gif","webpack:///./app/frontend/designer/js/widget/jscolor/hs.png","webpack:///./app/frontend/designer/js/widget/jscolor/hv.png","webpack:///./app/frontend/designer/js/widget/jscolor/jscolor.js","webpack:///./app/frontend/designer/js/widget/ui.anglepicker.js","webpack:///./app/frontend/designer/less/index.less?9c26","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/axios/lib/axios.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/axios/lib/core/buildFullPath.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/axios/lib/utils.js","webpack:///./node_modules/font-awesome/css/font-awesome.css","webpack:///./app/frontend/designer/less/index.less","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/css-loader/lib/url/escape.js","webpack:///./node_modules/font-awesome/css/font-awesome.css?a5a4","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.eot","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.eot?779f","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.svg","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.ttf","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.woff2","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.woff","webpack:///./node_modules/hogan.js/lib/compiler.js","webpack:///./node_modules/hogan.js/lib/hogan.js","webpack:///./node_modules/hogan.js/lib/template.js","webpack:///./node_modules/jsts/dist/jsts.js","webpack:///./node_modules/katex/katex.js","webpack:///./node_modules/katex/src/Lexer.js","webpack:///./node_modules/katex/src/MacroExpander.js","webpack:///./node_modules/katex/src/Options.js","webpack:///./node_modules/katex/src/ParseError.js","webpack:///./node_modules/katex/src/Parser.js","webpack:///./node_modules/katex/src/Settings.js","webpack:///./node_modules/katex/src/Style.js","webpack:///./node_modules/katex/src/buildCommon.js","webpack:///./node_modules/katex/src/buildHTML.js","webpack:///./node_modules/katex/src/buildMathML.js","webpack:///./node_modules/katex/src/buildTree.js","webpack:///./node_modules/katex/src/delimiter.js","webpack:///./node_modules/katex/src/domTree.js","webpack:///./node_modules/katex/src/environments.js","webpack:///./node_modules/katex/src/fontMetrics.js","webpack:///./node_modules/katex/src/fontMetricsData.js","webpack:///./node_modules/katex/src/functions.js","webpack:///./node_modules/katex/src/mathMLTree.js","webpack:///./node_modules/katex/src/parseData.js","webpack:///./node_modules/katex/src/parseTree.js","webpack:///./node_modules/katex/src/symbols.js","webpack:///./node_modules/katex/src/unicodeRegexes.js","webpack:///./node_modules/katex/src/utils.js","webpack:///./node_modules/linkify-it/index.js","webpack:///./node_modules/linkify-it/lib/re.js","webpack:///./node_modules/lodash.assign/index.js","webpack:///./node_modules/markdown-it-asciimath/index.js","webpack:///./node_modules/markdown-it/index.js","webpack:///./node_modules/markdown-it/lib/common/entities.js","webpack:///./node_modules/markdown-it/lib/common/html_blocks.js","webpack:///./node_modules/markdown-it/lib/common/html_re.js","webpack:///./node_modules/markdown-it/lib/common/utils.js","webpack:///./node_modules/markdown-it/lib/helpers/index.js","webpack:///./node_modules/markdown-it/lib/helpers/parse_link_destination.js","webpack:///./node_modules/markdown-it/lib/helpers/parse_link_label.js","webpack:///./node_modules/markdown-it/lib/helpers/parse_link_title.js","webpack:///./node_modules/markdown-it/lib/index.js","webpack:///./node_modules/markdown-it/lib/parser_block.js","webpack:///./node_modules/markdown-it/lib/parser_core.js","webpack:///./node_modules/markdown-it/lib/parser_inline.js","webpack:///./node_modules/markdown-it/lib/presets/commonmark.js","webpack:///./node_modules/markdown-it/lib/presets/default.js","webpack:///./node_modules/markdown-it/lib/presets/zero.js","webpack:///./node_modules/markdown-it/lib/renderer.js","webpack:///./node_modules/markdown-it/lib/ruler.js","webpack:///./node_modules/markdown-it/lib/rules_block/blockquote.js","webpack:///./node_modules/markdown-it/lib/rules_block/code.js","webpack:///./node_modules/markdown-it/lib/rules_block/fence.js","webpack:///./node_modules/markdown-it/lib/rules_block/heading.js","webpack:///./node_modules/markdown-it/lib/rules_block/hr.js","webpack:///./node_modules/markdown-it/lib/rules_block/html_block.js","webpack:///./node_modules/markdown-it/lib/rules_block/lheading.js","webpack:///./node_modules/markdown-it/lib/rules_block/list.js","webpack:///./node_modules/markdown-it/lib/rules_block/paragraph.js","webpack:///./node_modules/markdown-it/lib/rules_block/reference.js","webpack:///./node_modules/markdown-it/lib/rules_block/state_block.js","webpack:///./node_modules/markdown-it/lib/rules_block/table.js","webpack:///./node_modules/markdown-it/lib/rules_core/block.js","webpack:///./node_modules/markdown-it/lib/rules_core/inline.js","webpack:///./node_modules/markdown-it/lib/rules_core/linkify.js","webpack:///./node_modules/markdown-it/lib/rules_core/normalize.js","webpack:///./node_modules/markdown-it/lib/rules_core/replacements.js","webpack:///./node_modules/markdown-it/lib/rules_core/smartquotes.js","webpack:///./node_modules/markdown-it/lib/rules_core/state_core.js","webpack:///./node_modules/markdown-it/lib/rules_inline/autolink.js","webpack:///./node_modules/markdown-it/lib/rules_inline/backticks.js","webpack:///./node_modules/markdown-it/lib/rules_inline/balance_pairs.js","webpack:///./node_modules/markdown-it/lib/rules_inline/emphasis.js","webpack:///./node_modules/markdown-it/lib/rules_inline/entity.js","webpack:///./node_modules/markdown-it/lib/rules_inline/escape.js","webpack:///./node_modules/markdown-it/lib/rules_inline/html_inline.js","webpack:///./node_modules/markdown-it/lib/rules_inline/image.js","webpack:///./node_modules/markdown-it/lib/rules_inline/link.js","webpack:///./node_modules/markdown-it/lib/rules_inline/newline.js","webpack:///./node_modules/markdown-it/lib/rules_inline/state_inline.js","webpack:///./node_modules/markdown-it/lib/rules_inline/strikethrough.js","webpack:///./node_modules/markdown-it/lib/rules_inline/text.js","webpack:///./node_modules/markdown-it/lib/rules_inline/text_collapse.js","webpack:///./node_modules/markdown-it/lib/token.js","webpack:///./node_modules/match-at/lib/matchAt.js","webpack:///./node_modules/mdurl/decode.js","webpack:///./node_modules/mdurl/encode.js","webpack:///./node_modules/mdurl/format.js","webpack:///./node_modules/mdurl/index.js","webpack:///./node_modules/mdurl/parse.js","webpack:///./node_modules/mousetrap/mousetrap.js","webpack:///./node_modules/node-libs-browser/node_modules/path-browserify/index.js","webpack:///./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/remarkable/dist/esm/index.browser.js","webpack:///./node_modules/sanitize-filename/index.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./node_modules/truncate-utf8-bytes/browser.js","webpack:///./node_modules/truncate-utf8-bytes/lib/truncate.js","webpack:///./node_modules/uc.micro/categories/Cc/regex.js","webpack:///./node_modules/uc.micro/categories/Cf/regex.js","webpack:///./node_modules/uc.micro/categories/P/regex.js","webpack:///./node_modules/uc.micro/categories/Z/regex.js","webpack:///./node_modules/uc.micro/index.js","webpack:///./node_modules/uc.micro/properties/Any/regex.js","webpack:///./node_modules/utf8-byte-length/browser.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js"],"names":["Dialog","conf","window","open","author","url","dialog","axios","require","md","use","AuthorPage","containerId","file","token","additionalParam","get","then","$","html","pages","response","data","forEach","page","index","container","append","sections","section","type","renderBrain","renderMarkdown","length","markdown","render","content","image","BackendStorage","path","scope","backend","list","files","JSON","parse","sort","a","b","name","toLowerCase","json","fileName","filePath","stringify","undefined","post","save","delete","folderName","folder","sanitize","replace","fileSuffix","RegExp","inputPrompt","Files","app","permissions","on","onShow","setTimeout","w1","outerWidth","w2","prop","appendTo","directory","fs","dirname","initPane","user","global","storage","initTabs","socket","off","preview","msg","attr","src","Date","getTime","document","event","target","show","createFolder","value","fileNew","fileSave","each","$active","$content","$links","find","addClass","hash","not","hide","e","removeClass","preventDefault","remove","paneSelector","backendConf","initialPath","_this","loadPane","getFiles","filter","endsWith","map","update","title","unshift","dir","back","compiled","Hogan","compile","output","create","$el","closest","deleteFile","parent","popConfirm","placement","serverless","focus","Mousetrap","pause","currentTarget","$replaceWith","after","fire","unpause","newName","val","rename","from","to","resTitle","resName","catch","cancel","which","stopPropagation","load","history","pushState","id","appName","location","href","split","label","defaultValue","callback","modal","key","charCode","keyCode","click","fn","extend","options","defaults","yesBtn","noBtn","last","self","arrayActions","arrayDelegatedActions","eventToConfirm","optName","optValue","i","elmType","code","form","hasOwnProperty","jQuery","_data","push","handler","unbind","tagName","selector","indexOf","eval","parents","submit","popover","trigger","bind","one","apply","originalEvent","simulator","useradmin","Userinfo","featureset","authentication","icon","role","displayName","loginRedirect","loginButton","root","factory","define","inlineSVG","supports","querySelector","addEventListener","settings","initClass","svgSelector","times","func","arguments","extended","deep","Object","prototype","toString","call","merge","obj","getAll","svgs","querySelectorAll","inliner","cb","Array","svg","getAttribute","attributes","request","XMLHttpRequest","onload","status","parser","DOMParser","result","parseFromString","responseText","inlinedSVG","getElementsByTagName","titles","parentNode","removeChild","descs","removeAttribute","slice","attribute","setAttribute","classList","add","className","longdesc","description","createElementNS","descriptionText","createTextNode","appendChild","insertBefore","firstChild","alt","titleText","replaceChild","console","error","onerror","send","init","text","delay","animate","top","rafAsync","Promise","requestAnimationFrame","resolve","checkElement","Application","hasUnsavedChanges","currentFile","documentConfigurationTempl","baseClass","trim","onbeforeunload","localStorage","delegate","documentConfiguration","view","View","toolbar","Toolbar","layer","Layer","FilterPane","userinfo","filePane","shapes","indexPane","installEditPolicy","SelectionToolPolicy","getCommandStack","getParam","state","tutorial","checkForTutorialMode","Anno","position","regexS","regex","results","exec","clear","loadUrl","centerDocument","reader","draw2d","io","Reader","unmarshal","getConfiguration","markSaveLocation","setConfiguration","refresh","figures","getExtFigures","getSize","first","getUserData","pick","var_keys","keys","out","userData","isPreChangeEvent","getStack","canUndo","elementId","DEFAULT_LABEL","currentFigure","onSelectionChanged","canvas","figure","isExtFigure","filters","removePane","insertPane","getPotentialFilters","impl","$this","filterName","addFilter","raspi","set","pin","connected","arduino","ui","LabelInplaceEditor","NAME","setter","getter","_super","onStart","onCancel","onCommit","emitter","_updateSelection","figureToCSS","isVisible","tooltip","sortable","axis","toArray","reverse","getExtFigure","toFront","bootbox","prompt","cmd","command","CommandAttr","execute","select","setVisible","setCurrentSelection","ripple","selection","getSelection","rect","getBoundingBox","p","getCenter","circle","paper","x","y","Math","max","w","h","fill","stroke","anim","Raphael","animation","transform","opacity","buttonGroup","saveButton","bindGlobal","undoButton","undo","redoButton","redo","deleteButton","startTransaction","Configuration","i18n","deleteShape","createCommand","CommandType","DELETE","commitTransaction","selectButton","shapeButton","RectangleToolPolicy","executed","CircleToolPolicy","LineToolPolicy","TextToolPolicy","PortToolPolicy","unionButton","GeoUnionToolPolicy","differenceButton","GeoDifferenceToolPolicy","intersectionButton","GeoIntersectionToolPolicy","testButton","FigureTest","exc","log","FigureCodeEdit","codeButton","markdownButton","FigureMarkdownEdit","appSwitchButtons","simulatorDialog","authorDialog","usermanagement","userAdminDialog","canRedo","Canvas","clippboardFigure","grid","policy","ShowGridEditPolicy","setScrollArea","FadeoutDecorationPolicy","SnapToGeometryEditPolicy","SnapToCenterEditPolicy","SnapToInBetweenEditPolicy","diff","getZoom","f","translate","primarySelection","getPrimary","clone","cloneToAdd","CommandAdd","getPosition","setZoom","newZoom","bb","c","scrollTo","height","width","uninstallEditPolicy","reset","setCursor","cursor","css","getCanvas","setCanvas","regionDragDropConstraint","getShapeElement","repaint","fireEvent","getX","getY","dx","dy","contains","editPolicy","unselect","Connection","disconnect","parseInt","getFigures","grep","lines","getLines","line","addAll","xCoords","yCoords","shape_designer","ExtPort","getOuterBoundingBox","minX","min","minY","geo","Rectangle","hideDecoration","showDecoration","getWidth","getHeight","centerView","scrollTop","scrollLeft","fromDocumentToCanvasCoordinate","Point","getAbsoluteX","zoomFactor","getAbsoluteY","fromCanvasToDocumentCoordinate","splash","fadeIn","before","method","wrapper","orig","args","intersects","range","editor","getSelectionRange","preventReadonly","next","findIndex","element","array","startsWith","ace","edit","session","getSession","Range","range2","addMarker","setMode","setUseWrapMode","moveCursorTo","keyBinding","addKeyboardHandler","handleKeyboard","keyString","passEvent","start","doc","createAnchor","end","$insertRight","getValue","fadeOut","mdHtml","scrollMap","lineHeight","xhtmlOut","breaks","langPrefix","linkTarget","typographer","Remarkable","inline","validateLink","renderer","rules","paragraph_open","tokens","idx","level","heading_open","hLevel","$preview","$source","_debounce","proxy","syncScroll","updateResult","source","offset","nonEmptyList","pos","lineHeightMap","linesCount","acc","sourceLikeDiv","_scrollMap","visibility","clientWidth","str","lh","parseFloat","round","n","el","t","scrollHeight","scroll","lineNo","posTo","floor","buildScrollMap","stop","BAD_PROTOCOLS","utils","replaceEntities","wait","immediate","timeout","context","later","callNow","clearTimeout","simulationContext","animationFrameFunc","_calculate","writer","FigureWriter","testShape","marshal","js","ShowDotEditPolicy","router","layout","connection","InteractiveManhattanConnectionRouter","ComposedConnectionCreatePolicy","DragConnectionCreatePolicy","createConnection","radius","color","outlineStroke","outlineColor","OrthogonalConnectionCreatePolicy","test","shape","node","Start","toggle1","TestSwitch","toggle2","End","removeDialog","simulate","onStop","calculate","outPort","getSource","inPort","getTarget","setValue","setColor","png","Writer","imageDataUrl","basename","join","saveFile","scale","SetFigure","tooltipTimer","bgColor","persistPorts","zoomCallback","positionTooltip","hideTooltip","showTooltip","fast","applyAlpha","layerGet","svgNodes","found","layerAttr","layerShow","flag","duration","getParameterSettings","getRequiredHardware","onDrop","dropTarget","shiftKey","ctrlKey","getPersistentAttributes","memento","labels","children","labelJSON","locator","setPersistentAttributes","resetChildren","DecoratedInputPort","InputPort","hasChanged","decoration","MarkerFigure","LeftLocator","margin","useDefaultValue","setStick","hasChangedValue","hasRisingEdge","hasFallingEdge","DecoratedOutputPort","OutputPort","ExtLabel","basic","Label","blur","setUserData","util","ArrayList","PositionFilter","FontSizeFilter","FontColorFilter","installEditor","setBlur","getBlur","removeFilter","alreadyIn","onInstall","lattr","bold","fontSize","fontFamily","fontColor","padding","left","filterMemento","ExtLine","PolyLine","StrokeFilter","setRouter","VertexRouter","VertexSelectionFeedbackPolicy","ExtPolygon","Polygon","SizeFilter","FillColorFilter","RectangleSelectionFeedbackPolicy","onDoubleClick","svgPathString","calculatePath","sizeFilterAdded","insertElementAt","Circle","normalStyle","diameter","hiddenStyle","direction","fanout","FanoutFilter","PortDirectionFilter","PortTypeFilter","AntSelectionFeedbackPolicy","setInputType","getInputType","setMaxFanOut","count","getMaxFanOut","setConnectionDirection","updateDecoration","getConnectionDirection","ArrowUp","TopLocator","ArrowRight","RightLocator","ArrowDown","BottomLocator","ArrowLeft","fanoutFilterAdded","VerticalLayout","isMouseOver","stick","stateA","MarkerStateAFigure","stateB","MarkerStateBFigure","onMouseOver","getStickTickFigure","hitTest","getStick","getLabelFigure","contextMenu","events","setDefaultValue","items","visible","setTick","setText","bottom","right","HorizontalLayout","gap","stickTick","resizeable","addCssClass","repaintBlocked","createShapeElement","arrowLength","vertices","getAbsolutePosition","getRadius","equals","begin","Util","insetPoint","modStart","modEnd","PolyCircle","Oval","center","setCenter","getVertices","h2","sides","radian","PI","cos","sin","PolyRect","topLeft","bottomRight","addVertex","createPort","toggleValue","getOutputPort","getConnections","BlurFilter","$parent","cssScope","TouchSpin","step","Filter","maxboostedstep","postfix","colorPicker","picker","jscolor","getElementById","fromString","getBackgroundColor","onImmediateChange","setBackgroundColor","hidePicker","relatedFigure","getFontColor","setFontColor","getFontSize","boostat","setFontSize","LinearGradientFilter","colorPicker1","colorPicker2","startColor","endColor","angle","anglepicker","change","picker1","picker2","setStroke","OpacityFilter","getAlpha","setAlpha","OutlineStrokeFilter","getOutlineStroke","setOutlineStroke","getOutlineColor","setOutlineColor","block","setPosition","RadiusFilter","setRadius","setWidth","setHeight","getStroke","filterWidth","filterColor","getColor","TextLinearGradientFilter","hardware","CircuitFigure","widget","bridge","button","uaMatch","ua","match","browser","version","matched","navigator","userAgent","chrome","webkit","safari","k","resultCallback","customCode","ports","constructor","extra","getText","typeMapping","methodMapping","template","tags","Base64","encode","jsts","AbstractToolPolicy","firstFigure","operation","setToolHeader","setToolMessage","setPrimary","executeGeometryOperation","figure1","figure2","operationFunc","p1","getGeometry","p2","union","GeoJSONWriter","write","CommandCollection","CommandDelete","coordinates","poly","vertex","WKTReader","v","asArray","read","SelectionPolicy","setToolText","message","TITLE","boundingBoxFigure1","boundingBoxFigure2","onUninstall","onMouseDown","onMouseDrag","dx2","dy2","r","sqrt","abs","Color","onMouseUp","AbstractGeoToolPolicy","getBestFigure","getParent","Port","isSelectable","MESSAGE_STEP1","MESSAGE_STEP2","lineFigure","onMouseMove","setEndPoint","onClick","beforeLast","removeVertexAt","setStartPoint","mouseDownElement","topLeftPoint","alpha","dash","setDimension","distance","BoundingboxSelectionPolicy","heading","cloneOnDrag","mouseDraggingElement","ResizeHandle","onDragEnd","onDragStart","newFigure","_globalCallbacks","_originalStopCallback","stopCallback","combo","sequence","paused","action","bindClass","binding","preloading","install","addEvent","preload","matchClass","m","Function","eInvalidProp","imgRequire","loadImage","images","pad","sld","cross","arrow","imgLoaded","requireImage","filename","Image","fetchElement","mixed","evnt","attachEvent","createEvent","ev","initEvent","dispatchEvent","createEventObject","getElementPos","e1","e2","offsetParent","offsetLeft","offsetTop","nodeName","toUpperCase","getElementSize","offsetWidth","offsetHeight","getRelMousePos","offsetX","offsetY","layerX","layerY","getViewPos","pageYOffset","pageXOffset","body","documentElement","getViewSize","innerWidth","innerHeight","clientHeight","URI","uri","scheme","authority","query","fragment","toAbsolute","base","removeDotSegments","substr","rm","required","adjust","caps","slider","valueElement","styleElement","hsv","rgb","minH","maxH","minS","maxS","minV","maxV","pickerOnfocus","pickerMode","pickerPosition","pickerSmartPosition","pickerButtonHeight","pickerClosable","pickerCloseText","pickerButtonColor","pickerFace","pickerFaceColor","pickerBorder","pickerBorderColor","pickerInset","pickerInsetColor","pickerZIndex","isPickerOwner","removePicker","showPicker","tp","ts","vp","vs","ps","getPickerDims","l","pp","drawPicker","importColor","exportColor","leaveValue","style","backgroundImage","jscStyle","backgroundColor","leaveStyle","flags","leavePad","redrawPad","leaveSld","redrawSld","fromHSV","s","HSV_RGB","fromRGB","g","RGB_HSV","hex","charAt","owner","boxB","box","createElement","padB","padM","sldB","sldM","btn","btnS","btnT","THIS","segSize","seg","onmouseup","onmouseout","onmousedown","abortBlur","onmousemove","holdPad","holdSld","setPad","setSld","empty","removeAllRanges","dispatchImmediateChange","handle_touchmove","touches","pageX","touchOffset","X","pageY","Y","removeEventListener","modeID","dims","zIndex","border","borderColor","background","overflow","display","eOldIE","setBtnBorder","insetColors","pickerOutsetColor","font","textAlign","padImg","hsImg","hvImg","crossImg","backgroundRepeat","arrowImg","backgroundPosition","o","yComponent","childNodes","blurTarget","blurValue","mpos","updateField","mouse","widgetEventPrefix","_init","_mouseInit","pointer","setDegrees","_propagate","_trigger","_create","destroy","_mouseDestroy","_mouseStart","myOffset","startOffset","setDegreesFromEvent","_mouseStop","_mouseDrag","_setOption","newValue","oldValue","drawRotation","clockwise","rotation","degrees","clamp","opposite","adjacent","radians","atan","roundToMultiple","shiftSnap","snap","number","multiple","integer","rest"],"mappings":"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A;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,mBAAO,CAAC,yEAAsB;;AAElD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACnLa;;AAEb,YAAY,mBAAO,CAAC,kDAAS;AAC7B,WAAW,mBAAO,CAAC,gEAAgB;AACnC,YAAY,mBAAO,CAAC,4DAAc;AAClC,kBAAkB,mBAAO,CAAC,wEAAoB;AAC9C,eAAe,mBAAO,CAAC,wDAAY;;AAEnC;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAe,mBAAO,CAAC,kEAAiB;AACxC,oBAAoB,mBAAO,CAAC,4EAAsB;AAClD,iBAAiB,mBAAO,CAAC,sEAAmB;;AAE5C;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,oEAAkB;;AAEzC;;AAEA;AACA;;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;;;;AClBa;;AAEb,aAAa,mBAAO,CAAC,2DAAU;;AAE/B;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACxDa;;AAEb;AACA;AACA;;;;;;;;;;;;;ACJa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,eAAe,mBAAO,CAAC,yEAAqB;AAC5C,yBAAyB,mBAAO,CAAC,iFAAsB;AACvD,sBAAsB,mBAAO,CAAC,2EAAmB;AACjD,kBAAkB,mBAAO,CAAC,mEAAe;;AAEzC;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;;;;;;;;;;;;;AC7Fa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;;;ACnDa;;AAEb,oBAAoB,mBAAO,CAAC,mFAA0B;AACtD,kBAAkB,mBAAO,CAAC,+EAAwB;;AAElD;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnBa;;AAEb,mBAAmB,mBAAO,CAAC,qEAAgB;;AAE3C;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjBa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,oBAAoB,mBAAO,CAAC,uEAAiB;AAC7C,eAAe,mBAAO,CAAC,uEAAoB;AAC3C,eAAe,mBAAO,CAAC,yDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;;;;;;;;;;;;AC9Ea;;AAEb;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzCa;;AAEb,YAAY,mBAAO,CAAC,mDAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;;ACxEa;;AAEb,kBAAkB,mBAAO,CAAC,mEAAe;;AAEzC;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxBa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,MAAM;AACjB,WAAW,eAAe;AAC1B,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;;ACnBA,+CAAa;;AAEb,YAAY,mBAAO,CAAC,kDAAS;AAC7B,0BAA0B,mBAAO,CAAC,8FAA+B;;AAEjE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,gEAAgB;AACtC,GAAG;AACH;AACA,cAAc,mBAAO,CAAC,iEAAiB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY;AACnB;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;;AChGa;;AAEb;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACtEa;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACba;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0CAA0C;AAC1C,SAAS;;AAET;AACA,4DAA4D,wBAAwB;AACpF;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,kCAAkC;AAClC,+BAA+B,aAAa,EAAE;AAC9C;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACba;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;ACnEa;;AAEb,YAAY,mBAAO,CAAC,mDAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACXa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,eAAe;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1Ba;;AAEb,WAAW,mBAAO,CAAC,gEAAgB;;AAEnC;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB;AACA;AACA;AACA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ACAA,mE;;;;;;;;;;;ACAA,mE;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,oE;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,kBAAkB;;AAElB;AACA;AACA,qBAAqB,iCAAiC;AACtD;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,mBAAmB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qCAAqC,mBAAmB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,qBAAqB,SAAS;AAC9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,uBAAuB;AACvB,qFAAqF;AACrF;AACA;AACA;AACA,2BAA2B;AAC3B,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,iDAAiD;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yDAAyD,iBAAiB;AAC1E;AACA,aAAa,0BAA0B;AACvC;;AAEA;AACA;AACA;AACA,yCAAyC,iGAAiG;AAC1I;AACA,uBAAuB,2BAA2B;AAClD;;AAEA;AACA,aAAa,wBAAwB,uCAAuC,qCAAqC;AACjH;;AAEA;AACA;AACA;AACA,mBAAmB,mBAAmB,cAAc;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,aAAa,0BAA0B;AAC9D;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B,sFAAsF;AACtF;AACA;;AAEA;AACA;AACA;AACA,qGAAqG;AACrG,qDAAqD;AACrD;AACA,wBAAwB,EAAE,SAAS;AACnC,KAAK;;AAEL;AACA,0GAA0G;AAC1G;AACA,yBAAyB;AACzB,KAAK;;AAEL;AACA;AACA,iBAAiB,YAAY,oBAAoB;AACjD;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA,4DAA4D;AAC5D;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA,6FAA6F;AAC7F,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL,MAAM;;AAEN;AACA;;AAEA;AACA,2FAA2F;AAC3F;;AAEA;AACA,2BAA2B;AAC3B;;AAEA;AACA;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC,EAAE,KAA8B,aAAa,SAAK;;;;;;;;;;;;ACtanD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,YAAY,mBAAO,CAAC,2DAAY;AAChC,iBAAiB,mBAAO,CAAC,2DAAY;AACrC;AACA;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C,WAAW,EAAE;;AAE1D;AACA;;AAEA;AACA;;AAEA;AACA,8CAA8C;AAC9C,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,oBAAoB,eAAe,EAAE;;AAErC,oBAAoB,kBAAkB,eAAe,UAAU,EAAE;;AAEjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,2BAA2B;AAC3B,2BAA2B;AAC3B,8BAA8B;AAC9B,+BAA+B;AAC/B;AACA;;AAEA;AACA;AACA;;AAEA,CAAC,EAAE,KAA8B,aAAa,SAAK;;;;;;;;;;;;ACpVnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC,KAA4D;AAC7D,CAAC,SAC6B;AAC9B,CAAC,4BAA4B;;AAE7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,UAAU;AACvC;AACA,GAAG,2BAA2B,UAAU;AACxC;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,2BAA2B;AACtC,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B,aAAa;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,SAAS;AACpD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa;AACb,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,oBAAoB,oBAAoB;AACxC;AACA;AACA,KAAK;AACL,qCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,WAAW;AACjC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,0DAA0D;AAC1D;AACA,0DAA0D;AAC1D;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,6CAA6C;AAC7C,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kEAAkE;AAClE,yBAAyB;AACzB,2DAA2D;AAC3D;;AAEA,EAAE;AACF,oDAAoD;AACpD,yCAAyC;AACzC,8BAA8B;AAC9B,gDAAgD;AAChD,yBAAyB;AACzB,8BAA8B;AAC9B,mDAAmD;AACnD;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAI;;AAEJ;AACA,GAAG;;AAEH;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,iCAAiC;AACjC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,sDAAsD;AACtD;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gCAAgC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,cAAc,UAAU;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,IAAI;AAChB;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B,aAAa;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,SAAS;AACpD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,+CAA+C;AACxF;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,iDAAiD;AAC1F;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B,aAAa;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,SAAS;AACpD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb,WAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,YAAY;AACZ;AACA;AACA;AACA,qCAAqC,SAAS;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,mCAAmC;AACnC,6BAA6B;AAC7B,mDAAmD;AACnD;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA,kBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,kBAAkB,6BAA6B;AAC/C;AACA;AACA,GAAG;AACH;AACA;AACA,kBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kBAAkB,6BAA6B;AAC/C;AACA;AACA,GAAG;AACH;AACA;AACA,kBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA;AACA;AACA,wDAAwD,cAAc;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA,IAAI;AACJ;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA,kBAAkB,0BAA0B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA,iBAAiB,yCAAyC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA,GAAG;AACH;AACA;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF,mCAAmC;AACnC;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA,kBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA,kBAAkB,8BAA8B;AAChD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,0CAA0C;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA,+DAA+D;AAC/D;AACA;AACA,sFAAsF;AACtF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kBAAkB,UAAU;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B;AAChD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,kBAAkB,WAAW;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B;AAChD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uCAAuC;AACvC;AACA,wCAAwC;AACxC;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD,0BAA0B,IAAI;AACnF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6DAA6D,EAAE;AAC/D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,SAAS;AACtB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,SAAS;AACtB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa;AACb;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa;AACb;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,yDAAyD,SAAS;AAClE;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,WAAW;AACxB,cAAc,OAAO;AACrB;AACA;AACA;AACA,kEAAkE,SAAS;AAC3E;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kEAAkE,SAAS;AAC3E;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,cAAc,OAAO;AACrB;AACA;AACA;AACA,8DAA8D,SAAS;AACvE;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,iDAAiD,SAAS;AAC1D;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,aAAa;AAC1B,cAAc,OAAO;AACrB;AACA;AACA;AACA,2DAA2D,SAAS;AACpE;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC,cAAc,OAAO;AACrB;AACA;AACA;AACA,wDAAwD,SAAS;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,aAAa;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mDAAmD,eAAe;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,iBAAiB;AACxE;AACA;;AAEA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,MAAM,iBAAiB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,yBAAyB;AACzB,EAAE;AACF;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH,kDAAkD;AAClD,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,mCAAmC;AACnC;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,kBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,kBAAkB,oCAAoC;AACtD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,kBAAkB,QAAQ;AAC1B,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,kBAAkB,QAAQ;AAC1B,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,OAAO;AACxB,kBAAkB,OAAO;AACzB;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,gBAAgB,+BAA+B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,kBAAkB,gCAAgC;AAClD;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY,QAAQ,kDAAkD;AACtE;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;;AAEA,2CAA2C,SAAS;AACpD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,GAAG;AACH,qCAAqC;AACrC;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,wCAAwC;AACxC,GAAG;AACH,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,yGAAyG;AACzG;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gCAAgC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA,kBAAkB,8BAA8B;AAChD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA,EAAE;AACF;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uBAAuB;AAC3D;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,iBAAiB,gCAAgC;AACjD,kBAAkB,+BAA+B;AACjD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,EAAE;AACF,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,kBAAkB,OAAO;AACzB,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,mCAAmC,QAAQ;AAC3C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,cAAc;AACpE;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,6CAA6C;AAC7C,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA,wFAAwF;AACxF;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,2CAA2C,kBAAkB;AAC7D;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,2CAA2C,kBAAkB;AAC7D;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,sCAAsC,cAAc;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iHAAiH;AACjH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,sCAAsC,aAAa;AACnD;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,gDAAgD,wDAAwD,8CAA8C,wDAAwD,6DAA6D,0DAA0D,gEAAgE;AACrY,GAAG;AACH,EAAE;AACF;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA,kBAAkB,WAAW;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,sCAAsC,aAAa;AACnD;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,8CAA8C;AAC9C,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA,0CAA0C;AAC1C,0CAA0C;AAC1C;;AAEA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA,mCAAmC;AACnC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,QAAQ,wBAAwB;AAChC;AACA;AACA,gGAAgG;AAChG;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,QAAQ,wDAAwD;AAChE;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,kBAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,qDAAqD,aAAa;AAClE;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,oDAAoD,aAAa;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,qDAAqD,aAAa;AAClE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,aAAa;AACjE;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,aAAa;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,qDAAqD,aAAa;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,aAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,aAAa;AACjE;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,CAAC;;;;AAID;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,yDAAyD;;AAEzD;;AAEA;;AAEA,6FAA6F;;AAE7F;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa;AACb;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,yBAAyB;AAC9C;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb,gCAAgC,OAAO;AACvC;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,aAAa;AAC3B;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA,mBAAmB,mCAAmC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA,mBAAmB,wCAAwC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA,mBAAmB,qCAAqC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA,mBAAmB,mCAAmC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wCAAwC,eAAe;AACvD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,aAAa,cAAc;AAC3B,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA,2CAA2C,eAAe;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA,uDAAuD,eAAe;AACtE;AACA;AACA,gBAAgB,aAAa,MAAM,aAAa;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD;AAClD;AACA,aAAa;AACb;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA,sBAAsB;AACtB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;;AAGH;AACA;AACA,eAAe;AACf,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,wCAAwC;AAC3D;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,qCAAqC;AACxD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,2CAA2C;AAC9D;AACA;AACA;AACA;AACA;AACA,CAAC;;;;AAID;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,kDAAkD,cAAc;AAChE;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uBAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uBAAuB;AAC3D;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA,mEAAmE;AACnE,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,IAAI;AACJ,6BAA6B;AAC7B;AACA,GAAG;AACH;AACA,6BAA6B;AAC7B,IAAI;AACJ,6BAA6B;AAC7B;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C;AAC7C,yBAAyB;AACzB,4CAA4C;AAC5C,iCAAiC;AACjC,mCAAmC;AACnC,+BAA+B;AAC/B;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,kEAAkE;AAClE;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,mDAAmD;AACnD,qDAAqD;AACrD;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,0CAA0C,aAAa;AACvD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,2CAA2C,aAAa;AACxD;AACA;AACA,yCAAyC,aAAa;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;;;AAID;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,uCAAuC,aAAa;AACpD;AACA;AACA,0DAA0D,gBAAgB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,cAAc;AAC3D;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,6CAA6C,cAAc;AAC3D;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,aAAa;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,0CAA0C,aAAa;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA,GAAG;AACH;AACA;AACA,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,cAAc;AACnD;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,qCAAqC,cAAc;AACnD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,wCAAwC,cAAc;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,wCAAwC,cAAc;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,2CAA2C,cAAc;AACzD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,wCAAwC,cAAc;AACtD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,cAAc;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,wCAAwC,cAAc;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,+BAA+B;AAC/B;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA,GAAG;AACH,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,+CAA+C,wDAAwD,8CAA8C,wDAAwD,6DAA6D,0DAA0D,gEAAgE;AACpY,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA,sBAAsB,WAAW;AACjC;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA,sBAAsB,WAAW;AACjC;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,mFAAmF;AAC9J,qCAAqC;AACrC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,yCAAyC,QAAQ;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,2BAA2B,cAAc;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,mDAAmD,QAAQ;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,mCAAmC,aAAa;AAChD;AACA;AACA,EAAE;AACF;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,qFAAqF;AACrF,6BAA6B;AAC7B;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,0CAA0C,aAAa;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,aAAa;AACzD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,sCAAsC,aAAa;AACnD;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,4CAA4C,aAAa;AACzD;AACA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,4CAA4C,aAAa;AACzD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,0CAA0C;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,mCAAmC,cAAc;AACjD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,uDAAuD,iBAAiB;AACxE;AACA;AACA,KAAK;AACL;AACA;AACA,MAAM;AACN,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iFAAiF;AACjF,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,kBAAkB;AACnC;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,oBAAoB;AACrC;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,mBAAmB;AACpC;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,aAAa;AAC5D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,aAAa;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iDAAiD,aAAa;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,aAAa;AACzD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;;;AAID;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,8DAA8D,kBAAkB;AAChF;AACA;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,qCAAqC,cAAc;AACnD;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA,EAAE;AACF;AACA,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,8DAA8D,kBAAkB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,6HAA6H;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,qDAAqD,cAAc;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,sDAAsD,kBAAkB;AACxE;AACA;AACA;AACA,EAAE;AACF;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,0CAA0C,cAAc;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,sDAAsD,kBAAkB;AACxE;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA,qDAAqD,aAAa;AAClE;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,qDAAqD,cAAc;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,0CAA0C,cAAc;AACxD;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,sDAAsD,kBAAkB;AACxE;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,kDAAkD,cAAc;AAChE;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,wCAAwC,aAAa;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA,EAAE;AACF,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,EAAE;AACF;AACA,uCAAuC,iBAAiB;AACxD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,yCAAyC,aAAa;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,aAAa;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA,wCAAwC,iBAAiB;AACzD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,wCAAwC,aAAa;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,aAAa;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA,uCAAuC,aAAa;AACpD;AACA,+CAA+C;AAC/C;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA,2CAA2C;AAC3C;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA,mFAAmF;AACnF,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,uCAAuC,cAAc;AACrD;AACA;AACA;AACA,EAAE;AACF;AACA,qDAAqD,aAAa;AAClE;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,qDAAqD,aAAa;AAClE;AACA;AACA,0DAA0D,gBAAgB;AAC1E;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA,qDAAqD,aAAa;AAClE;AACA;AACA,0DAA0D,gBAAgB;AAC1E;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,uCAAuC,cAAc;AACrD;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA,EAAE;AACF;AACA,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA,uCAAuC,cAAc;AACrD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,iBAAiB,8CAA8C;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wCAAwC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA,+EAA+E;AAC/E;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA,wCAAwC;AACxC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,+CAA+C;AAC3F;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,gDAAgD,kBAAkB;AAClE;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,gDAAgD,kBAAkB;AAClE;AACA;AACA,0DAA0D,gBAAgB;AAC1E;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,kBAAkB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,sDAAsD,kBAAkB;AACxE;AACA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,kBAAkB,+BAA+B;AACjD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,kBAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;AACA,kBAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,kDAAkD,yDAAyD,yDAAyD,yDAAyD,sDAAsD,2DAA2D,iEAAiE;AAC/Y;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,CAAC;;;;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,sCAAsC,aAAa;AACnD;AACA;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;;;;AAIA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,gFAAgF;AAChF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,2FAA2F;AAC3F,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,0CAA0C,aAAa;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,sCAAsC,cAAc;AACpD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,0CAA0C,aAAa;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,sCAAsC,cAAc;AACpD;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,gDAAgD,aAAa;AAC7D;AACA;AACA;AACA,6CAA6C,cAAc;AAC3D;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA,GAAG;AACH;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,CAAC;;;;AAID;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,cAAc;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uBAAuB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;;;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,iEAAiE,aAAa;AAC9E;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,cAAc;;AAE5D,CAAC;AACD;;;;;;;;;;;;ACti3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,mBAAO,CAAC,gEAAkB;AAC3C,eAAe,mBAAO,CAAC,4DAAgB;;AAEvC,gBAAgB,mBAAO,CAAC,8DAAiB;AACzC,gBAAgB,mBAAO,CAAC,8DAAiB;AACzC,YAAY,mBAAO,CAAC,sDAAa;;AAEjC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,wDAAU;;AAEhC,iBAAiB,mBAAO,CAAC,4DAAc;;AAEvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5GA;AACA;AACA;AACA;;AAEA,YAAY,mBAAO,CAAC,kDAAS;;AAE7B;AACA;AACA;AACA,oBAAoB;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;;;;;;AC5LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AC/DA;AACA,gBAAgB,mBAAO,CAAC,0DAAa;AACrC,mBAAmB,mBAAO,CAAC,gEAAgB;AAC3C,oBAAoB,mBAAO,CAAC,kEAAiB;AAC7C,cAAc,mBAAO,CAAC,sDAAW;AACjC,YAAY,mBAAO,CAAC,kDAAS;AAC7B,eAAe,mBAAO,CAAC,oEAAkB;;AAEzC,gBAAgB,mBAAO,CAAC,0DAAa;AACrC,iBAAiB,mBAAO,CAAC,4DAAc;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gBAAgB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gBAAgB;AACnD,0BAA0B,uBAAuB;AACjD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,qBAAqB;AAChC,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO,0BAA0B,KAAK;AACjD,YAAY,iDAAiD;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA,qDAAqD,IAAI;AACzD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,yDAAyD,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;;;ACh1BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,mBAAO,CAAC,iEAAkB;;AAEvC,iBAAiB,IAAI,IAAI;AACzB;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpJA;AACA;AACA;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,sDAAW;AACjC,kBAAkB,mBAAO,CAAC,8DAAe;AACzC,cAAc,mBAAO,CAAC,sDAAW;AACjC,YAAY,mBAAO,CAAC,kDAAS;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;;AAEA,2BAA2B,yBAAyB;AACpD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/dA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,mBAAO,CAAC,4DAAc;AACvC,YAAY,mBAAO,CAAC,kDAAS;;AAE7B,kBAAkB,mBAAO,CAAC,8DAAe;AACzC,gBAAgB,mBAAO,CAAC,0DAAa;AACrC,cAAc,mBAAO,CAAC,sDAAW;AACjC,kBAAkB,mBAAO,CAAC,8DAAe;AACzC,YAAY,mBAAO,CAAC,kDAAS;;AAE7B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,KAAK,IAAI;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,4CAA4C;AACzD,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,kDAAkD;AAC/D,aAAa;AACb;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,aAAa,kDAAkD;AAC/D,aAAa,gDAAgD;AAC7D,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,6BAA6B;;AAE7B;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,wCAAwC;AACxC,uCAAuC;;AAEvC;AACA,eAAe,6BAA6B;AAC5C;AACA,mCAAmC;AACnC,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,uCAAuC;AAC7D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,sDAAsD;AACvE,iBAAiB,2BAA2B;AAC5C,iBAAiB,4BAA4B;AAC7C,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA,iBAAiB,yBAAyB;AAC1C,iBAAiB,4BAA4B;AAC7C,iBAAiB,2BAA2B;AAC5C,iBAAiB;AACjB;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,sDAAsD;AACvE,iBAAiB,2BAA2B;AAC5C,iBAAiB,4BAA4B;AAC7C,iBAAiB,yBAAyB;AAC1C,iBAAiB,4BAA4B;AAC7C,iBAAiB,2BAA2B;AAC5C,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS,+BAA+B;AACxC,SAAS,kCAAkC;AAC3C,SAAS,yBAAyB;AAClC,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS,8BAA8B;AACvC,SAAS,yBAAyB;AAClC,SAAS,kCAAkC;AAC3C,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,MAAM,GAAG;AAC5B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,aAAa,0BAA0B;AACvC,aAAa,kCAAkC;AAC/C,aAAa,yBAAyB;AACtC,aAAa;AACb;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc,6BAA6B;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS,yBAAyB;AAClC,SAAS,+BAA+B;AACxC,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AChiDA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,mBAAO,CAAC,8DAAe;AACzC,kBAAkB,mBAAO,CAAC,8DAAe;AACzC,iBAAiB,mBAAO,CAAC,4DAAc;AACvC,iBAAiB,mBAAO,CAAC,4DAAc;AACvC,cAAc,mBAAO,CAAC,sDAAW;AACjC,YAAY,mBAAO,CAAC,kDAAS;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpkBA,gBAAgB,mBAAO,CAAC,0DAAa;AACrC,kBAAkB,mBAAO,CAAC,8DAAe;AACzC,kBAAkB,mBAAO,CAAC,8DAAe;AACzC,cAAc,mBAAO,CAAC,sDAAW;AACjC,eAAe,mBAAO,CAAC,wDAAY;AACnC,YAAY,mBAAO,CAAC,kDAAS;;AAE7B;;AAEA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,mBAAO,CAAC,4DAAc;AACvC,YAAY,mBAAO,CAAC,kDAAS;;AAE7B,kBAAkB,mBAAO,CAAC,8DAAe;AACzC,kBAAkB,mBAAO,CAAC,8DAAe;AACzC,cAAc,mBAAO,CAAC,sDAAW;AACjC,YAAY,mBAAO,CAAC,kDAAS;;AAE7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK,wBAAwB;AAC7B;AACA;AACA;AACA;AACA;AACA,KAAK,wBAAwB;AAC7B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA,KAAK;AACL;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ,mBAAmB;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK,yCAAyC;AAC9C,KAAK,mCAAmC;AACxC,KAAK,iCAAiC;AACtC,KAAK,uBAAuB;AAC5B,KAAK,uBAAuB;AAC5B,KAAK,uBAAuB;AAC5B,KAAK;AACL;;AAEA;AACA;AACA,KAAK,yCAAyC;AAC9C,KAAK,mCAAmC;AACxC,KAAK,iCAAiC;AACtC,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK,yCAAyC;AAC9C,KAAK,mCAAmC;AACxC,KAAK,iCAAiC;AACtC,KAAK,uBAAuB;AAC5B,KAAK,uBAAuB;AAC5B,KAAK,uBAAuB;AAC5B,KAAK,uBAAuB;AAC5B,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,GAAG,YAAY,OAAO,OAAO;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACriBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAO,CAAC,oEAAkB;AAC/C,YAAY,mBAAO,CAAC,kDAAS;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,2EAA2E;AAC3E;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,oCAAoC;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,sDAAsD;AACtD;AACA;AACA;AACA,2EAA2E;AAC3E;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/UA;AACA,gBAAgB,mBAAO,CAAC,0DAAa;AACrC,iBAAiB,mBAAO,CAAC,4DAAc;AACvC,YAAY,mBAAO,CAAC,kDAAS;;AAE7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,KAAK;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA,qBAAqB,IAAI;AACzB,UAAU,OAAO,OAAO,GAAG,GAAG,MAAM,KAAK,QAAQ,MAAM;AACvD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,KAAK;AACL;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,mBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA,SAAS;AACT,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AC9ND;;AAEA,YAAY,mBAAO,CAAC,kDAAS;AAC7B,eAAe,mBAAO,CAAC,oEAAkB;;AAEzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,YAAY,QAAQ,OAAO,SAAS;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC;AACzC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,sEAAmB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvtDA,YAAY,mBAAO,CAAC,kDAAS;AAC7B,iBAAiB,mBAAO,CAAC,4DAAc;AACvC,gBAAgB,mBAAO,CAAC,0DAAa;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,UAAU;AACrC;AACA,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,4CAA4C;AAC5C;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB,4BAA4B;AAC5C,gBAAgB;AAChB;;AAEA;AACA;AACA,QAAQ,mBAAmB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACprBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY,mBAAO,CAAC,kDAAS;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,0BAA0B;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,0BAA0B;AAC7C;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;;AAEA,aAAa,mBAAO,CAAC,oDAAU;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACnBA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,kCAAkC,KAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO;AACxC,oCAAoC,OAAO;AAC3C,kCAAkC,OAAO;AACzC,oCAAoC,OAAO;AAC3C,iCAAiC;AACjC,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,4BAA4B;AACvC;AACA;AACA;;AAEA;AACA,0CAA0C;AAC1C,WAAW,wBAAwB;AACnC;AACA;AACA;;AAEA;AACA;AACA,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA,gBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA,gBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/pBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACdA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,iBAAiB;AACjB,gBAAgB;AAChB;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzGa;;;AAGb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,QAAQ;;AAE1B;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA,sBAAsB,4CAA4C;AAClE,wBAAwB,0CAA0C;AAClE,wBAAwB,0CAA0C;AAClE,wBAAwB,0CAA0C;AAClE,0BAA0B,4CAA4C;;;AAGtE,wBAAwB,qCAAqC,eAAe;;AAE5E;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA,8BAA8B;AAC9B;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gDAAgD,UAAU;AAC1D,gDAAgD,UAAU;AAC1D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qBAAqB,mBAAO,CAAC,qDAAU;;AAEvC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,2CAA2C;;AAElE;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,yBAAyB;;AAEzB;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,QAAQ;;AAE/B,oBAAoB;;AAEpB;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA,+BAA+B;AAC/B;AACA;;AAEA,qCAAqC;AACrC;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,cAAc;;AAEnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,mCAAmC;;AAEzD;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;;;;;;;AC3nBa;;;AAGb;AACA;;AAEA;AACA,eAAe,mBAAO,CAAC,sFAA+B;AACtD,eAAe,mBAAO,CAAC,oFAA8B;AACrD,eAAe,mBAAO,CAAC,kFAA6B;AACpD,eAAe,mBAAO,CAAC,kFAA6B;;AAEpD,QAAQ,WAAW;AACnB;;AAEA,QAAQ,MAAM;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,SAAS;AAC1C;AACA;AACA;;AAEA;;AAEA;;AAEA,mDAAmD,EAAE;;AAErD;AACA;;AAEA;;AAEA,yBAAyB,EAAE,cAAc,EAAE,kCAAkC,IAAI;;AAEjF;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA,cAAc,2BAA2B,QAAQ;AACjD;AACA;AACA;AACA,eAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,UAAU,6BAA6B;;AAEvC;;AAEA,qBAAqB,KAAK;;AAE1B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,yEAAyE,KAAK;AAC9E;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA,6BAA6B,IAAI;;AAEjC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iDAAiD,eAAe;;AAEhE;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;AC5nBa;;AAEb;AACA;AACA;;AAEA,YAAY,mBAAO,CAAC,4CAAO;AAC3B,aAAa,mBAAO,CAAC,4DAAe;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA,2BAA2B;AAC3B;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;AC7Ga;;;AAGb,iBAAiB,mBAAO,CAAC,uDAAQ;;;;;;;;;;;;;ACHjC,wBAAwB;AACxB;AACa;;AAEb;AACA,iBAAiB,mBAAO,CAAC,uFAAiC;;;;;;;;;;;;;ACL1D;AACA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtEA;;AAEa;;AAEb;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;AC3BA;AACA;AACa;;;AAGb,sBAAsB,4CAA4C;;AAElE,wBAAwB,0CAA0C;;AAElE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,QAAQ;;AAE1B;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mCAAmC,cAAc;AACjD;AACA,mCAAmC,cAAc;AACjD,2DAA2D,cAAc;AACzE;AACA,+BAA+B,cAAc;AAC7C,mBAAmB,cAAc;AACjC,+BAA+B,cAAc;AAC7C,+BAA+B,cAAc;AAC7C;AACA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,8CAA8C,cAAc,EAAE;AAC9D,wCAAwC,KAAK,EAAE;AAC/C;;AAEA,8CAA8C,IAAI,OAAO,IAAI;;AAE7D,eAAe,mBAAO,CAAC,qEAAY;;AAEnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA6B,YAAY;;AAEzC;AACA,CAAC;;AAED;AACA,8BAA8B,YAAY;AAC1C;AACA;;AAEA;AACA,sDAAsD,YAAY;;AAElE;AACA,kBAAkB,gBAAgB;AAClC;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb,YAAY;AACZ,YAAY;AACZ,cAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,wCAAwC;;AAExC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC,aAAa;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,uBAAuB,mBAAO,CAAC,kFAA6B;;AAE5D;AACA;AACA;AACA;;;AAGA;AACA;AACA,oDAAoD,oCAAoC,MAAM;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,2BAA2B,GAAG,EAAE,MAAM,KAAK;AACrD,UAAU,yBAAyB,GAAG,EAAE,MAAM,IAAI,MAAM;AACxD,UAAU,mBAAmB,GAAG,EAAE,EAAE,iBAAiB,EAAE,iCAAiC,MAAM;AAC9F,UAAU,2BAA2B,GAAG,EAAE,EAAE,iBAAiB,KAAK;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA8B,mBAAO,CAAC,4CAAO;AAC7C,8BAA8B,mBAAO,CAAC,kDAAU;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5TA;AACa;;;AAGb,+BAA+B,mBAAO,CAAC,sFAAoB;AAC3D,+BAA+B,mBAAO,CAAC,kGAA0B;AACjE,+BAA+B,mBAAO,CAAC,sFAAoB;;;;;;;;;;;;;ACN3D;AACA;AACa;;;AAGb,kBAAkB,mBAAO,CAAC,uEAAiB;;;AAG3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC,eAAe;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB,OAAO;;AAEhC;AACA;AACA;;AAEA,wBAAwB,OAAO;;AAE/B;AACA,uCAAuC,OAAO;;AAE9C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wBAAwB,OAAO;AAC/B;AACA;;AAEA;AACA;;AAEA,sBAAsB,eAAe;AACrC,oBAAoB,eAAe;;AAEnC;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;AC/CA;AACA;AACa;;;AAGb,kBAAkB,mBAAO,CAAC,uEAAiB;;;AAG3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,eAAe;;AAElC;;AAEA,sFAAsF,eAAe;;AAErG;;AAEA;AACA,wBAAwB,eAAe;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACpDA;;AAEa;;;AAGb,mBAAmB,mBAAO,CAAC,sEAAgB;AAC3C,mBAAmB,mBAAO,CAAC,kEAAW;AACtC,mBAAmB,mBAAO,CAAC,8DAAY;AACvC,mBAAmB,mBAAO,CAAC,oEAAe;AAC1C,mBAAmB,mBAAO,CAAC,sEAAgB;AAC3C,mBAAmB,mBAAO,CAAC,wEAAiB;AAC5C,mBAAmB,mBAAO,CAAC,sDAAY;AACvC,mBAAmB,mBAAO,CAAC,4CAAO;AAClC,mBAAmB,mBAAO,CAAC,oFAAU;;;AAGrC;AACA,aAAa,mBAAO,CAAC,4EAAmB;AACxC,QAAQ,mBAAO,CAAC,sEAAgB;AAChC,cAAc,mBAAO,CAAC,kFAAsB;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qDAAqD;;AAErD;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,aAAa;AACpB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,aAAa;AACpB;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,iBAAiB;AACjB;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;;;AAGhC;AACA;;AAEA,gBAAgB,mBAAmB;AACnC;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,2BAA2B;AAChD,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,gFAAgF;AACnG;;AAEA,iBAAiB,gEAAgE;;AAEjF,wBAAwB,2BAA2B;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,iBAAiB;;AAE9C;AACA;AACA,GAAG;;AAEH;;AAEA,4CAA4C,iCAAiC,EAAE;;AAE/E;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,iBAAiB;;AAE9C;AACA;AACA,GAAG;;AAEH;;AAEA,4CAA4C,iCAAiC,EAAE;;AAE/E;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;;;;;;;;;;;;ACpkBA;AACA;AACA;AACA;AACA;AACa;;;AAGb,sBAAsB,mBAAO,CAAC,wDAAS;;;AAGvC;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,gFAAqB;AAC/C,kBAAkB,mBAAO,CAAC,8EAAoB;AAC9C,kBAAkB,mBAAO,CAAC,gFAAqB;AAC/C,kBAAkB,mBAAO,CAAC,0FAA0B;AACpD,kBAAkB,mBAAO,CAAC,0EAAkB;AAC5C,kBAAkB,mBAAO,CAAC,8EAAoB;AAC9C,kBAAkB,mBAAO,CAAC,wFAAyB;AACnD,kBAAkB,mBAAO,CAAC,oFAAuB;AACjD,kBAAkB,mBAAO,CAAC,sFAAwB;AAClD,kBAAkB,mBAAO,CAAC,0FAA0B;AACpD,kBAAkB,mBAAO,CAAC,wFAAyB;AACnD;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC,iDAAiD,oCAAoC;AACrF;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,OAAO;;AAEjC;AACA;AACA,+CAA+C,OAAO;;AAEtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA,eAAe,OAAO;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,QAAQ;;AAErB;;AAEA;AACA;;;AAGA,8BAA8B,mBAAO,CAAC,4FAA2B;;;AAGjE;;;;;;;;;;;;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACa;;;AAGb,aAAa,mBAAO,CAAC,wDAAS;;;AAG9B;AACA,sBAAsB,mBAAO,CAAC,sFAAwB;AACtD,sBAAsB,mBAAO,CAAC,8EAAoB;AAClD,sBAAsB,mBAAO,CAAC,gFAAqB;AACnD,sBAAsB,mBAAO,CAAC,kFAAsB;AACpD,sBAAsB,mBAAO,CAAC,4FAA2B;AACzD,sBAAsB,mBAAO,CAAC,0FAA0B;AACxD;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,+BAA+B,OAAO;AACtC;AACA;AACA;;AAEA,uBAAuB,mBAAO,CAAC,wFAAyB;;;AAGxD;;;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACa;;;AAGb,sBAAsB,mBAAO,CAAC,wDAAS;;;AAGvC;AACA;;AAEA;AACA,uBAAuB,mBAAO,CAAC,gFAAqB;AACpD,uBAAuB,mBAAO,CAAC,sFAAwB;AACvD,uBAAuB,mBAAO,CAAC,oFAAuB;AACtD,uBAAuB,mBAAO,CAAC,0FAA0B;AACzD,uBAAuB,mBAAO,CAAC,kGAA8B;AAC7D,uBAAuB,mBAAO,CAAC,wFAAyB;AACxD,uBAAuB,mBAAO,CAAC,gFAAqB;AACpD,uBAAuB,mBAAO,CAAC,kFAAsB;AACrD,uBAAuB,mBAAO,CAAC,wFAAyB;AACxD,uBAAuB,mBAAO,CAAC,8FAA4B;AAC3D,uBAAuB,mBAAO,CAAC,oFAAuB;AACtD;;AAEA;AACA,uBAAuB,mBAAO,CAAC,kGAA8B;AAC7D,uBAAuB,mBAAO,CAAC,kGAA8B;AAC7D,uBAAuB,mBAAO,CAAC,wFAAyB;AACxD,uBAAuB,mBAAO,CAAC,kGAA8B;AAC7D;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,mBAAmB;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,oBAAoB;AACjC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,OAAO;AACtB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY,aAAa;AACzB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,SAAS;AAC1B;AACA,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA,6BAA6B,OAAO;AACpC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,aAAa,SAAS;AACtB;AACA;AACA;;;AAGA,+BAA+B,mBAAO,CAAC,gGAA6B;;;AAGpE;;;;;;;;;;;;;AChLA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/EA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA,YAAY;AACZ,aAAa;AACb;AACA;AACA;;;;;;;;;;;;;ACxCA;AACA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;;;AAGb,sBAAsB,mBAAO,CAAC,sEAAgB;AAC9C,sBAAsB,mBAAO,CAAC,sEAAgB;AAC9C,sBAAsB,mBAAO,CAAC,sEAAgB;;;AAG9C;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,cAAc;AACjE,mDAAmD,eAAe;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,WAAW;;AAEhC;;AAEA,qCAAqC,OAAO;AAC5C;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC,SAAS;AAC/C;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC,SAAS;AAC/C;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,SAAS;AAC3C;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;AC9UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;;;AAGb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,QAAQ;;AAEhC;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,0BAA0B,QAAQ;;AAElC,iDAAiD,QAAQ;;AAEzD;AACA,KAAK;AACL,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,mDAAmD;;AAExE;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,yDAAyD;;AAE9E;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,wDAAwD;;AAE7E;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,iBAAiB;;AAE9C;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B,QAAQ;AAClC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,iBAAiB;;AAE9C,0CAA0C,sBAAsB,EAAE;;AAElE;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,iBAAiB;;AAE9C;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B,QAAQ;AAClC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;AC/VA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,uEAAiB;;;AAGvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uDAAuD,cAAc;;AAErE;AACA,oDAAoD,cAAc;;AAElE;AACA;AACA,eAAe,aAAa;;AAE5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,oBAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,OAAO;;AAE/B;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;A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;;;AAGvC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,WAAW;;AAElC;;AAEA,6CAA6C,WAAW;;AAExD,SAAS;AACT;AACA,qBAAqB,WAAW;;AAEhC;;AAEA;;AAEA;AACA;AACA,8BAA8B,WAAW;;AAEzC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uDAAuD,cAAc;;AAErE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;;AAEA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,eAAe,aAAa;;AAE5B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,gCAAgC,uBAAuB;;AAEvD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,8BAA8B,OAAO;;AAErC;AACA;AACA;AACA,mDAAmD,OAAO;;AAE1D;AACA,yDAAyD,OAAO;;AAEhE;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;;AAE3B;AACA;AACA;AACA,+BAA+B,OAAO;AACtC,KAAK;AACL;AACA,+BAA+B,OAAO;AACtC;;AAEA,sEAAsE,OAAO;AAC7E;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACvWA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,QAAQ,gDAAgD;AACxD;AACA;AACA,uDAAuD,UAAU;;AAEjE;AACA,qCAAqC,UAAU;;AAE/C;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;;;;;;;;;;;ACnDa;;;AAGb,2BAA2B,mBAAO,CAAC,uEAAiB;AACpD,2BAA2B,mBAAO,CAAC,uEAAiB;;;AAGpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uDAAuD,cAAc;;AAErE,kDAAkD,cAAc;;AAEhE;AACA;AACA;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C,0DAA0D,cAAc;AACxE;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,QAAQ,gDAAgD;AACxD;AACA;AACA,uDAAuD,UAAU;;AAEjE;AACA,qCAAqC,UAAU;;AAE/C;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;;AAEA;AACA;;AAEA,eAAe,WAAW;AAC1B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,qEAAqE,cAAc;;AAEnF;AACA;AACA,0BAA0B,WAAW;AACrC;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,cAAc;;AAE9B;AACA,qCAAqC,cAAc;;AAEnD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,aAAa;;AAE5B;AACA;AACA;AACA;AACA,mCAAmC;AACnC;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACrMA;;AAEa;;AAEb,YAAY,mBAAO,CAAC,yDAAU;AAC9B,cAAc,mBAAO,CAAC,uEAAiB;;;AAGvC;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB,sBAAsB;AACtB,0BAA0B;AAC1B,uBAAuB;AACvB,uBAAuB;;AAEvB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yDAAyD,WAAW;AACpE;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC;AACxC;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC;AAChC;AACA,gCAAgC;;AAEhC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,8BAA8B,YAAY;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iCAAiC,WAAW;AAC5C;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,YAAY;;AAE/B;AACA,+CAA+C,gBAAgB;AAC/D;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,WAAW;AAC5C,4CAA4C,OAAO;AACnD;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,YAAY;;AAE/B;AACA,8CAA8C,gBAAgB;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,aAAa,YAAY;AACzB;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;;;;;;;;;;;;ACtOA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,uEAAiB;;;AAGvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,gCAAgC,cAAc;;AAE9C;;AAEA,iDAAiD,cAAc;;AAE/D;AACA,sDAAsD,cAAc;;AAEpE;AACA;AACA;;AAEA;AACA,sCAAsC,cAAc;;AAEpD;AACA,uEAAuE,cAAc;;AAErF;AACA;;AAEA,yFAAyF,cAAc;;AAEvG;AACA;;AAEA;;AAEA;AACA;AACA,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,8BAA8B,cAAc;AAC5C;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,qCAAqC,cAAc;AACnD,uDAAuD,cAAc;AACrE;;AAEA;AACA;AACA;AACA,oCAAoC,cAAc;;AAElD,eAAe,aAAa;;AAE5B;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,gCAAgC,oBAAoB;AACpD,mDAAmD,OAAO;;AAE1D;AACA,uCAAuC,OAAO;AAC9C,wDAAwD,OAAO;AAC/D;;AAEA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACnMa;;;AAGb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;ACfa;;AAEb;AACA;;AAEA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACa;;;AAGb,qBAAqB,mBAAO,CAAC,uEAAiB;;;AAG9C;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,QAAQ;;AAE1C,qCAAqC,OAAO;AAC5C;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,+BAA+B,QAAQ;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,UAAU;;AAExC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,mBAAmB;;AAEvC;AACA;AACA,gDAAgD,UAAU;;AAE1D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpIA;;AAEa;;;AAGb;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACa;;AAEb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mCAAmC,QAAQ;AAC3C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mCAAmC,QAAQ;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,GAAG;AAC1B,2BAA2B,GAAG,yBAAyB,GAAG;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,sCAAsC,QAAQ;;AAE9C,wCAAwC,aAAa;;AAErD,iDAAiD,UAAU;;AAE3D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;AC1GA;AACA;AACa;;;AAGb,qBAAqB,mBAAO,CAAC,uEAAiB;AAC9C,qBAAqB,mBAAO,CAAC,uEAAiB;AAC9C,qBAAqB,mBAAO,CAAC,uEAAiB;;AAE9C;AACA;AACA,0BAA0B;;;AAG1B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,aAAa,mBAAmB;AAChC;;AAEA;;AAEA,8BAA8B,QAAQ;AACtC,wCAAwC,OAAO;AAC/C;AACA;;AAEA,gCAAgC,UAAU;;AAE1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;;AAEtB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,uBAAuB,QAAQ;AAC/B,sFAAsF;AACtF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,uBAAuB,mBAAmB;AAC1C,sFAAsF;AACtF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,QAAQ;AAC1C;AACA,2CAA2C,OAAO;AAClD;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC,6BAA6B;;AAEhE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA,sCAAsC,QAAQ;;AAE9C,wCAAwC,aAAa;;AAErD;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AClMA;AACA;AACa;;AAEb,YAAY,mBAAO,CAAC,yDAAU;;;AAG9B;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;;AAEA;AACA;;;AAGA;;;;;;;;;;;;;ACnBA;;AAEa;;;AAGb;AACA,iDAAiD,EAAE,gCAAgC,KAAK,6CAA6C,KAAK;AAC1I,8CAA8C,KAAK;;;AAGnD;AACA;AACA;;AAEA,kDAAkD,cAAc;;AAEhE;;AAEA,8BAA8B,cAAc;;AAE5C;AACA;;AAEA;AACA;AACA,0CAA0C,cAAc;;AAExD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0CAA0C,cAAc;;AAExD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACvEA;;AAEa;;AAEb;AACA;AACA;AACA;;AAEA,2BAA2B,cAAc;;AAEzC;AACA;AACA;;AAEA,kEAAkE,OAAO;;AAEzE;;AAEA;;AAEA;AACA;;AAEA,8EAA8E,YAAY;;AAE1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,yBAAyB;AACzC;AACA;AACA;;;;;;;;;;;;;AC1CA;AACA;AACa;;;AAGb;AACA;AACA;AACA,wBAAwB;AACxB;;AAEA,qBAAqB,iBAAiB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,UAAU,0BAA0B;AACpC;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3GA;AACA;AACa;;;AAGb;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,cAAc;;AAE7B,2DAA2D,cAAc;;AAEzE;;AAEA,aAAa,oBAAoB;AACjC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,QAAQ;AAC3B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxIA,+BAA+B,QAAQ,QAAQ;;AAElC;;AAEb,wBAAwB,mBAAO,CAAC,6EAAoB;AACpD,wBAAwB,mBAAO,CAAC,uEAAiB;AACjD,wBAAwB,mBAAO,CAAC,uEAAiB;AACjD,wBAAwB,mBAAO,CAAC,uEAAiB;;;AAGjD,mCAAmC,IAAI,OAAO,IAAI,GAAG;AACrD,mCAAmC,KAAK,EAAE;;;AAG1C;AACA;;AAEA,kDAAkD,cAAc;;AAEhE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,wBAAwB,qCAAqC;AAC7D;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;AACA;AACA;;;;;;;;;;;;;AC/CA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,uEAAiB;;AAEvC;;AAEA,eAAe,SAAS,OAAO,iBAAiB;;AAEhD,oBAAoB,WAAW,EAAE;AACjC,oCAAoC,+BAA+B,EAAE;;;AAGrE;AACA;;AAEA,kDAAkD,cAAc;;AAEhE;;AAEA;AACA;;AAEA;AACA,oBAAoB,iCAAiC;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,uBAAuB;AACvC;AACA;AACA;;;;;;;;;;;;;ACnDA;;AAEa;;;AAGb,kBAAkB,mBAAO,CAAC,2EAAmB;;;AAG7C;AACA;AACA,qBAAqB;AACrB;AACA;;;AAGA;AACA;AACA;;AAEA,+BAA+B,cAAc;;AAE7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,cAAc;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9CA;;AAEa;;AAEb,2BAA2B,mBAAO,CAAC,uEAAiB;AACpD,2BAA2B,mBAAO,CAAC,uEAAiB;;;AAGpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wDAAwD,cAAc;AACtE,4DAA4D,cAAc;;AAE1E;AACA;;AAEA;AACA,qBAAqB,cAAc;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA,4CAA4C,OAAO;AACnD;AACA,qBAAqB,cAAc;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA,4CAA4C,OAAO;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,WAAW;AACvB;AACA,8CAA8C,OAAO;AACrD;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,sDAAsD,cAAc;;AAEpE;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,iBAAiB,+CAA+C;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACvJA;;AAEa;;AAEb,2BAA2B,mBAAO,CAAC,uEAAiB;AACpD,2BAA2B,mBAAO,CAAC,uEAAiB;;;AAGpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wDAAwD,cAAc;;AAEtE;AACA;;AAEA;AACA,qBAAqB,cAAc;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA,4CAA4C,OAAO;AACnD;AACA,qBAAqB,cAAc;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA,4CAA4C,OAAO;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,WAAW;AACvB;AACA,8CAA8C,OAAO;AACrD;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sDAAsD,cAAc;;AAEpE;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,iBAAiB,+CAA+C;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACrJA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,uEAAiB;;;AAGvC;AACA;;AAEA,mDAAmD,cAAc;;AAEjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA,2DAA2D,OAAO;;AAElE;AACA;AACA;;;;;;;;;;;;;ACzCA;;AAEa;;;AAGb,qBAAqB,mBAAO,CAAC,yDAAU;AACvC,qBAAqB,mBAAO,CAAC,uEAAiB;AAC9C,qBAAqB,mBAAO,CAAC,uEAAiB;AAC9C,qBAAqB,mBAAO,CAAC,uEAAiB;;;AAG9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,aAAa;AAC1B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4DAA4D,OAAO;;AAEnE;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;;;;;;;;;;;;;ACrJA;AACA;AACa;;;AAGb;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,cAAc;;AAE7B,+BAA+B,cAAc;;AAE7C;AACA;AACA;;AAEA,gBAAgB,cAAc;;AAE9B;AACA;AACA;AACA;AACA;;AAEA,aAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,SAAS;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClIA;AACA;;AAEa;;;AAGb;AACA,MAAM;;AAEN,oDAAoD,oCAAoC,MAAM;;AAE9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,0BAA0B,cAAc;;AAExC,gBAAgB,kDAAkD;;AAElE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gDAAgD;;AAEhD;AACA;AACA;;AAEA;AACA,kBAAkB,cAAc;;AAEhC;AACA;AACA,kBAAkB,uCAAuC;AACzD;AACA;AACA;;AAEA,gBAAgB,kDAAkD;;AAElE;;AAEA;AACA,EAAE;;;;;;;;;;;;;ACxFF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;;;AAGb;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,YAAY;AACnC;AACA;AACA,0CAA0C;AAC1C;AACA,0CAA0C;;AAE1C;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,0BAA0B,6BAA6B;;AAEvD;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACxCA;;AAEa;;;AAGb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B,SAAS;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,WAAW;;AAE/B;;AAEA,iCAAiC,SAAS;AAC1C,+BAA+B,UAAU;AACzC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;;;;;;;;;;;;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,yB;;;;;;;;;;;;;ACpCa;;;AAGb;;AAEA;;AAEA;AACA;AACA,cAAc,cAAc;;AAE5B;;AAEA,aAAa,SAAS;AACtB;AACA;AACA;;AAEA,aAAa,oBAAoB;AACjC;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,oCAAoC,EAAE;AACtC;AACA;;AAEA,+BAA+B,OAAO;AACtC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;;;AAGA,0BAA0B;AAC1B;;;AAGA;;;;;;;;;;;;;;ACxHa;;;AAGb;;;AAGA;AACA;AACA;AACA;AACA;AACA,cAAc,cAAc;;AAE5B;;AAEA,aAAa,SAAS;AACtB;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,aAAa,oBAAoB;AACjC;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,gCAAgC,OAAO;AACvC;;AAEA;AACA,qBAAqB,EAAE;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0BAA0B;AAC1B;;;AAGA;;;;;;;;;;;;;;AChGa;;;AAGb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACxBa;;;AAGb,wBAAwB,mBAAO,CAAC,gDAAU;AAC1C,wBAAwB,mBAAO,CAAC,gDAAU;AAC1C,wBAAwB,mBAAO,CAAC,gDAAU;AAC1C,wBAAwB,mBAAO,CAAC,8CAAS;;;;;;;;;;;;;ACNzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,KAAK;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA,2CAA2C,KAAK;AAChD,0CAA0C,KAAK;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC,YAAY;;AAE9C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,WAAW;AAC/C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA,oBAAoB,UAAU;AAC9B;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,sBAAsB;AACnC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,sBAAsB;AACnC;;AAEA;;;;;;;;;;;;ACvTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,EAAE;AAChD;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,QAAQ;AACxB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB,mBAAmB,aAAa;AAChC,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,uCAAuC;AAC9D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B,mBAAmB,MAAM;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,sBAAsB;;AAE7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB,mBAAmB,SAAS;AAC5B,mBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,MAAM;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,mDAAmD,kBAAkB;;AAErE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB,mBAAmB,SAAS;AAC5B,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA,2BAA2B,yBAAyB;AACpD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,uDAAuD;AACvD;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,QAAQ,KAA6B;AACrC;AACA;;AAEA;AACA,QAAQ,IAA0C;AAClD,QAAQ,mCAAO;AACf;AACA,SAAS;AAAA,oGAAC;AACV;AACA,CAAC;;;;;;;;;;;;ACnhCD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,8BAA8B;AAClE;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;;AAEA;AACA,UAAU,UAAU;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,sBAAsB;AACrD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7SA;AACA,CAAC;;AAED;AACA,mBAAmB,KAA0B;AAC7C;AACA,kBAAkB,KAAyB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,KAAK;AACL,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;;AAExB,yCAAyC,qBAAqB;;AAE9D;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;;AAEtD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,cAAc,iBAAiB;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAEU;AACZ;AACA,EAAE,mCAAmB;AACrB;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAaN;;AAEF,CAAC;;;;;;;;;;;;;ACphBD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;;ACvLtC;AAAA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,QAAQ;;AAE1B;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;;AAEA,6CAA6C,YAAY,EAAE;;AAE3D;AACA,8BAA8B,YAAY;AAC1C;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mCAAmC,cAAc;AACjD;AACA,mCAAmC,cAAc;AACjD,2DAA2D,cAAc;AACzE;AACA,+BAA+B,cAAc;AAC7C,mBAAmB,cAAc;AACjC,+BAA+B,cAAc;AAC7C,+BAA+B,cAAc;AAC7C;AACA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0CAA0C,KAAK,EAAE;AACjD,8CAA8C,IAAI,OAAO,IAAI;;AAE7D;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,YAAY;;AAEzC;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb,YAAY;AACZ,YAAY;AACZ,cAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;;AAExB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY,aAAa;AACzB,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA,YAAY,aAAa;AACzB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,mBAAmB,aAAa;AAClD;;AAEA;;AAEA,yBAAyB;AACzB;AACA;;AAEA,qBAAqB;AACrB;;AAEA,wBAAwB;;AAExB,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,iCAAiC,UAAU;AAC3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,WAAW;;AAEnC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;;AAEA,0CAA0C,WAAW;AACrD,0CAA0C,WAAW;;AAErD,iCAAiC,WAAW;;AAE5C;AACA;;AAEA,qEAAqE,WAAW;;AAEhF;;AAEA;AACA,0BAA0B,WAAW;AACrC,6CAA6C,OAAO;AACpD;;AAEA;AACA;AACA,2BAA2B,WAAW;AACtC,2BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC,cAAc;AACjD;AACA;AACA,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB,OAAO;;AAEhC;AACA;AACA;;AAEA,wBAAwB,OAAO;;AAE/B;AACA,uCAAuC,OAAO;;AAE9C;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,OAAO;AAC7B;;AAEA;AACA;AACA,sBAAsB,OAAO;AAC7B;;AAEA;AACA;;AAEA,sBAAsB,cAAc;;AAEpC;AACA,yCAAyC,cAAc;;AAEvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sFAAsF,cAAc;;AAEpG;;AAEA;AACA,wBAAwB,eAAe;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0CAA0C,WAAW;;AAErD,iCAAiC,WAAW;;AAE5C;AACA;;AAEA,qEAAqE,WAAW;;AAEhF;;AAEA;AACA;AACA,0BAA0B,WAAW;AACrC;AACA,yCAAyC,OAAO;AAChD;;AAEA;AACA;AACA,0CAA0C,WAAW;AACrD;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA,yCAAyC,OAAO;AAChD;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,sEAAsE,OAAO;AAC7E,wDAAwD,WAAW;;AAEnE;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,QAAQ;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA,GAAG;;AAEH,kCAAkC,QAAQ;AAC1C;;AAEA;AACA;AACA;AACA,GAAG;AACH,8BAA8B,OAAO;AACrC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA,+BAA+B;AAC/B;;;AAGA;AACA;AACA;;AAEA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA,qCAAqC,OAAO;AAC5C,2CAA2C,UAAU;AACrD;;AAEA;AACA,+BAA+B,QAAQ;AACvC;AACA,kCAAkC,UAAU;;AAE5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA,0BAA0B,UAAU;;AAEpC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,YAAY;;AAEzC;AACA;AACA,GAAG;AACH;;;AAGA;AACA;;AAEA,mCAAmC,QAAQ;;AAE3C,wCAAwC,aAAa;;AAErD,iDAAiD,UAAU;;AAE3D;;AAEA,qCAAqC,QAAQ;AAC7C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,GAAG;AAC5B,6BAA6B,GAAG,yBAAyB,GAAG;AAC5D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAqC,cAAc;AACnD;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA,mCAAmC,QAAQ;;AAE3C;;AAEA,wCAAwC,aAAa;;AAErD,iDAAiD,UAAU;;AAE3D;AACA;;AAEA,eAAe,mBAAmB;AAClC;;AAEA,oEAAoE,UAAU;;AAE9E;;AAEA,gCAAgC,QAAQ;AACxC,0CAA0C,OAAO;AACjD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;;AAExB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;;AAEnB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB,sBAAsB;AACtB,0BAA0B;AAC1B,2BAA2B;AAC3B,uBAAuB;;AAEvB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gDAAgD,WAAW;AAC3D;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wCAAwC;AACxC;;AAEA;AACA;AACA;;AAEA;AACA,8BAA8B,YAAY;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,WAAW;AAC5C,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,WAAW;AAC5C,4CAA4C,OAAO;AACnD;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,YAAY;;AAE/B;AACA,8CAA8C,gBAAgB;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,aAAa,YAAY;AACzB;AACA,yBAAyB,gBAAgB;AACzC,oBAAoB,WAAW;;AAE/B;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,sDAAsD,cAAc;;AAEpE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,cAAc;;AAEpC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,gBAAgB,cAAc;;AAE9B;;AAEA,iCAAiC,cAAc;;AAE/C;AACA,eAAe,aAAa;;AAE5B;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,+CAA+C,UAAU;;AAEzD;AACA;AACA;AACA;;AAEA;;AAEA;AACA,0BAA0B,UAAU;;AAEpC;AACA;;AAEA,oBAAoB,UAAU;;AAE9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,cAAc;;AAEhC;AACA,oDAAoD,cAAc;;AAElE,gDAAgD,cAAc;;AAE9D;AACA;AACA,eAAe,aAAa;;AAE5B;AACA,2CAA2C,OAAO;;AAElD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,oBAAoB;AACpD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+CAA+C,OAAO;;AAEtD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,OAAO;;AAE/B;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;;AAE3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,6BAA6B;AAC7B;AACA,aAAa,sBAAsB;AACnC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,kBAAkB,cAAc;;AAEhC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,kDAAkD,cAAc;AAChE,wBAAwB,OAAO;AAC/B;;AAEA,gBAAgB,cAAc;;AAE9B,eAAe,aAAa;;AAE5B;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,WAAW;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,WAAW;;AAElC;;AAEA,6CAA6C,WAAW;;AAExD,SAAS;AACT;AACA,qBAAqB,WAAW;;AAEhC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA,gDAAgD,cAAc;;AAE9D;AACA;;AAEA;AACA,eAAe,aAAa;;AAE5B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,gCAAgC,uBAAuB;;AAEvD;AACA;AACA,gCAAgC,uBAAuB;;AAEvD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA,8BAA8B,OAAO;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA,mDAAmD,OAAO;;AAE1D;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;;AAE3B;AACA;AACA;AACA,+BAA+B,OAAO;AACtC,KAAK;AACL;AACA,+BAA+B,OAAO;AACtC;;AAEA,sEAAsE,OAAO;AAC7E;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,cAAc;;AAEtC,oDAAoD,cAAc;AAClE,wDAAwD,cAAc;AACtE,gDAAgD,cAAc;;AAE9D,uBAAuB,WAAW;AAClC,6CAA6C,cAAc;AAC3D;AACA;AACA;AACA;;AAEA,0BAA0B,cAAc,EAAE;AAC1C,uEAAuE,cAAc;AACrF,eAAe,aAAa;AAC5B;;AAEA,6BAA6B,0BAA0B;AACvD,kCAAkC,+BAA+B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;;AAEjC;;AAEA,yCAAyC,cAAc;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2DAA2D,cAAc;;AAEzE,eAAe,aAAa;;AAE5B;;AAEA,4CAA4C;AAC5C,4CAA4C;AAC5C;AACA;AACA;;AAEA;;AAEA,qBAAqB;AACrB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,2DAA2D;;AAEhF;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,wBAAwB,cAAc;AACtC,6CAA6C,cAAc;;AAE3D;;AAEA,iDAAiD,cAAc;;AAE/D;AACA;;AAEA,mBAAmB,cAAc;;AAEjC;;AAEA,yDAAyD,cAAc;;AAEvE;;AAEA;;AAEA,kBAAkB,cAAc;;AAEhC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0BAA0B,EAAE;;AAEvD;;;AAGA,oCAAoC,KAAK;AACzC,uCAAuC,KAAK;;AAE5C;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,4BAA4B,cAAc;;AAE1C,oCAAoC,cAAc;;AAElD,kDAAkD,cAAc;;AAEhE;;AAEA;AACA;AACA,iBAAiB,aAAa;;AAE9B,GAAG;;AAEH;AACA;AACA;AACA;AACA,mBAAmB,cAAc;AACjC,KAAK;AACL;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA,uDAAuD,cAAc;AACrE,iBAAiB,aAAa;;AAE9B,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gCAAgC,cAAc;;AAE9C;;AAEA,iDAAiD,cAAc;;AAE/D;;AAEA;AACA,sCAAsC,cAAc;;AAEpD;AACA,uEAAuE,cAAc;;AAErF;AACA,oCAAoC,cAAc;;AAElD;AACA,kBAAkB,cAAc;AAChC;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,8BAA8B,cAAc;AAC5C;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,qCAAqC,cAAc;AACnD;AACA,sCAAsC,cAAc;AACpD,eAAe,aAAa;;AAE5B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;AACH,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,uBAAuB,yCAAyC;AAChE;AACA,qBAAqB,yCAAyC;AAC9D,qBAAqB,4CAA4C;;AAEjE;AACA;AACA;AACA;AACA,GAAG;;AAEH,gCAAgC,oBAAoB;AACpD,mDAAmD,OAAO;;AAE1D;AACA,uCAAuC,OAAO;AAC9C;;AAEA,uBAAuB,wCAAwC;AAC/D,eAAe,iBAAiB;AAChC,yBAAyB,0DAA0D;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,yBAAyB,yCAAyC;AAClE;AACA,uBAAuB,yCAAyC;AAChE;AACA,qBAAqB,4CAA4C;AACjE,qBAAqB,4CAA4C;;AAEjE;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,WAAW;;AAEhC;AACA;AACA,yDAAyD,WAAW;;AAEpE;;AAEA;AACA,sBAAsB,WAAW;;AAEjC;AACA,mBAAmB,WAAW;;AAE9B;AACA;;AAEA;AACA;AACA;;AAEA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;;AAEA;AACA;AACA,+BAA+B,cAAc;AAC7C;;AAEA,iDAAiD,cAAc;AAC/D;AACA,yBAAyB,cAAc;;AAEvC,gDAAgD,cAAc;;AAE9D;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;;AAEL,WAAW;AACX;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA,gCAAgC,aAAa;;AAE7C,qDAAqD,aAAa;AAClE;AACA,6BAA6B,OAAO;;AAEpC;;AAEA;AACA;AACA;;AAEA,8BAA8B,OAAO;AACrC;;AAEA,gCAAgC,OAAO;AACvC,iDAAiD,OAAO;;AAExD;AACA,4BAA4B,OAAO;AACnC,gCAAgC,UAAU;AAC1C,4BAA4B,OAAO;;AAEnC,iDAAiD,OAAO;AACxD;AACA,2BAA2B,OAAO;;AAElC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,UAAU,gDAAgD;AAC1D;AACA;AACA,yDAAyD,UAAU;;AAEnE;AACA;AACA,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,iFAAiF,OAAO;AACxF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,MAAM;AAClB;AACA;;AAEA;AACA;AACA,aAAa,WAAW;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,0BAA0B,cAAc;;AAExC,gBAAgB,kDAAkD;;AAElE;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,mDAAmD,cAAc;;AAEjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,2DAA2D,OAAO;;AAElE;AACA;AACA;;AAEA;;AAEA;;AAEA,eAAe,SAAS,OAAO,iBAAiB;;AAEhD,oBAAoB,WAAW,EAAE;AACjC,mCAAmC,+BAA+B,EAAE;;;AAGpE;AACA;;AAEA,kDAAkD,cAAc;;AAEhE;;AAEA;AACA;;AAEA;AACA,oBAAoB,iCAAiC;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,+DAA+D,OAAO;;AAEtE;AACA;AACA;AACA;;AAEA,gBAAgB,uBAAuB;AACvC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA2B,cAAc;;AAEzC;AACA;AACA;;AAEA,kEAAkE,OAAO;;AAEzE;;AAEA;;AAEA;AACA;;AAEA,8EAA8E,YAAY;;AAE1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,yBAAyB;AACzC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,cAAc;AAClE,eAAe,cAAc,EAAE;AAC/B,yBAAyB,cAAc;AACvC,wDAAwD,cAAc;AACtE,gDAAgD,cAAc;;AAE9D;AACA;;AAEA,iCAAiC,cAAc;AAC/C,iCAAiC,cAAc;AAC/C,+CAA+C,cAAc;;AAE7D;AACA,kEAAkE,OAAO;AACzE;AACA;AACA;AACA,kBAAkB,8CAA8C;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,yCAAyC;AACzD;AACA,gBAAgB,0CAA0C;AAC1D;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,cAAc;AAClE,eAAe,cAAc,EAAE;AAC/B,yBAAyB,cAAc;AACvC,wDAAwD,cAAc;AACtE,gDAAgD,cAAc;;AAE9D;AACA;;AAEA,iCAAiC,cAAc;AAC/C,iCAAiC,cAAc;AAC/C,+CAA+C,cAAc;;AAE7D;AACA,kEAAkE,OAAO;AACzE;AACA;AACA;AACA,kBAAkB,8CAA8C;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,yCAAyC;AACzD;AACA,gBAAgB,0CAA0C;AAC1D;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,cAAc;AAClE,eAAe,cAAc,EAAE;AAC/B,yBAAyB,cAAc;AACvC,wDAAwD,cAAc;AACtE,gDAAgD,cAAc;;AAE9D;AACA;;AAEA,iCAAiC,cAAc;AAC/C,iCAAiC,cAAc;AAC/C,+CAA+C,cAAc;;AAE7D;AACA,kEAAkE,OAAO;AACzE;AACA;AACA;AACA,kBAAkB,8CAA8C;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,0CAA0C;AAC1D;AACA,gBAAgB,2CAA2C;AAC3D;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,6DAA6D,OAAO;AACpE,mBAAmB,kBAAkB;AACrC;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,iDAAiD,kBAAkB;AACnE,iDAAiD,mBAAmB;;AAEpE;AACA;AACA,iCAAiC,kBAAkB;AACnD,iCAAiC,mBAAmB;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,cAAc;AACxE,eAAe,cAAc,EAAE;;AAE/B;AACA;AACA;AACA;AACA,kBAAkB,oDAAoD;AACtE;AACA;;AAEA,gDAAgD,cAAc;;AAE9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mCAAmC,OAAO;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB,mBAAmB;AAC5C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,4CAA4C;AAC9D;AACA;AACA,kBAAkB,wCAAwC;AAC1D;;AAEA;;AAEA;AACA,kBAAkB,yCAAyC;AAC3D;AACA;AACA,kBAAkB,6CAA6C;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,2CAA2C,YAAY,EAAE;;AAEzD;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,cAAc;AAClE,eAAe,cAAc,EAAE;AAC/B,yBAAyB,cAAc;AACvC,gDAAgD,cAAc;;AAE9D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,6CAA6C,YAAY,EAAE;;AAE3D;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,cAAc;AAClE,eAAe,cAAc,EAAE;AAC/B,yBAAyB,cAAc;AACvC,gDAAgD,cAAc;;AAE9D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA+B,cAAc;AAC7C,gDAAgD,cAAc;;AAE9D;AACA;;AAEA;AACA,qBAAqB,cAAc;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA,2CAA2C,OAAO;AAClD;AACA,qBAAqB,cAAc;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA,2CAA2C,OAAO;AAClD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,WAAW;AACvB;AACA,6CAA6C,OAAO;AACpD;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,8BAA8B,cAAc;;AAE5C;AACA;AACA,UAAU,WAAW;AACrB;AACA,2CAA2C,OAAO;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,2CAA2C;AAC7D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB,cAAc;AACvC,oDAAoD,cAAc;AAClE,wDAAwD,cAAc;AACtE,gDAAgD,cAAc;;AAE9D;AACA;;AAEA;AACA,qBAAqB,cAAc;;AAEnC;AACA;AACA;AACA;AACA,+BAA+B,0BAA0B;AACzD,oCAAoC,+BAA+B;AACnE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,cAAc;;AAEtC,0DAA0D,cAAc;AACxE,oDAAoD,cAAc;AAClE,wDAAwD,cAAc;AACtE,gDAAgD,cAAc;;AAE9D,uBAAuB,WAAW;AAClC,6CAA6C,cAAc;AAC3D,6CAA6C,cAAc;AAC3D;AACA;AACA;AACA;;AAEA,0BAA0B,cAAc,EAAE;AAC1C,mBAAmB,cAAc;AACjC;;AAEA;AACA,qEAAqE,cAAc;;AAEnF;AACA,oCAAoC,+BAA+B;;AAEnE;AACA;AACA,8CAA8C;AAC9C;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA,iDAAiD,EAAE,gCAAgC,KAAK,6CAA6C,KAAK;AAC1I,kCAAkC,KAAK;;;AAGvC;AACA;;AAEA,kDAAkD,cAAc;;AAEhE;;AAEA,8BAA8B,cAAc;;AAE5C;;AAEA;AACA,8DAA8D,cAAc;;AAE5E;AACA;AACA,0CAA0C,cAAc;;AAExD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,kBAAkB,yCAAyC;AAC3D;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,8CAA8C,cAAc;;AAE5D;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,kBAAkB,yCAAyC;AAC3D;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA,qBAAqB;AACrB;AACA;;;AAGA;AACA;;AAEA,4BAA4B,cAAc;;AAE1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,cAAc;;AAE7B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,+BAA+B,QAAQ,QAAQ;;;AAG/C,mCAAmC,IAAI,OAAO,IAAI,GAAG;AACrD,mCAAmC,KAAK,EAAE;;;AAG1C;AACA;;AAEA,kDAAkD,cAAc;;AAEhE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,OAAO;AACpC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,MAAM;AAClB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,YAAY;AACZ,aAAa;AACb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6CAA6C;AAC7C,kDAAkD;AAClD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B;AACA,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;;AAEA;AACA;;AAEA,iBAAiB,kEAAkE;AACnF,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,MAAM;AAClB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,MAAM;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;;AAEA;AACA;AACA;AACA;;AAE6B;;;;;;;;;;;;;AC3iK7B;AACa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO,UAAU;AAC7B,YAAY,OAAO;AACnB;;AAEA,eAAe,mBAAO,CAAC,0EAAqB;;AAE5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1Da;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,6BAA6B;AACjD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;;;;;;;AC5Qa;;AAEb,eAAe,mBAAO,CAAC,0EAAgB;AACvC,gBAAgB,mBAAO,CAAC,4EAA0B;AAClD;;;;;;;;;;;;;ACJa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,gBAAgB;AACjC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACzCA,mC;;;;;;;;;;;ACAA,sO;;;;;;;;;;;ACAA,8BAA8B,WAAW,EAAE,w0D;;;;;;;;;;;ACA3C,yE;;;;;;;;;;;;ACAa;;AAEb,cAAc,mBAAO,CAAC,+EAAwB;AAC9C,cAAc,mBAAO,CAAC,6EAAuB;AAC7C,cAAc,mBAAO,CAAC,6EAAuB;AAC7C,cAAc,mBAAO,CAAC,2EAAsB;AAC5C,cAAc,mBAAO,CAAC,2EAAsB;;;;;;;;;;;;ACN5C,iJ;;;;;;;;;;;;ACAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AC9CA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app/frontend/designer/js/index.js\");\n","\nclass Dialog {\n\n  constructor() {\n  }\n\n  show(conf) {\n    window.open(conf.author.url, \"author\")\n  }\n}\n\nlet dialog = new Dialog()\nexport default dialog\n","const axios = require(\"axios\")\nconst md = require('markdown-it')()\n\nmd.use(require(\"markdown-it-asciimath\"))\n\nexport default class AuthorPage {\n\n  constructor(containerId, file, token) {\n    this.file = file\n    this.containerId = containerId\n    this.token = token\n  }\n\n  render( ) {\n    let additionalParam = \"\"\n    if(this.token){\n      additionalParam = \"&token=\"+this.token\n    }\n    axios.get(`../backend/global/sheet/get?filePath=${this.file}${additionalParam}`)\n      .then((response => {\n        $(this.containerId).html(\"\")\n        let pages = response.data.pages\n        pages.forEach( (page, index) => {\n          let container = $(\"<div class='authorPage'></div>\")\n          $(this.containerId).append(container)\n          let sections = page.sections\n          sections.forEach( (section) => {\n            switch(section.type){\n              case \"brain\":\n                this.renderBrain(container, section)\n                break\n              case \"markdown\":\n                this.renderMarkdown(container, section)\n                break\n              default:\n                break\n            }\n          })\n          if(index < (pages.length-1))\n            container.append(\"<div style='page-break-before: always;'></div>\")\n        })\n      }))\n  }\n\n\n  renderMarkdown(container, section){\n    let markdown = md.render(section.content)\n    container.append(`<div class=\"markdownRendering\">${markdown}</div>`)\n  }\n\n  renderBrain(container, section){\n    container.append(`<div class=\"imageRendering\"><img src=\"${section.content.image}\"></div>` )\n  }\n\n}\n\n","import axios from 'axios'\n\nclass BackendStorage {\n\n  /**\n   * @constructor\n   *\n   */\n  constructor(conf) {\n    this.conf = conf\n  }\n\n  getFiles(path, scope) {\n    return axios.get(this.conf.backend[scope].list(path))\n      .then((response) => {\n        // happens in \"serverless\" mode on the gh-pages/docs installation\n        //\n        let files = []\n        if (typeof response === \"string\")\n          files = JSON.parse(response).data.files\n        else\n          files = response.data.files\n\n        // sort the result\n        // Directories are always on top\n        //\n        files.sort(function (a, b) {\n          if (a.type === b.type) {\n            if (a.name.toLowerCase() < b.name.toLowerCase())\n              return -1\n            if (a.name.toLowerCase() > b.name.toLowerCase())\n              return 1\n            return 0\n          }\n          if (a.type === \"dir\") {\n            return -1\n          }\n          return 1\n        })\n        return files\n      })\n  }\n\n\n  saveFile(json, fileName, scope) {\n    let data = {\n      filePath: fileName,\n      content: JSON.stringify(json, undefined, 2)\n    }\n    return axios.post(this.conf.backend[scope].save, data)\n  }\n\n\n  deleteFile(fileName, scope) {\n    let data = {\n      filePath: fileName\n    }\n    return axios.post(this.conf.backend[scope].delete, data)\n  }\n\n\n  createFolder(folderName, scope) {\n    let data = {\n      filePath: folderName\n    }\n    return axios.post(this.conf.backend[scope].folder, data)\n  }\n\n  loadUrl(url) {\n    return axios.get(url)\n      .then((response) => {\n        // happens in \"serverless\" mode on the gh-pages/docs installation\n        //\n        if (typeof response === \"string\")\n          return JSON.parse(response).data\n\n        return response.data\n      })\n  }\n\n  sanitize(file) {\n    let sanitize = require(\"sanitize-filename\")\n    file = sanitize(file, \"_\")\n    file = file.replace(this.conf.fileSuffix, \"\")\n    // I don't like dots in the name to\n    file = file.replace(RegExp(\"[.]\", \"g\"), \"_\")\n    return file\n  }\n\n}\n\nexport default conf => new BackendStorage(conf)\n","import Hogan from \"hogan.js\"\nimport axios from \"axios\"\nimport \"./PopConfirm\"\nimport fs from \"path\"\n\nlet inputPrompt =require(\"./InputPrompt\")\n\nexport default class Files {\n\n  /**\n   * @constructor\n   *\n   * @param {String} canvasId the id of the DOM element to use as paint container\n   */\n  constructor(app, conf, permissions) {\n    $(\"#files_tab a\").on(\"click\", this.onShow)\n\n    $(\"body\").append(` \n        <script id=\"filesTemplate\" type=\"text/x-jsrender\">\n        <div class=\"fileOperations\">\n            <div data-folder=\"{{folder}}\" class='fileOperationsFolderAdd   fa fa-plus' > Folder</div>\n            <div data-folder=\"{{folder}}\" class='fileOperationsDocumentAdd fa fa-plus' > Document</div>\n        </div>\n        <div>Folder: {{folder}}</div>\n        <ul class=\"list-group col-lg-10 col-md-10 col-xs-10 \">\n        {{#files}}\n          <li class=\"list-group-item\"  \n                  data-scope=\"{{scope}}\"  \n                  data-type=\"{{type}}\"  \n                  data-delete=\"{{delete}}\" \n                  data-update=\"{{update}}\" \n                  data-folder=\"{{folder}}\" \n                  data-title=\"{{title}}\" \n                  data-name=\"{{folder}}{{name}}\"\n                  >\n            <div class=\"media thumb\">\n               {{#dir}}\n                  <a class=\"media-left\">\n                  <div style=\"width: 48px; height: 48px\">\n                    <img style=\"width:100%; height:100%; object-fit: contain\"  src=\"../_common/images/files_folder{{back}}.svg\">\n                  </div>\n                  </a>\n               {{/dir}}\n               {{^dir}}\n                  <a class=\"thumbnail media-left\">\n                  <div style=\"width: 48px; height: 48px\">\n                    <img style=\"width:100%; height:100%; object-fit: contain\" src=\"{{image}}\">\n                  </div>\n                  </a>\n               {{/dir}}\n              <div class=\"media-body\">\n                <h4 class=\"media-heading\">{{title}}</h4>\n                {{#delete}}\n                    <div class=\"deleteIcon fa fa-trash-o\" data-toggle=\"confirmation\" ></div>\n                {{/delete}}\n              </div>\n            </div>\n          </li>\n        {{/files}}\n        </ul>\n        </script>\n    `)\n\n    this.conf = conf\n    this.app = app\n    this.render(conf, permissions)\n  }\n\n  onShow() {\n    if($(\"#materialStyle\").length)\n      return\n\n    setTimeout(()=>{\n      let w1= $(\"#userFilesTab\").outerWidth()\n      let w2= $(\"#globalFilesTab\").outerWidth()\n      $(\"<style id='materialStyle'>\")\n        .prop(\"type\", \"text/css\")\n        .html(`\n        #userFilesTab.active ~ span.yellow-bar{\n          left: 0;\n          width: ${w1}px;\n        }\n        #globalFilesTab.active ~ span.yellow-bar{\n          left: ${w1}px;\n          width: ${w2}px;\n        })`\n        )\n        .appendTo(\"head\")\n    },100)\n  }\n\n  refresh(conf, permissions, file){\n    let directory = fs.dirname(file.name)\n    if(file.scope===\"user\") {\n      this.initPane(\"user\", \"#userFiles\", conf.backend.user, permissions, directory)\n    }\n    else {\n      this.initPane(\"global\", \"#globalFiles\", conf.backend.global, permissions.global, directory)\n    }\n  }\n\n  render(conf, permissions) {\n    let storage = require(\"./BackendStorage\")(conf)\n\n    this.initTabs(permissions)\n    this.initPane(\"user\",   \"#userFiles\",   conf.backend.user,   permissions       , \"\")\n    this.initPane(\"global\", \"#globalFiles\", conf.backend.global, permissions.global, \"\")\n\n    socket.off(\"file:generated\").on(\"file:generated\", msg => {\n      let preview = $(\".list-group-item[data-name='\" + msg.filePath + \"'] img\")\n      if (preview.length === 0) {\n        this.render(conf, permissions)\n      } else {\n        let scope =  $(\".list-group-item[data-name='\" + msg.filePath + \"']\").data(\"scope\")\n        $(\".list-group-item[data-name='\" + msg.filePath + \"'] img\").attr({src: conf.backend[scope].image(msg.filePath) + \"&timestamp=\" + new Date().getTime()})\n      }\n    })\n\n    $(document)\n      .on(\"click\", \"#userFiles .fileOperationsFolderAdd\", (event) => {\n        let folder = $(event.target).data(\"folder\") || \"\"\n        inputPrompt.show(\"Create Folder\", \"Folder name\", value => {\n          storage.createFolder(folder+value, \"user\")\n          this.initPane(\"user\", \"#userFiles\", conf.backend.user, permissions, folder)\n        })\n      })\n      .on(\"click\", \"#globalFiles .fileOperationsFolderAdd\", (event) => {\n        let folder = $(event.target).data(\"folder\") || \"\"\n        inputPrompt.show(\"Create Folder\", \"Folder name\", value => {\n          storage.createFolder(folder+value, \"global\")\n          this.initPane(\"global\", \"#globalFiles\", conf.backend.global, permissions.global, folder)\n        })\n      })\n      .on(\"click\", \"#userFiles .fileOperationsDocumentAdd\", (event) => {\n        let folder = $(event.target).data(\"folder\") || \"\"\n        this.app.fileNew(folder+\"NewDocument\", \"user\")\n        this.app.fileSave()\n      })\n      .on(\"click\", \"#globalFiles .fileOperationsDocumentAdd\", (event) => {\n        let folder = $(event.target).data(\"folder\") || \"\"\n        this.app.fileNew(folder+\"NewDocument\", \"global\")\n        this.app.fileSave()\n      })\n  }\n\n  initTabs(permissions) {\n    // user can see private files and the demo files\n    //\n    if(permissions.list===true && permissions.global.list===true) {\n      $('#material-tabs').each(function () {\n        let $active, $content, $links = $(this).find('a');\n        $active = $($links[0]);\n        $active.addClass('active');\n        $content = $($active[0].hash);\n        $links.not($active).each(function () {\n          $(this.hash).hide()\n        })\n\n        $(this).on('click', 'a', function (e) {\n          $active.removeClass('active')\n          $content.hide()\n\n          $active = $(this)\n          $content = $(this.hash)\n\n          $active.addClass('active')\n          $content.show()\n\n          e.preventDefault()\n        })\n      })\n    }\n    else if (permissions.list===false && permissions.global.list===true){\n      $('#material-tabs').remove()\n      $(\"#globalFiles\").show()\n      $(\"#userFiles\").remove()\n      $(\"#files .title span\").html(\"Open a document\")\n    }\n    else if (permissions.list===true && permissions.global.list===false){\n      $('#material-tabs').remove()\n      $(\"#globalFiles\").remove()\n      $(\"#userFiles\").show()\n      $(\"#files .title span\").html(\"Open a document\")\n    }\n    else if (permissions.list===true && permissions.global.list===false) {\n    }\n  }\n\n  initPane(scope, paneSelector, backendConf, permissions, initialPath) {\n    let storage = require(\"./BackendStorage\")(this.conf)\n    if(permissions.list===false){\n      return\n    }\n\n    let _this = this\n    // load demo files\n    //\n    function loadPane(path) {\n      storage.getFiles( path, scope).then((files) => {\n        files = files.filter(file => file.name.endsWith(_this.conf.fileSuffix) || file.type === \"dir\")\n        files = files.map(file => {\n          return {\n            ...file,\n            delete: permissions.delete,\n            update: permissions.update,\n            scope: scope,\n            title: file.name.replace(_this.conf.fileSuffix,\"\"),\n            image: backendConf.image(file.filePath)\n          }\n        })\n\n        if (path.length !== 0) {\n          files.unshift({\n            name: fs.dirname(path),\n            folder: \"\", // important. Otherwise Hogan makes a lookup fallback to the root element\n            type: \"dir\",\n            dir: true,\n            delete: false,\n            update: false,\n            scope: scope,\n            back:\"_back\",\n            title: \"..\"\n          })\n        }\n        let compiled = Hogan.compile($(\"#filesTemplate\").html())\n        let output = compiled.render({folder: path, files: files})\n        $(paneSelector).html($(output))\n        if(permissions.create === false){\n          $(paneSelector + \" .fileOperations\").remove()\n        }\n\n        if(permissions.delete === true) {\n          $(paneSelector + \" .deleteIcon\").on(\"click\", (event) => {\n            let $el = $(event.target).closest(\".list-group-item\")\n            let name = $el.data(\"name\")\n            storage.deleteFile(name, scope).then(() => {\n              let parent = $el.closest(\".list-group-item\")\n              parent.hide('slow', () => parent.remove())\n            })\n          })\n          $(paneSelector + \" [data-toggle='confirmation']\").popConfirm({\n            title: \"Delete File?\",\n            content: \"\",\n            placement: \"bottom\" // (top, right, bottom, left)\n          })\n        }\n\n\n        // Rename of a file or folder is the very same as delete -> create\n        // I this case the user must have the two permissions to rename a folder or file\n        if (!_this.serverless && permissions.delete === true && permissions.create === true) {\n          $(paneSelector + \" .list-group-item h4\").off(\"click\").on(\"click\", (event) => {\n            // check if the editor is already visible. We can do on/off of events or do it this way....\n            if($(\".filenameInplaceEdit\").length>0){\n              $(\".filenameInplaceEdit\").focus()\n              $(\"#filenameHelpBlock\").html(\"press ESC if you want abort the rename operation\")\n              return\n            }\n\n            Mousetrap.pause()\n\n            let $el = $(event.currentTarget)\n            let parent = $el.closest(\".list-group-item\")\n            let name = parent.data(\"name\")\n            let folder = parent.data(\"folder\")\n            let title = parent.data(\"title\")\n            let type = parent.data(\"type\")\n            let $replaceWith = $(`\n                   <input type=\"input\" class=\"filenameInplaceEdit\" value=\"${title}\" />\n                   <small id=\"filenameHelpBlock\" class=\"form-text text-muted\">\n                       \n                   </small>`)\n            $el.hide()\n            $el.after($replaceWith)\n            $replaceWith.focus()\n            $replaceWith.on(\"click\", () => false)\n\n            // Rename the file on the Server\n            //\n            function fire(){\n              Mousetrap.unpause()\n              let newName = $replaceWith.val()\n              if (newName !== \"\") {\n                if (type !== \"dir\") {\n                  newName = storage.sanitize(newName) + conf.fileSuffix\n                }\n                // nothing to do\n                if(newName === title){\n                  $replaceWith.remove()\n                  $el.show()\n                  return\n                }\n\n                newName = folder + newName\n                axios.post(conf.backend[scope].rename, {from: name, to: newName})\n                  .then((response) => {\n                    let resTitle = response.data.name.replace(_this.conf.fileSuffix,\"\")\n                    let resName = response.data.name\n                    $replaceWith.remove()\n                    $el.html(resName)\n                    $el.show()\n                    parent.data(\"title\", resTitle)\n                    parent.data(\"name\", resName)\n                  })\n                  .catch(()=>{\n                    $(\"#filenameHelpBlock\").html(\"invalid file name\")\n                  })\n              } else {\n                // get the value and post them here\n                $replaceWith.remove()\n                $el.show()\n              }\n            }\n\n            // Cancel the rename operation\n            //\n            function cancel(){\n              $replaceWith.remove()\n              $el.show()\n            }\n\n            $replaceWith.on(\"keydown\",(e) => {\n              switch(e.which){\n                case 13 : fire(); break;\n                case 27 : cancel(); break;\n              }\n            })\n            event.preventDefault()\n            event.stopPropagation()\n            return false\n          })\n        }\n\n\n        $(paneSelector + \" .list-group-item[data-type='dir']\").on(\"click\", (event) => {\n          // check if the editor is already visible. We can do on/off of events or do it this way....\n          if($(\".filenameInplaceEdit\").length>0){\n            $(\".filenameInplaceEdit\").focus()\n            $(\"#filenameHelpBlock\").html(\"press ESC if you want abort the rename operation\")\n            return\n          }\n          let $el = $(event.currentTarget)\n          let name = $el.data(\"name\")\n          if(name !==\"\" && !name.endsWith(\"/\")){\n            name = name +\"/\"\n          }\n          loadPane(name)\n        })\n\n        $(paneSelector + \" .list-group-item[data-type='file']\").on(\"click\", (event) => {\n          // check if the editor is already visible. We can do on/off of events or do it this way....\n          if($(\".filenameInplaceEdit\").length>0){\n            $(\".filenameInplaceEdit\").focus()\n            $(\"#filenameHelpBlock\").html(\"press ESC if you want abort the rename operation\")\n            return\n          }\n          let $el = $(event.currentTarget)\n          let name = $el.data(\"name\")\n          $el.addClass(\"spinner\")\n          app.load(name, scope).then(() => {\n            $el.removeClass(\"spinner\")\n            history.pushState({\n              id: 'editor',\n              scope: scope,\n              file: name\n            }, _this.conf.appName+' | ' + name, window.location.href.split('?')[0] + '?'+scope+'=' + name)\n          })\n        })\n      })\n    }\n    loadPane(initialPath)\n  }\n\n}\n","class Dialog {\n\n  /**\n   * @constructor\n   *\n   */\n  constructor() {\n    $(\"body\").append(`\n            <div id=\"inputPromptDialog\" class=\"modal fade genericDialog\" tabindex=\"-1\">\n            <div class=\"modal-dialog \">\n              <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                  <h4 class=\"media-heading\">Input Prompt</h4>\n                </div>\n                <div class=\"modal-body\">\n                  <div class=\"media\">\n                    <div class=\"promptValueLabel\">Value:</div>\n                    <fieldset>\n                      <div class=\"form-group\">\n                        <div class=\"col-lg-12\">\n                          <input type=\"text\" class=\"form-control floating-label inputPromptValue\" value=\"\" >\n                        </div>\n                      </div>\n                    </fieldset>\n                  </div>\n                </div>\n                <div class=\"modal-footer\">\n                  <button class=\"btn\" data-dismiss=\"modal\">Close</button>\n                  <button class=\"btn btn-primary okButton\"><span>Create</span></button>\n                </div>\n              </div>\n            </div>\n          </div>\n    `)\n  }\n\n  /**\n   */\n  show(title, label, defaultValue, callback) {\n      if(typeof defaultValue === \"function\"){\n        callback = defaultValue\n        defaultValue = \"\"\n      }\n\n      $(\"#inputPromptDialog .media-heading\").html(title)\n      $(\"#inputPromptDialog .promptValueLabel\").html(label)\n      $('#inputPromptDialog .inputPromptValue').val(defaultValue)\n\n      $('#inputPromptDialog').on('shown.bs.modal', (event) => {\n        $(event.currentTarget).find('input:first').focus()\n      })\n      $(\"#inputPromptDialog\").modal(\"show\")\n      Mousetrap.pause()\n\n      $('#inputPromptDialog .inputPromptValue').on('keypress', function (e) {\n        let key = e.charCode || e.keyCode || 0;\n        if (key === 13) {\n          $(\"#inputPromptDialog .okButton\").click()\n        }\n      })\n\n      // Save Button\n      //\n      $(\"#inputPromptDialog .okButton\").off('click').on(\"click\", () => {\n        Mousetrap.unpause()\n        $('#inputPromptDialog').modal('hide')\n        let value = $(\"#inputPromptDialog .inputPromptValue\").val()\n        callback(value)\n      })\n  }\n}\n\n\nlet dialog = new Dialog()\nexport default dialog\n","$.fn.extend({\n  popConfirm: function (options) {\n    var defaults = {\n        title: 'Confirmation',\n        content: 'Are you really sure ?',\n        placement: 'right',\n        container: 'body',\n        yesBtn: 'Yes',\n        noBtn: 'No'\n      },\n      last = null\n    options = $.extend(defaults, options)\n    return this.each(function () {\n      var self = $(this),\n        arrayActions = [],\n        arrayDelegatedActions = [],\n        eventToConfirm,\n        optName,\n        optValue,\n        i,\n        elmType,\n        code,\n        form\n\n      // Load data-* attriutes\n      for (optName in options) {\n        if (options.hasOwnProperty(optName)) {\n          optValue = $(this).attr('data-confirm-' + optName)\n          if (optValue) {\n            options[optName] = optValue\n          }\n        }\n      }\n\n      // If there are jquery click events\n      if (jQuery._data(this, \"events\") && jQuery._data(this, \"events\").click) {\n\n        // Save all click handlers\n        for (i = 0; i < jQuery._data(this, \"events\").click.length; i = i + 1) {\n          arrayActions.push(jQuery._data(this, \"events\").click[i].handler)\n        }\n\n        // unbind it to prevent it firing\n        $(self).unbind(\"click\")\n      }\n\n      // If there are jquery delegated click events\n      if (self.data('remote') && jQuery._data(document, \"events\") && jQuery._data(document, \"events\").click) {\n\n        // Save all delegated click handlers that apply\n        for (i = 0; i < jQuery._data(document, \"events\").click.length; i = i + 1) {\n          elmType = self[0].tagName.toLowerCase()\n          if (jQuery._data(document, \"events\").click[i].selector && jQuery._data(document, \"events\").click[i].selector.indexOf(elmType + \"[data-remote]\") !== -1) {\n            arrayDelegatedActions.push(jQuery._data(document, \"events\").click[i].handler)\n          }\n        }\n      }\n\n      // If there are hard onclick attribute\n      if (self.attr('onclick')) {\n        // Extracting the onclick code to evaluate and bring it into a closure\n        code = self.attr('onclick')\n        arrayActions.push(function () {\n          eval(code)\n        })\n        $(self).prop(\"onclick\", null)\n      }\n\n      // If there are href link defined\n      if (!self.data('remote') && self.attr('href')) {\n        // Assume there is a href attribute to redirect to\n        arrayActions.push(function () {\n          window.location.href = self.attr('href')\n        })\n      }\n\n      // If the button is a submit one\n      if (self.attr('type') && self.attr('type') === 'submit') {\n        // Get the form related to this button then store submiting in closure\n        form = $(this).parents('form:first')\n        arrayActions.push(function () {\n          // Add the button name / value if specified\n          if (typeof self.attr('name') !== \"undefined\") {\n            $('<input type=\"hidden\">').attr('name', self.attr('name')).attr('value', self.attr('value')).appendTo(form)\n          }\n          form.submit()\n        })\n      }\n\n      self.popover({\n        trigger: 'manual',\n        title: options.title,\n        html: true,\n        placement: options.placement,\n        container: options.container,\n        //Avoid using multiline strings, no support in older browsers.\n        content: options.content + '<p class=\"button-group\" style=\"margin-top: 10px; text-align: center;\"><button type=\"button\" class=\"btn btn-small confirm-dialog-btn-abort\">' + options.noBtn + '</button> <button type=\"button\" class=\"btn btn-small btn-danger confirm-dialog-btn-confirm\">' + options.yesBtn + '</button></p>'\n      }).click(function (e) {\n        if (last && last !== self) {\n          last.popover('hide').removeClass('popconfirm-active')\n        }\n        last = self\n      })\n\n      $(document).on('click', function () {\n        if (last) {\n          last.popover('hide').removeClass('popconfirm-active')\n        }\n      })\n\n      self.bind('click', function (e) {\n        eventToConfirm = e\n\n        e.preventDefault()\n        e.stopPropagation()\n\n        $('.popconfirm-active').not(self).popover('hide').removeClass('popconfirm-active')\n        self.popover('show').addClass('popconfirm-active')\n\n        $(document).find('.popover .confirm-dialog-btn-confirm').one('click', function (e) {\n          for (i = 0; i < arrayActions.length; i = i + 1) {\n            arrayActions[i].apply(self,[eventToConfirm])\n          }\n\n          for (i = 0; i < arrayDelegatedActions.length; i = i + 1) {\n            arrayDelegatedActions[i].apply(self, [eventToConfirm.originalEvent])\n          }\n\n          self.popover('hide').removeClass('popconfirm-active')\n        })\n        $(document).find('.popover .confirm-dialog-btn-abord').bind('click', function (e) {\n          self.popover('hide').removeClass('popconfirm-active')\n        })\n      })\n    })\n  }\n})\n\n","class Dialog {\n  constructor() {\n  }\n\n  show(conf) {\n    window.open(conf.simulator.url, \"circuit\")\n  }\n}\n\n\nlet dialog = new Dialog()\nexport default dialog\n","\nclass Dialog {\n\n  constructor() {\n  }\n\n  show(conf) {\n    window.open(conf.useradmin.url, \"user\")\n  }\n}\n\nlet dialog = new Dialog()\nexport default dialog\n","import axios from \"axios\"\n\n\nexport default class Userinfo {\n\n\n  constructor(permissions, conf){\n\n    if(permissions.featureset.authentication === false){\n      $(\".userinfo_toggler\").remove()\n    }\n    else {\n      axios.get(\"../userinfo\")\n        .then((response) => {\n          this.user = response.data\n          let icon = this.user.role===\"admin\"?\"../_common/images/toolbar_admin.svg\":\"../_common/images/toolbar_user.svg\"\n          let role = this.user.role===\"admin\"?\"(Administrator)\":\"\"\n          $(\".userinfo_toggler img\").attr(\"src\",icon)\n          $(\".userinfo_toggler .dropdown-menu\").html(` \n              <div class=\"userContainer\">\n                <img  src=\"${icon}\"/>\n                <div>${this.user.displayName}</div>\n                <div>${role}</div>\n                <button class=\"logoutButton\">Logout</button>\n              </div>\n          `)\n          $(\".userinfo_toggler .logoutButton\").on(\"click\", () => { window.location.replace(\"../logout?returnTo=\"+conf.loginRedirect);})\n        })\n        .catch( () => {\n          let loginButton = $(\"<button class='loginButton'>Login</button>\")\n          $(\".userinfo_toggler\").html(loginButton)\n          $(document).on(\"click\", \".loginButton\", ()=>{\n            window.location.replace(\"../login?returnTo=\"+conf.loginRedirect)\n          })\n        })\n    }\n  }\n\n  getUser(){\n    return this.user\n  }\n}\n","(function (root, factory) {\n\n    if(typeof define === 'function' && define.amd) {\n        define([], factory(root));\n    } else if (typeof exports === 'object') {\n        module.exports = factory(root);\n    } else {\n        root.inlineSVG = factory(root);\n    }\n\n})(typeof global !== \"undefined\" ? global : this.window || this.global, function (root) {\n\n    // Variables\n    var inlineSVG = {},\n        supports = !!document.querySelector && !!root.addEventListener,\n        settings;\n\n    // Defaults\n    var defaults = {\n        initClass: 'js-inlinesvg',\n        svgSelector: 'img.svg'\n    };\n\n    /**\n     * Stolen from underscore.js\n     * @private\n     * @param {Int} times\n     * @param {Function} func\n     */\n\n    var after = function(times, func) {\n        return function() {\n            if (--times < 1) {\n                return func.apply(this, arguments);\n            }\n        };\n    };\n\n    /**\n     * Merge two objects together\n     * @private\n     * @param {Function} fn\n     */\n    var extend = function () {\n\n        // Variables\n        var extended = {};\n        var deep = false;\n        var i = 0;\n        var length = arguments.length;\n\n        // Check if a deep merge\n        if ( Object.prototype.toString.call( arguments[0] ) === '[object Boolean]' ) {\n            deep = arguments[0];\n            i++;\n        }\n\n        // Merge the object into the extended object\n        var merge = function (obj) {\n            for ( var prop in obj ) {\n                if ( Object.prototype.hasOwnProperty.call( obj, prop ) ) {\n                    // If deep merge and property is an object, merge properties\n                    if ( deep && Object.prototype.toString.call(obj[prop]) === '[object Object]' ) {\n                        extended[prop] = extend( true, extended[prop], obj[prop] );\n                    } else {\n                        extended[prop] = obj[prop];\n                    }\n                }\n            }\n        };\n\n        // Loop through each object and conduct a merge\n        for ( ; i < length; i++ ) {\n            var obj = arguments[i];\n            merge(obj);\n        }\n\n        return extended;\n\n    };\n\n    // Methods\n\n    /**\n     * Grab all the SVGs that match the selector\n     * @public\n     */\n    var getAll = function () {\n\n        var svgs = document.querySelectorAll(settings.svgSelector);\n        return svgs;\n\n    };\n\n    /**\n     * Inline all the SVGs in the array\n     * @public\n     */\n    var inliner = function (cb) {\n\n        var svgs = getAll();\n        var callback = after(svgs.length, cb);\n\n        Array.prototype.forEach.call(svgs, function (svg, i) {\n\n            // Store some attributes of the image\n            var src = svg.src || svg.getAttribute('data-src'),\n                attributes = svg.attributes;\n\n            // Get the contents of the SVG\n            var request = new XMLHttpRequest();\n            request.open('GET', src, true);\n\n            request.onload = function () {\n\n                if(request.status >= 200 && request.status < 400) {\n\n                    // Setup a parser to convert the response to text/xml in order for it\n                    // to be manipulated and changed\n                    var parser = new DOMParser(),\n                        result = parser.parseFromString(request.responseText, 'text/xml'),\n                        inlinedSVG = result.getElementsByTagName('svg')[0];\n\n                    let titles = inlinedSVG.getElementsByTagName('title')\n                    while (titles[0]) titles[0].parentNode.removeChild(titles[0])\n\n                    let descs = inlinedSVG.getElementsByTagName('desc')\n                    while (descs[0]) descs[0].parentNode.removeChild(descs[0])\n\n                    // Remove some of the attributes that aren't needed\n                    inlinedSVG.removeAttribute('xmlns:a');\n                    inlinedSVG.removeAttribute('width');\n                    inlinedSVG.removeAttribute('height');\n                    inlinedSVG.removeAttribute('x');\n                    inlinedSVG.removeAttribute('y');\n                    inlinedSVG.removeAttribute('enable-background');\n                    inlinedSVG.removeAttribute('xmlns:xlink');\n                    inlinedSVG.removeAttribute('xml:space');\n                    inlinedSVG.removeAttribute('version');\n\n                    // Add in the attributes from the original <img> except `src` or\n                    // `alt`, we don't need either\n                    Array.prototype.slice.call(attributes).forEach(function(attribute) {\n                        if(attribute.name !== 'src' && attribute.name !== 'alt') {\n                            inlinedSVG.setAttribute(attribute.name, attribute.value);\n                        }\n                    });\n\n                    // Add an additional class to the inlined SVG to imply it was\n                    // infact inlined, might be useful to know\n                    if (inlinedSVG.classList) {\n                        inlinedSVG.classList.add('inlined-svg');\n                    } else {\n                        inlinedSVG.className += ' ' + 'inlined-svg';\n                    }\n\n                    // Add in some accessibility quick wins\n                    inlinedSVG.setAttribute('role', 'img');\n\n                    // Use the `longdesc` attribute if one exists\n                    if(attributes.longdesc) {\n                        var description = document.createElementNS('http://www.w3.org/2000/svg', 'desc'),\n                            descriptionText = document.createTextNode(attributes.longdesc.value);\n\n                        description.appendChild(descriptionText);\n                        inlinedSVG.insertBefore(description, inlinedSVG.firstChild);\n                    }\n\n                    // Use the `alt` attribute if one exists\n                    if(attributes.alt) {\n                        inlinedSVG.setAttribute('aria-labelledby', 'title');\n\n                        var title = document.createElementNS('http://www.w3.org/2000/svg', 'title'),\n                            titleText = document.createTextNode(attributes.alt.value);\n\n                        title.appendChild(titleText);\n                        inlinedSVG.insertBefore(title, inlinedSVG.firstChild);\n                    }\n\n                    // Replace the image with the SVG\n                    svg.parentNode.replaceChild(inlinedSVG, svg);\n\n                    // Fire the callback\n                    callback(settings.svgSelector);\n\n                } else {\n\n                    console.error('There was an error retrieving the source of the SVG.');\n\n                }\n\n            };\n\n            request.onerror = function () {\n                console.error('There was an error connecting to the origin server.');\n            };\n\n            request.send();\n\n        });\n\n    };\n\n    /**\n     * Initialise the inliner\n     * @public\n     */\n    inlineSVG.init = function (options, callback) {\n\n        // Test for support\n        if (!supports) return;\n\n        // Merge users option with defaults\n        settings = extend(defaults, options || {});\n\n        // Kick-off the inliner\n        inliner(callback || function(){});\n    };\n\n    return inlineSVG;\n\n});\n","\n\nexport default function(text){\n  $(\"body\").append($(`<div id=\"notificationToast\">${text}</div>`))\n  $(\"#notificationToast\")\n    .delay(900)\n    .animate({ top: \"+=20\" }, 500)\n    .delay(1500)\n    .animate({ top: \"-=20\" }, 300, ()=>{\n      $(\"#notificationToast\").remove()\n    })\n}\n","module.exports = \"js/webpack/492f40d01cb4aa7e66fbae9f01abda49.png\";","module.exports = \"js/webpack/2545e9daa1296aeaf03c8ea0aaab4afe.png\";","module.exports = \"js/webpack/657c4c890bc69affe796a29f4d9d0dcf.png\";","module.exports = \"js/webpack/485860c000764fd82149fc94aa6673cd.png\";","module.exports = \"js/webpack/2e59ba615169ea5c7506a8094f9e1301.png\";","module.exports = \"js/webpack/99fd154564faa73e994b9fe684497597.svg\";","module.exports = \"js/webpack/1c021e8bb20ac2f29e3da9ff5815550c.svg\";","module.exports = \"js/webpack/b18448d804a3c629d1b8b9f03d894e04.svg\";","module.exports = \"js/webpack/7f7ebe1e9d6b4b01543498d12568eb3b.svg\";","module.exports = \"js/webpack/cbca3e305b7b982c0745344c6951285c.svg\";","import Files from \"../../_common/js/FilesScreen\"\nimport Userinfo from \"../../_common/js/Userinfo\";\nimport AuthorPage from \"../../_common/js/AuthorPage\";\nimport toast from \"../../_common/js/toast\"\n\nimport View from \"./View\"\nimport Toolbar from \"./Toolbar\"\nimport Layer from \"./Layer\"\nimport FilterPane from \"./FilterPane\"\nimport SelectionToolPolicy from './policy/SelectionToolPolicy'\nimport conf from \"./Configuration\"\nimport fileSave from \"./dialog/FileSave\"\n\nlet storage = require('../../_common/js/BackendStorage')(conf)\n\n/**\n * wait asyn that an DOM element is present\n * Usage: checkElement(\"<selector>\").then(function(){alert(\"element found\")})\n *\n * @returns {Promise<any>}\n */\nfunction rafAsync() {\n  return new Promise(resolve => {\n    requestAnimationFrame(resolve); //faster than set time out\n  });\n}\nfunction checkElement(selector) {\n  if (document.querySelector(selector) === null) {\n    return rafAsync().then(() => checkElement(selector));\n  } else {\n    return Promise.resolve(true);\n  }\n}\n\n\nclass Application {\n  /**\n   * @constructor\n   *\n   * @param {String} canvasId the id of the DOM element to use as paint container\n   */\n  constructor() {\n  }\n\n  init(permissions){\n    this.permissions = permissions\n    this.hasUnsavedChanges = false\n    this.currentFile = { name:\"NewDocument\"+conf.fileSuffix, scope:\"user\"}\n    this.documentConfigurationTempl = {\n      baseClass: \"draw2d.SetFigure\",\n      code: $(\"#shape-edit-template\").text().trim()\n    }\n\n    // Show the user an alert if there are unsaved changes\n    //\n    window.onbeforeunload = ()=> {\n      return this.hasUnsavedChanges?  \"The changes you made will be lost if you navigate away from this page\": undefined;\n    }\n\n    this.localStorage = []\n    try {\n      if ('localStorage' in window && window.localStorage !== null) {\n        this.localStorage = localStorage\n      }\n    } catch (e) {\n\n    }\n\n    $( \"body\" )\n      .delegate( \".mousetrap-pause\", \"focus\", function() {\n        Mousetrap.pause()\n      })\n      .delegate(\".mousetrap-pause\", \"blur\", function (){\n        Mousetrap.unpause()\n      });\n\n    // automatic add the configuration to the very first shape\n    // in the document as userData\n    //\n    this.documentConfiguration = $.extend({}, this.documentConfigurationTempl)\n\n    this.storage = storage\n    this.view = new View(this, \"canvas\", permissions)\n    this.toolbar = new Toolbar(this, \"#editor .toolbar\", this.view, permissions)\n    this.layer = new Layer(this, \"layer_elements\", this.view, permissions)\n    this.filter = new FilterPane(this, \"#filter .filter_actions\", this.view, permissions)\n    this.userinfo = new Userinfo(permissions, conf)\n    this.filePane = new Files(this, conf, permissions.shapes)\n    this.indexPane = new AuthorPage(\"#home\", \"readme/en/designer/Readme.sheet\")\n\n    this.indexPane.render()\n    this.view.installEditPolicy(new SelectionToolPolicy())\n\n    this.view.getCommandStack().addEventListener(this)\n\n    // check if the user has added a \"file\" parameter. In this case we load the shape from\n    // the draw2d.shape github repository\n    //\n    let user = this.getParam(\"user\")\n    let global = this.getParam(\"global\")\n    if (user) {\n      this.load(user, \"user\")\n    }\n    else if (global) {\n      this.load(global, \"global\")\n    }\n    else {\n      this.fileNew()\n    }\n\n    // listen on the history object to load files\n    //\n    window.addEventListener('popstate', (event) => {\n      if (event.state && event.state.id === 'editor') {\n        let scope = event.state.scope\n        let url = conf.backend[scope].get(event.state.file)\n        this.load(url, scope)\n      }\n    })\n\n    // check if the user has added a \"file\" parameter. In this case we load the shape from\n    // the draw2d.shape github repository\n    //\n    let tutorial = this.getParam(\"tutorial\")\n    if(tutorial) {\n      this.checkForTutorialMode()\n    }\n\n    inlineSVG.init()\n  }\n\n  checkForTutorialMode() {\n    let tutorial = this.getParam(\"tutorial\")\n    if (!tutorial || tutorial === '') {\n      return\n    }\n\n    switch (tutorial) {\n      case \"markdown\":\n        checkElement(\"#editDoc\").then( ()=>{\n          new Anno([\n            {\n              target: '#editDoc',\n              content: 'Click here to edit the documentation of the shape.',\n              position: 'left'\n            },\n            {\n              target: '#editorFileSave',\n              content: \"..and don't forget to save your changes afterwards.\",\n              position: 'right'\n            },\n          ]).show()\n        })\n        break\n      case \"code\":\n        checkElement(\"#editCode\").then( ()=>{\n          new Anno([\n            {\n              target: '#editCode',\n              content: 'Click here to edit the code of the shape.',\n              position: 'left'\n            },\n            {\n              target: '#editTest',\n              content: '...you can test the shape here...',\n              position: 'left'\n            },\n            {\n              target: '#editorFileSave',\n              content: \"..and don't forget to save your changes afterwards.\",\n              position: 'right'\n            },\n          ]).show()\n        })\n        break\n      case \"design\":\n        checkElement(\"#tool_shape\").then( ()=>{\n          new Anno([\n            {\n              target: '#tool_shape',\n              content: 'Add rect, circles or lines to the shape..',\n              position: 'left'\n            },\n            {\n              target: '#editTest',\n              content: '...you preview and can test the shape here...',\n              position: 'left'\n            },\n            {\n              target: '#editorFileSave',\n              content: \"..and don't forget to save your changes afterwards.\",\n              position: 'right'\n            },\n          ]).show()\n        })\n        break\n      default:\n        break\n    }\n  }\n\n\n  getParam(name) {\n    name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\")\n    let regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\"\n    let regex = new RegExp(regexS)\n    let results = regex.exec(window.location.href)\n    // the param isn't part of the normal URL pattern...\n    //\n    if (results === null) {\n      // maybe it is part in the hash.\n      //\n      regexS = \"[\\\\#]\" + name + \"=([^&#]*)\"\n      regex = new RegExp(regexS)\n      results = regex.exec(window.location.hash)\n      if (results === null) {\n        return null\n      }\n    }\n    return results[1]\n  }\n\n\n  load(name, scope){\n    let url = conf.backend[scope].get(name)\n    this.view.clear()\n    $(\"#leftTabStrip .editor\").click()\n\n    return this.storage.loadUrl(url)\n      .then((content) => {\n        if (typeof content === \"string\"){\n          content = JSON.parse(content)\n        }\n        this.view.clear()\n        this.view.centerDocument()\n        let reader = new draw2d.io.json.Reader()\n        reader.unmarshal(this.view, content.draw2d || content)\n        this.getConfiguration()\n        this.view.getCommandStack().markSaveLocation()\n        this.view.centerDocument()\n        this.hasUnsavedChanges = false\n        $(\"#editorFileSave div\").removeClass(\"highlight\")\n        this.currentFile = { name, scope}\n\n        return content\n      })\n  }\n\n  fileNew(name, scope) {\n    $(\"#leftTabStrip .editor\").click()\n    this.view.clear()\n    this.documentConfiguration = $.extend({}, this.documentConfigurationTempl)\n    if (name) {\n      this.currentFile = { name, scope }\n    } else {\n      // currently there is no support for \"user\" defined shapes. scope should be always \"global\"\n      this.currentFile = { name: \"MyNewShape\" , scope:\"global\"}\n    }\n    this.view.getCommandStack().markSaveLocation()\n    this.view.centerDocument()\n  }\n\n  fileSave() {\n    this.setConfiguration()\n    fileSave.show(this.currentFile, this.storage,this.view, () => {\n      this.hasUnsavedChanges = false\n      toast(\"Saved\")\n      $(\"#editorFileSave div\").removeClass(\"highlight\")\n      this.filePane.refresh(conf, this.permissions.shapes, this.currentFile)\n    })\n  }\n\n\n  getConfiguration(key) {\n    let figures = this.view.getExtFigures()\n    if (figures.getSize() > 0) {\n      this.documentConfiguration = $.extend({}, this.documentConfiguration, figures.first().getUserData())\n    }\n\n    function pick (obj, var_keys) {\n      let keys = typeof arguments[1] !== 'string' ? arguments[1] : Array.prototype.slice.call(arguments, 1)\n      let out = {}, key\n      for (key in keys) {\n        if (typeof obj[key] !== \"undefined\")\n          out[key] = obj[key]\n      }\n      return out\n    }\n\n    if (key) {\n      return this.documentConfiguration[key]\n    }\n    return pick(this.documentConfiguration, \"baseClass\", \"code\", \"markdown\")\n  }\n\n  setConfiguration(conf) {\n    this.documentConfiguration = $.extend({}, this.documentConfiguration, conf)\n    let figures = this.view.getExtFigures()\n    if (figures.getSize() > 0) {\n      let userData = figures.first().attr(\"userData\")\n      figures.first().attr(\"userData\",$.extend(userData, this.documentConfiguration))\n    }\n  }\n\n\n  stackChanged(event) {\n    if (event.isPreChangeEvent()) {\n      return // silently\n    }\n    if (event.getStack().canUndo()){\n      $(\"#editorFileSave div\").addClass(\"highlight\")\n      this.hasUnsavedChanges = true\n    }\n  }\n\n}\n\n\nlet app = new Application()\nexport default app\n","export default {\n  fileSuffix: \".shape\",\n  appName: \"Brainbox Designer\",\n  loginRedirect: \"./designer/\",\n\n  backend: {\n    user: {\n      get:    file => `../backend/user/shape/get?filePath=${file}`,\n      image:  file => `../shapes/user/${file}`,\n      list:   path => `../backend/user/shape/list?path=${path}`\n    },\n\n    global:{\n      get:    file => `../backend/global/shape/get?filePath=${file}`,\n      image:  file => `../backend/global/shape/image?filePath=${file}`,\n      list:   path => `../backend/global/shape/list?path=${path}`,\n      delete:         `../backend/global/shape/delete`,\n      folder:         `../backend/global/shape/folder`,\n      save:           `../backend/global/shape/save`\n    }\n  },\n\n\n  useradmin: {\n    url: \"../user\"\n  },\n\n  simulator: {\n    url: \"../circuit/\"\n  },\n\n  author: {\n    url: \"../author/\"\n  }\n}\n","export default class FilterPane {\n\n\n  constructor(app, elementId, view) {\n    this.DEFAULT_LABEL = \"Properties\"\n    this.html = $(elementId)\n    this.view = view\n    this.currentFigure = null\n\n    // Register a Selection listener for the state handling\n    // of the Delete Button\n    //\n    view.on(\"select\", this.onSelectionChanged.bind(this))\n  }\n\n  /**\n   * @method\n   * Called if the selection in the canvas has been changed. You must register this\n   * class on the canvas to receive this event.\n   *\n   * @param {draw2d.Canvas} canvas the emitter of the event. In this case it is the canvas.\n   * @param {draw2d.Figure} figure\n   */\n  onSelectionChanged(canvas, event = {figure: null}) {\n    var figure = event.figure\n\n    this.html.html('')\n    $('#add_filter_button').addClass('disabled')\n\n    if (this.currentFigure !== null && typeof this.currentFigure.isExtFigure !== \"undefined\") {\n      this.currentFigure.filters.each((i, filter) => {\n        filter.removePane()\n      })\n    }\n    $(\"#add_filter_action_menu\").html(\"\")\n\n    if (figure !== null && typeof figure.isExtFigure !== \"undefined\") {\n      figure.filters.each((i, filter) => {\n        filter.insertPane(figure, this.html)\n      })\n      $('#add_filter_button').removeClass('disabled')\n\n      $.each(figure.getPotentialFilters(), function (i, e) {\n        $(\"#add_filter_action_menu\").append(\"<li><a href='#' data-filter='\" + e.impl + \"' >\" + e.label + \"</a></li>\")\n      })\n\n      var _this = this\n      $(\"#add_filter_action_menu a\").on(\"click\", function () {\n        var $this = $(this)\n        var filterName = $this.data(\"filter\")\n        var filter = eval(\"new \" + filterName + \"()\")\n        _this.currentFigure.addFilter(filter)\n        _this.onSelectionChanged(_this.view, {figure: _this.currentFigure})\n      })\n    }\n\n    this.currentFigure = figure\n  }\n}\n","// just a simple mock object for the brainbox\n// Hardware binding\n//\nexport default {\n\n  raspi: {\n    set: function (pin, value) {\n    },\n    get: function (pin) {\n      return false\n    },\n    on: function(event, callback){\n    },\n    connected: false\n  },\n\n  arduino: {\n    set: function (pin, value) {\n    },\n    get: function (pin) {\n      return false\n    },\n    on: function(event, callback){\n    },\n    connected: false\n  }\n}\n","export default draw2d.ui.LabelInplaceEditor.extend({\n\n    NAME : \"LabelInplaceEditor\",\n\n    /**\n     * @constructor\n     *\n     */\n    init: function(attr, setter, getter)\n    {\n        this._super({\n          onStart: function(){\n            Mousetrap.pause()\n          },\n          onCancel: function(){\n            Mousetrap.unpause()\n          },\n          onCommit: function(){\n            Mousetrap.unpause()\n          }\n        }, setter, getter);\n    }\n});\n","export default class Layer {\n\n\n  constructor(app, elementId, view) {\n    this.html = $(\"#\" + elementId)\n    this.view = view\n\n    // register this class as event listener for the canvas\n    // CommandStack. This is required to update the state of\n    // the Undo/Redo Buttons.\n    //\n    view.getCommandStack().on(\"change\", this)\n\n    // Register a Selection listener for the state handling\n    // of the Delete Button\n    //\n    view.on(\"select\", this.onSelectionChanged.bind(this))\n  }\n\n  /**\n   * @method\n   * Called if the selection in the cnavas has been changed. You must register this\n   * class on the canvas to receive this event.\n   *\n   * @param {draw2d.Figure} emitter\n   */\n  onSelectionChanged(emitter, event) {\n    this._updateSelection()\n  }\n\n  /**\n   * @method\n   * Sent when an event occurs on the command stack. draw2d.command.CommandStackEvent.getDetail()\n   * can be used to identify the type of event which has occurred.\n   *\n   * @template\n   *\n   * @param {draw2d.command.CommandStackEvent} event\n   **/\n  stackChanged(event) {\n    this.html.html('')\n    let figures = this.view.getExtFigures()\n    figures.each((i, figure) => {\n      this.html.append(\n        '<div class=\"layerElement '+this.figureToCSS(figure)+'\" data-figure=\"' + figure.id + '\"  data-visibility=\"' + figure.isVisible() + '\" id=\"layerElement_' + figure.id + '\" >' +\n        figure.getUserData().name +\n        '<span data-figure=\"' + figure.id + '\"  data-toggle=\"tooltip\" title=\"Toggle Visibility of the Layer\"  class=\"layer_visibility pull-right\"><img class=\"icon svg\" src=\"' + (figure.isVisible() ? './images/layer_visible.svg' : './images/layer_hidden.svg') + '\"/></span>' +\n        '<span data-figure=\"' + figure.id + '\"  data-toggle=\"tooltip\" title=\"Edit Name of Layer\" class=\"layer_edit pull-right\" ><img class=\"icon svg\" src=\"./images/layer_edit.svg\"/></span>' +\n        '</div>')\n    }, true)\n\n\n    $('*[data-toggle=\"tooltip\"]').tooltip({\n      placement: \"bottom\",\n      container: \"body\",\n      delay: {show: 1000, hide: 100},\n      html: true\n    })\n\n    this.html.sortable({\n      axis: \"y\",\n      update: () => {\n        $(\".layerElement\").toArray().reverse().forEach((e) => {\n          this.view.getExtFigure($(e).data(\"figure\")).toFront()\n        })\n      }\n    })\n\n    $(\".layerElement .layer_edit\").on(\"click\", (event) =>{\n      let figure = this.view.getExtFigure($(event.currentTarget).data(\"figure\"))\n      Mousetrap.pause()\n      bootbox.prompt({\n        title: \"Layer Name\",\n        className: \"layer-name-prompt\",\n        value: figure.attr(\"userData.name\"),\n        callback: (result) => {\n          Mousetrap.unpause()\n          if (result !== null) {\n            let cmd = new draw2d.command.CommandAttr(figure, {\"userData.name\": result})\n            this.view.getCommandStack().execute(cmd)\n          }\n        }\n      })\n\n      // autoselect text for fast edit\n      setTimeout(function () {\n        $(\".bootbox-input\").focus().select()\n      }, 200)\n    })\n\n\n    $(\".layerElement .layer_visibility\").on(\"click\", (event) =>{\n      let figure = this.view.getExtFigure($(event.currentTarget).data(\"figure\"))\n      figure.setVisible(!figure.isVisible())\n      this.view.setCurrentSelection(null)\n      $(event.currentTarget).html('<img class=\"icon svg\" src=\"' + (figure.isVisible() ? './images/layer_visible.svg' : './images/layer_hidden.svg') + '\"/>')\n      inlineSVG.init()\n\n      // set the \"data\" with attr and not with \"data()\". Otherwise the css selector won't work\n      //\n      $(event.currentTarget).parent().attr({\"data-visibility\": figure.isVisible()})\n\n      this.ripple(figure)\n      return false\n    })\n\n    $(\".layerElement\").on(\"click\", (event) => {\n      let figure = this.view.getExtFigure($(event.currentTarget).data(\"figure\"))\n      if (figure.isVisible()) {\n        this.view.setCurrentSelection(figure)\n        this.ripple(figure)\n      }\n    })\n\n    this._updateSelection()\n  }\n\n  _updateSelection() {\n    $(\".layerElement\").removeClass(\"layerSelectedElement\")\n    let selection = this.view.getSelection()\n    selection.each(function (i, e) {\n      $(\"#layerElement_\" + e.id).addClass(\"layerSelectedElement\")\n    })\n  }\n\n  ripple(figure) {\n    let rect = figure.getBoundingBox()\n    let p = rect.getCenter()\n    let circle = this.view.paper.circle(p.x, p.y, Math.max(3, rect.w / 4), Math.max(3, rect.h / 4)).attr({\n      fill: null,\n      stroke: \"#d0d0ff\"\n    })\n    let anim = Raphael.animation(\n      {\n        transform: \"s6\",\n        opacity: 0.0,\n        \"stroke-width\": 5\n      },\n      500,\n      \"linear\",\n      function () {\n        circle.remove()\n      }\n    )\n    circle.animate(anim)\n  }\n\n  figureToCSS(figure){\n    return figure.NAME.split(\".\").slice(-1)[0]\n  }\n}\n","import RectangleToolPolicy from \"./policy/RectangleToolPolicy\"\nimport CircleToolPolicy from \"./policy/CircleToolPolicy\"\nimport LineToolPolicy from \"./policy/LineToolPolicy\"\nimport TextToolPolicy from \"./policy/TextToolPolicy\"\nimport PortToolPolicy from \"./policy/PortToolPolicy\"\nimport SelectionToolPolicy from \"./policy/SelectionToolPolicy\"\nimport GeoUnionToolPolicy from \"./policy/GeoUnionToolPolicy\"\nimport GeoIntersectionToolPolicy from \"./policy/GeoIntersectionToolPolicy\"\nimport GeoDifferenceToolPolicy from \"./policy/GeoDifferenceToolPolicy\"\n\nimport FigureCodeEdit from \"./dialog/FigureCodeEdit\"\nimport FigureMarkdownEdit from \"./dialog/FigureMarkdownEdit\"\nimport FigureTest from \"./dialog/FigureTest\"\nimport simulatorDialog from \"../../_common/js/SimulatorDialog\"\nimport authorDialog from \"../../_common/js/AuthorDialog\"\nimport userAdminDialog from \"../../_common/js/UserAdminDialog\"\nimport toast from \"../../_common/js/toast\"\n\nexport default class Toolbar {\n\n  constructor(app, elementId, view, permissions) {\n    this.html = $(elementId)\n    this.view = view\n    this.app = app\n\n    // register this class as event listener for the canvas\n    // CommandStack. This is required to update the state of\n    // the Undo/Redo Buttons.\n    //\n    view.getCommandStack().on(\"change\", this)\n\n    // Register a Selection listener for the state handling\n    // of the Delete Button\n    //\n    view.on(\"select\", this.onSelectionChanged.bind(this))\n    view.on(\"unselect\", this.onSelectionChanged.bind(this))\n\n    this.fileName = null\n\n    let buttonGroup = $(\"<div id='fileOperationGroup' class='group'></div>\")\n    this.html.append(buttonGroup)\n\n\n    if(permissions.shapes.global.update || permissions.shapes.global.create ||\n       permissions.shapes.update        || permissions.shapes.create) {\n      this.saveButton = $('<div class=\"image-button\"  id=\"editorFileSave\" data-toggle=\"tooltip\" title=\"Save File <span class=\\'highlight\\'> [ Ctrl+S ]</span>\"  ><img src=\"../_common/images/toolbar_save.svg\"/><div>Save</div></div>')\n      buttonGroup.append(this.saveButton)\n      this.saveButton.on(\"click\", () => {\n        this.saveButton.tooltip(\"hide\")\n        app.fileSave()\n      })\n      Mousetrap.bindGlobal(\"ctrl+s\", (event) => {\n        this.saveButton.click()\n        return false\n      })\n    }\n\n    // Inject the UNDO Button and the callbacks\n    //\n    buttonGroup = $('<div class=\"group\"></div>')\n    this.html.append(buttonGroup)\n    this.undoButton = $('<div class=\"image-button\" id=\"editUndo\" data-toggle=\"tooltip\" title=\"Undo <span class=\\'highlight\\'> [ Ctrl+Z ]</span>\"  ><img class=\"icon disabled\"  src=\"../_common/images/toolbar_undo.svg\"/><div>Undo</div></div>')\n    buttonGroup.append(this.undoButton)\n    this.html .delegate(\"#editUndo:not(.disabled)\", \"click\", () => {\n      this.view.getCommandStack().undo()\n    })\n    Mousetrap.bindGlobal(\"ctrl+z\", () => {\n      this.undoButton.click()\n      return false\n    })\n\n\n    // Inject the REDO Button and the callback\n    //\n    this.redoButton = $('<div class=\"image-button\" id=\"editRedo\" data-toggle=\"tooltip\" title=\"Redo <span class=\\'highlight\\'> [ Ctrl+Y ]</span>\"  ><img  class=\"icon disabled\" src=\"../_common/images/toolbar_redo.svg\"/><div>Redo</div></div>')\n    buttonGroup.append(this.redoButton)\n    this.html .delegate(\"#editRedo:not(.disabled)\", \"click\", () => {\n      this.view.getCommandStack().redo()\n    })\n    Mousetrap.bindGlobal(\"ctrl+y\", () => {\n      this.redoButton.click()\n      return false\n    })\n\n    // Inject the DELETE Button\n    //\n    this.deleteButton = $('<div class=\"image-button\" id=\"editDelete\" data-toggle=\"tooltip\" title=\"Delete <span class=\\'highlight\\'> [ Del ]</span>\"  ><img class=\"icon disabled\" src=\"../_common/images/toolbar_delete.svg\"/><div>Delete</div></div>')\n    buttonGroup.append(this.deleteButton)\n    this.html.delegate(\"#editDelete:not(.disabled)\", \"click\", function () {\n      view.getCommandStack().startTransaction(draw2d.Configuration.i18n.command.deleteShape)\n      view.getSelection().each(function (index, figure) {\n        let cmd = figure.createCommand(new draw2d.command.CommandType(draw2d.command.CommandType.DELETE))\n        if (cmd !== null) {\n          view.getCommandStack().execute(cmd)\n        }\n      })\n      // execute all single commands at once.\n      view.getCommandStack().commitTransaction()\n    })\n    Mousetrap.bindGlobal([\"del\", \"backspace\"], () => {\n      this.deleteButton.click()\n      return false\n    })\n\n\n    buttonGroup = $('<div class=\"group\"></div>')\n    this.html.append(buttonGroup)\n\n    this.selectButton = $('<div class=\"image-button\" id=\"editSelect\" data-toggle=\"tooltip\" title=\"Select mode <span class=\\'highlight\\'> [ spacebar ]</span>\" ><img src=\"./images/toolbar_select.svg\"/><div>Select</div></div>')\n    buttonGroup.append(this.selectButton)\n    this.selectButton.on(\"click\", () => {\n      this.view.installEditPolicy(new SelectionToolPolicy())\n    })\n    Mousetrap.bindGlobal(\"space\", () => {\n      this.selectButton.click()\n      return false\n    })\n\n    this.shapeButton = $(\n      '<label id=\"tool_shape\" class=\"dropdown\" >' +\n      '    <div class=\"image-button\" data-toggle=\"dropdown\"  id=\"tool_shape_image\" ><img  src=\"./images/toolbar_insert.svg\"><div>Add</div></div>' +\n      '    <ul class=\"dropdown-menu\" role=\"menu\" >' +\n      '       <li class=\"tool_shape_entry policyRectangleToolPolicy\" ><a href=\"#\"><img  src=\"./images/toolbar_rectangle.svg\"><span class=\"tool_label\">Rectangle</span><span class=\"tool_shortcut\">R</span></a></li>' +\n      '       <li class=\"tool_shape_entry policyCircleToolPolicy\"    ><a href=\"#\"><img  src=\"./images/toolbar_circle.svg\"><span class=\"tool_label\">Circle</span><span class=\"tool_shortcut\">C</span></a></li>' +\n      '       <li class=\"tool_shape_entry policyLineToolPolicy\"      ><a href=\"#\"><img  src=\"./images/toolbar_line.svg\"><span class=\"tool_label\">Line</span><span class=\"tool_shortcut\">L</span></a></li>' +\n      '       <li class=\"tool_shape_entry policyTextToolPolicy\"      ><a href=\"#\"><img  src=\"./images/toolbar_text.svg\"><span class=\"tool_label\">Text</span><span class=\"tool_shortcut\">T</span></a></li>' +\n      '       <li class=\"tool_shape_entry policyPortToolPolicy\"      ><a href=\"#\"><img  src=\"./images/toolbar_port.svg\"><span class=\"tool_label\">Port</span><span class=\"tool_shortcut\">P</span></a></li>' +\n      '    </ul>' +\n      '</label>'\n    )\n    buttonGroup.append(this.shapeButton)\n\n    $(\".policyRectangleToolPolicy\").on(\"click\", () => {\n      let p = new RectangleToolPolicy()\n      p.executed = () => {\n        this.selectButton.click()\n      }\n      this.view.installEditPolicy(p)\n    })\n    $(\".policyCircleToolPolicy\").on(\"click\", () => {\n      let p = new CircleToolPolicy()\n      p.executed = () => {\n        this.selectButton.click()\n      }\n      this.view.installEditPolicy(p)\n    })\n    $(\".policyLineToolPolicy\").on(\"click\", () => {\n      let p = new LineToolPolicy()\n      p.executed = () => {\n        this.selectButton.click()\n      }\n      this.view.installEditPolicy(p)\n    })\n    $(\".policyTextToolPolicy\").on(\"click\", () => {\n      let p = new TextToolPolicy()\n      p.executed = () => {\n        this.selectButton.click()\n      }\n      this.view.installEditPolicy(p)\n    })\n    $(\".policyPortToolPolicy\").on(\"click\", () => {\n      let p = new PortToolPolicy()\n      p.executed = () => {\n        this.selectButton.click()\n      }\n      this.view.installEditPolicy(p)\n    })\n\n    Mousetrap.bindGlobal([\"R\", \"r\"], () => {\n      $('.policyRectangleToolPolicy').click()\n      return false\n    })\n    Mousetrap.bindGlobal([\"C\", \"c\"], () => {\n      $('.policyCircleToolPolicy').click()\n      return false\n    })\n    Mousetrap.bindGlobal([\"T\", \"t\"], () => {\n      $('.policyTextToolPolicy').click()\n      return false\n    })\n    Mousetrap.bindGlobal([\"P\", \"p\"], () => {\n      $('.policyPortToolPolicy').click()\n      return false\n    })\n    Mousetrap.bindGlobal([\"L\", \"l\"], () => {\n      $('.policyLineToolPolicy').click()\n      return false\n    })\n\n    this.unionButton = $('<div class=\"image-button disabled\" id=\"toolUnion\" data-toggle=\"tooltip\" title=\"Polygon Union <span class=\\'highlight\\'> [ U ]</span>\" ><img src=\"./images/toolbar_geo_union.svg\"/><div>Union</div></div>')\n    buttonGroup.append(this.unionButton)\n    this.html.delegate(\"#toolUnion:not(.disabled)\", \"click\", () => {\n      let selection = this.view.getSelection().getAll()\n      let p = new GeoUnionToolPolicy()\n      p.executed = () => {\n        this.selectButton.click()\n      }\n      this.view.installEditPolicy(p)\n      p.execute(this.view, selection)\n    })\n    Mousetrap.bindGlobal([\"U\", \"u\"], () => {\n      this.unionButton.click()\n      return false\n    })\n\n    this.differenceButton = $('<div class=\"image-button disabled\" id=\"toolDifference\" data-toggle=\"tooltip\"  title=\"Polygon Difference <span class=\\'highlight\\'> [ D ]</span>\" ><img src=\"./images/toolbar_geo_subtract.svg\"/><div>Subtract</div></div>')\n    buttonGroup.append(this.differenceButton)\n    this.html.delegate(\"#toolDifference:not(.disabled)\", \"click\", () => {\n      let selection = this.view.getSelection().getAll()\n      let p = new GeoDifferenceToolPolicy()\n      p.executed = () => {\n        this.selectButton.click()\n      }\n      this.view.installEditPolicy(p)\n      p.execute(this.view, selection)\n    })\n    Mousetrap.bindGlobal([\"D\", \"d\"], () => {\n      this.differenceButton.click()\n      return false\n    })\n\n    this.intersectionButton = $('<div class=\"image-button disabled\" id=\"toolIntersection\" data-toggle=\"tooltip\" title=\"Polygon Intersection <span class=\\'highlight\\'> [ I ]</span>\" ><img src=\"./images/toolbar_geo_intersect.svg\"/><div>Intersect</div></div>')\n    buttonGroup.append(this.intersectionButton)\n    this.html.delegate(\"#toolIntersection:not(.disabled)\", \"click\", () => {\n      let selection = this.view.getSelection().getAll()\n      let p = new GeoIntersectionToolPolicy()\n      p.executed = () => {\n        this.selectButton.click()\n      }\n      this.view.installEditPolicy(p)\n      p.execute(this.view, selection)\n    })\n    Mousetrap.bindGlobal([\"I\", \"i\"], () => {\n      this.intersectionButton.click()\n      return false\n    })\n\n\n    buttonGroup = $('<div class=\"group\" style=\"float:right\"></div>')\n    this.html.append(buttonGroup)\n    this.testButton = $('<div class=\"image-button\" id=\"editTest\" data-toggle=\"tooltip\" title=\"Test your shape\"><img src=\"./images/toolbar_element_test.svg\"/><div>Test</div></div>')\n    buttonGroup.append(this.testButton)\n    this.testButton.on(\"click\", () => {\n      // if any error happens during the shape code create/execute -> goto the the JS editor\n      try {\n        new FigureTest().show()\n      }\n      catch (exc) {\n        console.log(exc)\n        new FigureCodeEdit().show()\n        toast(\"Your code contains errors. Unable to run test environment\")\n      }\n    })\n\n    this.codeButton = $('<div class=\"image-button\" id=\"editCode\" data-toggle=\"tooltip\" title=\"Edit JavaScript code</span>\"><img src=\"./images/toolbar_element_js.svg\"/><div>Code</div></div>')\n    buttonGroup.append(this.codeButton)\n    this.codeButton.on(\"click\", () => {\n      new FigureCodeEdit().show()\n    })\n\n    this.markdownButton = $('<div class=\"image-button\" id=\"editDoc\" data-toggle=\"tooltip\" title=\"Write documentation for your shape</span>\"><img src=\"./images/toolbar_element_doc.svg\"/><div>Doku</div></div>')\n    buttonGroup.append(this.markdownButton)\n    $(document).on(\"click\", \"#editDoc\", () => {\n      new FigureMarkdownEdit().show()\n    })\n\n    let appSwitchButtons = $(` \n         <span class=\"group applicationSwitch\">\n            <label class=\"dropdown\" >\n\n                <span class=\"image-button\"  data-toggle=\"dropdown\">\n                  <img  src=\"../_common/images/toolbar_app_switch.svg\"/>\n                </span>\n\n                <ul class=\"dropdown-menu\" role=\"menu\" >\n                    <form class=\"form-horizontal\" role=\"form\">\n\n                      <label class=\"applicationSwitchSimulator image-button\">\n                        <img src=\"../_common/images/app_simulator.svg\"/>\n                        <div>Circuit<br>Simulator</div>\n                      </label>\n\n                      <label class=\"applicationSwitchAuthor image-button\" >\n                        <img src=\"../_common/images/app_lessons.svg\"/>\n                        <div>Lesson<br>Author</div>\n                      </label>\n                      \n                      <label class=\"applicationSwitchUser image-button\" >\n                        <img src=\"../_common/images/app_user.svg\"/>\n                        <div>User<br>Management</div>\n                      </label>\n\n                    </form>\n                </ul>\n            </label>\n            <label class=\"userinfo_toggler dropdown\" >\n                  <span class=\"image-button\" data-toggle=\"dropdown\">\n                    <img  src=\"../_common/images/toolbar_user.svg\"/>\n                  </span>\n\n                  <div class=\"dropdown-menu\" role=\"menu\" >\n                  </div>\n            </label>\n         </span>\n    `)\n    buttonGroup.append(appSwitchButtons)\n    $(document).on(\"click\", \".applicationSwitchSimulator\", () => {\n      simulatorDialog.show(conf)\n    })\n    $(document).on(\"click\", \".applicationSwitchAuthor\", () => {\n      authorDialog.show(conf)\n    })\n    if(permissions.featureset.usermanagement===true) {\n      $(document).on(\"click\", \".applicationSwitchUser\", () => {\n        userAdminDialog.show(conf)\n      })\n    }\n    else{\n      $(\".applicationSwitchUser\").remove()\n    }\n\n\n    // enable the tooltip for all buttons\n    //\n    $('*[data-toggle=\"tooltip\"]').tooltip({\n      placement: \"bottom\",\n      container: \"body\",\n      delay: {show: 1000, hide: 10},\n      html: true\n    })\n  }\n\n\n  /**\n   * @method\n   * Called if the selection in the cnavas has been changed. You must register this\n   * class on the canvas to receive this event.\n   *\n   * @param {draw2d.Figure} figure\n   */\n  onSelectionChanged(emitter, event) {\n    if (event.figure === null) {\n      $(\"#editDelete\").addClass(\"disabled\")\n    }\n    else {\n      $(\"#editDelete\").removeClass(\"disabled\")\n    }\n\n    // available in BoundBox selection event\n    if (event.selection) {\n      if (event.selection.getSize() >= 2) {\n        $(\"#toolUnion\").removeClass(\"disabled\")\n        $(\"#toolDifference\").removeClass(\"disabled\")\n        $(\"#toolIntersection\").removeClass(\"disabled\")\n      }\n      else {\n        $(\"#toolUnion\").addClass(\"disabled\")\n        $(\"#toolDifference\").addClass(\"disabled\")\n        $(\"#toolIntersection\").addClass(\"disabled\")\n      }\n    }\n  }\n\n  /**\n   * @method\n   * Sent when an event occurs on the command stack. draw2d.command.CommandStackEvent.getDetail()\n   * can be used to identify the type of event which has occurred.\n   *\n   * @template\n   *\n   * @param {draw2d.command.CommandStackEvent} event\n   **/\n  stackChanged(event) {\n    $(\"#editUndo\").addClass(\"disabled\")\n    $(\"#editRedo\").addClass(\"disabled\")\n\n    if (event.getStack().canUndo()) {\n      $(\"#editUndo\").removeClass(\"disabled\")\n    }\n\n    if (event.getStack().canRedo()) {\n      $(\"#editRedo\").removeClass(\"disabled\")\n    }\n  }\n}\n","\nexport default draw2d.Canvas.extend({\n\n  init: function (app, id, permissions) {\n    this._super(id, 16000, 16000)\n    this.clippboardFigure = null\n    this.app = app\n    this.grid = new draw2d.policy.canvas.ShowGridEditPolicy(20)\n\n    this.setScrollArea(\"#draw2dCanvasWrapper\")\n\n    this.installEditPolicy(this.grid)\n    this.installEditPolicy(new draw2d.policy.canvas.FadeoutDecorationPolicy())\n    this.installEditPolicy(new draw2d.policy.canvas.SnapToGeometryEditPolicy())\n    this.installEditPolicy(new draw2d.policy.canvas.SnapToCenterEditPolicy())\n    this.installEditPolicy(new draw2d.policy.canvas.SnapToInBetweenEditPolicy())\n\n    Mousetrap.bindGlobal(['left'], () => {\n      let diff = this.getZoom() < 0.5 ? 0.5 : 1\n      this.getSelection().each((i, f) => {\n        f.translate(-diff, 0)\n      })\n      return false\n    })\n    Mousetrap.bindGlobal(['up'], () => {\n      let diff = this.getZoom() < 0.5 ? 0.5 : 1\n      this.getSelection().each((i, f) => {\n        f.translate(0, -diff)\n      })\n      return false\n    })\n    Mousetrap.bindGlobal(['right'], () => {\n      let diff = this.getZoom() < 0.5 ? 0.5 : 1\n      this.getSelection().each((i, f) => {\n        f.translate(diff, 0)\n      })\n      return false\n    })\n    Mousetrap.bindGlobal(['down'], () => {\n      let diff = this.getZoom() < 0.5 ? 0.5 : 1\n      this.getSelection().each((i, f) => {\n        f.translate(0, diff)\n      })\n      return false\n    })\n\n    Mousetrap.bindGlobal(['ctrl+c', 'command+c'], () => {\n      // ctrl+c and ctrl+v works just for normal figures and not connections\n      //\n      let primarySelection = this.getSelection().getPrimary()\n      if (primarySelection !== null) {\n        this.clippboardFigure = primarySelection.clone()\n        this.clippboardFigure.translate(5, 5)\n      }\n      return false\n    })\n\n    Mousetrap.bindGlobal(['ctrl+v', 'command+v'], () => {\n      if (this.clippboardFigure !== null) {\n        let cloneToAdd = this.clippboardFigure.clone()\n        let command = new draw2d.command.CommandAdd(this, cloneToAdd, cloneToAdd.getPosition())\n        this.getCommandStack().execute(command)\n        this.setCurrentSelection(cloneToAdd)\n      }\n      return false\n    })\n\n    // this.installEditPolicy(new draw2d.policy.canvas.WheelZoomPolicy())\n\n    let setZoom = (newZoom) => {\n      let bb = this.getBoundingBox().getCenter()\n      let c = $(\"#draw2dCanvasWrapper\")\n      this.setZoom(newZoom)\n      this.scrollTo((bb.y / newZoom - c.height() / 2), (bb.x / newZoom - c.width() / 2))\n\n      // c.scrollTop((bb.y / newZoom - c.height() / 2))\n      // c.scrollLeft((bb.x / newZoom - c.width() / 2))\n    }\n\n    // Inject the ZoomIn Button and the callbacks\n    //\n    $(\"#canvas_zoom_in\").on(\"click\", () => {\n      setZoom(this.getZoom() * 1.2)\n    })\n\n    // Inject the OneToOne Button\n    //\n    $(\"#canvas_zoom_normal\").on(\"click\", () => {\n      setZoom(1.0)\n    })\n\n    // Inject the ZoomOut Button and the callback\n    //\n    $(\"#canvas_zoom_out\").on(\"click\", () => {\n      setZoom(this.getZoom() * 0.8)\n    })\n\n    $('#canvas_config_grid').on('change', () => {\n      if ($('#canvas_config_grid').prop('checked')) {\n        this.installEditPolicy(this.grid)\n      }\n      else {\n        this.uninstallEditPolicy(this.grid)\n      }\n    })\n\n    $(\"#canvas_config_items\").on(\"click\", (e) => {\n      e.stopPropagation()\n    })\n\n    this.reset()\n  },\n\n  setCursor: function (cursor) {\n    if (cursor !== null) {\n      this.html.css(\"cursor\", \"url(\" + cursor + \") 0 0, default\")\n    }\n    else {\n      this.html.css(\"cursor\", \"default\")\n    }\n  },\n\n\n  /**\n   * @method\n   * Reset the view/canvas and starts with a clean and new document with default decorations\n   *\n   *\n   */\n  reset: function () {\n    this.clear()\n  },\n\n  /**\n   * Override the \"add\" method of the normal canvas. In the Designer \"lines\" and normal \"figures\" are handled\n   * in the very same way. Without that it is impossible to sort line in between of normal figures.\n   * In the normal canvas LINE stays always on top. The reason for that is, that lines are in its own collection\n   * to calculate crossing behaviour and other special gimicks.\n   * NOT USED IN THE DESIGNER and in the designer the z-order of the elements are very important.\n   * @param figure\n   * @param x\n   * @param y\n   */\n  add: function (figure, x, y) {\n    if (figure.getCanvas() === this) {\n      return\n    }\n\n    this.figures.add(figure)\n    figure.setCanvas(this)\n\n    // to avoid drag&drop outside of this canvas\n    figure.installEditPolicy(this.regionDragDropConstraint)\n\n    // important initial call\n    figure.getShapeElement()\n\n    // init a repaint of the figure. This enforce that all properties\n    // ( color, dim, stroke,...) will be set and pushed to SVG node.\n    figure.repaint()\n\n    // fire the figure:add event before the \"move\" event and after the figure.repaint() call!\n    //   - the move event can only be fired if the figure part of the canvas.\n    //     and in this case the notification event should be fired to the listener before\n    this.fireEvent(\"figure:add\", {figure: figure, canvas: this})\n\n    // fire the event that the figure is part of the canvas\n    figure.fireEvent(\"added\", {figure: figure, canvas: this})\n\n    // ...now we can fire the initial move event\n    figure.fireEvent(\"move\", {figure: figure, x: figure.getX(), y: figure.getY(), dx: 0, dy: 0})\n\n    return this\n  },\n\n  remove: function (figure) {\n    // don't fire events of calll callbacks if the fire isn'T part of this canvas\n    //\n    if (figure.getCanvas() !== this) {\n      return this\n    }\n\n    // remove the figure from a selection handler as well and cleanup the\n    // selection feedback\n    if (this.getSelection().contains(figure)) {\n      this.editPolicy.each((i, policy) => {\n        if (typeof policy.unselect === \"function\") {\n          policy.unselect(this, figure)\n        }\n      })\n    }\n\n    this.figures.remove(figure)\n\n    figure.setCanvas(null)\n\n    if (figure instanceof draw2d.Connection) {\n      figure.disconnect()\n    }\n\n    this.fireEvent(\"figure:remove\", {figure: figure})\n\n    figure.fireEvent(\"removed\", {figure: figure, canvas: this})\n\n    return this\n  },\n\n\n  setZoom: function (newZoom) {\n    $(\"#canvas_zoom_normal\").text((parseInt((1.0 / newZoom) * 100)) + \"%\")\n    this._super(newZoom)\n  },\n\n\n  getExtFigure: function (id) {\n    let figure = null\n    this.getExtFigures().each((i, e) => {\n      if (e.id === id) {\n        figure = e\n        return false\n      }\n    })\n    return figure\n  },\n\n  getExtFigures: function () {\n    let figures = this.getFigures().clone()\n\n    // the export rectangles are not part of the document itself. In this case we\n    // filter them out\n    //\n    figures.grep((figure) => {\n      return (typeof figure.isExtFigure !== \"undefined\")\n    })\n\n    let lines = this.getLines().clone()\n    lines.grep((line) => {\n      return (typeof line.isExtFigure !== \"undefined\")\n    })\n\n    figures.addAll(lines)\n\n    return figures\n  },\n\n\n  getBoundingBox: function () {\n    let xCoords = []\n    let yCoords = []\n    this.getExtFigures().each((i, f) => {\n      if (f instanceof shape_designer.figure.ExtPort) {\n        return\n      }\n      let b = f.getOuterBoundingBox()\n      xCoords.push(b.x, b.x + b.w)\n      yCoords.push(b.y, b.y + b.h)\n    })\n    let minX = Math.min(...xCoords)\n    let minY = Math.min(...yCoords)\n    let width = Math.max(10, Math.max(...xCoords) - minX)\n    let height = Math.max(10, Math.max(...yCoords) - minY)\n\n    return new draw2d.geo.Rectangle(minX, minY, width, height)\n  },\n\n  hideDecoration: function () {\n    this.uninstallEditPolicy(this.grid)\n    this.getFigures().each((index, figure) => {\n      figure.unselect()\n      // hide unwanted decorations for the screenshots\n      if(figure.hideDecoration){\n        figure.hideDecoration()\n      }\n    })\n  },\n\n  showDecoration: function () {\n    this.installEditPolicy(this.grid)\n    this.getFigures().each((index, figure) => {\n      // show decorations again\n      if(figure.showDecoration){\n        figure.showDecoration()\n      }\n    })\n  },\n\n  /**\n   * @method\n   * Return the width of the canvas\n   *\n   * @return {Number}\n   **/\n  getWidth: function () {\n    return this.html.find(\"svg\").width()\n  },\n\n\n  /**\n   * @method\n   * Return the height of the canvas.\n   *\n   * @return {Number}\n   **/\n  getHeight: function () {\n    return this.html.find(\"svg\").height()\n  },\n\n  centerView: function(){\n    let bb = this.getBoundingBox().getCenter()\n    let c = $(\"#draw2dCanvasWrapper\")\n    c.scrollTop((bb.y / this.getZoom() - c.height() / 2))\n    c.scrollLeft((bb.x /this.getZoom() - c.width() / 2))\n  },\n\n  centerDocument: function () {\n    this.setZoom(1.0)\n    // get the bounding box of the document and translate the complete document\n    // into the center of the canvas. Scroll to the top left corner after them\n    //\n    let bb = this.getBoundingBox()\n\n    let dx = (this.getWidth() / 2) - (bb.x + bb.w / 2)\n    let dy = (this.getHeight() / 2) - (bb.y + bb.h / 2)\n\n    this.getFigures().each((i, f) => {\n      f.translate(dx, dy)\n    })\n    this.getLines().each((i, f) => {\n      f.translate(dx, dy)\n    })\n    this.centerView()\n  },\n\n\n  /**\n   * @method\n   * Transforms a document coordinate to canvas coordinate.\n   *\n   * @param {Number} x the x coordinate relative to the window\n   * @param {Number} y the y coordinate relative to the window\n   *\n   * @returns {draw2d.geo.Point} The coordinate in relation to the canvas [0,0] position\n   */\n  fromDocumentToCanvasCoordinate: function (x, y) {\n    return new draw2d.geo.Point(\n      (x - this.getAbsoluteX()) * this.zoomFactor,\n      (y - this.getAbsoluteY()) * this.zoomFactor)\n  },\n\n  /**\n   * @method\n   * Transforms a canvas coordinate to document coordinate.\n   *\n   * @param {Number} x the x coordinate in the canvas\n   * @param {Number} y the y coordinate in the canvas\n   *\n   * @returns {draw2d.geo.Point} the coordinate in relation to the document [0,0] position\n   */\n  fromCanvasToDocumentCoordinate: function (x, y) {\n    return new draw2d.geo.Point(\n      ((x * (1 / this.zoomFactor)) + this.getAbsoluteX()),\n      ((y * (1 / this.zoomFactor)) + this.getAbsoluteY()))\n  }\n})\n\n","import FigureTest from \"./FigureTest\"\n\nexport default class FigureCodeEdit {\n  constructor() {\n  }\n\n  show() {\n    Mousetrap.pause()\n    let code = shape_designer.app.getConfiguration(\"code\")\n    let splash = $(`\n          <div id=\"codeDialog\">\n            <pre class=\"codeContainer\">${code}</pre>\n              <div class=\"tinyFlyoverMenu codeOverlay\">\n                <div id=\"test_run\"    class=\"fa fa-play\"></div>\n                <div id=\"test_commit\" class=\"fa fa-check-square-o\"></div>\n                <div id=\"test_cancel\" class='fa fa-minus-square-o' ></div>\n              </div>\n          </div>\n            `\n    )\n    splash.hide()\n    $(\"body\").append(splash)\n    splash.fadeIn()\n\n    let before = function (obj, method, wrapper) {\n      let orig = obj[method]\n      obj[method] = function () {\n        let args = Array.prototype.slice.call(arguments)\n        return wrapper.call(this, function () {\n          return orig.apply(obj, args)\n        }, args)\n      }\n\n      return obj[method]\n    }\n\n    let intersects = function (range) {\n      return editor.getSelectionRange().intersects(range)\n    }\n\n    let preventReadonly = function (next, args) {\n      if (intersects(range)) return\n      next()\n    }\n\n    let lines = code.split(\"\\n\")\n    let last = lines.length - 1\n    let first = lines.findIndex(function (element, index, array) {\n      return element.startsWith(\"testShape\")\n    })\n\n    let editor = ace.edit($(\"#codeDialog .codeContainer\")[0]),\n      session = editor.getSession(),\n      Range = ace.require(\"ace/range\").Range,\n      range = new Range(0, 0, first, lines[first].length),\n      range2 = new Range(last, 0, last, lines[last].length)\n\n    session.addMarker(range, \"readonly-highlight\")\n    session.addMarker(range2, \"readonly-highlight\")\n    session.setMode(\"ace/mode/javascript\")\n    session.setUseWrapMode(true)\n    editor.moveCursorTo(first + 1, 0)\n    editor.focus()\n\n    editor.keyBinding.addKeyboardHandler({\n      handleKeyboard: function (data, hash, keyString, keyCode, event) {\n        if (hash === -1 || (keyCode <= 40 && keyCode >= 37)) return false\n\n        if (intersects(range) || intersects(range2)) {\n          return {command: \"null\", passEvent: false}\n        }\n      }\n    })\n\n    before(editor, 'onPaste', preventReadonly)\n    before(editor, 'onCut', preventReadonly)\n\n    range.start = session.doc.createAnchor(range.start)\n    range.end = session.doc.createAnchor(range.end)\n    range.end.$insertRight = true\n\n    range2.start = session.doc.createAnchor(range2.start)\n    range2.end = session.doc.createAnchor(range2.end)\n    range2.end.$insertRight = true\n\n    $(\"#test_commit\").on(\"click\", function () {\n      let code = editor.getValue()\n      shape_designer.app.setConfiguration({code: code})\n      Mousetrap.unpause()\n      splash.fadeOut(function () {\n        splash.remove()\n      })\n    })\n\n    $(\"#test_cancel\").on(\"click\", function () {\n      Mousetrap.unpause()\n      splash.fadeOut(function () {\n        splash.remove()\n      })\n    })\n\n    $(\"#test_run\").on(\"click\", function () {\n      let code = editor.getValue()\n      shape_designer.app.setConfiguration({code: code})\n      new FigureTest().show()\n    })\n  }\n}\n","import {Remarkable, utils} from \"remarkable\"\n\nexport default class FigureMarkdownEdit {\n\n  constructor() {\n    this.mdHtml = null\n    this.scrollMap = null\n\n    this.lineHeight = 1.45\n    this.defaults = {\n      html: true,               // Enable HTML tags in source\n      xhtmlOut: false,          // Use '/' to close single tags (<br />)\n      breaks: false,            // Convert '\\n' in paragraphs into <br>\n      langPrefix: 'language-',  // CSS language prefix for fenced blocks\n      linkTarget: '_blank',     // set target to open link in\n      typographer: true         // Enable smartypants and other sweet transforms\n    }\n  }\n\n  /**\n   */\n  show() {\n    Mousetrap.pause()\n    this.mdHtml = new Remarkable('full', this.defaults)\n    this.mdHtml.inline.validateLink = this.validateLink\n\n\n    let markdown = shape_designer.app.getConfiguration(\"markdown\")\n    markdown = markdown ? markdown : \"# Header \\n## Subheader \\nbe nice and write a help file for your new \\ncreated ***Brainbox*** shape. \\n\\n  - point 1\\n  - point 2\\n  - point 3\"\n    let splash = $(`\n      <div id=\"FigureMarkdownEdit\" class=\"overlay-scale\">\n          <pre class=\"source full-height\">${markdown}</pre>\n          <div class=\"full-height markdownRendering\">\n          </div>\n          <div class=\"header\">\n             <span class=\"left\">Markdown Editor (<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Markdown\">markdown syntax </a>)</span>\n             <span class=\"right\">HTML Preview</span>\n          </div>\n          <div class=\"tinyFlyoverMenu\">\n            <div id=\"test_commit\" class=\"fa fa-check-square-o\"></div>\n            <div id=\"test_cancel\" class='fa fa-minus-square-o' ></div>\n          </div>\n      <div>\n      `)\n\n    // fadeTo MUSS leider sein. Man kann mit raphael keine paper.text elemente einfügen\n    // wenn das canvas nicht sichtbar ist. In diesen Fall mach ich das Canvas \"leicht\" sichtbar und raphael ist\n    // zufrieden.\n    $(\"body\").append(splash)\n\n    $(\"#test_commit\").on(\"click\", () => {\n      Mousetrap.unpause()\n      shape_designer.app.setConfiguration({markdown: this.editor.getValue()})\n      splash.removeClass(\"open\")\n      setTimeout(function () {\n        splash.remove()\n      }, 400)\n    })\n    \n    $(\"#test_cancel\").on(\"click\", () => {\n      Mousetrap.unpause()\n      splash.removeClass(\"open\")\n      setTimeout(function () {\n        splash.remove()\n      }, 400)\n    })\n\n\n    setTimeout( () => {\n      splash.addClass(\"open\")\n    }, 100)\n\n\n    // Inject line numbers for sync scroll.\n    //\n    this.mdHtml.renderer.rules.paragraph_open =  (tokens, idx) =>{\n      let line\n      if (tokens[idx].lines && tokens[idx].level === 0) {\n        line = tokens[idx].lines[0]\n        return '<p class=\"line\" data-line=\"' + line + '\">'\n      }\n      return '<p>'\n    }\n\n    this.mdHtml.renderer.rules.heading_open =  (tokens, idx) =>{\n      let line\n      if (tokens[idx].lines && tokens[idx].level === 0) {\n        line = tokens[idx].lines[0]\n        return '<h' + tokens[idx].hLevel + ' class=\"line\" data-line=\"' + line + '\">'\n      }\n      return '<h' + tokens[idx].hLevel + '>'\n    }\n\n    this.$preview = $(\"#FigureMarkdownEdit .markdownRendering\")\n    this.$source = $('#FigureMarkdownEdit .source')\n\n    let editor = ace.edit(this.$source[0]),session = editor.getSession()\n    this.editor = editor\n    editor.moveCursorTo(5, 0)\n    editor.focus()\n\n    session.setMode(\"ace/mode/markdown\")\n\n    session.on('changeScrollTop', this._debounce($.proxy(this.syncScroll, this), 50, false))\n\n    editor.keyBinding.addKeyboardHandler({handleKeyboard: this._debounce($.proxy(this.updateResult, this), 300, false)})\n\n    this.updateResult()\n  }\n\n  updateResult() {\n    var source = this.editor.getValue()\n    this.$preview.html(this.mdHtml.render(source))\n    // reset lines mapping cache on content update\n    this.scrollMap = null\n  }\n\n\n  // Build offsets for each line (lines can be wrapped)\n  // That's a bit dirty to process each line everytime, but ok for demo.\n  // Optimizations are required only for big texts.\n  buildScrollMap() {\n    var _this = this\n\n    var i, offset, nonEmptyList, pos, a, b, lineHeightMap, linesCount,\n      acc, sourceLikeDiv,\n      _scrollMap\n\n    sourceLikeDiv = $('<div />').css({\n      position: 'absolute',\n      visibility: 'hidden',\n      height: 'auto',\n      width: $(\"#FigureMarkdownEdit .left\")[0].clientWidth,\n      'font-size': '10pt',\n      'font-family': 'tahoma',\n      'line-height': this.lineHeight,\n      'white-space': 'nowrap'\n    }).appendTo('body')\n\n    offset = this.$preview.scrollTop() - this.$preview.offset().top - 40\n    _scrollMap = []\n    nonEmptyList = []\n    lineHeightMap = []\n\n    acc = 0\n    this.editor.getValue().split('\\n').forEach(function (str) {\n      var h, lh\n\n      lineHeightMap.push(acc)\n\n      if (str.length === 0) {\n        acc++\n        return\n      }\n\n      sourceLikeDiv.text(str)\n      h = parseFloat(sourceLikeDiv.css('height'))\n      lh = parseFloat(_this.lineHeight)\n      acc += Math.round(h / lh)\n    })\n    sourceLikeDiv.remove()\n    lineHeightMap.push(acc)\n    linesCount = acc\n\n    for (i = 0; i < linesCount; i++) {\n      _scrollMap.push(-1)\n    }\n\n    nonEmptyList.push(0)\n    _scrollMap[0] = 0\n\n    $('.line').each(function (n, el) {\n      var $el = $(el), t = $el.data('line')\n      if (t === '') {\n        return\n      }\n      t = lineHeightMap[t]\n      if (t !== 0) {\n        nonEmptyList.push(t)\n      }\n      _scrollMap[t] = Math.round($el.offset().top + offset)\n    })\n\n    nonEmptyList.push(linesCount)\n    _scrollMap[linesCount] = this.$preview[0].scrollHeight\n\n    pos = 0\n    for (i = 1; i < linesCount; i++) {\n      if (_scrollMap[i] !== -1) {\n        pos++\n        continue\n      }\n\n      a = nonEmptyList[pos]\n      b = nonEmptyList[pos + 1]\n      _scrollMap[i] = Math.round((_scrollMap[b] * (i - a) + _scrollMap[a] * (b - i)) / (b - a))\n    }\n\n    return _scrollMap\n  }\n\n\n  syncScroll(scroll) {\n    var lineNo, posTo\n    lineNo = Math.floor(scroll / this.lineHeight)\n    if (!this.scrollMap) {\n      this.scrollMap = this.buildScrollMap()\n    }\n    posTo = this.scrollMap[lineNo]\n    this.$preview.stop(true).animate({\n      scrollTop: posTo\n    }, 400, 'linear')\n  }\n\n  validateLink(url) {\n    let BAD_PROTOCOLS = [ 'vbscript', 'javascript', 'file'];\n    let str = url.trim().toLowerCase();\n    // Care about digital entities \"javascript&#x3A;alert(1)\"\n    str = utils.replaceEntities(str);\n    if (str.indexOf(':') !== -1 && BAD_PROTOCOLS.indexOf(str.split(':')[0]) !== -1) {\n      return false;\n    }\n    return true;\n  }\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _debounce(func, wait, immediate) {\n    var timeout\n    return function () {\n      var context = this, args = arguments\n      var later = function () {\n        timeout = null\n        if (!immediate) func.apply(context, args)\n      }\n      var callNow = immediate && !timeout\n      clearTimeout(timeout)\n      timeout = setTimeout(later, wait)\n      if (callNow) func.apply(context, args)\n    }\n  }\n}\n","import FigureWriter from \"./../io/FigureWriter\"\nimport toast from \"../../../_common/js/toast\";\n\nexport default class FigureTest {\n\n  constructor() {\n    this.simulationContext = {}\n  }\n\n  show() {\n    let _this = this\n    this.animationFrameFunc = this._calculate.bind(this)\n\n    this.simulationContext = {}\n\n    let writer = new FigureWriter()\n    let testShape = null\n    writer.marshal(shape_designer.app.view, \"testShape\", function (js) {\n      try {\n        js = $(\"#decoratedport-template\").text().trim() + js\n        testShape = eval(js)\n      }\n      catch (exc) {\n        toast(\"Error in shape code.<br>Remove error and try it again\")\n        throw exc\n      }\n      let splash = $(` \n        <div class=\"overlay-scale\" id=\"testDialog\">\n          <div id=\"testCanvas\">\n          </div>\n          <div  class=\"testInfo\" >Test page for your designed and coded draw2d shape.</div>\n          <div class=\"tinyFlyoverMenu\">\n            <div id=\"test_close\" class='fa fa-close' ></div>\n          </div>\n        <div>\n        `)\n\n      // fadeTo MUSS leider sein. Man kann mit raphael keine paper.text elemente einfügen\n      // wenn das canvas nicht sichtbar ist. In diesen Fall mach ich das Canvas \"leicht\" sichtbar und raphael ist\n      // zufrieden.\n      $(\"body\").append(splash)\n\n      let canvas = new draw2d.Canvas(\"testCanvas\")\n      _this.canvas = canvas\n      canvas.installEditPolicy(new draw2d.policy.canvas.ShowDotEditPolicy(20, 1, \"#FF4981\"))\n      let router = new draw2d.layout.connection.InteractiveManhattanConnectionRouter()\n      canvas.installEditPolicy(new draw2d.policy.connection.ComposedConnectionCreatePolicy(\n        [\n          // create a connection via Drag&Drop of ports\n          //\n          new draw2d.policy.connection.DragConnectionCreatePolicy({\n            createConnection: function () {\n              return new draw2d.Connection({\n                radius: 3,\n                stroke: 2,\n                color: \"#129CE4\",\n                outlineStroke: 1,\n                outlineColor: \"#ffffff\",\n                router: router\n              })\n            }\n          }),\n          // or via click and point\n          //\n          new draw2d.policy.connection.OrthogonalConnectionCreatePolicy({\n            createConnection: function () {\n              return new draw2d.Connection({\n                radius: 3,\n                stroke: 2,\n                color: \"#129CE4\",\n                outlineStroke: 1,\n                outlineColor: \"#ffffff\",\n                router: router\n              })\n            }\n          })\n        ])\n      )\n      let test = new testShape()\n      canvas.add(test, 400, 160)\n\n      // create and add two nodes which contains Ports (In and OUT)\n      //\n      let start = new draw2d.shape.node.Start()\n      let toggle1 = new shape_designer.figure.TestSwitch()\n      let toggle2 = new shape_designer.figure.TestSwitch()\n      let end = new draw2d.shape.node.End()\n\n      // ...add it to the canvas\n      canvas.add(toggle1, 50, 150)\n      canvas.add(toggle2, 50, 200)\n      canvas.add(start, 50, 250)\n      canvas.add(end, 630, 250)\n\n      canvas.setCurrentSelection(test)\n      let removeDialog = function () {\n        _this.simulate = false\n        splash.removeClass(\"open\")\n        setTimeout(function () {\n          splash.remove()\n          test.onStop(_this.simulationContext)\n        }, 400)\n      }\n\n      $(\"#test_close\").on(\"click\", removeDialog)\n      splash.addClass(\"open\")\n\n      test.onStart(_this.simulationContext)\n\n      _this.simulate = true\n      requestAnimationFrame(_this.animationFrameFunc)\n    })\n\n  }\n\n  _calculate() {\n    // call the \"calculate\" method if given to calculate the output-port values\n    //\n    let figures = this.canvas.getFigures().clone().grep( (f) => {\n      return f.calculate\n    })\n    figures.each( (i, figure) => {\n      figure.calculate(this.simulationContext)\n    })\n\n    // transport the value from oututPort to inputPort\n    //\n    this.canvas.getLines().each( (i, line) => {\n      let outPort = line.getSource()\n      let inPort = line.getTarget()\n      inPort.setValue(outPort.getValue())\n      line.setColor(outPort.getValue() ? \"#ff5252\" : \"#0000ff\")\n    })\n\n    if (this.simulate === true) {\n      requestAnimationFrame(this.animationFrameFunc)\n    }\n  }\n}\n","import conf from \"../Configuration\"\nimport fs from \"path\"\n\nclass Dialog {\n\n  /**\n   * @constructor\n   *\n   */\n  constructor() {\n    $(\"body\").append(` \n          <div id=\"fileSaveDialog\" class=\"modal fade genericDialog\" tabindex=\"-1\">\n            <div class=\"modal-dialog \">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h4 class=\"media-heading\">Save Shape </h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"media\">\n                            <div class=\"media-left media-middle\">\n                                <a href=\"#\">\n                                    <img class=\"media-object filePreview\" src=\"\">\n                                </a>\n                            </div>\n                            <div class=\"media-body\">\n        \n                                <div class=\"form-horizontal\">\n                                    <br>\n                                    Filename:\n                                    <fieldset>\n                                        <div class=\"form-group\">\n                                            <div class=\"col-lg-12\">\n                                                <input type=\"text\"\n                                                       class=\"form-control floating-label githubFileName\"\n                                                       value=\"\"\n                                                        >\n                                            </div>\n                                        </div>\n        \n                                    </fieldset>\n                                    <div class=\"row\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button class=\"btn\" data-dismiss=\"modal\">Abort</button>\n                        <button class=\"btn btn-primary okButton\"><span>Save</span></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `)\n  }\n\n  /**\n   * @method\n   *\n   * Open the file picker and load the selected file.<br>\n   *\n   * @param {Function} successCallback callback method if the user select a file and the content is loaded\n   * @param {Function} errorCallback method to call if any error happens\n   *\n   * @since 4.0.0\n   */\n  show(currentFile, storage, canvas, callback) {\n\n    new draw2d.io.png.Writer().marshal(canvas, imageDataUrl => {\n      $(\"#fileSaveDialog .filePreview\").attr(\"src\", imageDataUrl)\n      $(\"#fileSaveDialog .githubFileName\").val(fs.basename(currentFile.name).replace(conf.fileSuffix, \"\"))\n      $(\"#fileSaveDialog .githubCommitMessage\").val('commit message')\n\n      $('#fileSaveDialog').on('shown.bs.modal', (event) => {\n        $(event.currentTarget).find('input:first').focus()\n      })\n      $(\"#fileSaveDialog\").modal(\"show\")\n      Mousetrap.pause()\n\n      // Save Button\n      //\n      $(\"#fileSaveDialog .okButton\").off('click').on(\"click\", () => {\n        Mousetrap.unpause()\n        let writer = new draw2d.io.json.Writer()\n        writer.marshal(canvas, json => {\n          let name = $(\"#fileSaveDialog .githubFileName\").val()\n          name = name.replace(conf.fileSuffix, \"\")\n          name = fs.basename(name) // remove any directories\n          currentFile.name = fs.join(fs.dirname(currentFile.name), name + conf.fileSuffix)\n          storage.saveFile( { draw2d: json }, currentFile.name , currentFile.scope)\n            .then((response) => {\n              $('#fileSaveDialog').modal('hide')\n              let data = response.data\n              currentFile.name = data.filePath\n              history.pushState({\n                id: 'editor',\n                scope: currentFile.scope,\n                file: currentFile.name\n              }, conf.appName+' | ' + name, window.location.href.split('?')[0] + '?'+currentFile.scope+'=' + currentFile.name)\n\n              if(callback) {\n                callback()\n              }\n            });\n        })\n      })\n\n      $('#fileSaveDialog .githubFileName').off(\"keypress\").on('keypress', function (e) {\n        let key = e.charCode || e.keyCode || 0;\n        if (key === 13) {\n          $(\"#fileSaveDialog .okButton\").click()\n        }\n      })\n\n    }, canvas.getBoundingBox().scale(20, 20))\n  }\n}\n\nlet dialog = new Dialog()\nexport default dialog\n","export default draw2d.SetFigure.extend({\n\n  NAME: \"CircuitFigure\",\n\n  init: function (attr, setter, getter) {\n    this.tooltip = null\n    this.tooltipTimer = -1\n\n    this._super($.extend({stroke: 0, bgColor: null, width: 30, height: 32}, attr), setter, getter)\n\n    this.persistPorts = false\n    this.zoomCallback = $.proxy(this.positionTooltip, this)\n\n    this.on(\"dragstart\", () => {\n      this.hideTooltip(true)\n    })\n\n    this.on(\"mouseenter\", () => {\n      this.tooltipTimer = window.setTimeout( () =>{\n        this.tooltipTimer = -1\n        this.showTooltip()\n      }, 500)\n    })\n\n    this.on(\"mouseleave\", () => {\n      this.hideTooltip()\n    })\n\n    this.on(\"move\", () => {\n      this.positionTooltip()\n    })\n  },\n\n  setCanvas: function (canvas) {\n    if (this.canvas !== null) this.canvas.off(this.zoomCallback)\n    this._super(canvas)\n    if (this.canvas !== null) this.canvas.on(\"zoom\", this.zoomCallback)\n  },\n\n  hideTooltip: function (fast) {\n    if (this.tooltipTimer !== -1) {\n      window.clearTimeout(this.tooltipTimer)\n      this.tooltipTimer = -1\n    }\n    else if (this.tooltip !== null) {\n      if (fast) {\n        this.tooltip.remove()\n      }\n      else {\n        this.tooltip.fadeOut(500, function () {\n          $(this).remove()\n        })\n      }\n      this.tooltip = null\n    }\n  },\n\n  showTooltip: function () {\n    this.tooltip = $('<div class=\"draw2d_tooltip\">'+this.NAME+'</div>')\n      .appendTo('body')\n      .hide()\n      .fadeIn(1000)\n    this.positionTooltip()\n  },\n\n\n  positionTooltip: function () {\n    if (this.tooltip === null) {\n      return\n    }\n\n    let width = this.tooltip.outerWidth(true)\n    let pos = this.canvas.fromCanvasToDocumentCoordinate(\n      this.getAbsoluteX() + this.getWidth() / 2 - width / 2 + 8,\n      this.getAbsoluteY() + this.getHeight() + 10)\n\n    this.tooltip.css({'top': pos.y, 'left': pos.x})\n  },\n\n  applyAlpha: function () {\n  },\n\n  layerGet: function (name) {\n    if (this.svgNodes === null) return null\n    let found = null\n    this.svgNodes.forEach(function (shape) {\n      if (found ===null && shape.data(\"name\") === name) {\n        found = shape\n      }\n    })\n    return found\n  },\n\n  layerAttr: function (name, attributes) {\n    if (this.svgNodes === null) return\n\n    this.svgNodes.forEach(function (shape) {\n      if (shape.data(\"name\") === name) {\n        shape.attr(attributes)\n      }\n    })\n  },\n\n  layerShow: function (name, flag, duration) {\n    if (this.svgNodes === null) return\n\n    if (duration) {\n      this.svgNodes.forEach(function (node) {\n        if (node.data(\"name\") === name) {\n          if (flag) {\n            node.attr({opacity: 0}).show().animate({opacity: 1}, duration)\n          }\n          else {\n            node.animate({opacity: 0}, duration, function () {\n              this.hide()\n            })\n          }\n        }\n      })\n    }\n    else {\n      this.svgNodes.forEach(function (node) {\n        if (node.data(\"name\") === name) {\n          if (flag) {\n            node.show()\n          }\n          else {\n            node.hide()\n          }\n        }\n      })\n    }\n  },\n\n  calculate: function (context) {\n  },\n\n  onStart: function (context) {\n  },\n\n  onStop: function (context) {\n  },\n\n  getParameterSettings: function () {\n    return []\n  },\n\n\n  getRequiredHardware: function(){\n    return {\n      raspi: false,\n      arduino: false\n    }\n  },\n  \n  onDrop: function (dropTarget, x, y, shiftKey, ctrlKey) {\n    // Activate a \"smart insert\" If the user drop this figure on connection\n    //\n    /*\n    if (dropTarget instanceof draw2d.Connection) {\n      let additionalConnection = dropTarget.getCanvas().createConnection()\n      let oldSource = dropTarget.getSource()\n      let oldTarget = dropTarget.getTarget()\n      if (oldSource instanceof draw2d.InputPort) {\n        oldSource = dropTarget.getTarget()\n        oldTarget = dropTarget.getSource()\n      }\n\n      let stack = this.getCanvas().getCommandStack()\n      let cmd = new draw2d.command.CommandReconnect(dropTarget)\n      cmd.setNewPorts(oldSource, this.getInputPort(0))\n      stack.execute(cmd)\n\n      cmd = new draw2d.command.CommandConnect(oldTarget, this.getOutputPort(0))\n      cmd.setConnection(additionalConnection)\n      stack.execute(cmd)\n    }\n    */\n  },\n\n\n  /**\n   * @method\n   * Return an objects with all important attributes for XML or JSON serialization\n   *\n   * @returns {Object}\n   */\n  getPersistentAttributes: function () {\n    let memento = this._super()\n\n    // add all decorations to the memento\n    //\n    memento.labels = []\n    this.children.each(function (i, e) {\n      let labelJSON = e.figure.getPersistentAttributes()\n      labelJSON.locator = e.locator.NAME\n      memento.labels.push(labelJSON)\n    })\n\n    return memento\n  },\n\n  /**\n   * @method\n   * Read all attributes from the serialized properties and transfer them into the shape.\n   *\n   * @param {Object} memento\n   * @returns\n   */\n  setPersistentAttributes: function (memento) {\n    this._super(memento)\n\n    // remove all decorations created in the constructor of this element\n    //\n    this.resetChildren()\n\n    // and add all children of the JSON document.\n    //\n    $.each(memento.labels, $.proxy(function (i, json) {\n      // create the figure stored in the JSON\n      let figure = eval(\"new \" + json.type + \"()\")\n\n      // apply all attributes\n      figure.attr(json)\n\n      // instantiate the locator\n      let locator = eval(\"new \" + json.locator + \"()\")\n\n      // add the new figure as child to this figure\n      this.add(figure, locator)\n    }, this))\n  }\n})\n\n","export default shape_designer.figure.DecoratedInputPort = draw2d.InputPort.extend({\n\n  init: function (attr, setter, getter) {\n    this.hasChanged = true\n\n    this._super(attr, setter, getter)\n\n    this.decoration = new shape_designer.figure.MarkerFigure()\n\n    this.add(this.decoration, new draw2d.layout.locator.LeftLocator({margin: 8}))\n\n\n    // a port can have a value. Useful for workflow engines or circuit diagrams\n    this.setValue(true)\n  },\n\n  useDefaultValue: function () {\n    this.decoration.setStick(true)\n  },\n\n  setValue: function (value) {\n    this.hasChanged = this.value !== value\n    this._super(value)\n  },\n\n  hasChangedValue: function () {\n    return this.hasChanged\n  },\n\n  hasRisingEdge: function () {\n    return this.hasChangedValue() && this.getValue()\n  },\n\n  hasFallingEdge: function () {\n    return this.hasChangedValue() && !this.getValue()\n  }\n})\n","export default shape_designer.figure.DecoratedOutputPort = draw2d.OutputPort.extend({\n\n  init: function (attr, setter, getter) {\n    this._super(attr, setter, getter)\n  }\n})\n","\nexport default shape_designer.figure.ExtLabel = draw2d.shape.basic.Label.extend({\n\n  NAME: \"shape_designer.figure.ExtLabel\",\n\n\n  init: function (attr, setter, getter) {\n    this.blur = 0\n    this.isExtFigure = true\n\n    this._super(attr, setter, getter)\n\n\n    this.setUserData({name: \"Label\"})\n\n    this.filters = new draw2d.util.ArrayList()\n    this.filters.add(new shape_designer.filter.PositionFilter())\n    this.filters.add(new shape_designer.filter.FontSizeFilter())\n    this.filters.add(new shape_designer.filter.FontColorFilter())\n\n    this.installEditor(new LabelInplaceEditor())\n  },\n\n  getPotentialFilters: function () {\n    return [\n      {label: \"Opacity\", impl: \"shape_designer.filter.OpacityFilter\"},\n      {label: \"Blur\", impl: \"shape_designer.filter.BlurFilter\"},\n      {label: \"Outline\", impl: \"shape_designer.filter.OutlineStrokeFilter\"},\n      {label: \"Gradient\", impl: \"shape_designer.filter.TextLinearGradientFilter\"},\n      {label: \"Font Size\", impl: \"shape_designer.filter.FontSizeFilter\"},\n      {label: \"Font Color\", impl: \"shape_designer.filter.FontColorFilter\"}\n    ]\n  },\n\n  setBlur: function (value) {\n    this.blur = value\n    this.repaint()\n  },\n\n  getBlur: function () {\n    return this.blur\n  },\n\n  removeFilter: function (filter) {\n    this.filters.remove(filter)\n\n    return this\n  },\n\n  addFilter: function (filter) {\n    var alreadyIn = false\n\n    this.filters.each($.proxy(function (i, e) {\n      alreadyIn = alreadyIn || (e.NAME === filter.NAME)\n    }, this))\n    if (alreadyIn === true) {\n      return // silently\n    }\n\n    this.filters.add(filter)\n    filter.onInstall(this)\n    this.repaint()\n\n    return this\n  },\n\n/*\n  setPosition: function(x, y) {\n    if (x instanceof draw2d.geo.Point) {\n      return this._super(\n        parseFloat(x.x.toFixed(1)),\n        parseFloat(x.y.toFixed(1)))\n    }\n\n    return this._super(\n      parseFloat(x.toFixed(1)),\n      parseFloat(y.toFixed(1)))\n  },\n*/\n\n    /**\n   * @method\n   * Trigger the repaint of the element.\n   *\n   */\n  repaint: function (attributes) {\n    if (this.shape === null) {\n      return\n    }\n\n    if (typeof attributes === \"undefined\") {\n      attributes = {}\n    }\n\n    // style the label\n    var lattr = {}\n    lattr.text = this.text\n    lattr[\"font-weight\"] = (this.bold === true) ? \"bold\" : \"normal\"\n    lattr[\"text-anchor\"] = \"start\"\n    lattr[\"font-size\"] = this.fontSize\n    if (this.fontFamily !== null) {\n      lattr[\"font-family\"] = this.fontFamily\n    }\n    lattr.fill = this.fontColor.hash()\n    // since 4.2.1\n    lattr.stroke = this.outlineColor.hash()\n    lattr[\"stroke-width\"] = this.outlineStroke\n\n    this.filters.each($.proxy(function (i, filter) {\n      filter.apply(this, attributes, lattr)\n    }, this))\n\n    this.svgNodes.attr(lattr)\n    // set of the x/y must be done AFTER the font-size and bold has been set.\n    // Reason: the getHeight method needs the font-size for calculation because\n    //         it redirects the calculation to the SVG element.\n    this.svgNodes.attr({x: this.padding.left, y: this.getHeight() / 2})\n\n    // jump over the normal Label implementation\n    draw2d.SetFigure.prototype.repaint.call(this, attributes)\n  },\n\n  getPersistentAttributes: function () {\n    var memento = this._super()\n\n    memento.filters = []\n    this.filters.each($.proxy(function (i, e) {\n      var filterMemento = e.getPersistentAttributes(this)\n      memento.filters.push(filterMemento)\n    }, this))\n\n    return memento\n  },\n\n  setPersistentAttributes: function (memento) {\n    this._super(memento)\n\n\n    if (typeof memento.filters !== \"undefined\") {\n      this.filters = new draw2d.util.ArrayList()\n      $.each(memento.filters, $.proxy(function (i, e) {\n        var filter = eval(\"new \" + e.name + \"()\")\n        filter.setPersistentAttributes(this, e)\n        this.filters.add(filter)\n      }, this))\n    }\n  }\n})\n","export default shape_designer.figure.ExtLine = draw2d.shape.basic.PolyLine.extend({\n\n  NAME: \"shape_designer.figure.ExtLine\",\n\n\n  init: function (attr, setter, getter) {\n    this._super(attr, setter, getter)\n\n    this.blur = 0\n    this.isExtFigure = true\n\n    this.setUserData({name: \"Line\"})\n\n    this.filters = new draw2d.util.ArrayList()\n    this.filters.add(new shape_designer.filter.StrokeFilter())\n\n    this.setRouter(new draw2d.layout.connection.VertexRouter())\n    this.installEditPolicy(new draw2d.policy.line.VertexSelectionFeedbackPolicy())\n  },\n\n  setBlur: function (value) {\n    this.blur = parseInt(value)\n    this.repaint()\n  },\n\n  getBlur: function () {\n    return this.blur\n  },\n\n  getPotentialFilters: function () {\n    return [\n      {label: \"Opacity\", impl: \"shape_designer.filter.OpacityFilter\"},\n      {label: \"Blur\", impl: \"shape_designer.filter.BlurFilter\"},\n      {label: \"Outline\", impl: \"shape_designer.filter.OutlineStrokeFilter\"},\n      {label: \"Corner Radius\", impl: \"shape_designer.filter.RadiusFilter\"},\n      {label: \"Stroke\", impl: \"shape_designer.filter.StrokeFilter\"}\n    ]\n  },\n\n  removeFilter: function (filter) {\n    this.filters.remove(filter)\n\n    return this\n  },\n\n  addFilter: function (filter) {\n    var alreadyIn = false\n\n    this.filters.each($.proxy(function (i, e) {\n      alreadyIn = alreadyIn || (e.NAME === filter.NAME)\n    }, this))\n    if (alreadyIn === true) {\n      return // silently\n    }\n\n    this.filters.add(filter)\n    filter.onInstall(this)\n    this.repaint()\n\n    return this\n  },\n\n\n  /**\n   * @method\n   * Trigger the repaint of the element.\n   *\n   */\n  repaint: function (attributes) {\n    if (this.shape === null) {\n      return\n    }\n\n    if (typeof attributes === \"undefined\") {\n      attributes = {}\n    }\n\n    this.filters.each($.proxy(function (i, filter) {\n      filter.apply(this, attributes)\n    }, this))\n\n//        this.shape.blur(this.blur);\n    this._super(attributes)\n  },\n\n  getPersistentAttributes: function () {\n    var memento = this._super()\n\n    memento.filters = []\n    this.filters.each($.proxy(function (i, e) {\n      var filterMemento = e.getPersistentAttributes(this)\n      memento.filters.push(filterMemento)\n    }, this))\n\n    return memento\n  },\n\n  setPersistentAttributes: function (memento) {\n    this._super(memento)\n\n\n    if (typeof memento.filters !== \"undefined\") {\n      this.filters = new draw2d.util.ArrayList()\n      $.each(memento.filters, $.proxy(function (i, e) {\n        var filter = eval(\"new \" + e.name + \"()\")\n        filter.setPersistentAttributes(this, e)\n        this.filters.add(filter)\n      }, this))\n    }\n  }\n})\n","import PositionFilter from \"../filter/PositionFilter\"\nimport SizeFilter from \"../filter/SizeFilter\"\nimport StrokeFilter from \"../filter/StrokeFilter\"\nimport FillColorFilter from \"../filter/FillColorFilter\"\n\n/* jshint evil:true */\n// required for serialie/deserialize of JSON\nexport default shape_designer.figure.ExtPolygon = draw2d.shape.basic.Polygon.extend({\n\n  NAME: \"shape_designer.figure.ExtPolygon\",\n\n\n  init: function (attr, setter, getter) {\n    this.blur = 0\n\n    this.isExtFigure = true\n\n    this._super(attr, setter, getter)\n\n    this.setUserData({name: \"Polygon\"})\n\n    this.filters = new draw2d.util.ArrayList()\n    this.filters.add(new PositionFilter())\n    this.filters.add(new SizeFilter())\n    this.filters.add(new StrokeFilter())\n    this.filters.add(new FillColorFilter())\n\n    this.installEditPolicy(new draw2d.policy.figure.RectangleSelectionFeedbackPolicy())\n  },\n\n  setBlur: function (value) {\n    this.blur = parseInt(value)\n    this.repaint()\n  },\n\n  getBlur: function () {\n    return this.blur\n  },\n\n  getPotentialFilters: function () {\n    return [\n      {label: \"Stroke\", impl: \"shape_designer.filter.StrokeFilter\"},\n      {label: \"Opacity\", impl: \"shape_designer.filter.OpacityFilter\"},\n      {label: \"Blur\", impl: \"shape_designer.filter.BlurFilter\"},\n      {label: \"Corner Radius\", impl: \"shape_designer.filter.RadiusFilter\"},\n      {label: \"Linear Gradient\", impl: \"shape_designer.filter.LinearGradientFilter\"},\n      {label: \"Fill Color\", impl: \"shape_designer.filter.FillColorFilter\"}\n    ]\n  },\n\n  removeFilter: function (filter) {\n    this.filters.remove(filter)\n  },\n\n  addFilter: function (filter) {\n    var alreadyIn = false\n\n    this.filters.each($.proxy(function (i, e) {\n      alreadyIn = alreadyIn || (e.NAME === filter.NAME)\n    }, this))\n\n    if (alreadyIn === true) {\n      return // silently\n    }\n\n    this.filters.add(filter)\n    filter.onInstall(this)\n    this.repaint()\n  },\n\n  onDoubleClick: function () {\n    this.installEditPolicy(new draw2d.policy.figure.VertexSelectionFeedbackPolicy())\n  },\n\n  /**\n   * @method\n   * Unselect the figure and propagete this event to all edit policies.\n   *\n   * @final\n   * @private\n   **/\n  unselect: function () {\n    this._super()\n\n    this.installEditPolicy(new draw2d.policy.figure.RectangleSelectionFeedbackPolicy())\n    return this\n  },\n\n\n  /**\n   * @method\n   * Trigger the repaint of the element.\n   *\n   */\n  repaint: function (attributes) {\n    if (this.shape === null) {\n      return\n    }\n\n    if (this.svgPathString === null) {\n      this.calculatePath()\n    }\n\n    if (typeof attributes === \"undefined\") {\n      attributes = {}\n    }\n\n\n    attributes.path = this.svgPathString\n\n    this.filters.each($.proxy(function (i, filter) {\n      filter.apply(this, attributes)\n    }, this))\n\n    //this.shape.blur(this.blur===0?-1:this.blur);\n    /*\n            if(this.filter)\n            this.filter = this.canvas.paper.createFilter();\n            filter.addShiftToColor(\"red\");\n            filter.addBlur(7);\n            this.shape.filter(filter);\n    */\n    this._super(attributes)\n  },\n\n  getPersistentAttributes: function () {\n    var memento = this._super()\n\n    memento.blur = this.blur\n    memento.filters = []\n    this.filters.each($.proxy(function (i, e) {\n      var filterMemento = e.getPersistentAttributes(this)\n      memento.filters.push(filterMemento)\n    }, this))\n\n    return memento\n  },\n\n  setPersistentAttributes: function (memento) {\n    this._super(memento)\n\n    if (typeof memento.blur !== \"undefined\")\n      this.setBlur(memento.blur)\n\n    if (typeof memento.filters !== \"undefined\") {\n      this.filters = new draw2d.util.ArrayList()\n      var sizeFilterAdded = false\n      $.each(memento.filters, $.proxy(function (i, e) {\n\n        var filter = eval(\"new \" + e.name + \"()\")\n        if (filter instanceof shape_designer.filter.SizeFilter) {\n          sizeFilterAdded = true\n        }\n        filter.setPersistentAttributes(this, e)\n        this.filters.add(filter)\n      }, this))\n      if (!sizeFilterAdded) {\n        this.filters.insertElementAt(new shape_designer.filter.SizeFilter(), 1)\n      }\n    }\n  }\n})\n","export default shape_designer.figure.ExtPort = draw2d.shape.basic.Circle.extend({\n\n  NAME: \"shape_designer.figure.ExtPort\",\n\n\n  init: function () {\n    this.isExtFigure = true\n    this.decoration = null\n    this.normalStyle = {\n      bgColor: \"#37B1DE\",\n      diameter: 10\n    }\n    this.hiddenStyle = {\n      bgColor: \"#000000\",\n      diameter: 3\n    }\n\n    this._super(this.normalStyle)\n\n\n    this.setUserData({\n      name: \"Port\",\n      type: \"Hybrid\",\n      direction: null,\n      fanout: 20\n    })\n\n    this.filters = new draw2d.util.ArrayList()\n    this.filters.add(new shape_designer.filter.PositionFilter())\n    this.filters.add(new shape_designer.filter.FanoutFilter())\n    this.filters.add(new shape_designer.filter.PortDirectionFilter())\n    this.filters.add(new shape_designer.filter.PortTypeFilter())\n\n    this.installEditPolicy(new draw2d.policy.figure.AntSelectionFeedbackPolicy())\n  },\n\n\n  setInputType: function (type) {\n    this.getUserData().type = type\n  },\n\n  getInputType: function () {\n    return this.getUserData().type\n  },\n\n  setMaxFanOut: function (count) {\n    this.getUserData().fanout = parseInt(count)\n  },\n\n  getMaxFanOut: function () {\n    return this.getUserData().fanout ? this.getUserData().fanout : 20\n  },\n\n\n  setConnectionDirection: function (direction) {\n    this.getUserData().direction = direction\n    this.updateDecoration()\n  },\n\n  getConnectionDirection: function () {\n    return this.getUserData().direction\n  },\n\n\n  updateDecoration: function () {\n    if (this.decoration !== null) {\n      this.remove(this.decoration)\n      this.decoration = null\n    }\n    let figure = null\n    let locator = null\n    switch (this.getConnectionDirection()) {\n      case 0:\n        figure = new draw2d.shape.icon.ArrowUp({width: 8, height: 8, opacity: 0.5})\n        locator = new draw2d.layout.locator.TopLocator()\n        break\n      case 1:\n        figure = new draw2d.shape.icon.ArrowRight({width: 8, height: 8, opacity: 0.5})\n        locator = new draw2d.layout.locator.RightLocator()\n        break\n      case 2:\n        figure = new draw2d.shape.icon.ArrowDown({width: 8, height: 8, opacity: 0.5})\n        locator = new draw2d.layout.locator.BottomLocator()\n        break\n      case 3:\n        figure = new draw2d.shape.icon.ArrowLeft({width: 8, height: 8, opacity: 0.5})\n        locator = new draw2d.layout.locator.LeftLocator()\n        break\n    }\n    if (figure !== null) {\n      this.add(figure, locator)\n      this.decoration = figure\n    }\n  },\n\n  hideDecoration: function () {\n    this.attr(this.hiddenStyle)\n    if( this.decoration ){\n      this.decoration.setVisible(false)\n    }\n  },\n\n  showDecoration: function () {\n    this.attr(this.normalStyle)\n    if( this.decoration ){\n      this.decoration.setVisible(true)\n    }\n  },\n\n\n  getPotentialFilters: function () {\n    return [\n      {label: \"Port Type\",      impl: \"shape_designer.filter.PortTypeFilter\"},\n      {label: \"Port Direction\", impl: \"shape_designer.filter.PortDirectionFilter\"},\n      {label: \"Color\",          impl: \"shape_designer.filter.FillColorFilter\"}\n    ]\n  },\n\n  removeFilter: function (filter) {\n    this.filters.remove(filter)\n  },\n\n  addFilter: function (filter) {\n    let alreadyIn = false\n\n    this.filters.each((i, e) => {\n      alreadyIn = alreadyIn || (e.NAME === filter.NAME)\n    })\n    if (alreadyIn === true) {\n      return // silently\n    }\n\n    this.filters.add(filter)\n    filter.onInstall(this)\n    this.repaint()\n  },\n\n\n  /**\n   * @method\n   * Trigger the repaint of the element.\n   *\n   */\n  repaint: function (attributes) {\n    if (this.shape === null) {\n      return\n    }\n\n    if (typeof attributes === \"undefined\") {\n      attributes = {}\n    }\n\n    this.filters.each( (i, filter) => {\n      filter.apply(this, attributes)\n    })\n\n    this._super(attributes)\n  },\n\n  getPersistentAttributes: function () {\n    let memento = this._super()\n\n    memento.filters = []\n    this.filters.each( (i, e) => {\n      let filterMemento = e.getPersistentAttributes(this)\n      memento.filters.push(filterMemento)\n    })\n    return memento\n  },\n\n  setPersistentAttributes: function (memento) {\n    this._super(memento)\n\n    if (typeof memento.filters !== \"undefined\") {\n      this.filters = new draw2d.util.ArrayList()\n      let fanoutFilterAdded = false\n      $.each(memento.filters, (i, e) => {\n        let filter = eval(\"new \" + e.name + \"()\")\n        if (filter instanceof shape_designer.filter.FanoutFilter) {\n          fanoutFilterAdded = true\n        }\n        filter.setPersistentAttributes(this, e)\n        this.filters.add(filter)\n      })\n      if (!fanoutFilterAdded) {\n        this.filters.insertElementAt(new shape_designer.filter.FanoutFilter(), 1)\n      }\n\n    }\n    this.updateDecoration()\n  }\n})\n","/**\n * The markerFigure is the left hand side annotation for a DecoratedPort.\n *\n * It contains two children\n *\n * StateAFigure: if the mouse hover and the figure isn't permanent visible\n * StateBFigure: either the mouse is over or the user pressed the checkbox to stick the figure on the port\n *\n * This kind of decoration is usefull for defualt values on workflwos enginges or circuit diagrams\n *\n */\n\n\n\nexport default shape_designer.figure.MarkerFigure = draw2d.shape.layout.VerticalLayout.extend({\n\n  NAME: \"MarkerFigure\",\n\n  init: function (attr, setter, getter) {\n    var _this = this\n\n    this.isMouseOver = false        // indicator if the mouse is over the element\n    this.stick = false        // indicator if the stateBFigure should always be visible\n    this.defaultValue = true         // current selected default value for the decoration\n\n    this._super($.extend({\n        stroke: 0\n      }, attr),\n      setter,\n      getter)\n\n\n    // figure if the decoration is not permanent visible (sticky note)\n    this.add(this.stateA = new shape_designer.figure.MarkerStateAFigure({text: \"X\"}))\n    // figure if the decoration permanent visible\n    this.add(this.stateB = new shape_designer.figure.MarkerStateBFigure({text: \"X\"}))\n\n\n    this.on(\"mouseenter\", function (emitter, event) {\n      _this.onMouseOver(true)\n    })\n\n    this.on(\"mouseleave\", function (emitter, event) {\n      _this.onMouseOver(false)\n    })\n\n    this.on(\"click\", function (emitter, event) {\n      if (_this.isVisible() === false) {\n        return//silently\n      }\n\n      if (_this.stateB.getStickTickFigure().getBoundingBox().hitTest(event.x, event.y) === true) {\n        _this.setStick(!_this.getStick())\n      }\n      else if (_this.stateB.getLabelFigure().getBoundingBox().hitTest(event.x, event.y) === true) {\n        $.contextMenu({\n          selector: 'body',\n          trigger: \"left\",\n          events:\n            {\n              hide: function () {\n                $.contextMenu('destroy')\n              }\n            },\n          callback: $.proxy(function (key, options) {\n            // propagate the default value to the port\n            //\n            switch (key) {\n              case \"high\":\n                _this.setDefaultValue(true)\n                break\n              case \"low\":\n                _this.setDefaultValue(false)\n                break\n              default:\n                break\n            }\n\n          }, this),\n          x: event.x,\n          y: event.y,\n          items: {\n            \"high\": {name: \"High\"},\n            \"low\": {name: \"Low\"}\n          }\n        })\n\n      }\n    })\n\n    this.setDefaultValue(true)\n    this.onMouseOver(false)\n  },\n\n\n  onMouseOver: function (flag) {\n    this.isMouseOver = flag\n\n    if (this.visible === false) {\n      return // silently\n    }\n\n    if (this.stick === true) {\n      this.stateA.setVisible(false)\n      this.stateB.setVisible(true)\n    }\n    else {\n      this.stateA.setVisible(!this.isMouseOver)\n      this.stateB.setVisible(this.isMouseOver)\n    }\n\n    return this\n  },\n\n\n  setVisible: function (flag) {\n    this._super(flag)\n\n    // update the hover/stick state of the figure\n    this.onMouseOver(this.isMouseOver)\n\n    return this\n  },\n\n\n  setStick: function (flag) {\n    this.stick = flag\n    this.onMouseOver(this.isMouseOver)\n\n\n    // the port has only a default value if the decoration is visible\n    this.parent.setValue(flag ? this.defaultValue : null)\n\n    this.stateB.setTick(this.getStick())\n\n    return this\n  },\n\n\n  getStick: function () {\n    return this.stick\n  },\n\n\n  setText: function (text) {\n    this.stateB.setText(text)\n\n    return this\n  },\n\n  setDefaultValue: function (value) {\n    this.defaultValue = value\n    this.setText((this.defaultValue === true) ? \"High\" : \"Low\")\n\n    // only propagate the value to the parent if the decoration permanent visible\n    //\n    if (this.stick === true) {\n      this.parent.setValue(this.defaultValue)\n    }\n  }\n})\n","/**\n * This is only the mouseover reactive shape. A little bit smaller than the visible shape\n *\n * Or you can display this shape with opacity of 0.2 to indicate that this is a reactive area.\n */\n\n\n\n\nexport default shape_designer.figure.MarkerStateAFigure = draw2d.shape.basic.Label.extend({\n\n  NAME: \"MarkerStateAFigure\",\n\n  /**\n   * @param attr\n   */\n  init: function (attr, setter, getter) {\n    this._super($.extend({\n        padding: {left: 5, top: 2, bottom: 2, right: 10},\n        bgColor: null,\n        stroke: 1,\n        color: null,\n        fontColor: null,\n        fontSize: 10\n      }, attr),\n      setter,\n      getter)\n\n    // we must override the hitTest method to ensure that the parent can receive the mouseenter/mouseleave events.\n    // Unfortunately draw2D didn't provide event bubbling like HTML. The first shape in queue consumes the event.\n    //\n    // now this shape is \"dead\" for any mouse events and the parent must/can handle this.\n    this.hitTest = function () {\n      return false\n    }\n  }\n})\n","export default shape_designer.figure.MarkerStateBFigure = draw2d.shape.layout.HorizontalLayout.extend({\n\n  NAME: \"MarkerStateBFigure\",\n\n  /**\n   * @param attr\n   */\n  init: function (attr, setter, getter) {\n    this._super($.extend({\n        bgColor: \"#FFFFFF\",\n        stroke: 1,\n        color: \"#00bcd4\",\n        radius: 2,\n        padding: {left: 3, top: 3, bottom: 3, right: 8},\n        gap: 5\n      }, attr),\n      setter,\n      getter)\n\n    this.stickTick = new draw2d.shape.basic.Circle({\n      diameter: 10,\n      bgColor: \"#f0f0f0\",\n      stroke: 1,\n      resizeable: false\n    })\n    this.add(this.stickTick)\n    this.stickTick.hitTest = function () {\n      return false\n    }\n    this.stickTick.addCssClass(\"cursorPointer\")\n\n    this.label = new draw2d.shape.basic.Label({\n      text: attr.text,\n      resizeable: false,\n      stroke: 0,\n      padding: 0,\n      fontSize: 10,\n      fontColor: \"#303030\"\n    })\n    this.add(this.label)\n    // don't catch the mouse events. This is done by the parent container\n    this.label.hitTest = function () {\n      return false\n    }\n    this.label.addCssClass(\"cursorPointer\")\n\n    // we must override the hitTest method to ensure that the parent can receive the mouseenter/mouseleave events.\n    // Unfortunately draw2D didn't provide event bubbling like HTML. The first shape in queue consumes the event.\n    //\n    // now this shape is \"dead\" for any mouse events and the parent must/can handle this.\n    this.hitTest = function () {\n      return false\n    }\n  },\n\n  setText: function (text) {\n    this.label.setText(text)\n  },\n\n  setTick: function (flag) {\n    this.stickTick.attr({bgColor: flag ? \"#00bcd4\" : \"#f0f0f0\"})\n  },\n\n  getStickTickFigure: function () {\n    return this.stickTick\n  },\n\n  getLabelFigure: function () {\n    return this.label\n  },\n\n  /**\n   * @method\n   *\n   *\n   * @template\n   **/\n  repaint: function (attributes) {\n    if (this.repaintBlocked === true || this.shape === null) {\n      return\n    }\n\n    attributes = attributes || {}\n\n    attributes.path = this.calculatePath()\n\n    this._super(attributes)\n  },\n\n\n  /**\n   * @method\n   *\n   * Override the default rendering of the HorizontalLayout, which is a simple\n   * rectangle. We want an arrow.\n   */\n  createShapeElement: function () {\n    return this.canvas.paper.path(this.calculatePath())\n  },\n\n  /**\n   * stupid copy&paste the code from the Polygon shape...unfortunately the LayoutFigure isn't a polygon.\n   *\n   * @returns {string}\n   */\n  calculatePath: function () {\n    var arrowLength = 8\n\n    this.vertices = new draw2d.util.ArrayList()\n\n    var w = this.width\n    var h = this.height\n    var pos = this.getAbsolutePosition()\n    var i = 0\n    var length = 0\n    this.vertices.add(new draw2d.geo.Point(pos.x, pos.y))\n    this.vertices.add(new draw2d.geo.Point(pos.x + w - arrowLength, pos.y))\n\n    this.vertices.add(new draw2d.geo.Point(pos.x + w, pos.y + h / 2))\n\n    this.vertices.add(new draw2d.geo.Point(pos.x + w - arrowLength, pos.y + h))\n    this.vertices.add(new draw2d.geo.Point(pos.x, pos.y + h))\n\n    var radius = this.getRadius()\n    var path = []\n    // hard corners\n    //\n    if (radius === 0) {\n      length = this.vertices.getSize()\n      var p = this.vertices.get(0)\n      path.push(\"M\", (p.x | 0) + 0.5, \" \", (p.y | 0) + 0.5)\n      for (i = 1; i < length; i++) {\n        p = this.vertices.get(i)\n        path.push(\"L\", (p.x | 0) + 0.5, \" \", (p.y | 0) + 0.5)\n      }\n      path.push(\"Z\")\n    }\n    // soften/round corners\n    //\n    else {\n      length = this.vertices.getSize()\n      var start = this.vertices.first()\n      var end = this.vertices.last()\n      if (start.equals(end)) {\n        length = length - 1\n        end = this.vertices.get(length - 1)\n      }\n      var begin = draw2d.geo.Util.insetPoint(start, end, radius)\n      path.push(\"M\", (begin.x | 0) + 0.5, \",\", (begin.y | 0) + 0.5)\n      for (i = 0; i < length; i++) {\n        start = this.vertices.get(i)\n        end = this.vertices.get((i + 1) % length)\n        let modStart = draw2d.geo.Util.insetPoint(start, end, radius)\n        let modEnd = draw2d.geo.Util.insetPoint(end, start, radius)\n        path.push(\"Q\", start.x, \",\", start.y, \" \", (modStart.x | 0) + 0.5, \", \", (modStart.y | 0) + 0.5)\n        path.push(\"L\", (modEnd.x | 0) + 0.5, \",\", (modEnd.y | 0) + 0.5)\n      }\n    }\n    return path.join(\"\")\n  }\n\n\n})\n","export default shape_designer.figure.PolyCircle = draw2d.shape.basic.Oval.extend({\n\n  NAME: \"shape_designer.figure.PolyCircle\",\n\n\n  init: function (center, radius) {\n    this.blur = 0\n    this.isExtFigure = true\n\n    // set some good defaults\n    if (typeof radius === \"undefined\") {\n      radius = 10\n    }\n\n    this._super({stroke: 0, bgColor: \"95C06A\", width: radius * 2, height: radius * 2})\n\n    // center must be set after the width/height...bug\n    if (typeof center !== \"undefined\") {\n      this.setCenter(center)\n    }\n\n    this.setUserData({name: \"Circle\"})\n\n    this.filters = new draw2d.util.ArrayList()\n    this.filters.add(new shape_designer.filter.PositionFilter())\n    this.filters.add(new shape_designer.filter.SizeFilter())\n    this.filters.add(new shape_designer.filter.FillColorFilter())\n  },\n\n  getPotentialFilters: function () {\n    return [\n      {label: \"Stroke\", impl: \"shape_designer.filter.StrokeFilter\"},\n      {label: \"Opacity\", impl: \"shape_designer.filter.OpacityFilter\"},\n      {label: \"Blur\", impl: \"shape_designer.filter.BlurFilter\"},\n      {label: \"Linear Gradient\", impl: \"shape_designer.filter.LinearGradientFilter\"},\n      {label: \"Fill Color\", impl: \"shape_designer.filter.FillColorFilter\"}\n    ]\n  },\n\n  removeFilter: function (filter) {\n    this.filters.remove(filter)\n  },\n\n  addFilter: function (filter) {\n    var alreadyIn = false\n\n    this.filters.each($.proxy(function (i, e) {\n      alreadyIn = alreadyIn || (e.NAME === filter.NAME)\n    }, this))\n\n    if (alreadyIn === true) {\n      return // silently\n    }\n\n    this.filters.add(filter)\n    filter.onInstall(this)\n    this.repaint()\n  },\n\n\n  setBlur: function (value) {\n    this.blur = parseInt(value)\n    this.repaint()\n  },\n\n  getBlur: function () {\n    return this.blur\n  },\n\n  /**\n   * @method\n   * Trigger the repaint of the element.\n   *\n   */\n  repaint: function (attributes) {\n    if (this.shape === null) {\n      return\n    }\n\n    this.filters.each($.proxy(function (i, filter) {\n      filter.apply(this, attributes)\n    }, this))\n\n//        this.shape.blur(this.blur);\n    this._super(attributes)\n  },\n\n  getVertices: function () {\n\n    var w2 = this.getWidth() / 2\n    var h2 = this.getHeight() / 2\n    var center = this.getCenter()\n    var sides = 36\n\n    var vertices = new draw2d.util.ArrayList()\n    for (var i = 0; i < sides; i++) {\n      var radian = 2 * Math.PI * i / sides\n      var x = Math.cos(radian) * w2 + center.x\n      var y = Math.sin(radian) * h2 + center.y\n      vertices.add(new draw2d.geo.Point(x, y))\n    }\n    return vertices\n  },\n\n  getPersistentAttributes: function () {\n    var memento = this._super()\n\n    memento.blur = this.blur\n    memento.filters = []\n    this.filters.each($.proxy(function (i, e) {\n      var filterMemento = e.getPersistentAttributes(this)\n      memento.filters.push(filterMemento)\n    }, this))\n\n    return memento\n  },\n\n  setPersistentAttributes: function (memento) {\n    this._super(memento)\n\n    if (typeof memento.blur !== \"undefined\")\n      this.setBlur(memento.blur)\n\n    if (typeof memento.filters !== \"undefined\") {\n      this.filters = new draw2d.util.ArrayList()\n      $.each(memento.filters, $.proxy(function (i, e) {\n        var filter = eval(\"new \" + e.name + \"()\")\n        filter.setPersistentAttributes(this, e)\n        this.filters.add(filter)\n      }, this))\n    }\n  }\n})\n","import ExtPolygon from \"./ExtPolygon\"\n\nexport default shape_designer.figure.PolyRect = ExtPolygon.extend({\n\n  NAME: \"shape_designer.figure.PolyRect\",\n\n  init: function (topLeft, bottomRight) {\n    this._super()\n    if (typeof topLeft === \"undefined\") {\n      this.vertices = new draw2d.util.ArrayList()\n      this.addVertex(new draw2d.geo.Point(100, 100))\n      this.addVertex(new draw2d.geo.Point(140, 100))\n      this.addVertex(new draw2d.geo.Point(140, 140))\n      this.addVertex(new draw2d.geo.Point(100, 140))\n    }\n    else {\n      this.vertices = new draw2d.util.ArrayList()\n      this.addVertex(new draw2d.geo.Point(topLeft.x, topLeft.y))\n      this.addVertex(new draw2d.geo.Point(bottomRight.x, topLeft.y))\n      this.addVertex(new draw2d.geo.Point(bottomRight.x, bottomRight.y))\n      this.addVertex(new draw2d.geo.Point(topLeft.x, bottomRight.y))\n    }\n\n    this.setUserData({name: \"Rectangle\"})\n  }\n})\n","export default shape_designer.figure.TestSwitch = draw2d.shape.basic.Label.extend({\n\n  NAME: \"shape_designer.figure.TestSwitch\",\n\n  init: function (attr, setter, getter) {\n    this._super({text: \"Low\"}, setter, getter)\n\n    this.createPort(\"output\")\n\n    var _this = this\n\n    this.value = false\n    this.on(\"click\", function () {\n      _this.toggleValue()\n      _this.getOutputPort(0).setValue(_this.value)\n      _this.getOutputPort(0).getConnections().each(function (i, c) {\n        c.getTarget().setValue(_this.value)\n      })\n    })\n  },\n\n  toggleValue: function () {\n    this.value = !this.value\n    this.attr({text: this.value ? \"High\" : \"Low\"})\n  }\n})\n\n","// required to register them for JSON serialize/deserialize\n//\nexport default [\n  require(\"./ExtLabel\"),\n  require(\"./DecoratedInputPort\"),\n  require(\"./ExtLine\"),\n  require(\"./ExtPolygon\"),\n  require(\"./ExtPort\"),\n  require(\"./MarkerFigure\"),\n  require(\"./MarkerStateAFigure\"),\n  require(\"./MarkerStateBFigure\"),\n  require(\"./PolyCircle\"),\n  require(\"./PolyRect\"),\n  require(\"./TestSwitch\")\n]\n\n","import Filter from \"./Filter\"\n\n\nexport default shape_designer.filter.BlurFilter = class BlurFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.BlurFilter\")\n  }\n\n  insertPane(figure, $parent) {\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_width_panel\">' +\n      '     Blur' +\n      '    <span id=\"button_remove_' + this.cssScope + '\"><img class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span></span>' +\n      '</div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_blur_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '       <input id=\"filter_blur\" type=\"text\" value=\"' + figure.getBlur() + '\"  name=\"filter_blur\" class=\"mousetrap-pause form-control\" />' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $(\"#filter_blur\").TouchSpin({\n      min: 0,\n      max: 5,\n      step: 1\n    })\n\n    $(\"#filter_blur\").on(\"change\", $.proxy(function () {\n      this.setBlur(parseInt($(\"#filter_blur\").val()))\n    }, figure))\n\n\n    $(\"#button_remove_\" + this.cssScope).on(\"click\", $.proxy(function () {\n      figure.removeFilter(this)\n      figure.setBlur(0)\n      $('#' + this.containerId).animate({\n        \"height\": \"0\",\n        \"opacity\": 0,\n        \"margin-bottom\": 0\n      }, 500, function () {\n        $('#' + this.containerId).remove()\n      })\n    }, this))\n  }\n}\n\n\n\n\n","import Filter from \"./Filter\"\n\nexport default shape_designer.filter.FanoutFilter = class FanoutFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.FanoutFilter\")\n  }\n\n  insertPane(figure, $parent) {\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_width_panel\">' +\n      '     Maximal fan out' +\n      '</div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_width_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '       <input id=\"filter_' + this.cssScope + '_fanout\" type=\"text\" value=\"' + figure.getMaxFanOut() + '\" name=\"filter_' + this.cssScope + '_fanout\" class=\"mousetrap-pause form-control\" />' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $(\"input[name='filter_\" + this.cssScope + \"_fanout']\").TouchSpin({\n      min: 0,\n      max: 50,\n      step: 1,\n      maxboostedstep: 1,\n      postfix: 'px'\n    })\n    $(\"input[name='filter_\" + this.cssScope + \"_fanout']\").on(\"change\", $.proxy(function () {\n      this.setMaxFanOut(parseInt($(\"input[name='filter_\" + this.cssScope + \"_fanout']\").val()))\n    }, figure))\n\n\n  }\n\n  removePane() {\n  }\n\n  onInstall(figure) {\n  }\n}\n\n\n\n\n","import Filter from \"./Filter\"\nimport jscolor from \"../widget/jscolor/jscolor\"\n\nexport default shape_designer.filter.FillColorFilter = class FillColorFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.FillColorFilter\")\n    this.colorPicker = null\n  }\n\n  insertPane(figure, $parent) {\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#color_fill_panel\">' +\n      '    Color Fill' +\n      '    <span id=\"button_remove_FillColorFilter\"><img class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/><span>' +\n      ' </div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"color_fill_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '      <div class=\"input-group\">' +\n      '          <span class=\"input-group-addon\">#</span>' +\n      '          <input id=\"filter_color_fill\" type=\"text\" value=\"\" name=\"filter_color_fill\" class=\"mousetrap-pause form-control color\"/>' +\n      '       </div>' +\n      '    </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    var picker = this.colorPicker = new jscolor.color(document.getElementById('filter_color_fill'), {})\n    this.colorPicker.fromString(figure.getBackgroundColor().hash())\n    this.colorPicker.onImmediateChange = $.proxy(function () {\n      this.setBackgroundColor(\"#\" + picker.toString())\n    }, figure)\n\n    $(\"#button_remove_FillColorFilter\").on(\"click\", $.proxy(function () {\n      figure.removeFilter(this)\n      figure.setBackgroundColor(null)\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, function () {\n        $('#'+this.containerId).remove()\n      })\n    }, this))\n  }\n\n  onInstall(figure) {\n    figure.setBackgroundColor(\"#f0f3f3\")\n  }\n\n  removePane() {\n    if (this.colorPicker !== null) {\n      this.colorPicker.hidePicker()\n    }\n  }\n}\n\n\n\n\n","export default class Filter {\n\n  constructor(name) {\n    this.NAME = name\n    this.colorPicker = null\n    this.cssScope = this.NAME.replace(/[.]/g, \"_\")\n    this.containerId= this.cssScope+\"_container\"\n  }\n\n  /**\n   * @method\n   * Sent when an event occurs on the command stack. draw2d.command.CommandStackEvent.getDetail()\n   * can be used to identify the type of event which has occurred.\n   *\n   * @template\n   *\n   **/\n  apply(figure, attributes) {\n  }\n\n  onInstall(figure) {\n  }\n\n  insertPane(figure, $parent) {\n\n  }\n\n  removePane() {\n  }\n\n  getPersistentAttributes(relatedFigure) {\n    var memento = {}\n    memento.name = this.NAME\n\n    return memento\n  }\n\n  setPersistentAttributes(relatedFigure, memento) {\n  }\n}\n\n\n\n\n","import jscolor from \"../widget/jscolor/jscolor\"\n\nimport Filter from \"./Filter\"\n\nexport default shape_designer.filter.FontColorFilter = class FontColorFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.FontColorFilter\")\n    this.colorPicker = null\n  }\n\n  insertPane(figure, $parent) {\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#color_fill_panel\">' +\n      '    Font Color' +\n      '    <span id=\"button_remove_FontColorFilter\"><img class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\n      ' </div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"color_fill_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '      <div class=\"input-group\">' +\n      '          <span class=\"input-group-addon\">#</span>' +\n      '          <input id=\"filter_color_fill\" type=\"text\" value=\"\" name=\"filter_color_fill\" class=\"mousetrap-pause form-control color\"/>' +\n      '       </div>' +\n      '    </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    let picker = this.colorPicker = new jscolor.color(document.getElementById('filter_color_fill'), {})\n    this.colorPicker.fromString(figure.getFontColor().hash())\n    this.colorPicker.onImmediateChange = $.proxy(function () {\n      this.setFontColor(\"#\" + picker.toString())\n    }, figure)\n\n    $(\"#button_remove_FontColorFilter\").on(\"click\", () => {\n      figure.removeFilter(this)\n      figure.setFontColor(null)\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\n        $('#'+this.containerId).remove()\n      })\n    })\n  }\n\n  onInstall(figure) {\n    figure.setFontColor(\"#000000\")\n  }\n\n  removePane() {\n    if (this.colorPicker !== null) {\n      this.colorPicker.hidePicker()\n    }\n  }\n}\n\n\n\n\n","import Filter from \"./Filter\"\n\nexport default shape_designer.filter.FontSizeFilter = class FontSizeFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.FontSizeFilter\")\n  }\n\n  insertPane(figure, $parent) {\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#fontsize_width_panel\">' +\n      '     Font Size' +\n      '    <span id=\"button_remove_FontSizeFilter\"><img  class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\n      '</div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"fontsize_width_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '       <input id=\"filter_fontsize\" type=\"text\" value=\"' + figure.getFontSize() + '\" name=\"filter_fontsize\" class=\"mousetrap-pause form-control\" />' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $(\"#filter_fontsize\").TouchSpin({\n      min: 4,\n      max: 300,\n      step: 1,\n      boostat: figure.getFontSize(),\n      maxboostedstep: 10,\n      postfix: 'px'\n    })\n\n    $(\"input[name='filter_fontsize']\").on(\"change\", $.proxy(function () {\n      this.setFontSize(parseInt($(\"input[name='filter_fontsize']\").val()))\n    }, figure))\n\n\n    $(\"#button_remove_FontSizeFilter\").on(\"click\", () => {\n      figure.removeFilter(this)\n      figure.setFontSize(12)\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\n        $('#'+this.containerId).remove()\n      })\n    })\n  }\n\n  removePane() {\n  }\n\n  onInstall(figure) {\n    //   figure.setFontSize(1);\n  }\n}\n\n\n\n\n","import jscolor from \"../widget/jscolor/jscolor\"\n\nimport Filter from \"./Filter\"\nimport \"../widget/ui.anglepicker\"\n\nexport default shape_designer.filter.LinearGradientFilter = class LinearGradientFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.LinearGradientFilter\")\n    this.colorPicker1 = null\n    this.colorPicker2 = null\n\n    this.startColor = \"#f0f0f0\"\n    this.endColor = \"#3f3f3f\"\n    this.angle = 0\n  }\n\n  insertPane(figure, $parent) {\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_panel\">' +\n      '     Linear Gradient' +\n      '    <span id=\"button_remove_' + this.cssScope + '\"><img  class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\n      '</div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '      <div class=\"input-group text-center\" style=\"width:100%\" >' +\n      '           <div id=\"' + this.cssScope + '_angle\" />' +\n      '      </div> ' +\n      '       <div class=\"input-group\">' +\n      '          <span class=\"input-group-addon\">#</span>' +\n      '          <input id=\"' + this.cssScope + '_color1\" type=\"text\" value=\"' + this.startColor + '\" class=\"mousetrap-pause form-control color\"/>' +\n      '       </div>' +\n      '       <div class=\"input-group\">' +\n      '          <span class=\"input-group-addon\">#</span>' +\n      '          <input id=\"' + this.cssScope + '_color2\" type=\"text\" value=\"' + this.endColor + '\" class=\"mousetrap-pause form-control color\"/>' +\n      '       </div>' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $('#' + this.cssScope + '_angle').anglepicker({\n      start: function (e, ui) {\n\n      },\n      change: (e, ui) => {\n        this.angle = ui.value\n        figure.repaint()\n      },\n      stop: (e, ui) => {\n      },\n      value: this.angle\n    })\n\n    let picker1 = this.colorPicker1 = new jscolor.color($(\"#\" + this.cssScope + '_color1')[0], {})\n    this.colorPicker1.fromString(this.startColor)\n    this.colorPicker1.onImmediateChange = () => {\n      this.startColor = \"#\" + picker1.toString()\n      figure.repaint()\n    }\n\n    let picker2 = this.colorPicker2 = new jscolor.color($(\"#\" + this.cssScope + '_color2')[0], {})\n    this.colorPicker2.fromString(this.endColor)\n    this.colorPicker2.onImmediateChange = () => {\n      this.endColor = \"#\" + picker2.toString()\n      figure.repaint()\n    }\n\n\n    $(\"#button_remove_\" + this.cssScope).on(\"click\", () => {\n      figure.removeFilter(this)\n      $('#' + this.containerId ).animate({\n        \"height\": \"0\",\n        \"opacity\": 0,\n        \"margin-bottom\": 0\n      }, 500, () => {\n        $('#' + this.containerId ).remove()\n      })\n    })\n  }\n\n  apply(figure, attributes) {\n    attributes.fill = this.angle + \"-\" + this.endColor + \"-\" + this.startColor\n  }\n\n  removePane() {\n    if (this.colorPicker1 !== null) {\n      this.colorPicker1.hidePicker()\n    }\n    if (this.colorPicker2 !== null) {\n      this.colorPicker2.hidePicker()\n    }\n  }\n\n  onInstall(figure) {\n    figure.setStroke(1)\n  }\n\n  getPersistentAttributes(relatedFigure) {\n    let memento = super.getPersistentAttributes(relatedFigure)\n\n    memento.startColor = this.startColor\n    memento.endColor = this.endColor\n    memento.angle = this.angle\n\n    return memento\n  }\n\n  setPersistentAttributes(relatedFigure, memento) {\n    super.setPersistentAttributes(relatedFigure, memento)\n\n    this.startColor = memento.startColor\n    this.endColor = memento.endColor\n    this.angle = memento.angle\n\n    return memento\n  }\n}\n\n\n\n\n","import Filter from \"./Filter\"\n\nexport default shape_designer.filter.OpacityFilter = class OpacityFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.OpacityFilter\")\n  }\n\n  insertPane(figure, $parent) {\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#opacity_panel\">' +\n      '    Opacity' +\n      '    <span id=\"button_remove_OpacityFilter\"><img  class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\n      '</div>' +\n      ' <div class=\"panel-body collapse in\" id=\"opacity_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '      <div class=\"input-group\">' +\n      '         <input class=\"mousetrap-pause form-control\" id=\"filter_opacity\" type=\"text\" value=\"' + parseInt(figure.getAlpha() * 100) + '\" />' +\n      '      </div>' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $(\"#filter_opacity\").TouchSpin({\n      min: 0,\n      max: 100,\n      step: 5,\n      boostat: parseInt(figure.getAlpha() * 100),\n      maxboostedstep: 10,\n      postfix: '%'\n    })\n    $(\"#filter_opacity\").on(\"change\", $.proxy(function () {\n      this.setAlpha(parseInt($(\"#filter_opacity\").val()) / 100.0)\n    }, figure))\n\n    $(\"#button_remove_OpacityFilter\").on(\"click\", () => {\n      figure.removeFilter(this)\n      figure.setAlpha(1)\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\n        $('#'+this.containerId).remove()\n      })\n    })\n  }\n\n  removePane() {\n  }\n}\n\n\n\n\n","import jscolor from \"../widget/jscolor/jscolor\"\n\nimport Filter from \"./Filter\"\n\nexport default shape_designer.filter.OutlineStrokeFilter = class OutlineStrokeFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.OutlineStrokeFilter\")\n    this.colorPicker = null\n  }\n\n  insertPane(figure, $parent) {\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#outlinestroke_width_panel\">' +\n      '     Outline Stroke' +\n      '    <img id=\"button_remove_OutlineStrokeFilter\" class=\"icon pull-right\" src=\"./images/dialog_close.svg\"/>' +\n      '</div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"outlinestroke_width_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '       <input id=\"filter_outlinestroke\" type=\"text\" value=\"' + figure.getOutlineStroke() + '\" name=\"filter_outlinestroke\" class=\"mousetrap-pause form-control\" />' +\n      '       <div class=\"input-group\">' +\n      '          <span class=\"input-group-addon\">#</span>' +\n      '          <input id=\"filter_outlinestroke_color\" type=\"text\" value=\"\" name=\"outlinestroke-color\" class=\"mousetrap-pause form-control color\"/>' +\n      '       </div>' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $(\"input[name='filter_outlinestroke']\")\n      .TouchSpin({\n        min: 0,\n        max: 50,\n        step: 1,\n        boostat: figure.getOutlineStroke(),\n        maxboostedstep: 10,\n        postfix: 'px'\n      })\n      .on(\"change\", $.proxy(function () {\n        this.setOutlineStroke(parseFloat($(\"input[name='filter_outlinestroke']\").val()))\n      }, figure))\n\n\n    let picker = this.colorPicker = new jscolor.color(document.getElementById('filter_outlinestroke_color'), {})\n    this.colorPicker.fromString(figure.getOutlineColor().hash())\n    this.colorPicker.onImmediateChange = $.proxy(function () {\n      this.setOutlineColor(\"#\" + picker.toString())\n    }, figure)\n\n    $(\"#button_remove_OutlineStrokeFilter\").on(\"click\", () => {\n      figure.removeFilter(this)\n      figure.setOutlineStroke(0)\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\n        $('#'+this.containerId).remove()\n      })\n    })\n  }\n\n  removePane() {\n    if (this.colorPicker !== null) {\n      this.colorPicker.hidePicker()\n    }\n  }\n\n  onInstall(figure) {\n    figure.setOutlineStroke(1)\n    figure.setOutlineColor(\"#ff0000\")\n  }\n}\n\n\n\n\n","import Filter from \"./Filter\"\n\nexport default shape_designer.filter.PortDirectionFilter = class PortDirectionFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.PortDirectionFilter\")\n  }\n\n  insertPane(figure, $parent) {\n    var _this = this\n    var dir = figure.getConnectionDirection()\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_panel\">' +\n      '     Connection Direction' +\n      '</div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_panel\">' +\n      '   <div class=\"form-group portDirectionOption\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n\n      '<label>' +\n      '  <input ' + (dir === 0 ? ' checked=\"checked\"' : '') + ' type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-dir=\"0\" />' +\n      '  <span  title=\"up\" class=\"glyphicon glyphicon-arrow-up\"></span>' +\n      '</label>' +\n\n      '<br>' +\n\n      '<label>' +\n      '  <input ' + (dir === 3 ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-dir=\"3\" />' +\n      '  <span  title=\"left\" class=\"glyphicon glyphicon-arrow-left\"></span>' +\n      '</label>' +\n\n      '<label>' +\n      '  <input ' + (dir === null ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-dir=\"null\" />' +\n      '  <span title=\"automatic\" class=\"glyphicon glyphicon-screenshot\"></span>' +\n      '</label>' +\n\n      '<label>' +\n      '  <input ' + (dir === 1 ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-dir=\"1\" />' +\n      '  <span title=\"right\"  class=\"glyphicon glyphicon-arrow-right\"></span>' +\n      '</label>' +\n\n      '<br>' +\n\n      '<label>' +\n      '  <input ' + (dir === 2 ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-dir=\"2\" />' +\n      '  <span  title=\"down\" class=\"glyphicon glyphicon-arrow-down\"></span>' +\n      '</label>' +\n\n\n      '       </div>' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $(\"#\" + _this.cssScope + \"_panel .portDirectionOption input\").on(\"change\", (event) => {\n      figure.setConnectionDirection($(event.currentTarget).data(\"dir\"))\n    })\n  }\n\n  removePane() {\n  }\n\n  onInstall(figure) {\n  }\n\n  getPersistentAttributes(relatedFigure) {\n    var memento = super.getPersistentAttributes(relatedFigure)\n\n    return memento\n  }\n\n  setPersistentAttributes(relatedFigure, memento) {\n    super.setPersistentAttributes(relatedFigure, memento)\n\n    return memento\n  }\n}\n\n\n\n\n","import Filter from \"./Filter\"\n\nexport default shape_designer.filter.PortTypeFilter = class PortTypeFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.PortTypeFilter\")\n  }\n\n  insertPane(figure, $parent) {\n    let _this = this\n    let type = figure.getInputType()\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_panel\">' +\n      '     Port Type' +\n      '</div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_panel\">' +\n      '   <div class=\"form-group portTypeOption\">' +\n\n      '<label>' +\n      '  <input ' + (type == 'Input' ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-type=\"Input\" />' +\n      '  <span  title=\"down\" class=\"icon ion-log-in\">input</span>' +\n      '</label>' +\n      '<br>' +\n      '<label>' +\n      '  <input ' + (type == 'Output' ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-type=\"Output\" />' +\n      '  <span  title=\"down\" class=\"icon ion-log-out\">output</span>' +\n      '</label>' +\n      '<br>' +\n      '<label>' +\n      '  <input ' + (type == 'Hybrid' ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-type=\"Hybrid\" />' +\n      '  <span  title=\"down\" class=\"icon ion-ios-circle-outline\">unspecified</span>' +\n      '</label>' +\n\n      '       </div>' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $(\"#\" + _this.cssScope + \"_panel .portTypeOption input\").on(\"change\", (event) => {\n      figure.setInputType($(event.currentTarget).data(\"type\"))\n    })\n  }\n\n  removePane() {\n  }\n\n  onInstall(figure) {\n  }\n\n  getPersistentAttributes(relatedFigure) {\n    return super.getPersistentAttributes(relatedFigure)\n\n  }\n\n  setPersistentAttributes(relatedFigure, memento) {\n    return super.setPersistentAttributes(relatedFigure, memento)\n  }\n}\n\n\n\n\n","import Filter from \"./Filter\"\n\nexport default shape_designer.filter.PositionFilter = class PositionFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.PositionFilter\")\n  }\n\n  insertPane(figure, $parent) {\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#position_width_panel\">' +\n      '     Position' +\n      '</div>' +\n      ' <div class=\"panel-body  collapse in\" id=\"position_width_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '       <input id=\"filter_position_x\" type=\"text\" value=\"' + parseFloat(figure.getPosition().x) + '\" name=\"filter_position_x\" class=\"mousetrap-pause form-control\" />' +\n      '       <input id=\"filter_position_y\" type=\"text\" value=\"' + parseFloat(figure.getPosition().y) + '\" name=\"filter_position_y\" class=\"mousetrap-pause form-control\" />' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $(\"#filter_position_x\").TouchSpin({\n      min: 0,\n      max: 10000,\n      step: 1,\n      maxboostedstep: 10,\n      postfix: 'X'\n    })\n\n    $(\"#filter_position_y\").TouchSpin({\n      min: 0,\n      max: 10000,\n      step: 1,\n      maxboostedstep: 10,\n      postfix: 'Y'\n    })\n\n    $(\"input[name='filter_position_x']\").on(\"change\", () => {\n      try {\n        this.block = true\n        let pos = figure.getPosition()\n        figure.setPosition(parseFloat($(\"input[name='filter_position_x']\").val()), pos.y)\n      }\n      finally {\n        this.block = false\n      }\n    })\n\n    $(\"input[name='filter_position_y']\").on(\"change\", () => {\n      try {\n        this.block = true\n        let pos = figure.getPosition()\n        figure.setPosition(pos.x, parseFloat($(\"input[name='filter_position_y']\").val()))\n      }\n      finally {\n        this.block = false\n      }\n    })\n  }\n\n  apply(figure, attributes) {\n    if (this.block === true) {\n      return\n    }\n    let pos = figure.getPosition()\n    $(\"input[name='filter_position_y']\").val(pos.y)\n    $(\"input[name='filter_position_x']\").val(pos.x)\n  }\n\n  removePane() {\n  }\n\n  onInstall(figure) {\n  }\n\n}\n\n\n\n\n","import Filter from \"./Filter\"\n\nexport default shape_designer.filter.RadiusFilter = class RadiusFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.RadiusFilter\")\n  }\n\n  insertPane(figure, $parent) {\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#radius_panel\">' +\n      '    Corner Radius' +\n      '    <span id=\"button_remove_RadiusFilter\"><img class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\n      '</div>' +\n      ' <div class=\"panel-body collapse in\" id=\"radius_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '      <div class=\"input-group\">' +\n      '         <input class=\"mousetrap-pause form-control\" id=\"filter_radius\" type=\"text\" value=\"' + figure.getRadius() + '\" />' +\n      '      </div>' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $(\"#filter_radius\").TouchSpin({\n      min: 0,\n      max: 200,\n      step: 1,\n      maxboostedstep: 10,\n      postfix: 'px'\n    })\n    $(\"#filter_radius\").on(\"change\", $.proxy(function () {\n      this.setRadius(parseInt($(\"#filter_radius\").val()))\n    }, figure))\n\n    $(\"#button_remove_RadiusFilter\").on(\"click\", () => {\n      figure.removeFilter(this)\n      figure.setRadius(0)\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\n        $('#'+this.containerId).remove()\n      })\n    })\n  }\n\n  removePane() {\n  }\n}\n\n\n\n\n","import Filter from \"./Filter\"\n\nexport default shape_designer.filter.SizeFilter = class SizeFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.SizeFilter\")\n  }\n\n  insertPane(figure, $parent) {\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#size_width_panel\">' +\n      '     Size' +\n      ' </div>' +\n      ' <div class=\"panel-body  collapse in\" id=\"size_width_panel\">' +\n      '   <div class=\"form-group\">' +\n      '       <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '       <input id=\"filter_width\"  type=\"text\" value=\"' + figure.getWidth() + '\"  name=\"filter_width\"  class=\"mousetrap-pause form-control\" />' +\n      '       <input id=\"filter_height\" type=\"text\" value=\"' + figure.getHeight() + '\" name=\"filter_height\" class=\"mousetrap-pause form-control\" />' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $(\"#filter_width\").TouchSpin({\n      min: 0,\n      max: 600,\n      step: 1,\n      maxboostedstep: 10,\n      postfix: 'width'\n    })\n\n    $(\"#filter_height\").TouchSpin({\n      min: 0,\n      max: 600,\n      step: 1,\n      maxboostedstep: 10,\n      postfix: 'height'\n    })\n\n    $(\"input[name='filter_width']\").on(\"change\", () => {\n      try {\n        this.block = true\n        figure.setWidth(parseInt($(\"input[name='filter_width']\").val()))\n      }\n      finally {\n        this.block = false\n      }\n    })\n\n    $(\"input[name='filter_height']\").on(\"change\", () => {\n      try {\n        this.block = true\n        figure.setHeight(parseInt($(\"input[name='filter_height']\").val()))\n      }\n      finally {\n        this.block = false\n      }\n    })\n  }\n\n  apply(figure, attributes) {\n    if (this.block === true) {\n      return\n    }\n\n    $(\"input[name='filter_width']\").val(figure.getWidth())\n    $(\"input[name='filter_height']\").val(figure.getHeight())\n  }\n\n  removePane() {\n  }\n\n  onInstall(figure) {\n  }\n\n}\n\n\n\n\n","import jscolor from \"../widget/jscolor/jscolor\"\n\nimport Filter from \"./Filter\"\n\nexport default shape_designer.filter.StrokeFilter = class StrokeFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.StrokeFilter\")\n  }\n\n  insertPane(figure, $parent) {\n\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_width_panel\">' +\n      '     Stroke' +\n      '    <span id=\"button_remove_' + this.cssScope + '\"><img  class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\n      '</div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_width_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div>' + // required to ensure the correct width of the siblings\n      '       <input id=\"filter_' + this.cssScope + '_width\" type=\"text\" value=\"' + figure.getStroke() + '\" class=\"mousetrap-pause form-control\" />' +\n      '       <div class=\"input-group\">' +\n      '          <span class=\"input-group-addon\">#</span>' +\n      '          <input id=\"filter_' + this.cssScope + '_color\" type=\"text\" value=\"\" class=\"mousetrap-pause form-control color\"/>' +\n      '       </div>' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector: \"#\" + this.containerId + \" img.svg\"})\n\n    let filterWidth = $(\"#filter_\" + this.cssScope + \"_width\")\n    let filterColor = $(\"#filter_\" + this.cssScope + \"_color\")\n    filterWidth\n      .TouchSpin({\n        min: 0,\n        max: 50,\n        step: 1,\n        maxboostedstep: 1,\n        postfix: 'px'\n      })\n      .on(\"change\", $.proxy(function () {\n        this.setStroke(parseInt(filterWidth.val()))\n      }, figure))\n\n    let picker = this.colorPicker = new jscolor.color(filterColor.get(0), {})\n    this.colorPicker.fromString(figure.getColor().hash())\n    this.colorPicker.onImmediateChange = $.proxy(function () {\n      this.setColor(\"#\" + picker.toString())\n    }, figure)\n\n    $(\"#button_remove_\" + this.cssScope).on(\"click\", () => {\n      figure.removeFilter(this)\n      figure.setStroke(0)\n      $(\"#\" + this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\n        $('#' + this.containerId).remove()\n      })\n    })\n  }\n\n  removePane() {\n    if (this.colorPicker !== null) {\n      this.colorPicker.hidePicker()\n    }\n  }\n\n  onInstall(figure) {\n    figure.setStroke(1)\n  }\n\n}\n\n\n\n\n","import jscolor from \"../widget/jscolor/jscolor\"\n\nimport Filter from \"./Filter\"\nimport \"../widget/ui.anglepicker\"\n\nexport default shape_designer.filter.TextLinearGradientFilter = class TextLinearGradientFilter extends Filter {\n\n  constructor() {\n    super(\"shape_designer.filter.TextLinearGradientFilter\")\n    this.colorPicker1 = null\n    this.colorPicker2 = null\n    this.startColor = \"#f0f0f0\"\n    this.endColor = \"#3f3f3f\"\n    this.angle = 0\n  }\n\n  insertPane(figure, $parent) {\n\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_panel\">' +\n      '     Linear Gradient' +\n      '    <span id=\"button_remove_' + this.cssScope + '\"><img  class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\n      '</div>' +\n\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_panel\">' +\n      '   <div class=\"form-group\">' +\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\n      '      <div class=\"input-group text-center\" style=\"width:100%\" >' +\n      '           <div id=\"' + this.cssScope + '_angle\" />' +\n      '      </div> ' +\n      '       <div class=\"input-group\">' +\n      '          <span class=\"input-group-addon\">#</span>' +\n      '          <input id=\"' + this.cssScope + '_color1\" type=\"text\" value=\"' + this.startColor + '\" class=\"mousetrap-pause form-control color\"/>' +\n      '       </div>' +\n      '       <div class=\"input-group\">' +\n      '          <span class=\"input-group-addon\">#</span>' +\n      '          <input id=\"' + this.cssScope + '_color2\" type=\"text\" value=\"' + this.endColor + '\" class=\"mousetrap-pause form-control color\"/>' +\n      '       </div>' +\n      '   </div>' +\n      ' </div>' +\n      '</div>')\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\n\n    $('#' + this.cssScope + '_angle').anglepicker({\n      start: (e, ui) => {\n      },\n      change: (e, ui) => {\n        this.angle = ui.value\n        figure.repaint()\n      },\n      stop: (e, ui) => {\n      },\n      value: this.angle\n    })\n\n    var picker1 = this.colorPicker1 = new jscolor.color($(\"#\" + this.cssScope + '_color1')[0], {})\n    this.colorPicker1.fromString(this.startColor)\n    this.colorPicker1.onImmediateChange = () => {\n      this.startColor = \"#\" + picker1.toString()\n      figure.repaint()\n    }\n\n    var picker2 = this.colorPicker2 = new jscolor.color($(\"#\" + this.cssScope + '_color2')[0], {})\n    this.colorPicker2.fromString(this.endColor)\n    this.colorPicker2.onImmediateChange = () => {\n      this.endColor = \"#\" + picker2.toString()\n      figure.repaint()\n    }\n\n\n    $(\"#button_remove_\" + this.cssScope).on(\"click\", () => {\n      figure.removeFilter(this)\n      $('#' + this.containerId).animate({\n        \"height\": \"0\",\n        \"opacity\": 0,\n        \"margin-bottom\": 0\n      }, 500, () => {\n        $('#' + this.containerId ).remove()\n      })\n    })\n  }\n\n  apply(figure, attributes, lattr) {\n    lattr.fill = this.angle + \"-\" + this.endColor + \"-\" + this.startColor\n  }\n\n  removePane() {\n    if (this.colorPicker1 !== null) {\n      this.colorPicker1.hidePicker()\n    }\n    if (this.colorPicker2 !== null) {\n      this.colorPicker2.hidePicker()\n    }\n  }\n\n  onInstall(figure) {\n  }\n\n  getPersistentAttributes(relatedFigure) {\n    let memento = super.getPersistentAttributes(relatedFigure)\n\n    memento.startColor = this.startColor\n    memento.endColor = this.endColor\n    memento.angle = this.angle\n\n    return memento\n  }\n\n  setPersistentAttributes(relatedFigure, memento) {\n    super.setPersistentAttributes(relatedFigure, memento)\n\n    this.startColor = memento.startColor\n    this.endColor = memento.endColor\n    this.angle = memento.angle\n\n    return memento\n  }\n}\n\n\n\n\n","// required to register them for JSON serialize/deserialize\n//\nexport default [\n  require(\"./BlurFilter\"),\n  require(\"./FanoutFilter\"),\n  require(\"./FillColorFilter\"),\n  require(\"./Filter\"),\n  require(\"./FontColorFilter\"),\n  require(\"./FontSizeFilter\"),\n  require(\"./LinearGradientFilter\"),\n  require(\"./OpacityFilter\"),\n  require(\"./OutlineStrokeFilter\"),\n  require(\"./PortDirectionFilter\"),\n  require(\"./PortTypeFilter\"),\n  require(\"./PositionFilter\"),\n  require(\"./RadiusFilter\"),\n  require(\"./SizeFilter\"),\n  require(\"./StrokeFilter\"),\n  require(\"./TextLinearGradientFilter\")\n]\n","\nimport DecoratedInputPort from \"./figure/DecoratedInputPort\"\nimport DecoratedOutputPort from \"./figure/DecoratedOutputPort\"\nimport CircuitFigure from \"./figure/CircuitFigure\"\nimport Mousetrap from \"mousetrap\"\nimport \"./util/mousetrap-global\"\nimport \"./util/mousetrap-pause\"\nimport hardware from \"./Hardware\"\nimport inlineSVG from \"../../_common/js/inlineSVG\"\nimport LabelInplaceEditor from './LabelInplaceEditor'\n\nexport default {\n  hardware,\n  DecoratedInputPort,\n  DecoratedOutputPort,\n  LabelInplaceEditor,\n  Mousetrap,\n  CircuitFigure,\n  inlineSVG\n}\n","import axios from \"axios\"\n\nimport \"../less/index.less\"\nimport \"font-awesome/css/font-awesome.css\"\nimport global from \"./global\"\nimport conf from \"./Configuration\"\n\n// Resolve name collision between jQuery UI and Twitter Bootstrap\n/*** Handle jQuery plugin naming conflict between jQuery UI and Bootstrap ***/\n$.widget.bridge('uibutton', $.ui.button)\n$.widget.bridge('uitooltip', $.ui.tooltip)\n\n\nimport \"./figure/index\"\nimport \"./filter/index\"\n\n// required to be compatible with jquery.layout and jquery.handsontable\n//\njQuery.uaMatch = function (ua) {\n  ua = ua.toLowerCase()\n  var match = /(chrome)[ \\/]([\\w.]+)/.exec(ua) ||\n    /(webkit)[ \\/]([\\w.]+)/.exec(ua) ||\n    /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(ua) ||\n    /(msie) ([\\w.]+)/.exec(ua) ||\n    ua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) ||\n    []\n  return {\n    browser: match[1] || \"\",\n    version: match[2] || \"0\"\n  }\n}\nif (!jQuery.browser) {\n  let matched = jQuery.uaMatch(navigator.userAgent)\n  let browser = {}\n  if (matched.browser) {\n    browser[matched.browser] = true\n    browser.version = matched.version\n  }\n// Chrome is Webkit, but Webkit is also Safari.\n  if (browser.chrome) {\n    browser.webkit = true\n  } else if (browser.webkit) {\n    browser.safari = true\n  }\n  jQuery.browser = browser\n}\n\n\n\n// need to be global for the \"static\" version hosted on gh-pages\n//\nwindow.conf = conf\n\n\n$(window).load(function () {\n\n  // export all required classes for deserialize JSON with \"eval\"\n  // \"eval\" code didn't sees imported class or code\n  //\n  for(var k in global) window[k]=global[k];\n\n  socket = io({\n      path: '/socket.io'\n    })\n\n  // remove the fileOpen/Save stuff if we run in a \"serverless\" mode. e.g. on gh-pages\n  // (fake event from the socket.io mock )\n  //\n  axios.get(\"../permissions\").then( (response) => {\n    let permissions = response.data\n\n    app = require(\"./Application\")\n    app.init(permissions)\n    shape_designer.app = app\n    $(\".loader\").fadeOut(500, function() { $(this).remove(); })\n  })\n\n})\n","import Hogan from \"hogan.js\"\n\nexport default shape_designer.FigureWriter = draw2d.io.Writer.extend({\n\n  init: function () {\n    this._super()\n  },\n\n  /**\n   * @method\n   * Export the content to the implemented data format. Inherit class implements\n   * content specific writer.\n   * <br>\n   * <br>\n   *\n   * Method signature has been changed from version 2.10.1 to version 3.0.0.<br>\n   * The parameter <b>resultCallback</b> is required and new. The method calls\n   * the callback instead of return the result.\n   *\n   * @param {draw2d.Canvas} canvas\n   * @parma {String} className\n   * @param {Function} resultCallback the method to call on success. The first argument is the result object, the second the base64 representation of the file content\n   */\n  marshal: function (canvas, className, resultCallback) {\n    let baseClass = shape_designer.app.getConfiguration(\"baseClass\")\n    let customCode =  shape_designer.app.getConfiguration(\"code\")\n    customCode = customCode.replace(/testShape/g, className);\n\n    let figures = canvas.getExtFigures()\n    let b = canvas.getBoundingBox()\n\n    let x = b.x\n    let y = b.y\n\n    let ports = []\n    let shapes = []\n\n    shapes.push({\n      constructor: 'this.canvas.paper.path(\"M0,0 L' + (b.w) + ',0 L' + (b.w) + ',' + (b.h) + ' L0,' + (b.h) + '\")',\n      attr: '{\"stroke\":\"none\",\"stroke-width\":0,\"fill\":\"none\"}',\n      name: \"BoundingBox\"\n    })\n\n    figures.each(function (i, figure) {\n      figure.uninstallEditPolicy(\"draw2d.policy.figure.RegionEditPolicy\")\n      let attr = {}\n      figure.svgPathString = null\n      figure.translate(-x, -y)\n      // paint the element and fill the \"attr\" object with the current\n      // settings\n      figure.repaint(attr)\n      delete attr.path\n      delete attr.x\n      delete attr.y\n      if ((figure instanceof shape_designer.figure.ExtPolygon)) {\n        shapes.push({\n          constructor: \"this.canvas.paper.path('\" + figure.svgPathString + \"')\",\n          attr: JSON.stringify(attr),\n          extra: figure.getBlur() === 0 ? \"\" : \"shape.blur(\" + figure.getBlur() + \");\\n\",\n          name: figure.getUserData().name\n        })\n      } else if ((figure instanceof shape_designer.figure.PolyCircle)) {\n        shapes.push({\n          constructor: \"this.canvas.paper.ellipse()\",\n          attr: JSON.stringify(attr),\n          extra: figure.getBlur() === 0 ? \"\" : \"shape.blur(\" + figure.getBlur() + \");\\n\",\n          name: figure.getUserData().name\n        })\n      } else if ((figure instanceof shape_designer.figure.ExtLine)) {\n        // the line itself\n        shapes.push({\n          constructor: \"this.canvas.paper.path('\" + figure.svgPathString + \"')\",\n          attr: JSON.stringify(attr),\n          extra: figure.getBlur() === 0 ? \"\" : \"shape.blur(\" + figure.getBlur() + \");\\n\",\n          name: figure.getUserData().name\n        })\n      } else if (figure instanceof shape_designer.figure.ExtLabel) {\n        attr = figure.svgNodes[0].attr()\n        attr.x = attr.x + figure.getAbsoluteX()\n        attr.y = attr.y + figure.getAbsoluteY()\n        delete attr.transform\n        shapes.push({\n          constructor: \"this.canvas.paper.text(0,0,'\" + figure.getText() + \"')\",\n          attr: JSON.stringify(attr),\n          extra: \"\",\n          name: figure.getUserData().name\n        })\n      } else if (figure instanceof shape_designer.figure.ExtPort) {\n        let typeMapping ={\n          \"Input\": \"new DecoratedInputPort()\",\n          \"Output\": \"new DecoratedOutputPort()\",\n          \"Hybrid\": \"\\\"hybrid\\\"\"\n        }\n        let methodMapping = {\n          \"Input\": \"addPort\",\n          \"Output\": \"addPort\",\n          \"Hybrid\": \"createPort\"\n        }\n        ports.push({\n          type: typeMapping[figure.getInputType()],\n          method: methodMapping[figure.getInputType()],\n          direction: figure.getConnectionDirection(),\n          x: 100 / b.w * figure.getCenter().x,\n          y: 100 / b.h * figure.getCenter().y,\n          color: figure.getBackgroundColor().hash(),\n          name: figure.getUserData().name,\n          fanout: figure.getMaxFanOut()\n        })\n      }\n      figure.translate(x, y)\n    })\n\n    let template = $(\"#shape-base-template\").text().trim()\n\n    let tags = className.split(\"_\")\n    let compiled = Hogan.compile(template)\n    let tooltip= tags.length>0?tags.slice(-1)[0]:name;\n    tooltip = tooltip.split(/\\s*(?=[A-Z][a-z])/).join(\" \")\n    let output = compiled.render({\n      tooltip: tooltip,\n      className: className,\n      baseClass: baseClass,\n      figures: shapes,\n      ports: ports,\n      width: b.w,\n      height: b.h\n    })\n\n    output = output + \"\\n\\n\" + customCode\n    resultCallback(output, draw2d.util.Base64.encode(output))\n  }\n})\n","import AbstractToolPolicy from \"./AbstractToolPolicy\"\n\nconst jsts = require(\"jsts/dist/jsts\")\n\n/* jshint evil: true */\nexport default AbstractToolPolicy.extend({\n\n  init: function () {\n    this._super()\n    this.firstFigure = null\n    this.operation = null\n  },\n\n\n  onInstall: function (canvas) {\n    this.setToolHeader(\"\")\n    this.setToolMessage(\"Select first figure..\")\n  },\n\n  select: function (canvas, figure) {\n\n    if (canvas.getSelection().getAll().contains(figure)) {\n      return // nothing to to\n    }\n\n    // check if the element an valid polygon. otherwise an boolean operation\n    // isn't possible\n    if (!(figure instanceof shape_designer.figure.ExtPolygon)) {\n      return\n    }\n\n    if (canvas.getSelection().getPrimary() !== null) {\n      this.unselect(canvas, canvas.getSelection().getPrimary())\n    }\n\n    if (figure !== null) {\n      figure.select(true) // primary selection\n    }\n\n    canvas.getSelection().setPrimary(figure)\n\n    // inform all selection listeners about the new selection.\n    //\n    canvas.fireEvent(\"select\", {figure: figure})\n  },\n\n\n  execute: function (canvas, firstFigure, figure) {\n    if (firstFigure instanceof draw2d.util.ArrayList) {\n      if (firstFigure.getSize() < 2) {\n        return // silently\n      }\n      figure = firstFigure.get(1)\n      firstFigure = firstFigure.get(0)\n    }\n    this.executeGeometryOperation(canvas, firstFigure, figure, this.operation)\n  },\n\n  executeGeometryOperation: function (canvas, figure1, figure2, operationFunc) {\n    // must be \"var\" and not \"let\"....see the eval method.\n    var p1 = this.getGeometry(figure1)\n    var p2 = this.getGeometry(figure2)\n    let union = eval(\"p1.\" + operationFunc + \"(p2)\")\n\n    let geo = new jsts.io.GeoJSONWriter().write(union)\n    let memento = figure1.getPersistentAttributes()\n    let cmd = new draw2d.command.CommandCollection()\n    cmd.add(new draw2d.command.CommandDelete(figure1))\n    cmd.add(new draw2d.command.CommandDelete(figure2))\n    $.each(geo.coordinates, $.proxy(function (i, poly) {\n      let figure = new shape_designer.figure.ExtPolygon()\n      figure.setPersistentAttributes(memento)\n      figure.vertices = new draw2d.util.ArrayList()\n      $.each(poly, function (i, vertex) {\n        figure.addVertex(vertex[0], vertex[1])\n      })\n      let command = new draw2d.command.CommandAdd(canvas, figure, figure.getX(), figure.getY())\n      cmd.add(command)\n    }, this))\n    canvas.getCommandStack().execute(cmd)\n    this.executed()\n  },\n\n  getGeometry: function (figure) {\n    let reader = new jsts.io.WKTReader()\n    let v = figure.getVertices().clone().asArray()\n    v.push(v[0])\n    return reader.read(\"POLYGON((\" + $.map(v, function (e) {\n      return e.x + \" \" + e.y\n    }).join(\", \") + \"))\")\n  }\n\n})\n\n\n\n\n","export default draw2d.policy.canvas.SelectionPolicy.extend({\n\n  init: function () {\n    this._super()\n  },\n\n  setToolText: function (message) {\n    $('#currentTool_message').fadeOut(200, function () {\n      $(\"#currentTool_message\").html(message)\n      $('#currentTool_message').fadeIn(200)\n    })\n  },\n\n  executed: function(){\n  }\n})\n\n\n\n\n","import AbstractToolPolicy from \"./AbstractToolPolicy\"\n\nimport cursor from \"../../images/cursors/cursor_circle.png\"\n\nexport default AbstractToolPolicy.extend({\n\n  TITLE: \"Circle\",\n\n  init: function () {\n    this._super()\n\n    this.center = null\n    this.boundingBoxFigure1 = null\n    this.boundingBoxFigure2 = null\n  },\n\n\n  onInstall: function (canvas) {\n    canvas.setCursor(cursor)\n  },\n\n  onUninstall: function (canvas) {\n    if (this.boundingBoxFigure1 !== null) {\n      this.boundingBoxFigure1.setCanvas(null)\n      this.boundingBoxFigure1 = null\n      this.boundingBoxFigure2.setCanvas(null)\n      this.boundingBoxFigure2 = null\n    }\n    canvas.setCursor(null)\n  },\n\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\n   */\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\n    this.center = new draw2d.geo.Point(x, y)\n  },\n\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} dx The x diff between start of dragging and this event\n   * @param {Number} dy The y diff between start of dragging and this event\n   * @param {Number} dx2 The x diff since the last call of this dragging operation\n   * @param {Number} dy2 The y diff since the last call of this dragging operation\n   * @template\n   */\n  onMouseDrag: function (canvas, dx, dy, dx2, dy2, shiftKey, ctrlKey) {\n    let r = Math.sqrt(dx * dx + dy * dy)\n    if (this.boundingBoxFigure1 !== null) {\n      this.boundingBoxFigure1.setRadius(Math.abs(r))\n      this.boundingBoxFigure2.setRadius(Math.abs(r))\n    }\n    else {\n      this.boundingBoxFigure1 = new draw2d.shape.basic.Circle({radius: 1})\n      this.boundingBoxFigure1.setCenter(this.center)\n      this.boundingBoxFigure1.setCanvas(canvas)\n      this.boundingBoxFigure1.setBackgroundColor(\"#333333\")\n      this.boundingBoxFigure1.setAlpha(0.1)\n\n      this.boundingBoxFigure2 = new draw2d.shape.basic.Circle({radius: 1})\n      this.boundingBoxFigure2.setCenter(this.center)\n      this.boundingBoxFigure2.setCanvas(canvas)\n      this.boundingBoxFigure2.setStroke(1)\n      this.boundingBoxFigure2.setColor(new draw2d.util.Color(\"#333333\"))\n      this.boundingBoxFigure2.setBackgroundColor(null)\n    }\n  },\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @template\n   */\n  onMouseUp: function (canvas, x, y) {\n    let dx = Math.abs(this.center.x - x)\n    let dy = Math.abs(this.center.y - y)\n    let r = Math.sqrt(dx * dx + dy * dy)\n    if (r > 3) {\n      let circle = new shape_designer.figure.PolyCircle(this.center, r)\n      let command = new draw2d.command.CommandAdd(canvas, circle, circle.getX(), circle.getY())\n      canvas.getCommandStack().execute(command)\n      canvas.setCurrentSelection(circle)\n    }\n\n    this.center = null\n    if (this.boundingBoxFigure1 !== null) {\n      this.boundingBoxFigure1.setCanvas(null)\n      this.boundingBoxFigure1 = null\n      this.boundingBoxFigure2.setCanvas(null)\n      this.boundingBoxFigure2 = null\n    }\n    this.executed()\n  }\n})\n\n\n\n\n","import AbstractGeoToolPolicy from \"./AbstractGeoToolPolicy\"\n\n\n\nexport default AbstractGeoToolPolicy.extend({\n\n  init: function () {\n    this._super()\n    this.operation = \"difference\"\n  },\n\n\n  onInstall: function (canvas) {\n    this.setToolText(\"Select polygon to subtract from\")\n  },\n\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\n   */\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\n    let figure = canvas.getBestFigure(x, y)\n\n    // check if the user click on a child shape. DragDrop and movement must redirect\n    // to the parent\n    // Exception: Port's\n    while ((figure !== null && figure.getParent() !== null) && !(figure instanceof draw2d.Port)) {\n      figure = figure.getParent()\n    }\n\n    if (figure !== canvas.getSelection().getPrimary() && figure !== null && figure.isSelectable() === true) {\n      if (this.firstFigure === null) {\n        this.firstFigure = figure\n        this.select(canvas, figure)\n        this.setToolText(\"Select polygon to subtract\")\n      }\n      else {\n        this.execute(canvas, this.firstFigure, figure)\n        this.firstFigure = null\n        this.setToolText(\"Select polygon to subtract from\")\n      }\n    }\n  }\n})\n\n\n\n\n","import AbstractGeoToolPolicy from \"./AbstractGeoToolPolicy\"\n\n\nexport default AbstractGeoToolPolicy.extend({\n\n  init: function () {\n    this._super()\n    this.operation = \"intersection\"\n  },\n\n\n  onInstall: function (canvas) {\n    this.setToolText(\"Select polygon to intersect with\")\n  },\n\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\n   */\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\n\n    var figure = canvas.getBestFigure(x, y)\n\n    // check if the user click on a child shape. DragDrop and movement must redirect\n    // to the parent\n    // Exception: Port's\n    while ((figure !== null && figure.getParent() !== null) && !(figure instanceof draw2d.Port)) {\n      figure = figure.getParent()\n    }\n\n    if (figure !== canvas.getSelection().getPrimary() && figure !== null && figure.isSelectable() === true) {\n      if (this.firstFigure === null) {\n        this.firstFigure = figure\n        this.select(canvas, figure)\n        this.setToolText(\"Select polygon to intersect\")\n      }\n      else {\n        this.execute(canvas, this.firstFigure, figure)\n        this.firstFigure = null\n        this.setToolText(\"Select polygon to intersect with\")\n      }\n    }\n  }\n\n\n})\n\n\n\n\n","import AbstractGeoToolPolicy from \"./AbstractGeoToolPolicy\"\n\nexport default AbstractGeoToolPolicy.extend({\n\n  init: function () {\n    this._super()\n    this.operation = \"union\"\n  },\n\n\n  onInstall: function (canvas) {\n    this.setToolText(\"Select polygon to add to..\")\n  },\n\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\n   */\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\n    var figure = canvas.getBestFigure(x, y)\n\n    // check if the user click on a child shape. DragDrop and movement must redirect\n    // to the parent\n    // Exception: Port's\n    while ((figure !== null && figure.getParent() !== null) && !(figure instanceof draw2d.Port)) {\n      figure = figure.getParent()\n    }\n\n    if (figure !== canvas.getSelection().getPrimary() && figure !== null && figure.isSelectable() === true) {\n      if (this.firstFigure === null) {\n        this.firstFigure = figure\n        this.select(canvas, figure)\n        this.setToolText(\"Select polygon to merge\")\n      }\n      else {\n        this.execute(canvas, this.firstFigure, figure)\n        this.firstFigure = null\n        this.setToolText(\"Select polygon to add to\")\n      }\n    }\n  }\n})\n\n\n\n\n","import AbstractToolPolicy from \"./AbstractToolPolicy\"\n\nimport cursor from \"../../images/cursors/cursor_line.png\"\n\nexport default AbstractToolPolicy.extend({\n\n  MESSAGE_STEP1: \"Select start point of the line.\",\n  MESSAGE_STEP2: \"Click to add additional vertex.<br>Double click to finish line.\",\n\n  init: function () {\n    this._super()\n\n    this.lineFigure = null\n    this.canvas = null\n  },\n\n\n  onInstall: function (canvas) {\n    this.setToolText(this.MESSAGE_STEP1)\n    this.canvas = canvas\n    canvas.setCursor(cursor)\n  },\n\n  onUninstall: function (canvas) {\n    if (this.lineFigure !== null) {\n      if (this.lineFigure.getVertices().getSize() < 2) {\n        canvas.remove(this.lineFigure)\n        this.lineFigure = null\n      }\n      else {\n        // stay in the canvas and finalize the stroke if a doubleClick\n        let last = this.lineFigure.vertices.last()\n        this.onDoubleClick(this.lineFigure, last.x, last.y, false, false)\n      }\n    }\n    this.canvas = null\n    canvas.setCursor(null)\n  },\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\n   */\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\n\n  },\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse event\n   * @param {Number} y the y-coordinate of the mouse event\n   * @template\n   */\n  onMouseMove: function (canvas, x, y) {\n\n    if (this.lineFigure !== null) {\n      this.lineFigure.setEndPoint(x, y)\n    }\n  },\n\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} dx The x diff between start of dragging and this event\n   * @param {Number} dy The y diff between start of dragging and this event\n   * @param {Number} dx2 The x diff since the last call of this dragging operation\n   * @param {Number} dy2 The y diff since the last call of this dragging operation\n   * @template\n   */\n  onMouseDrag: function (canvas, dx, dy, dx2, dy2) {\n  },\n\n\n  onDoubleClick: function (figure, x, y, shiftKey, ctrlKey) {\n    this.onClick(figure, x, y, shiftKey, ctrlKey)\n\n    // Remove duplicate points at the end of the polyLine. This happens during the DoubleClick.\n    // Reason: before the double click is fired the two \"single click\" comes before. In this case we\n    // added three vertex for a doubleClick event\n    //\n\n    // don't use the shortcut and assign the this.lineFigure.vertices to a local var.\n    // The vertices are recreated in the \"calculatePath\" method of the polygon and\n    // the reference is in this case invalid...design flaw!\n    //\n    let last = this.lineFigure.vertices.last()\n    let beforeLast = this.lineFigure.vertices.get(this.lineFigure.vertices.getSize() - 2)\n    while (last.equals(beforeLast)) {\n      this.lineFigure.removeVertexAt(this.lineFigure.vertices.getSize() - 2)\n      beforeLast = this.lineFigure.vertices.get(this.lineFigure.vertices.getSize() - 2)\n    }\n\n    this.lineFigure = null\n    this.executed()\n  },\n\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\n   * @template\n   */\n  onClick: function (figure, x, y, shiftKey, ctrlKey) {\n    if (this.lineFigure === null) {\n      this.setToolText(this.MESSAGE_STEP2)\n\n      this.lineFigure = new shape_designer.figure.ExtLine()\n      this.lineFigure.setStartPoint(x, y)\n      this.lineFigure.setEndPoint(x, y)\n      let command = new draw2d.command.CommandAdd(this.canvas, this.lineFigure, x, y)\n      this.canvas.getCommandStack().execute(command)\n      this.canvas.setCurrentSelection(this.lineFigure)\n    }\n    else {\n      this.lineFigure.addVertex(x, y)\n    }\n  }\n})\n\n\n\n\n","import SelectionToolPolicy from \"./SelectionToolPolicy\"\n\nimport cursor from \"../../images/cursors/cursor_port.png\"\n\nexport default SelectionToolPolicy.extend({\n\n  TITLE: \"Port\",\n  MESSAGE_STEP1: \"Select location to add port.<br>Click on port to move.\",\n\n  init: function () {\n    this._super()\n  },\n\n\n  onInstall: function (canvas) {\n    this.setToolText(this.MESSAGE_STEP1)\n    canvas.setCursor(cursor)\n  },\n\n  onUninstall: function (canvas) {\n    canvas.setCursor(null)\n  },\n\n\n  select: function (canvas, figure) {\n    // check if the element an valid polygon. otherwise an boolean operation\n    // isn't possible\n    if (!(figure instanceof shape_designer.figure.ExtPort)) {\n      return\n    }\n\n    this._super(canvas, figure)\n  },\n\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\n    let figure = canvas.getBestFigure(x, y)\n\n    if (figure === null || figure instanceof shape_designer.figure.ExtPort) {\n      this._super(canvas, x, y, shiftKey, ctrlKey)\n    }\n  },\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @template\n   */\n  onMouseUp: function (canvas, x, y) {\n\n    if (this.mouseDownElement === null || !(this.mouseDownElement instanceof shape_designer.figure.ExtPort)) {\n      let command = new draw2d.command.CommandAdd(canvas, new shape_designer.figure.ExtPort(), x, y)\n      canvas.getCommandStack().execute(command)\n      canvas.setCurrentSelection(command.figure)\n      this.executed()\n    }\n    else {\n      this._super(canvas, x, y)\n    }\n  }\n})\n\n\n\n\n","import PolyRect from \"../figure/PolyRect\"\nimport AbstractToolPolicy from \"./AbstractToolPolicy\"\nimport cursor from \"../../images/cursors/cursor_rectangle.png\"\n\nexport default AbstractToolPolicy.extend({\n\n  init: function () {\n    this._super()\n\n    this.topLeftPoint = null\n    this.boundingBoxFigure1 = null\n    this.boundingBoxFigure2 = null\n  },\n\n\n  onInstall: function (canvas) {\n    this.setToolText(\"Select first corner of rectangle\")\n    canvas.setCursor(cursor)\n  },\n\n  onUninstall: function (canvas) {\n    if (this.boundingBoxFigure1 !== null) {\n      this.boundingBoxFigure1.setCanvas(null)\n      this.boundingBoxFigure1 = null\n      this.boundingBoxFigure2.setCanvas(null)\n      this.boundingBoxFigure2 = null\n    }\n    canvas.setCursor(null)\n  },\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\n   */\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\n    this.topLeftPoint = new draw2d.geo.Point(x, y)\n  },\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} dx The x diff between start of dragging and this event\n   * @param {Number} dy The y diff between start of dragging and this event\n   * @param {Number} dx2 The x diff since the last call of this dragging operation\n   * @param {Number} dy2 The y diff since the last call of this dragging operation\n   * @template\n   */\n  onMouseDrag: function (canvas, dx, dy, dx2, dy2, shiftKey, ctrlKey) {\n\n    if (this.boundingBoxFigure1 === null) {\n      this.boundingBoxFigure1 = new draw2d.shape.basic.Rectangle({\n        width: 1,\n        height: 1,\n        x: this.topLeftPoint.x,\n        y: this.topLeftPoint.y,\n        bgColor: \"#d4d1d4\",\n        alpha: 0.1\n      });\n      this.boundingBoxFigure1.setCanvas(canvas);\n\n      this.boundingBoxFigure2 = new draw2d.shape.basic.Rectangle({\n        width: 1,\n        height: 1,\n        x: this.topLeftPoint.x,\n        y: this.topLeftPoint.y,\n        dash: \"--..\",\n        stroke: 0.5,\n        color: \"#37a8ff\",\n        bgColor: null\n      });\n      this.boundingBoxFigure2.setCanvas(canvas);\n    }\n\n    if (this.boundingBoxFigure1 !== null) {\n      this.boundingBoxFigure1.setDimension(Math.abs(dx), Math.abs(dy));\n      this.boundingBoxFigure1.setPosition(this.topLeftPoint.x + Math.min(0, dx), this.topLeftPoint.y + Math.min(0, dy));\n      this.boundingBoxFigure2.setDimension(Math.abs(dx), Math.abs(dy));\n      this.boundingBoxFigure2.setPosition(this.topLeftPoint.x + Math.min(0, dx), this.topLeftPoint.y + Math.min(0, dy));\n    }\n  },\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @template\n   */\n  onMouseUp: function (canvas, x, y) {\n    if (this.boundingBoxFigure1 !== null) {\n      this.boundingBoxFigure1.setCanvas(null);\n      this.boundingBoxFigure1 = null;\n      this.boundingBoxFigure2.setCanvas(null);\n      this.boundingBoxFigure2 = null;\n    }\n\n    let bottomRight = new draw2d.geo.Point(x, y)\n    if (this.topLeftPoint.distance(bottomRight) > 3) {\n      let rect = new PolyRect(this.topLeftPoint, bottomRight)\n      let command = new draw2d.command.CommandAdd(canvas, rect, rect.getX(), rect.getY())\n      canvas.getCommandStack().execute(command)\n      canvas.setCurrentSelection(rect)\n    }\n    this.executed()\n    this.topLeftPoint = null\n  }\n})\n\n\n\n\n","\nexport default draw2d.policy.canvas.BoundingboxSelectionPolicy.extend({\n\n  init: function () {\n    this._super()\n  },\n\n  onInstall: function (canvas) {\n    this.setToolText(\"Click on shape to select<br>Double click to edit\")\n  },\n\n\n  setToolHeader: function (heading, icon) {\n    $(\"#currentTool_image\").attr({\"src\": icon})\n    $(\"#currentTool_heading\").text(heading)\n  },\n\n  setToolText: function (message) {\n    $(\"#currentTool_message\").html(message)\n  },\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\n   */\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\n    this.cloneOnDrag = shiftKey\n    this._super(canvas, x, y, shiftKey, ctrlKey)\n  },\n\n  /**\n   * Copy the selected figure if the user start dragging the selection.\n   *\n   */\n  onMouseDrag: function (canvas, dx, dy, dx2, dy2) {\n    if (!((this.mouseDraggingElement instanceof draw2d.ResizeHandle) || (this.mouseDraggingElement instanceof draw2d.Port))) {\n      if (this.cloneOnDrag === true && this.mouseDraggingElement !== null) {\n        // get the current position of the selected shape\n        var pos = this.mouseDraggingElement.getPosition()\n\n        // cancel the current drag&drop operation\n        this.mouseDraggingElement.onDragEnd(pos.x, pos.y, false, false)\n        this.mouseDraggingElement.unselect()\n\n        // clone the selection\n        this.mouseDraggingElement = this.mouseDraggingElement.clone()\n        // add the clone to the canvas and start dragging of the clone\n        canvas.add(this.mouseDraggingElement, pos)\n\n        // select the cloned shape\n        this.select(canvas, this.mouseDraggingElement)\n\n        // start dragging if the clone accept this operation\n        this.mouseDraggingElement.onDragStart(pos.x, pos.y, false, false)\n      }\n    }\n    this.cloneOnDrag = false\n    this._super(canvas, dx, dy, dx2, dy2)\n  }\n})\n","import AbstractToolPolicy from \"./AbstractToolPolicy\"\n\nimport cursor from \"../../images/cursors/cursor_text.png\"\n\nexport default AbstractToolPolicy.extend({\n\n  TITLE: \"Text\",\n  MESSAGE_STEP1: \"Select location for text\",\n  MESSAGE_STEP2: \"Enter Text\",\n\n  init: function () {\n    this._super()\n\n    this.newFigure = null\n  },\n\n\n  onInstall: function (canvas) {\n    this.setToolText(this.MESSAGE_STEP1)\n    canvas.setCursor(cursor)\n  },\n\n  onUninstall: function (canvas) {\n    canvas.setCursor(null)\n  },\n\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\n   */\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\n\n  },\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse event\n   * @param {Number} y the y-coordinate of the mouse event\n   * @template\n   */\n  onMouseMove: function (canvas, x, y) {\n  },\n\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} dx The x diff between start of dragging and this event\n   * @param {Number} dy The y diff between start of dragging and this event\n   * @param {Number} dx2 The x diff since the last call of this dragging operation\n   * @param {Number} dy2 The y diff since the last call of this dragging operation\n   * @template\n   */\n  onMouseDrag: function (canvas, dx, dy, dx2, dy2) {\n  },\n\n  /**\n   * @method\n   *\n   * @param {draw2d.Canvas} canvas\n   * @param {Number} x the x-coordinate of the mouse down event\n   * @param {Number} y the y-coordinate of the mouse down event\n   * @template\n   */\n  onMouseUp: function (canvas, x, y) {\n       this.setToolText(this.MESSAGE_STEP2)\n\n      this.newFigure = new shape_designer.figure.ExtLabel({\n        text :\"Text\",\n        stroke: 0,\n        padding: 5,\n        fontSize: 16,\n        x:parseInt(x),\n        y: parseInt(y)\n      })\n\n      let command = new draw2d.command.CommandAdd(canvas, this.newFigure, parseInt(x), parseInt(y))\n      canvas.getCommandStack().execute(command)\n      canvas.setCurrentSelection(this.newFigure)\n\n      // start inplace editing\n      //\n      setTimeout($.proxy(function () {\n        this.newFigure.onDoubleClick()\n      }, this), 100)\n\n      this.executed()\n  }\n})\n\n\n\n\n","/**\n * adds a bindGlobal method to Mousetrap that allows you to\n * bind specific keyboard shortcuts that will still work\n * inside a text input field\n *\n * usage:\n * Mousetrap.bindGlobal('ctrl+s', _saveChanges);\n */\n/* global Mousetrap:true */\n(function(Mousetrap) {\n  var _globalCallbacks = {};\n  var _originalStopCallback = Mousetrap.prototype.stopCallback;\n\n  Mousetrap.prototype.stopCallback = function(e, element, combo, sequence) {\n    var self = this;\n\n    if (self.paused) {\n      return true;\n    }\n\n    if (_globalCallbacks[combo] || _globalCallbacks[sequence]) {\n      return false;\n    }\n\n    return _originalStopCallback.call(self, e, element, combo);\n  };\n\n  Mousetrap.prototype.bindGlobal = function(keys, callback, action) {\n    var self = this;\n    self.bind(keys, callback, action);\n\n    if (keys instanceof Array) {\n      for (var i = 0; i < keys.length; i++) {\n        _globalCallbacks[keys[i]] = true;\n      }\n      return;\n    }\n\n    _globalCallbacks[keys] = true;\n  };\n\n  Mousetrap.init();\n}) (Mousetrap);\n","/**\n * adds a pause and unpause method to Mousetrap\n * this allows you to enable or disable keyboard shortcuts\n * without having to reset Mousetrap and rebind everything\n */\n/* global Mousetrap:true */\n(function(Mousetrap) {\n  let _originalStopCallback = Mousetrap.prototype.stopCallback;\n\n  Mousetrap.prototype.stopCallback = function(e, element, combo) {\n    let self = this;\n\n    if (self.paused) {\n      return true;\n    }\n\n    return _originalStopCallback.call(self, e, element, combo);\n  };\n\n  Mousetrap.prototype.pause = function() {\n    let self = this;\n    self.paused = true;\n  };\n\n  Mousetrap.prototype.unpause = function() {\n    let self = this;\n    self.paused = false;\n  };\n\n  Mousetrap.init();\n}) (Mousetrap);\n","module.exports = \"js/webpack/5034704a76cd55c1cbcbc58ea6bf523f.gif\";","module.exports = \"js/webpack/ba9a274b9323753cd95bc3b1eb2f4e5f.gif\";","module.exports = \"js/webpack/fefa1a03d92ebad25c88dca94a0b63db.png\";","module.exports = \"js/webpack/990d71cada17da100653636cf8490884.png\";","/**\n * jscolor, JavaScript Color Picker\n *\n * @version 1.4.2\n * @license GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html\n * @author  Jan Odvarko, http://odvarko.cz\n * @created 2008-06-15\n * @updated 2013-11-25\n * @link    http://jscolor.com\n */\nimport arrowImg from \"./arrow.gif\"\nimport crossImg from \"./cross.gif\"\nimport hsImg from \"./hs.png\"\nimport hvImg from \"./hv.png\"\n\nlet jscolor = null\nexport default jscolor = {\n\n  dir: '', // location of jscolor directory (leave empty to autodetect)\n  bindClass: 'color', // class name\n  binding: true, // automatic binding via <input class=\"...\">\n  preloading: true, // use image preloading?\n\n\n  install: function () {\n    jscolor.addEvent(window, 'load', jscolor.init)\n  },\n\n\n  init: function () {\n    if (jscolor.binding) {\n      jscolor.bind()\n    }\n    if (jscolor.preloading) {\n      jscolor.preload()\n    }\n  },\n\n  bind: function () {\n    var matchClass = new RegExp('(^|\\\\s)(' + jscolor.bindClass + ')\\\\s*(\\\\{[^}]*\\\\})?', 'i')\n    var e = document.getElementsByTagName('input')\n    for (var i = 0; i < e.length; i += 1) {\n      var m\n      if (!e[i].color && e[i].className && (m = e[i].className.match(matchClass))) {\n        var prop = {}\n        if (m[3]) {\n          try {\n            prop = (new Function('return (' + m[3] + ')'))()\n          } catch (eInvalidProp) {\n          }\n        }\n        e[i].color = new jscolor.color(e[i], prop)\n      }\n    }\n  },\n\n\n  preload: function () {\n    for (var fn in jscolor.imgRequire) {\n      if (jscolor.imgRequire.hasOwnProperty(fn)) {\n        jscolor.loadImage(fn)\n      }\n    }\n  },\n\n\n  images: {\n    pad: [181, 101],\n    sld: [16, 101],\n    cross: [15, 15],\n    arrow: [7, 11]\n  },\n\n\n  imgRequire: {},\n  imgLoaded: {},\n\n\n  requireImage: function (filename) {\n    jscolor.imgRequire[filename] = true\n  },\n\n\n  loadImage: function (filename) {\n    if (!jscolor.imgLoaded[filename]) {\n      jscolor.imgLoaded[filename] = new Image()\n      jscolor.imgLoaded[filename].src = filename\n    }\n  },\n\n\n  fetchElement: function (mixed) {\n    return typeof mixed === 'string' ? document.getElementById(mixed) : mixed\n  },\n\n\n  addEvent: function (el, evnt, func) {\n    if (el.addEventListener) {\n      el.addEventListener(evnt, func, false)\n    } else if (el.attachEvent) {\n      el.attachEvent('on' + evnt, func)\n    }\n  },\n\n\n  fireEvent: function (el, evnt) {\n    if (!el) {\n      return\n    }\n    if (document.createEvent) {\n      var ev = document.createEvent('HTMLEvents')\n      ev.initEvent(evnt, true, true)\n      el.dispatchEvent(ev)\n    } else if (document.createEventObject) {\n      var ev = document.createEventObject()\n      el.fireEvent('on' + evnt, ev)\n    } else if (el['on' + evnt]) { // alternatively use the traditional event model (IE5)\n      el['on' + evnt]()\n    }\n  },\n\n\n  getElementPos: function (e) {\n    var e1 = e, e2 = e\n    var x = 0, y = 0\n    if (e1.offsetParent) {\n      do {\n        x += e1.offsetLeft\n        y += e1.offsetTop\n      } while (e1 = e1.offsetParent)\n    }\n    while ((e2 = e2.parentNode) && e2.nodeName.toUpperCase() !== 'BODY') {\n      x -= e2.scrollLeft\n      y -= e2.scrollTop\n    }\n    return [x, y]\n  },\n\n\n  getElementSize: function (e) {\n    return [e.offsetWidth, e.offsetHeight]\n  },\n\n\n  getRelMousePos: function (e) {\n    var x = 0, y = 0\n    if (!e) {\n      e = window.event\n    }\n    if (typeof e.offsetX === 'number') {\n      x = e.offsetX\n      y = e.offsetY\n    } else if (typeof e.layerX === 'number') {\n      x = e.layerX\n      y = e.layerY\n    }\n    return {x: x, y: y}\n  },\n\n\n  getViewPos: function () {\n    if (typeof window.pageYOffset === 'number') {\n      return [window.pageXOffset, window.pageYOffset]\n    } else if (document.body && (document.body.scrollLeft || document.body.scrollTop)) {\n      return [document.body.scrollLeft, document.body.scrollTop]\n    } else if (document.documentElement && (document.documentElement.scrollLeft || document.documentElement.scrollTop)) {\n      return [document.documentElement.scrollLeft, document.documentElement.scrollTop]\n    } else {\n      return [0, 0]\n    }\n  },\n\n\n  getViewSize: function () {\n    if (typeof window.innerWidth === 'number') {\n      return [window.innerWidth, window.innerHeight]\n    } else if (document.body && (document.body.clientWidth || document.body.clientHeight)) {\n      return [document.body.clientWidth, document.body.clientHeight]\n    } else if (document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight)) {\n      return [document.documentElement.clientWidth, document.documentElement.clientHeight]\n    } else {\n      return [0, 0]\n    }\n  },\n\n\n  URI: function (uri) { // See RFC3986\n\n    this.scheme = null\n    this.authority = null\n    this.path = ''\n    this.query = null\n    this.fragment = null\n\n    this.parse = function (uri) {\n      var m = uri.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\\/\\/)([^\\/?#]*))?([^?#]*)((\\?)([^#]*))?((#)(.*))?/)\n      this.scheme = m[3] ? m[2] : null\n      this.authority = m[5] ? m[6] : null\n      this.path = m[7]\n      this.query = m[9] ? m[10] : null\n      this.fragment = m[12] ? m[13] : null\n      return this\n    }\n\n    this.toString = function () {\n      var result = ''\n      if (this.scheme !== null) {\n        result = result + this.scheme + ':'\n      }\n      if (this.authority !== null) {\n        result = result + '//' + this.authority\n      }\n      if (this.path !== null) {\n        result = result + this.path\n      }\n      if (this.query !== null) {\n        result = result + '?' + this.query\n      }\n      if (this.fragment !== null) {\n        result = result + '#' + this.fragment\n      }\n      return result\n    }\n\n    this.toAbsolute = function (base) {\n      var base = new jscolor.URI(base)\n      var r = this\n      var t = new jscolor.URI\n\n      if (base.scheme === null) {\n        return false\n      }\n\n      if (r.scheme !== null && r.scheme.toLowerCase() === base.scheme.toLowerCase()) {\n        r.scheme = null\n      }\n\n      if (r.scheme !== null) {\n        t.scheme = r.scheme\n        t.authority = r.authority\n        t.path = removeDotSegments(r.path)\n        t.query = r.query\n      } else {\n        if (r.authority !== null) {\n          t.authority = r.authority\n          t.path = removeDotSegments(r.path)\n          t.query = r.query\n        } else {\n          if (r.path === '') {\n            t.path = base.path\n            if (r.query !== null) {\n              t.query = r.query\n            } else {\n              t.query = base.query\n            }\n          } else {\n            if (r.path.substr(0, 1) === '/') {\n              t.path = removeDotSegments(r.path)\n            } else {\n              if (base.authority !== null && base.path === '') {\n                t.path = '/' + r.path\n              } else {\n                t.path = base.path.replace(/[^\\/]+$/, '') + r.path\n              }\n              t.path = removeDotSegments(t.path)\n            }\n            t.query = r.query\n          }\n          t.authority = base.authority\n        }\n        t.scheme = base.scheme\n      }\n      t.fragment = r.fragment\n\n      return t\n    }\n\n    function removeDotSegments(path) {\n      var out = ''\n      while (path) {\n        if (path.substr(0, 3) === '../' || path.substr(0, 2) === './') {\n          path = path.replace(/^\\.+/, '').substr(1)\n        } else if (path.substr(0, 3) === '/./' || path === '/.') {\n          path = '/' + path.substr(3)\n        } else if (path.substr(0, 4) === '/../' || path === '/..') {\n          path = '/' + path.substr(4)\n          out = out.replace(/\\/?[^\\/]*$/, '')\n        } else if (path === '.' || path === '..') {\n          path = ''\n        } else {\n          var rm = path.match(/^\\/?[^\\/]*/)[0]\n          path = path.substr(rm.length)\n          out = out + rm\n        }\n      }\n      return out\n    }\n\n    if (uri) {\n      this.parse(uri)\n    }\n\n  },\n\n\n  //\n  // Usage example:\n  // var myColor = new jscolor.color(myInputElement)\n  //\n\n  color: function (target, prop) {\n\n\n    this.required = true // refuse empty values?\n    this.adjust = true // adjust value to uniform notation?\n    this.hash = false // prefix color with # symbol?\n    this.caps = true // uppercase?\n    this.slider = true // show the value/saturation slider?\n    this.valueElement = target // value holder\n    this.styleElement = target // where to reflect current color\n    this.onImmediateChange = null // onchange callback (can be either string or function)\n    this.hsv = [0, 0, 1] // read-only  0-6, 0-1, 0-1\n    this.rgb = [1, 1, 1] // read-only  0-1, 0-1, 0-1\n    this.minH = 0 // read-only  0-6\n    this.maxH = 6 // read-only  0-6\n    this.minS = 0 // read-only  0-1\n    this.maxS = 1 // read-only  0-1\n    this.minV = 0 // read-only  0-1\n    this.maxV = 1 // read-only  0-1\n\n    this.pickerOnfocus = true // display picker on focus?\n    this.pickerMode = 'HSV' // HSV | HVS\n    this.pickerPosition = 'bottom' // left | right | top | bottom\n    this.pickerSmartPosition = true // automatically adjust picker position when necessary\n    this.pickerButtonHeight = 20 // px\n    this.pickerClosable = false\n    this.pickerCloseText = 'Close'\n    this.pickerButtonColor = 'ButtonText' // px\n    this.pickerFace = 10 // px\n    this.pickerFaceColor = 'ThreeDFace' // CSS color\n    this.pickerBorder = 1 // px\n    this.pickerBorderColor = 'ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight' // CSS color\n    this.pickerInset = 1 // px\n    this.pickerInsetColor = 'ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow' // CSS color\n    this.pickerZIndex = 10000\n\n\n    for (var p in prop) {\n      if (prop.hasOwnProperty(p)) {\n        this[p] = prop[p]\n      }\n    }\n\n\n    this.hidePicker = function () {\n      if (isPickerOwner()) {\n        removePicker()\n      }\n    }\n\n\n    this.showPicker = function () {\n      if (!isPickerOwner()) {\n        var tp = jscolor.getElementPos(target) // target pos\n        var ts = jscolor.getElementSize(target) // target size\n        var vp = jscolor.getViewPos() // view pos\n        var vs = jscolor.getViewSize() // view size\n        var ps = getPickerDims(this) // picker size\n        var a, b, c\n        switch (this.pickerPosition.toLowerCase()) {\n          case 'left':\n            a = 1\n            b = 0\n            c = -1\n            break\n          case 'right':\n            a = 1\n            b = 0\n            c = 1\n            break\n          case 'top':\n            a = 0\n            b = 1\n            c = -1\n            break\n          default:\n            a = 0\n            b = 1\n            c = 1\n            break\n        }\n        var l = (ts[b] + ps[b]) / 2\n\n        // picker pos\n        if (!this.pickerSmartPosition) {\n          var pp = [\n            tp[a],\n            tp[b] + ts[b] - l + l * c\n          ]\n        } else {\n          var pp = [\n            -vp[a] + tp[a] + ps[a] > vs[a] ?\n              (-vp[a] + tp[a] + ts[a] / 2 > vs[a] / 2 && tp[a] + ts[a] - ps[a] >= 0 ? tp[a] + ts[a] - ps[a] : tp[a]) :\n              tp[a],\n            -vp[b] + tp[b] + ts[b] + ps[b] - l + l * c > vs[b] ?\n              (-vp[b] + tp[b] + ts[b] / 2 > vs[b] / 2 && tp[b] + ts[b] - l - l * c >= 0 ? tp[b] + ts[b] - l - l * c : tp[b] + ts[b] - l + l * c) :\n              (tp[b] + ts[b] - l + l * c >= 0 ? tp[b] + ts[b] - l + l * c : tp[b] + ts[b] - l - l * c)\n          ]\n        }\n        drawPicker(pp[a], pp[b])\n      }\n    }\n\n\n    this.importColor = function () {\n      if (!valueElement) {\n        this.exportColor()\n      } else {\n        if (!this.adjust) {\n          if (!this.fromString(valueElement.value, leaveValue)) {\n            styleElement.style.backgroundImage = styleElement.jscStyle.backgroundImage\n            styleElement.style.backgroundColor = styleElement.jscStyle.backgroundColor\n            styleElement.style.color = styleElement.jscStyle.color\n            this.exportColor(leaveValue | leaveStyle)\n          }\n        } else if (!this.required && /^\\s*$/.test(valueElement.value)) {\n          valueElement.value = ''\n          styleElement.style.backgroundImage = styleElement.jscStyle.backgroundImage\n          styleElement.style.backgroundColor = styleElement.jscStyle.backgroundColor\n          styleElement.style.color = styleElement.jscStyle.color\n          this.exportColor(leaveValue | leaveStyle)\n\n        } else if (this.fromString(valueElement.value)) {\n          // OK\n        } else {\n          this.exportColor()\n        }\n      }\n    }\n\n\n    this.exportColor = function (flags) {\n      if (!(flags & leaveValue) && valueElement) {\n        var value = this.toString()\n        if (this.caps) {\n          value = value.toUpperCase()\n        }\n        if (this.hash) {\n          value = '#' + value\n        }\n        valueElement.value = value\n      }\n      if (!(flags & leaveStyle) && styleElement) {\n        styleElement.style.backgroundImage = \"none\"\n        styleElement.style.backgroundColor =\n          '#' + this.toString()\n        styleElement.style.color =\n          0.213 * this.rgb[0] +\n          0.715 * this.rgb[1] +\n          0.072 * this.rgb[2]\n          < 0.5 ? '#FFF' : '#000'\n      }\n      if (!(flags & leavePad) && isPickerOwner()) {\n        redrawPad()\n      }\n      if (!(flags & leaveSld) && isPickerOwner()) {\n        redrawSld()\n      }\n    }\n\n\n    this.fromHSV = function (h, s, v, flags) { // null = don't change\n      if (h !== null) {\n        h = Math.max(0.0, this.minH, Math.min(6.0, this.maxH, h))\n      }\n      if (s !== null) {\n        s = Math.max(0.0, this.minS, Math.min(1.0, this.maxS, s))\n      }\n      if (v !== null) {\n        v = Math.max(0.0, this.minV, Math.min(1.0, this.maxV, v))\n      }\n\n      this.rgb = HSV_RGB(\n        h === null ? this.hsv[0] : (this.hsv[0] = h),\n        s === null ? this.hsv[1] : (this.hsv[1] = s),\n        v === null ? this.hsv[2] : (this.hsv[2] = v)\n      )\n\n      this.exportColor(flags)\n    }\n\n\n    this.fromRGB = function (r, g, b, flags) { // null = don't change\n      if (r !== null) {\n        r = Math.max(0.0, Math.min(1.0, r))\n      }\n      if (g !== null) {\n        g = Math.max(0.0, Math.min(1.0, g))\n      }\n      if (b !== null) {\n        b = Math.max(0.0, Math.min(1.0, b))\n      }\n\n      var hsv = RGB_HSV(\n        r === null ? this.rgb[0] : r,\n        g === null ? this.rgb[1] : g,\n        b === null ? this.rgb[2] : b\n      )\n      if (hsv[0] !== null) {\n        this.hsv[0] = Math.max(0.0, this.minH, Math.min(6.0, this.maxH, hsv[0]))\n      }\n      if (hsv[2] !== 0) {\n        this.hsv[1] = hsv[1] === null ? null : Math.max(0.0, this.minS, Math.min(1.0, this.maxS, hsv[1]))\n      }\n      this.hsv[2] = hsv[2] === null ? null : Math.max(0.0, this.minV, Math.min(1.0, this.maxV, hsv[2]))\n\n      // update RGB according to final HSV, as some values might be trimmed\n      var rgb = HSV_RGB(this.hsv[0], this.hsv[1], this.hsv[2])\n      this.rgb[0] = rgb[0]\n      this.rgb[1] = rgb[1]\n      this.rgb[2] = rgb[2]\n\n      this.exportColor(flags)\n    }\n\n\n    this.fromString = function (hex, flags) {\n      var m = hex.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i)\n      if (!m) {\n        return false\n      } else {\n        if (m[1].length === 6) { // 6-char notation\n          this.fromRGB(\n            parseInt(m[1].substr(0, 2), 16) / 255,\n            parseInt(m[1].substr(2, 2), 16) / 255,\n            parseInt(m[1].substr(4, 2), 16) / 255,\n            flags\n          )\n        } else { // 3-char notation\n          this.fromRGB(\n            parseInt(m[1].charAt(0) + m[1].charAt(0), 16) / 255,\n            parseInt(m[1].charAt(1) + m[1].charAt(1), 16) / 255,\n            parseInt(m[1].charAt(2) + m[1].charAt(2), 16) / 255,\n            flags\n          )\n        }\n        return true\n      }\n    }\n\n\n    this.toString = function () {\n      return (\n        (0x100 | Math.round(255 * this.rgb[0])).toString(16).substr(1) +\n        (0x100 | Math.round(255 * this.rgb[1])).toString(16).substr(1) +\n        (0x100 | Math.round(255 * this.rgb[2])).toString(16).substr(1)\n      )\n    }\n\n\n    function RGB_HSV(r, g, b) {\n      var n = Math.min(Math.min(r, g), b)\n      var v = Math.max(Math.max(r, g), b)\n      var m = v - n\n      if (m === 0) {\n        return [null, 0, v]\n      }\n      var h = r === n ? 3 + (b - g) / m : (g === n ? 5 + (r - b) / m : 1 + (g - r) / m)\n      return [h === 6 ? 0 : h, m / v, v]\n    }\n\n\n    function HSV_RGB(h, s, v) {\n      if (h === null) {\n        return [v, v, v]\n      }\n      var i = Math.floor(h)\n      var f = i % 2 ? h - i : 1 - (h - i)\n      var m = v * (1 - s)\n      var n = v * (1 - s * f)\n      switch (i) {\n        case 6:\n        case 0:\n          return [v, n, m]\n        case 1:\n          return [n, v, m]\n        case 2:\n          return [m, v, n]\n        case 3:\n          return [m, n, v]\n        case 4:\n          return [n, m, v]\n        case 5:\n          return [v, m, n]\n      }\n    }\n\n\n    function removePicker() {\n      delete jscolor.picker.owner\n      document.getElementsByTagName('body')[0].removeChild(jscolor.picker.boxB)\n    }\n\n\n    function drawPicker(x, y) {\n      if (!jscolor.picker) {\n        jscolor.picker = {\n          box: document.createElement('div'),\n          boxB: document.createElement('div'),\n          pad: document.createElement('div'),\n          padB: document.createElement('div'),\n          padM: document.createElement('div'),\n          sld: document.createElement('div'),\n          sldB: document.createElement('div'),\n          sldM: document.createElement('div'),\n          btn: document.createElement('div'),\n          btnS: document.createElement('span'),\n          btnT: document.createTextNode(THIS.pickerCloseText)\n        }\n        for (var i = 0, segSize = 4; i < jscolor.images.sld[1]; i += segSize) {\n          var seg = document.createElement('div')\n          seg.style.height = segSize + 'px'\n          seg.style.fontSize = '1px'\n          seg.style.lineHeight = '0'\n          jscolor.picker.sld.appendChild(seg)\n        }\n        jscolor.picker.sldB.appendChild(jscolor.picker.sld)\n        jscolor.picker.box.appendChild(jscolor.picker.sldB)\n        jscolor.picker.box.appendChild(jscolor.picker.sldM)\n        jscolor.picker.padB.appendChild(jscolor.picker.pad)\n        jscolor.picker.box.appendChild(jscolor.picker.padB)\n        jscolor.picker.box.appendChild(jscolor.picker.padM)\n        jscolor.picker.btnS.appendChild(jscolor.picker.btnT)\n        jscolor.picker.btn.appendChild(jscolor.picker.btnS)\n        jscolor.picker.box.appendChild(jscolor.picker.btn)\n        jscolor.picker.boxB.appendChild(jscolor.picker.box)\n      }\n\n      var p = jscolor.picker\n\n      // controls interaction\n      p.box.onmouseup =\n        p.box.onmouseout = function () {\n          target.focus()\n        }\n      p.box.onmousedown = function () {\n        abortBlur = true\n      }\n      p.box.onmousemove = function (e) {\n        if (holdPad || holdSld) {\n          holdPad && setPad(e)\n          holdSld && setSld(e)\n          if (document.selection) {\n            document.selection.empty()\n          } else if (window.getSelection) {\n            window.getSelection().removeAllRanges()\n          }\n          dispatchImmediateChange()\n        }\n      }\n      if ('ontouchstart' in window) { // if touch device\n        var handle_touchmove = function (e) {\n          var event = {\n            'offsetX': e.touches[0].pageX - touchOffset.X,\n            'offsetY': e.touches[0].pageY - touchOffset.Y\n          }\n          if (holdPad || holdSld) {\n            holdPad && setPad(event)\n            holdSld && setSld(event)\n            dispatchImmediateChange()\n          }\n          e.stopPropagation() // prevent move \"view\" on broswer\n          e.preventDefault() // prevent Default - Android Fix (else android generated only 1-2 touchmove events)\n        }\n        p.box.removeEventListener('touchmove', handle_touchmove, false)\n        p.box.addEventListener('touchmove', handle_touchmove, false)\n      }\n      p.padM.onmouseup =\n        p.padM.onmouseout = function () {\n          if (holdPad) {\n            holdPad = false\n            jscolor.fireEvent(valueElement, 'change')\n          }\n        }\n      p.padM.onmousedown = function (e) {\n        // if the slider is at the bottom, move it up\n        switch (modeID) {\n          case 0:\n            if (THIS.hsv[2] === 0) {\n              THIS.fromHSV(null, null, 1.0)\n            }\n            \n            break\n          case 1:\n            if (THIS.hsv[1] === 0) {\n              THIS.fromHSV(null, 1.0, null)\n            }\n            \n            break\n        }\n        holdSld = false\n        holdPad = true\n        setPad(e)\n        dispatchImmediateChange()\n      }\n      if ('ontouchstart' in window) {\n        p.padM.addEventListener('touchstart', function (e) {\n          touchOffset = {\n            'X': e.target.offsetParent.offsetLeft,\n            'Y': e.target.offsetParent.offsetTop\n          }\n          this.onmousedown({\n            'offsetX': e.touches[0].pageX - touchOffset.X,\n            'offsetY': e.touches[0].pageY - touchOffset.Y\n          })\n        })\n      }\n      p.sldM.onmouseup =\n        p.sldM.onmouseout = function () {\n          if (holdSld) {\n            holdSld = false\n            jscolor.fireEvent(valueElement, 'change')\n          }\n        }\n      p.sldM.onmousedown = function (e) {\n        holdPad = false\n        holdSld = true\n        setSld(e)\n        dispatchImmediateChange()\n      }\n      if ('ontouchstart' in window) {\n        p.sldM.addEventListener('touchstart', function (e) {\n          touchOffset = {\n            'X': e.target.offsetParent.offsetLeft,\n            'Y': e.target.offsetParent.offsetTop\n          }\n          this.onmousedown({\n            'offsetX': e.touches[0].pageX - touchOffset.X,\n            'offsetY': e.touches[0].pageY - touchOffset.Y\n          })\n        })\n      }\n\n      // picker\n      var dims = getPickerDims(THIS)\n      p.box.style.width = dims[0] + 'px'\n      p.box.style.height = dims[1] + 'px'\n\n      // picker border\n      p.boxB.style.position = 'absolute'\n      p.boxB.style.clear = 'both'\n      p.boxB.style.left = x + 'px'\n      p.boxB.style.top = y + 'px'\n      p.boxB.style.zIndex = THIS.pickerZIndex\n      p.boxB.style.border = THIS.pickerBorder + 'px solid'\n      p.boxB.style.borderColor = THIS.pickerBorderColor\n      p.boxB.style.background = THIS.pickerFaceColor\n\n      // pad image\n      p.pad.style.width = jscolor.images.pad[0] + 'px'\n      p.pad.style.height = jscolor.images.pad[1] + 'px'\n\n      // pad border\n      p.padB.style.position = 'absolute'\n      p.padB.style.left = THIS.pickerFace + 'px'\n      p.padB.style.top = THIS.pickerFace + 'px'\n      p.padB.style.border = THIS.pickerInset + 'px solid'\n      p.padB.style.borderColor = THIS.pickerInsetColor\n\n      // pad mouse area\n      p.padM.style.position = 'absolute'\n      p.padM.style.left = '0'\n      p.padM.style.top = '0'\n      p.padM.style.width = THIS.pickerFace + 2 * THIS.pickerInset + jscolor.images.pad[0] + jscolor.images.arrow[0] + 'px'\n      p.padM.style.height = p.box.style.height\n      p.padM.style.cursor = 'crosshair'\n\n      // slider image\n      p.sld.style.overflow = 'hidden'\n      p.sld.style.width = jscolor.images.sld[0] + 'px'\n      p.sld.style.height = jscolor.images.sld[1] + 'px'\n\n      // slider border\n      p.sldB.style.display = THIS.slider ? 'block' : 'none'\n      p.sldB.style.position = 'absolute'\n      p.sldB.style.right = THIS.pickerFace + 'px'\n      p.sldB.style.top = THIS.pickerFace + 'px'\n      p.sldB.style.border = THIS.pickerInset + 'px solid'\n      p.sldB.style.borderColor = THIS.pickerInsetColor\n\n      // slider mouse area\n      p.sldM.style.display = THIS.slider ? 'block' : 'none'\n      p.sldM.style.position = 'absolute'\n      p.sldM.style.right = '0'\n      p.sldM.style.top = '0'\n      p.sldM.style.width = jscolor.images.sld[0] + jscolor.images.arrow[0] + THIS.pickerFace + 2 * THIS.pickerInset + 'px'\n      p.sldM.style.height = p.box.style.height\n      try {\n        p.sldM.style.cursor = 'pointer'\n      } catch (eOldIE) {\n        p.sldM.style.cursor = 'hand'\n      }\n\n      // \"close\" button\n      function setBtnBorder() {\n        var insetColors = THIS.pickerInsetColor.split(/\\s+/)\n        var pickerOutsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + ' ' + insetColors[0] + ' ' + insetColors[0] + ' ' + insetColors[1]\n        p.btn.style.borderColor = pickerOutsetColor\n      }\n\n      p.btn.style.display = THIS.pickerClosable ? 'block' : 'none'\n      p.btn.style.position = 'absolute'\n      p.btn.style.left = THIS.pickerFace + 'px'\n      p.btn.style.bottom = THIS.pickerFace + 'px'\n      p.btn.style.padding = '0 15px'\n      p.btn.style.height = '18px'\n      p.btn.style.border = THIS.pickerInset + 'px solid'\n      setBtnBorder()\n      p.btn.style.color = THIS.pickerButtonColor\n      p.btn.style.font = '12px sans-serif'\n      p.btn.style.textAlign = 'center'\n      try {\n        p.btn.style.cursor = 'pointer'\n      } catch (eOldIE) {\n        p.btn.style.cursor = 'hand'\n      }\n      p.btn.onmousedown = function () {\n        THIS.hidePicker()\n      }\n      p.btnS.style.lineHeight = p.btn.style.height\n\n      // load images in optimal order\n      switch (modeID) {\n        case 0:\n          var padImg = hsImg\n          break\n        case 1:\n          var padImg = hvImg\n          break\n      }\n\n      p.padM.style.backgroundImage = \"url('\" + crossImg + \"')\"\n      p.padM.style.backgroundRepeat = \"no-repeat\"\n      p.sldM.style.backgroundImage = \"url('./\" + arrowImg + \"')\"\n      p.sldM.style.backgroundRepeat = \"no-repeat\"\n      p.pad.style.backgroundImage = \"url('\" + padImg + \"')\"\n      p.pad.style.backgroundRepeat = \"no-repeat\"\n      p.pad.style.backgroundPosition = \"0 0\"\n\n      // place pointers\n      redrawPad()\n      redrawSld()\n\n      jscolor.picker.owner = THIS\n      document.getElementsByTagName('body')[0].appendChild(p.boxB)\n    }\n\n\n    function getPickerDims(o) {\n      var dims = [\n        2 * o.pickerInset + 2 * o.pickerFace + jscolor.images.pad[0] +\n        (o.slider ? 2 * o.pickerInset + 2 * jscolor.images.arrow[0] + jscolor.images.sld[0] : 0),\n        o.pickerClosable ?\n          4 * o.pickerInset + 3 * o.pickerFace + jscolor.images.pad[1] + o.pickerButtonHeight :\n          2 * o.pickerInset + 2 * o.pickerFace + jscolor.images.pad[1]\n      ]\n      return dims\n    }\n\n\n    function redrawPad() {\n      // redraw the pad pointer\n      switch (modeID) {\n        case 0:\n          var yComponent = 1\n          break\n        case 1:\n          var yComponent = 2\n          break\n      }\n      var x = Math.round((THIS.hsv[0] / 6) * (jscolor.images.pad[0] - 1))\n      var y = Math.round((1 - THIS.hsv[yComponent]) * (jscolor.images.pad[1] - 1))\n      jscolor.picker.padM.style.backgroundPosition =\n        (THIS.pickerFace + THIS.pickerInset + x - Math.floor(jscolor.images.cross[0] / 2)) + 'px ' +\n        (THIS.pickerFace + THIS.pickerInset + y - Math.floor(jscolor.images.cross[1] / 2)) + 'px'\n\n      // redraw the slider image\n      var seg = jscolor.picker.sld.childNodes\n\n      switch (modeID) {\n        case 0:\n          var rgb = HSV_RGB(THIS.hsv[0], THIS.hsv[1], 1)\n          for (var i = 0; i < seg.length; i += 1) {\n            seg[i].style.backgroundColor = 'rgb(' +\n              (rgb[0] * (1 - i / seg.length) * 100) + '%,' +\n              (rgb[1] * (1 - i / seg.length) * 100) + '%,' +\n              (rgb[2] * (1 - i / seg.length) * 100) + '%)'\n          }\n          break\n        case 1:\n          var rgb, s, c = [THIS.hsv[2], 0, 0]\n          var i = Math.floor(THIS.hsv[0])\n          var f = i % 2 ? THIS.hsv[0] - i : 1 - (THIS.hsv[0] - i)\n          switch (i) {\n            case 6:\n            case 0:\n              rgb = [0, 1, 2]\n              break\n            case 1:\n              rgb = [1, 0, 2]\n              break\n            case 2:\n              rgb = [2, 0, 1]\n              break\n            case 3:\n              rgb = [2, 1, 0]\n              break\n            case 4:\n              rgb = [1, 2, 0]\n              break\n            case 5:\n              rgb = [0, 2, 1]\n              break\n          }\n          for (var i = 0; i < seg.length; i += 1) {\n            s = 1 - 1 / (seg.length - 1) * i\n            c[1] = c[0] * (1 - s * f)\n            c[2] = c[0] * (1 - s)\n            seg[i].style.backgroundColor = 'rgb(' +\n              (c[rgb[0]] * 100) + '%,' +\n              (c[rgb[1]] * 100) + '%,' +\n              (c[rgb[2]] * 100) + '%)'\n          }\n          break\n      }\n    }\n\n\n    function redrawSld() {\n      // redraw the slider pointer\n      switch (modeID) {\n        case 0:\n          var yComponent = 2\n          break\n        case 1:\n          var yComponent = 1\n          break\n      }\n      var y = Math.round((1 - THIS.hsv[yComponent]) * (jscolor.images.sld[1] - 1))\n      jscolor.picker.sldM.style.backgroundPosition =\n        '0 ' + (THIS.pickerFace + THIS.pickerInset + y - Math.floor(jscolor.images.arrow[1] / 2)) + 'px'\n    }\n\n\n    function isPickerOwner() {\n      return jscolor.picker && jscolor.picker.owner === THIS\n    }\n\n\n    function blurTarget() {\n      if (valueElement === target) {\n        THIS.importColor()\n      }\n      if (THIS.pickerOnfocus) {\n        THIS.hidePicker()\n      }\n    }\n\n\n    function blurValue() {\n      if (valueElement !== target) {\n        THIS.importColor()\n      }\n    }\n\n\n    function setPad(e) {\n      var mpos = jscolor.getRelMousePos(e)\n      var x = mpos.x - THIS.pickerFace - THIS.pickerInset\n      var y = mpos.y - THIS.pickerFace - THIS.pickerInset\n      switch (modeID) {\n        case 0:\n          THIS.fromHSV(x * (6 / (jscolor.images.pad[0] - 1)), 1 - y / (jscolor.images.pad[1] - 1), null, leaveSld)\n          break\n        case 1:\n          THIS.fromHSV(x * (6 / (jscolor.images.pad[0] - 1)), null, 1 - y / (jscolor.images.pad[1] - 1), leaveSld)\n          break\n      }\n    }\n\n\n    function setSld(e) {\n      var mpos = jscolor.getRelMousePos(e)\n      var y = mpos.y - THIS.pickerFace - THIS.pickerInset\n      switch (modeID) {\n        case 0:\n          THIS.fromHSV(null, null, 1 - y / (jscolor.images.sld[1] - 1), leavePad)\n          break\n        case 1:\n          THIS.fromHSV(null, 1 - y / (jscolor.images.sld[1] - 1), null, leavePad)\n          break\n      }\n    }\n\n\n    function dispatchImmediateChange() {\n      if (THIS.onImmediateChange) {\n        var callback\n        if (typeof THIS.onImmediateChange === 'string') {\n          callback = new Function(THIS.onImmediateChange)\n        } else {\n          callback = THIS.onImmediateChange\n        }\n        callback.call(THIS)\n      }\n    }\n\n\n    var THIS = this\n    var modeID = this.pickerMode.toLowerCase() === 'hvs' ? 1 : 0\n    var abortBlur = false\n    var\n      valueElement = jscolor.fetchElement(this.valueElement),\n      styleElement = jscolor.fetchElement(this.styleElement)\n    var\n      holdPad = false,\n      holdSld = false,\n      touchOffset = {}\n    var\n      leaveValue = 1 << 0,\n      leaveStyle = 1 << 1,\n      leavePad = 1 << 2,\n      leaveSld = 1 << 3\n\n    // target\n    jscolor.addEvent(target, 'focus', function () {\n      if (THIS.pickerOnfocus) {\n        THIS.showPicker()\n      }\n    })\n    jscolor.addEvent(target, 'blur', function () {\n      if (!abortBlur) {\n        window.setTimeout(function () {\n          abortBlur || blurTarget()\n          abortBlur = false\n        }, 0)\n      } else {\n        abortBlur = false\n      }\n    })\n\n    // valueElement\n    if (valueElement) {\n      var updateField = function () {\n        THIS.fromString(valueElement.value, leaveValue)\n        dispatchImmediateChange()\n      }\n      jscolor.addEvent(valueElement, 'keyup', updateField)\n      jscolor.addEvent(valueElement, 'input', updateField)\n      jscolor.addEvent(valueElement, 'blur', blurValue)\n      valueElement.setAttribute('autocomplete', 'off')\n    }\n\n    // styleElement\n    if (styleElement) {\n      styleElement.jscStyle = {\n        backgroundImage: styleElement.style.backgroundImage,\n        backgroundColor: styleElement.style.backgroundColor,\n        color: styleElement.style.color\n      }\n    }\n\n    // require images\n    switch (modeID) {\n      case 0:\n        jscolor.requireImage(hsImg)\n        break\n      case 1:\n        jscolor.requireImage(hvImg)\n        break\n    }\n    jscolor.requireImage(crossImg)\n    jscolor.requireImage(arrowImg)\n\n    this.importColor()\n  }\n\n}\n","/*\n    ui.anglepicker\n*/\n\n$.widget(\"ui.anglepicker\", $.ui.mouse, {\n  widgetEventPrefix: \"angle\",\n  _init: function () {\n    this._mouseInit()\n    this.pointer = $('<div class=\"ui-anglepicker-pointer\"></div>')\n    this.pointer.append('<div class=\"ui-anglepicker-dot\"></div>')\n    this.pointer.append('<div class=\"ui-anglepicker-line\"></div>')\n\n    this.element.addClass(\"ui-anglepicker\")\n    this.element.append(this.pointer)\n\n    this.setDegrees(this.options.value)\n  },\n  _propagate: function (name, event) {\n    this._trigger(name, event, this.ui())\n  },\n  _create: function () {\n\n  },\n  destroy: function () {\n    this._mouseDestroy()\n\n    this.element.removeClass(\"ui-anglepicker\")\n    this.pointer.remove()\n  },\n  _mouseStart: function (event) {\n    var myOffset = this.element.offset()\n    this.width = this.element.width()\n    this.height = this.element.height()\n\n    this.startOffset = {\n      x: myOffset.left + (this.width / 2),\n      y: myOffset.top + (this.height / 2)\n    }\n\n    this.element.addClass(\"ui-anglepicker-dragging\")\n    this.setDegreesFromEvent(event)\n    this._propagate(\"start\", event)\n  },\n  _mouseStop: function (event) {\n    this.element.removeClass(\"ui-anglepicker-dragging\")\n    this._propagate(\"stop\", event)\n  },\n  _mouseDrag: function (event) {\n    this.setDegreesFromEvent(event)\n    this._propagate(\"change\", event)\n  },\n  _setOption: function (key, value) {\n\n    this._super(key, value)\n  },\n\n  ui: function () {\n    return {\n      element: this.element,\n      value: this.options.value\n    }\n  },\n  value: function (newValue) {\n\n    if (!arguments.length) {\n      return this.options.value\n    }\n\n    var oldValue = this.options.value\n    this.setDegrees(newValue)\n\n    if (oldValue !== this.options.value) {\n      this._propagate(\"change\")\n    }\n\n    return this\n  },\n  drawRotation: function () {\n    var value = this.options.clockwise ? this.options.value : -this.options.value\n    var rotation = 'rotate(' + -value + 'deg)'\n\n    this.pointer.css({\n      '-webkit-transform': rotation,\n      '-moz-transform': rotation,\n      '-ms-transform': rotation,\n      '-o-transform': rotation,\n      'transform': rotation\n    })\n  },\n  setDegrees: function (degrees) {\n    this.options.value = this.clamp(degrees)\n    this.drawRotation()\n  },\n  clamp: function (degrees) {\n    if (typeof degrees !== \"number\") {\n      degrees = 0\n    }\n\n    var min = this.options.min,\n      max = min + 360\n\n    while (degrees < min) {\n      degrees += 360\n    }\n    while (degrees > max) {\n      degrees -= 360\n    }\n\n    return degrees\n  },\n  setDegreesFromEvent: function (event) {\n    var opposite = this.startOffset.y - event.pageY\n    opposite = this.options.clockwise ? opposite : -opposite\n\n    var adjacent = event.pageX - this.startOffset.x,\n      radians = Math.atan(opposite / adjacent),\n      degrees = Math.round(radians * (180 / Math.PI), 10)\n\n    if (event.shiftKey) {\n      degrees = this.roundToMultiple(degrees, this.options.shiftSnap)\n    }\n    else {\n      degrees = this.roundToMultiple(degrees, this.options.snap)\n    }\n\n    if (adjacent < 0 && opposite >= 0) {\n      degrees += 180\n    }\n    else if (opposite < 0 && adjacent < 0) {\n      degrees -= 180\n    }\n\n    this.setDegrees(degrees)\n  },\n  roundToMultiple: function (number, multiple) {\n    var value = number / multiple,\n      integer = Math.floor(value),\n      rest = value - integer\n\n    return rest > 0.5 ? (integer + 1) * multiple : integer * multiple\n  },\n  options: {\n    distance: 1,\n    delay: 1,\n    snap: 1,\n    min: 0,\n    shiftSnap: 15,\n    value: 90,\n    clockwise: true // anti-clockwise if false\n  }\n})\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'params', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'url', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress',\n    'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath'\n  ];\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys);\n\n  var otherKeys = Object\n    .keys(config2)\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, function otherKeysDefaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction deepMerge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};\n","var escape = require(\"../../css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome\\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\\n */\\n/* FONT PATH\\n * -------------------------- */\\n@font-face {\\n  font-family: 'FontAwesome';\\n  src: url(\" + escape(require(\"../fonts/fontawesome-webfont.eot?v=4.7.0\")) + \");\\n  src: url(\" + escape(require(\"../fonts/fontawesome-webfont.eot\")) + \"?#iefix&v=4.7.0) format('embedded-opentype'), url(\" + escape(require(\"../fonts/fontawesome-webfont.woff2?v=4.7.0\")) + \") format('woff2'), url(\" + escape(require(\"../fonts/fontawesome-webfont.woff?v=4.7.0\")) + \") format('woff'), url(\" + escape(require(\"../fonts/fontawesome-webfont.ttf?v=4.7.0\")) + \") format('truetype'), url(\" + escape(require(\"../fonts/fontawesome-webfont.svg?v=4.7.0\")) + \"#fontawesomeregular) format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n.fa {\\n  display: inline-block;\\n  font: normal normal normal 14px/1 FontAwesome;\\n  font-size: inherit;\\n  text-rendering: auto;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n/* makes the font 33% larger relative to the icon container */\\n.fa-lg {\\n  font-size: 1.33333333em;\\n  line-height: 0.75em;\\n  vertical-align: -15%;\\n}\\n.fa-2x {\\n  font-size: 2em;\\n}\\n.fa-3x {\\n  font-size: 3em;\\n}\\n.fa-4x {\\n  font-size: 4em;\\n}\\n.fa-5x {\\n  font-size: 5em;\\n}\\n.fa-fw {\\n  width: 1.28571429em;\\n  text-align: center;\\n}\\n.fa-ul {\\n  padding-left: 0;\\n  margin-left: 2.14285714em;\\n  list-style-type: none;\\n}\\n.fa-ul > li {\\n  position: relative;\\n}\\n.fa-li {\\n  position: absolute;\\n  left: -2.14285714em;\\n  width: 2.14285714em;\\n  top: 0.14285714em;\\n  text-align: center;\\n}\\n.fa-li.fa-lg {\\n  left: -1.85714286em;\\n}\\n.fa-border {\\n  padding: .2em .25em .15em;\\n  border: solid 0.08em #eeeeee;\\n  border-radius: .1em;\\n}\\n.fa-pull-left {\\n  float: left;\\n}\\n.fa-pull-right {\\n  float: right;\\n}\\n.fa.fa-pull-left {\\n  margin-right: .3em;\\n}\\n.fa.fa-pull-right {\\n  margin-left: .3em;\\n}\\n/* Deprecated as of 4.4.0 */\\n.pull-right {\\n  float: right;\\n}\\n.pull-left {\\n  float: left;\\n}\\n.fa.pull-left {\\n  margin-right: .3em;\\n}\\n.fa.pull-right {\\n  margin-left: .3em;\\n}\\n.fa-spin {\\n  -webkit-animation: fa-spin 2s infinite linear;\\n  animation: fa-spin 2s infinite linear;\\n}\\n.fa-pulse {\\n  -webkit-animation: fa-spin 1s infinite steps(8);\\n  animation: fa-spin 1s infinite steps(8);\\n}\\n@-webkit-keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(359deg);\\n    transform: rotate(359deg);\\n  }\\n}\\n@keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(359deg);\\n    transform: rotate(359deg);\\n  }\\n}\\n.fa-rotate-90 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\\\";\\n  -webkit-transform: rotate(90deg);\\n  -ms-transform: rotate(90deg);\\n  transform: rotate(90deg);\\n}\\n.fa-rotate-180 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)\\\";\\n  -webkit-transform: rotate(180deg);\\n  -ms-transform: rotate(180deg);\\n  transform: rotate(180deg);\\n}\\n.fa-rotate-270 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)\\\";\\n  -webkit-transform: rotate(270deg);\\n  -ms-transform: rotate(270deg);\\n  transform: rotate(270deg);\\n}\\n.fa-flip-horizontal {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)\\\";\\n  -webkit-transform: scale(-1, 1);\\n  -ms-transform: scale(-1, 1);\\n  transform: scale(-1, 1);\\n}\\n.fa-flip-vertical {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\\\";\\n  -webkit-transform: scale(1, -1);\\n  -ms-transform: scale(1, -1);\\n  transform: scale(1, -1);\\n}\\n:root .fa-rotate-90,\\n:root .fa-rotate-180,\\n:root .fa-rotate-270,\\n:root .fa-flip-horizontal,\\n:root .fa-flip-vertical {\\n  filter: none;\\n}\\n.fa-stack {\\n  position: relative;\\n  display: inline-block;\\n  width: 2em;\\n  height: 2em;\\n  line-height: 2em;\\n  vertical-align: middle;\\n}\\n.fa-stack-1x,\\n.fa-stack-2x {\\n  position: absolute;\\n  left: 0;\\n  width: 100%;\\n  text-align: center;\\n}\\n.fa-stack-1x {\\n  line-height: inherit;\\n}\\n.fa-stack-2x {\\n  font-size: 2em;\\n}\\n.fa-inverse {\\n  color: #ffffff;\\n}\\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\\n   readers do not read off random characters that represent icons */\\n.fa-glass:before {\\n  content: \\\"\\\\F000\\\";\\n}\\n.fa-music:before {\\n  content: \\\"\\\\F001\\\";\\n}\\n.fa-search:before {\\n  content: \\\"\\\\F002\\\";\\n}\\n.fa-envelope-o:before {\\n  content: \\\"\\\\F003\\\";\\n}\\n.fa-heart:before {\\n  content: \\\"\\\\F004\\\";\\n}\\n.fa-star:before {\\n  content: \\\"\\\\F005\\\";\\n}\\n.fa-star-o:before {\\n  content: \\\"\\\\F006\\\";\\n}\\n.fa-user:before {\\n  content: \\\"\\\\F007\\\";\\n}\\n.fa-film:before {\\n  content: \\\"\\\\F008\\\";\\n}\\n.fa-th-large:before {\\n  content: \\\"\\\\F009\\\";\\n}\\n.fa-th:before {\\n  content: \\\"\\\\F00A\\\";\\n}\\n.fa-th-list:before {\\n  content: \\\"\\\\F00B\\\";\\n}\\n.fa-check:before {\\n  content: \\\"\\\\F00C\\\";\\n}\\n.fa-remove:before,\\n.fa-close:before,\\n.fa-times:before {\\n  content: \\\"\\\\F00D\\\";\\n}\\n.fa-search-plus:before {\\n  content: \\\"\\\\F00E\\\";\\n}\\n.fa-search-minus:before {\\n  content: \\\"\\\\F010\\\";\\n}\\n.fa-power-off:before {\\n  content: \\\"\\\\F011\\\";\\n}\\n.fa-signal:before {\\n  content: \\\"\\\\F012\\\";\\n}\\n.fa-gear:before,\\n.fa-cog:before {\\n  content: \\\"\\\\F013\\\";\\n}\\n.fa-trash-o:before {\\n  content: \\\"\\\\F014\\\";\\n}\\n.fa-home:before {\\n  content: \\\"\\\\F015\\\";\\n}\\n.fa-file-o:before {\\n  content: \\\"\\\\F016\\\";\\n}\\n.fa-clock-o:before {\\n  content: \\\"\\\\F017\\\";\\n}\\n.fa-road:before {\\n  content: \\\"\\\\F018\\\";\\n}\\n.fa-download:before {\\n  content: \\\"\\\\F019\\\";\\n}\\n.fa-arrow-circle-o-down:before {\\n  content: \\\"\\\\F01A\\\";\\n}\\n.fa-arrow-circle-o-up:before {\\n  content: \\\"\\\\F01B\\\";\\n}\\n.fa-inbox:before {\\n  content: \\\"\\\\F01C\\\";\\n}\\n.fa-play-circle-o:before {\\n  content: \\\"\\\\F01D\\\";\\n}\\n.fa-rotate-right:before,\\n.fa-repeat:before {\\n  content: \\\"\\\\F01E\\\";\\n}\\n.fa-refresh:before {\\n  content: \\\"\\\\F021\\\";\\n}\\n.fa-list-alt:before {\\n  content: \\\"\\\\F022\\\";\\n}\\n.fa-lock:before {\\n  content: \\\"\\\\F023\\\";\\n}\\n.fa-flag:before {\\n  content: \\\"\\\\F024\\\";\\n}\\n.fa-headphones:before {\\n  content: \\\"\\\\F025\\\";\\n}\\n.fa-volume-off:before {\\n  content: \\\"\\\\F026\\\";\\n}\\n.fa-volume-down:before {\\n  content: \\\"\\\\F027\\\";\\n}\\n.fa-volume-up:before {\\n  content: \\\"\\\\F028\\\";\\n}\\n.fa-qrcode:before {\\n  content: \\\"\\\\F029\\\";\\n}\\n.fa-barcode:before {\\n  content: \\\"\\\\F02A\\\";\\n}\\n.fa-tag:before {\\n  content: \\\"\\\\F02B\\\";\\n}\\n.fa-tags:before {\\n  content: \\\"\\\\F02C\\\";\\n}\\n.fa-book:before {\\n  content: \\\"\\\\F02D\\\";\\n}\\n.fa-bookmark:before {\\n  content: \\\"\\\\F02E\\\";\\n}\\n.fa-print:before {\\n  content: \\\"\\\\F02F\\\";\\n}\\n.fa-camera:before {\\n  content: \\\"\\\\F030\\\";\\n}\\n.fa-font:before {\\n  content: \\\"\\\\F031\\\";\\n}\\n.fa-bold:before {\\n  content: \\\"\\\\F032\\\";\\n}\\n.fa-italic:before {\\n  content: \\\"\\\\F033\\\";\\n}\\n.fa-text-height:before {\\n  content: \\\"\\\\F034\\\";\\n}\\n.fa-text-width:before {\\n  content: \\\"\\\\F035\\\";\\n}\\n.fa-align-left:before {\\n  content: \\\"\\\\F036\\\";\\n}\\n.fa-align-center:before {\\n  content: \\\"\\\\F037\\\";\\n}\\n.fa-align-right:before {\\n  content: \\\"\\\\F038\\\";\\n}\\n.fa-align-justify:before {\\n  content: \\\"\\\\F039\\\";\\n}\\n.fa-list:before {\\n  content: \\\"\\\\F03A\\\";\\n}\\n.fa-dedent:before,\\n.fa-outdent:before {\\n  content: \\\"\\\\F03B\\\";\\n}\\n.fa-indent:before {\\n  content: \\\"\\\\F03C\\\";\\n}\\n.fa-video-camera:before {\\n  content: \\\"\\\\F03D\\\";\\n}\\n.fa-photo:before,\\n.fa-image:before,\\n.fa-picture-o:before {\\n  content: \\\"\\\\F03E\\\";\\n}\\n.fa-pencil:before {\\n  content: \\\"\\\\F040\\\";\\n}\\n.fa-map-marker:before {\\n  content: \\\"\\\\F041\\\";\\n}\\n.fa-adjust:before {\\n  content: \\\"\\\\F042\\\";\\n}\\n.fa-tint:before {\\n  content: \\\"\\\\F043\\\";\\n}\\n.fa-edit:before,\\n.fa-pencil-square-o:before {\\n  content: \\\"\\\\F044\\\";\\n}\\n.fa-share-square-o:before {\\n  content: \\\"\\\\F045\\\";\\n}\\n.fa-check-square-o:before {\\n  content: \\\"\\\\F046\\\";\\n}\\n.fa-arrows:before {\\n  content: \\\"\\\\F047\\\";\\n}\\n.fa-step-backward:before {\\n  content: \\\"\\\\F048\\\";\\n}\\n.fa-fast-backward:before {\\n  content: \\\"\\\\F049\\\";\\n}\\n.fa-backward:before {\\n  content: \\\"\\\\F04A\\\";\\n}\\n.fa-play:before {\\n  content: \\\"\\\\F04B\\\";\\n}\\n.fa-pause:before {\\n  content: \\\"\\\\F04C\\\";\\n}\\n.fa-stop:before {\\n  content: \\\"\\\\F04D\\\";\\n}\\n.fa-forward:before {\\n  content: \\\"\\\\F04E\\\";\\n}\\n.fa-fast-forward:before {\\n  content: \\\"\\\\F050\\\";\\n}\\n.fa-step-forward:before {\\n  content: \\\"\\\\F051\\\";\\n}\\n.fa-eject:before {\\n  content: \\\"\\\\F052\\\";\\n}\\n.fa-chevron-left:before {\\n  content: \\\"\\\\F053\\\";\\n}\\n.fa-chevron-right:before {\\n  content: \\\"\\\\F054\\\";\\n}\\n.fa-plus-circle:before {\\n  content: \\\"\\\\F055\\\";\\n}\\n.fa-minus-circle:before {\\n  content: \\\"\\\\F056\\\";\\n}\\n.fa-times-circle:before {\\n  content: \\\"\\\\F057\\\";\\n}\\n.fa-check-circle:before {\\n  content: \\\"\\\\F058\\\";\\n}\\n.fa-question-circle:before {\\n  content: \\\"\\\\F059\\\";\\n}\\n.fa-info-circle:before {\\n  content: \\\"\\\\F05A\\\";\\n}\\n.fa-crosshairs:before {\\n  content: \\\"\\\\F05B\\\";\\n}\\n.fa-times-circle-o:before {\\n  content: \\\"\\\\F05C\\\";\\n}\\n.fa-check-circle-o:before {\\n  content: \\\"\\\\F05D\\\";\\n}\\n.fa-ban:before {\\n  content: \\\"\\\\F05E\\\";\\n}\\n.fa-arrow-left:before {\\n  content: \\\"\\\\F060\\\";\\n}\\n.fa-arrow-right:before {\\n  content: \\\"\\\\F061\\\";\\n}\\n.fa-arrow-up:before {\\n  content: \\\"\\\\F062\\\";\\n}\\n.fa-arrow-down:before {\\n  content: \\\"\\\\F063\\\";\\n}\\n.fa-mail-forward:before,\\n.fa-share:before {\\n  content: \\\"\\\\F064\\\";\\n}\\n.fa-expand:before {\\n  content: \\\"\\\\F065\\\";\\n}\\n.fa-compress:before {\\n  content: \\\"\\\\F066\\\";\\n}\\n.fa-plus:before {\\n  content: \\\"\\\\F067\\\";\\n}\\n.fa-minus:before {\\n  content: \\\"\\\\F068\\\";\\n}\\n.fa-asterisk:before {\\n  content: \\\"\\\\F069\\\";\\n}\\n.fa-exclamation-circle:before {\\n  content: \\\"\\\\F06A\\\";\\n}\\n.fa-gift:before {\\n  content: \\\"\\\\F06B\\\";\\n}\\n.fa-leaf:before {\\n  content: \\\"\\\\F06C\\\";\\n}\\n.fa-fire:before {\\n  content: \\\"\\\\F06D\\\";\\n}\\n.fa-eye:before {\\n  content: \\\"\\\\F06E\\\";\\n}\\n.fa-eye-slash:before {\\n  content: \\\"\\\\F070\\\";\\n}\\n.fa-warning:before,\\n.fa-exclamation-triangle:before {\\n  content: \\\"\\\\F071\\\";\\n}\\n.fa-plane:before {\\n  content: \\\"\\\\F072\\\";\\n}\\n.fa-calendar:before {\\n  content: \\\"\\\\F073\\\";\\n}\\n.fa-random:before {\\n  content: \\\"\\\\F074\\\";\\n}\\n.fa-comment:before {\\n  content: \\\"\\\\F075\\\";\\n}\\n.fa-magnet:before {\\n  content: \\\"\\\\F076\\\";\\n}\\n.fa-chevron-up:before {\\n  content: \\\"\\\\F077\\\";\\n}\\n.fa-chevron-down:before {\\n  content: \\\"\\\\F078\\\";\\n}\\n.fa-retweet:before {\\n  content: \\\"\\\\F079\\\";\\n}\\n.fa-shopping-cart:before {\\n  content: \\\"\\\\F07A\\\";\\n}\\n.fa-folder:before {\\n  content: \\\"\\\\F07B\\\";\\n}\\n.fa-folder-open:before {\\n  content: \\\"\\\\F07C\\\";\\n}\\n.fa-arrows-v:before {\\n  content: \\\"\\\\F07D\\\";\\n}\\n.fa-arrows-h:before {\\n  content: \\\"\\\\F07E\\\";\\n}\\n.fa-bar-chart-o:before,\\n.fa-bar-chart:before {\\n  content: \\\"\\\\F080\\\";\\n}\\n.fa-twitter-square:before {\\n  content: \\\"\\\\F081\\\";\\n}\\n.fa-facebook-square:before {\\n  content: \\\"\\\\F082\\\";\\n}\\n.fa-camera-retro:before {\\n  content: \\\"\\\\F083\\\";\\n}\\n.fa-key:before {\\n  content: \\\"\\\\F084\\\";\\n}\\n.fa-gears:before,\\n.fa-cogs:before {\\n  content: \\\"\\\\F085\\\";\\n}\\n.fa-comments:before {\\n  content: \\\"\\\\F086\\\";\\n}\\n.fa-thumbs-o-up:before {\\n  content: \\\"\\\\F087\\\";\\n}\\n.fa-thumbs-o-down:before {\\n  content: \\\"\\\\F088\\\";\\n}\\n.fa-star-half:before {\\n  content: \\\"\\\\F089\\\";\\n}\\n.fa-heart-o:before {\\n  content: \\\"\\\\F08A\\\";\\n}\\n.fa-sign-out:before {\\n  content: \\\"\\\\F08B\\\";\\n}\\n.fa-linkedin-square:before {\\n  content: \\\"\\\\F08C\\\";\\n}\\n.fa-thumb-tack:before {\\n  content: \\\"\\\\F08D\\\";\\n}\\n.fa-external-link:before {\\n  content: \\\"\\\\F08E\\\";\\n}\\n.fa-sign-in:before {\\n  content: \\\"\\\\F090\\\";\\n}\\n.fa-trophy:before {\\n  content: \\\"\\\\F091\\\";\\n}\\n.fa-github-square:before {\\n  content: \\\"\\\\F092\\\";\\n}\\n.fa-upload:before {\\n  content: \\\"\\\\F093\\\";\\n}\\n.fa-lemon-o:before {\\n  content: \\\"\\\\F094\\\";\\n}\\n.fa-phone:before {\\n  content: \\\"\\\\F095\\\";\\n}\\n.fa-square-o:before {\\n  content: \\\"\\\\F096\\\";\\n}\\n.fa-bookmark-o:before {\\n  content: \\\"\\\\F097\\\";\\n}\\n.fa-phone-square:before {\\n  content: \\\"\\\\F098\\\";\\n}\\n.fa-twitter:before {\\n  content: \\\"\\\\F099\\\";\\n}\\n.fa-facebook-f:before,\\n.fa-facebook:before {\\n  content: \\\"\\\\F09A\\\";\\n}\\n.fa-github:before {\\n  content: \\\"\\\\F09B\\\";\\n}\\n.fa-unlock:before {\\n  content: \\\"\\\\F09C\\\";\\n}\\n.fa-credit-card:before {\\n  content: \\\"\\\\F09D\\\";\\n}\\n.fa-feed:before,\\n.fa-rss:before {\\n  content: \\\"\\\\F09E\\\";\\n}\\n.fa-hdd-o:before {\\n  content: \\\"\\\\F0A0\\\";\\n}\\n.fa-bullhorn:before {\\n  content: \\\"\\\\F0A1\\\";\\n}\\n.fa-bell:before {\\n  content: \\\"\\\\F0F3\\\";\\n}\\n.fa-certificate:before {\\n  content: \\\"\\\\F0A3\\\";\\n}\\n.fa-hand-o-right:before {\\n  content: \\\"\\\\F0A4\\\";\\n}\\n.fa-hand-o-left:before {\\n  content: \\\"\\\\F0A5\\\";\\n}\\n.fa-hand-o-up:before {\\n  content: \\\"\\\\F0A6\\\";\\n}\\n.fa-hand-o-down:before {\\n  content: \\\"\\\\F0A7\\\";\\n}\\n.fa-arrow-circle-left:before {\\n  content: \\\"\\\\F0A8\\\";\\n}\\n.fa-arrow-circle-right:before {\\n  content: \\\"\\\\F0A9\\\";\\n}\\n.fa-arrow-circle-up:before {\\n  content: \\\"\\\\F0AA\\\";\\n}\\n.fa-arrow-circle-down:before {\\n  content: \\\"\\\\F0AB\\\";\\n}\\n.fa-globe:before {\\n  content: \\\"\\\\F0AC\\\";\\n}\\n.fa-wrench:before {\\n  content: \\\"\\\\F0AD\\\";\\n}\\n.fa-tasks:before {\\n  content: \\\"\\\\F0AE\\\";\\n}\\n.fa-filter:before {\\n  content: \\\"\\\\F0B0\\\";\\n}\\n.fa-briefcase:before {\\n  content: \\\"\\\\F0B1\\\";\\n}\\n.fa-arrows-alt:before {\\n  content: \\\"\\\\F0B2\\\";\\n}\\n.fa-group:before,\\n.fa-users:before {\\n  content: \\\"\\\\F0C0\\\";\\n}\\n.fa-chain:before,\\n.fa-link:before {\\n  content: \\\"\\\\F0C1\\\";\\n}\\n.fa-cloud:before {\\n  content: \\\"\\\\F0C2\\\";\\n}\\n.fa-flask:before {\\n  content: \\\"\\\\F0C3\\\";\\n}\\n.fa-cut:before,\\n.fa-scissors:before {\\n  content: \\\"\\\\F0C4\\\";\\n}\\n.fa-copy:before,\\n.fa-files-o:before {\\n  content: \\\"\\\\F0C5\\\";\\n}\\n.fa-paperclip:before {\\n  content: \\\"\\\\F0C6\\\";\\n}\\n.fa-save:before,\\n.fa-floppy-o:before {\\n  content: \\\"\\\\F0C7\\\";\\n}\\n.fa-square:before {\\n  content: \\\"\\\\F0C8\\\";\\n}\\n.fa-navicon:before,\\n.fa-reorder:before,\\n.fa-bars:before {\\n  content: \\\"\\\\F0C9\\\";\\n}\\n.fa-list-ul:before {\\n  content: \\\"\\\\F0CA\\\";\\n}\\n.fa-list-ol:before {\\n  content: \\\"\\\\F0CB\\\";\\n}\\n.fa-strikethrough:before {\\n  content: \\\"\\\\F0CC\\\";\\n}\\n.fa-underline:before {\\n  content: \\\"\\\\F0CD\\\";\\n}\\n.fa-table:before {\\n  content: \\\"\\\\F0CE\\\";\\n}\\n.fa-magic:before {\\n  content: \\\"\\\\F0D0\\\";\\n}\\n.fa-truck:before {\\n  content: \\\"\\\\F0D1\\\";\\n}\\n.fa-pinterest:before {\\n  content: \\\"\\\\F0D2\\\";\\n}\\n.fa-pinterest-square:before {\\n  content: \\\"\\\\F0D3\\\";\\n}\\n.fa-google-plus-square:before {\\n  content: \\\"\\\\F0D4\\\";\\n}\\n.fa-google-plus:before {\\n  content: \\\"\\\\F0D5\\\";\\n}\\n.fa-money:before {\\n  content: \\\"\\\\F0D6\\\";\\n}\\n.fa-caret-down:before {\\n  content: \\\"\\\\F0D7\\\";\\n}\\n.fa-caret-up:before {\\n  content: \\\"\\\\F0D8\\\";\\n}\\n.fa-caret-left:before {\\n  content: \\\"\\\\F0D9\\\";\\n}\\n.fa-caret-right:before {\\n  content: \\\"\\\\F0DA\\\";\\n}\\n.fa-columns:before {\\n  content: \\\"\\\\F0DB\\\";\\n}\\n.fa-unsorted:before,\\n.fa-sort:before {\\n  content: \\\"\\\\F0DC\\\";\\n}\\n.fa-sort-down:before,\\n.fa-sort-desc:before {\\n  content: \\\"\\\\F0DD\\\";\\n}\\n.fa-sort-up:before,\\n.fa-sort-asc:before {\\n  content: \\\"\\\\F0DE\\\";\\n}\\n.fa-envelope:before {\\n  content: \\\"\\\\F0E0\\\";\\n}\\n.fa-linkedin:before {\\n  content: \\\"\\\\F0E1\\\";\\n}\\n.fa-rotate-left:before,\\n.fa-undo:before {\\n  content: \\\"\\\\F0E2\\\";\\n}\\n.fa-legal:before,\\n.fa-gavel:before {\\n  content: \\\"\\\\F0E3\\\";\\n}\\n.fa-dashboard:before,\\n.fa-tachometer:before {\\n  content: \\\"\\\\F0E4\\\";\\n}\\n.fa-comment-o:before {\\n  content: \\\"\\\\F0E5\\\";\\n}\\n.fa-comments-o:before {\\n  content: \\\"\\\\F0E6\\\";\\n}\\n.fa-flash:before,\\n.fa-bolt:before {\\n  content: \\\"\\\\F0E7\\\";\\n}\\n.fa-sitemap:before {\\n  content: \\\"\\\\F0E8\\\";\\n}\\n.fa-umbrella:before {\\n  content: \\\"\\\\F0E9\\\";\\n}\\n.fa-paste:before,\\n.fa-clipboard:before {\\n  content: \\\"\\\\F0EA\\\";\\n}\\n.fa-lightbulb-o:before {\\n  content: \\\"\\\\F0EB\\\";\\n}\\n.fa-exchange:before {\\n  content: \\\"\\\\F0EC\\\";\\n}\\n.fa-cloud-download:before {\\n  content: \\\"\\\\F0ED\\\";\\n}\\n.fa-cloud-upload:before {\\n  content: \\\"\\\\F0EE\\\";\\n}\\n.fa-user-md:before {\\n  content: \\\"\\\\F0F0\\\";\\n}\\n.fa-stethoscope:before {\\n  content: \\\"\\\\F0F1\\\";\\n}\\n.fa-suitcase:before {\\n  content: \\\"\\\\F0F2\\\";\\n}\\n.fa-bell-o:before {\\n  content: \\\"\\\\F0A2\\\";\\n}\\n.fa-coffee:before {\\n  content: \\\"\\\\F0F4\\\";\\n}\\n.fa-cutlery:before {\\n  content: \\\"\\\\F0F5\\\";\\n}\\n.fa-file-text-o:before {\\n  content: \\\"\\\\F0F6\\\";\\n}\\n.fa-building-o:before {\\n  content: \\\"\\\\F0F7\\\";\\n}\\n.fa-hospital-o:before {\\n  content: \\\"\\\\F0F8\\\";\\n}\\n.fa-ambulance:before {\\n  content: \\\"\\\\F0F9\\\";\\n}\\n.fa-medkit:before {\\n  content: \\\"\\\\F0FA\\\";\\n}\\n.fa-fighter-jet:before {\\n  content: \\\"\\\\F0FB\\\";\\n}\\n.fa-beer:before {\\n  content: \\\"\\\\F0FC\\\";\\n}\\n.fa-h-square:before {\\n  content: \\\"\\\\F0FD\\\";\\n}\\n.fa-plus-square:before {\\n  content: \\\"\\\\F0FE\\\";\\n}\\n.fa-angle-double-left:before {\\n  content: \\\"\\\\F100\\\";\\n}\\n.fa-angle-double-right:before {\\n  content: \\\"\\\\F101\\\";\\n}\\n.fa-angle-double-up:before {\\n  content: \\\"\\\\F102\\\";\\n}\\n.fa-angle-double-down:before {\\n  content: \\\"\\\\F103\\\";\\n}\\n.fa-angle-left:before {\\n  content: \\\"\\\\F104\\\";\\n}\\n.fa-angle-right:before {\\n  content: \\\"\\\\F105\\\";\\n}\\n.fa-angle-up:before {\\n  content: \\\"\\\\F106\\\";\\n}\\n.fa-angle-down:before {\\n  content: \\\"\\\\F107\\\";\\n}\\n.fa-desktop:before {\\n  content: \\\"\\\\F108\\\";\\n}\\n.fa-laptop:before {\\n  content: \\\"\\\\F109\\\";\\n}\\n.fa-tablet:before {\\n  content: \\\"\\\\F10A\\\";\\n}\\n.fa-mobile-phone:before,\\n.fa-mobile:before {\\n  content: \\\"\\\\F10B\\\";\\n}\\n.fa-circle-o:before {\\n  content: \\\"\\\\F10C\\\";\\n}\\n.fa-quote-left:before {\\n  content: \\\"\\\\F10D\\\";\\n}\\n.fa-quote-right:before {\\n  content: \\\"\\\\F10E\\\";\\n}\\n.fa-spinner:before {\\n  content: \\\"\\\\F110\\\";\\n}\\n.fa-circle:before {\\n  content: \\\"\\\\F111\\\";\\n}\\n.fa-mail-reply:before,\\n.fa-reply:before {\\n  content: \\\"\\\\F112\\\";\\n}\\n.fa-github-alt:before {\\n  content: \\\"\\\\F113\\\";\\n}\\n.fa-folder-o:before {\\n  content: \\\"\\\\F114\\\";\\n}\\n.fa-folder-open-o:before {\\n  content: \\\"\\\\F115\\\";\\n}\\n.fa-smile-o:before {\\n  content: \\\"\\\\F118\\\";\\n}\\n.fa-frown-o:before {\\n  content: \\\"\\\\F119\\\";\\n}\\n.fa-meh-o:before {\\n  content: \\\"\\\\F11A\\\";\\n}\\n.fa-gamepad:before {\\n  content: \\\"\\\\F11B\\\";\\n}\\n.fa-keyboard-o:before {\\n  content: \\\"\\\\F11C\\\";\\n}\\n.fa-flag-o:before {\\n  content: \\\"\\\\F11D\\\";\\n}\\n.fa-flag-checkered:before {\\n  content: \\\"\\\\F11E\\\";\\n}\\n.fa-terminal:before {\\n  content: \\\"\\\\F120\\\";\\n}\\n.fa-code:before {\\n  content: \\\"\\\\F121\\\";\\n}\\n.fa-mail-reply-all:before,\\n.fa-reply-all:before {\\n  content: \\\"\\\\F122\\\";\\n}\\n.fa-star-half-empty:before,\\n.fa-star-half-full:before,\\n.fa-star-half-o:before {\\n  content: \\\"\\\\F123\\\";\\n}\\n.fa-location-arrow:before {\\n  content: \\\"\\\\F124\\\";\\n}\\n.fa-crop:before {\\n  content: \\\"\\\\F125\\\";\\n}\\n.fa-code-fork:before {\\n  content: \\\"\\\\F126\\\";\\n}\\n.fa-unlink:before,\\n.fa-chain-broken:before {\\n  content: \\\"\\\\F127\\\";\\n}\\n.fa-question:before {\\n  content: \\\"\\\\F128\\\";\\n}\\n.fa-info:before {\\n  content: \\\"\\\\F129\\\";\\n}\\n.fa-exclamation:before {\\n  content: \\\"\\\\F12A\\\";\\n}\\n.fa-superscript:before {\\n  content: \\\"\\\\F12B\\\";\\n}\\n.fa-subscript:before {\\n  content: \\\"\\\\F12C\\\";\\n}\\n.fa-eraser:before {\\n  content: \\\"\\\\F12D\\\";\\n}\\n.fa-puzzle-piece:before {\\n  content: \\\"\\\\F12E\\\";\\n}\\n.fa-microphone:before {\\n  content: \\\"\\\\F130\\\";\\n}\\n.fa-microphone-slash:before {\\n  content: \\\"\\\\F131\\\";\\n}\\n.fa-shield:before {\\n  content: \\\"\\\\F132\\\";\\n}\\n.fa-calendar-o:before {\\n  content: \\\"\\\\F133\\\";\\n}\\n.fa-fire-extinguisher:before {\\n  content: \\\"\\\\F134\\\";\\n}\\n.fa-rocket:before {\\n  content: \\\"\\\\F135\\\";\\n}\\n.fa-maxcdn:before {\\n  content: \\\"\\\\F136\\\";\\n}\\n.fa-chevron-circle-left:before {\\n  content: \\\"\\\\F137\\\";\\n}\\n.fa-chevron-circle-right:before {\\n  content: \\\"\\\\F138\\\";\\n}\\n.fa-chevron-circle-up:before {\\n  content: \\\"\\\\F139\\\";\\n}\\n.fa-chevron-circle-down:before {\\n  content: \\\"\\\\F13A\\\";\\n}\\n.fa-html5:before {\\n  content: \\\"\\\\F13B\\\";\\n}\\n.fa-css3:before {\\n  content: \\\"\\\\F13C\\\";\\n}\\n.fa-anchor:before {\\n  content: \\\"\\\\F13D\\\";\\n}\\n.fa-unlock-alt:before {\\n  content: \\\"\\\\F13E\\\";\\n}\\n.fa-bullseye:before {\\n  content: \\\"\\\\F140\\\";\\n}\\n.fa-ellipsis-h:before {\\n  content: \\\"\\\\F141\\\";\\n}\\n.fa-ellipsis-v:before {\\n  content: \\\"\\\\F142\\\";\\n}\\n.fa-rss-square:before {\\n  content: \\\"\\\\F143\\\";\\n}\\n.fa-play-circle:before {\\n  content: \\\"\\\\F144\\\";\\n}\\n.fa-ticket:before {\\n  content: \\\"\\\\F145\\\";\\n}\\n.fa-minus-square:before {\\n  content: \\\"\\\\F146\\\";\\n}\\n.fa-minus-square-o:before {\\n  content: \\\"\\\\F147\\\";\\n}\\n.fa-level-up:before {\\n  content: \\\"\\\\F148\\\";\\n}\\n.fa-level-down:before {\\n  content: \\\"\\\\F149\\\";\\n}\\n.fa-check-square:before {\\n  content: \\\"\\\\F14A\\\";\\n}\\n.fa-pencil-square:before {\\n  content: \\\"\\\\F14B\\\";\\n}\\n.fa-external-link-square:before {\\n  content: \\\"\\\\F14C\\\";\\n}\\n.fa-share-square:before {\\n  content: \\\"\\\\F14D\\\";\\n}\\n.fa-compass:before {\\n  content: \\\"\\\\F14E\\\";\\n}\\n.fa-toggle-down:before,\\n.fa-caret-square-o-down:before {\\n  content: \\\"\\\\F150\\\";\\n}\\n.fa-toggle-up:before,\\n.fa-caret-square-o-up:before {\\n  content: \\\"\\\\F151\\\";\\n}\\n.fa-toggle-right:before,\\n.fa-caret-square-o-right:before {\\n  content: \\\"\\\\F152\\\";\\n}\\n.fa-euro:before,\\n.fa-eur:before {\\n  content: \\\"\\\\F153\\\";\\n}\\n.fa-gbp:before {\\n  content: \\\"\\\\F154\\\";\\n}\\n.fa-dollar:before,\\n.fa-usd:before {\\n  content: \\\"\\\\F155\\\";\\n}\\n.fa-rupee:before,\\n.fa-inr:before {\\n  content: \\\"\\\\F156\\\";\\n}\\n.fa-cny:before,\\n.fa-rmb:before,\\n.fa-yen:before,\\n.fa-jpy:before {\\n  content: \\\"\\\\F157\\\";\\n}\\n.fa-ruble:before,\\n.fa-rouble:before,\\n.fa-rub:before {\\n  content: \\\"\\\\F158\\\";\\n}\\n.fa-won:before,\\n.fa-krw:before {\\n  content: \\\"\\\\F159\\\";\\n}\\n.fa-bitcoin:before,\\n.fa-btc:before {\\n  content: \\\"\\\\F15A\\\";\\n}\\n.fa-file:before {\\n  content: \\\"\\\\F15B\\\";\\n}\\n.fa-file-text:before {\\n  content: \\\"\\\\F15C\\\";\\n}\\n.fa-sort-alpha-asc:before {\\n  content: \\\"\\\\F15D\\\";\\n}\\n.fa-sort-alpha-desc:before {\\n  content: \\\"\\\\F15E\\\";\\n}\\n.fa-sort-amount-asc:before {\\n  content: \\\"\\\\F160\\\";\\n}\\n.fa-sort-amount-desc:before {\\n  content: \\\"\\\\F161\\\";\\n}\\n.fa-sort-numeric-asc:before {\\n  content: \\\"\\\\F162\\\";\\n}\\n.fa-sort-numeric-desc:before {\\n  content: \\\"\\\\F163\\\";\\n}\\n.fa-thumbs-up:before {\\n  content: \\\"\\\\F164\\\";\\n}\\n.fa-thumbs-down:before {\\n  content: \\\"\\\\F165\\\";\\n}\\n.fa-youtube-square:before {\\n  content: \\\"\\\\F166\\\";\\n}\\n.fa-youtube:before {\\n  content: \\\"\\\\F167\\\";\\n}\\n.fa-xing:before {\\n  content: \\\"\\\\F168\\\";\\n}\\n.fa-xing-square:before {\\n  content: \\\"\\\\F169\\\";\\n}\\n.fa-youtube-play:before {\\n  content: \\\"\\\\F16A\\\";\\n}\\n.fa-dropbox:before {\\n  content: \\\"\\\\F16B\\\";\\n}\\n.fa-stack-overflow:before {\\n  content: \\\"\\\\F16C\\\";\\n}\\n.fa-instagram:before {\\n  content: \\\"\\\\F16D\\\";\\n}\\n.fa-flickr:before {\\n  content: \\\"\\\\F16E\\\";\\n}\\n.fa-adn:before {\\n  content: \\\"\\\\F170\\\";\\n}\\n.fa-bitbucket:before {\\n  content: \\\"\\\\F171\\\";\\n}\\n.fa-bitbucket-square:before {\\n  content: \\\"\\\\F172\\\";\\n}\\n.fa-tumblr:before {\\n  content: \\\"\\\\F173\\\";\\n}\\n.fa-tumblr-square:before {\\n  content: \\\"\\\\F174\\\";\\n}\\n.fa-long-arrow-down:before {\\n  content: \\\"\\\\F175\\\";\\n}\\n.fa-long-arrow-up:before {\\n  content: \\\"\\\\F176\\\";\\n}\\n.fa-long-arrow-left:before {\\n  content: \\\"\\\\F177\\\";\\n}\\n.fa-long-arrow-right:before {\\n  content: \\\"\\\\F178\\\";\\n}\\n.fa-apple:before {\\n  content: \\\"\\\\F179\\\";\\n}\\n.fa-windows:before {\\n  content: \\\"\\\\F17A\\\";\\n}\\n.fa-android:before {\\n  content: \\\"\\\\F17B\\\";\\n}\\n.fa-linux:before {\\n  content: \\\"\\\\F17C\\\";\\n}\\n.fa-dribbble:before {\\n  content: \\\"\\\\F17D\\\";\\n}\\n.fa-skype:before {\\n  content: \\\"\\\\F17E\\\";\\n}\\n.fa-foursquare:before {\\n  content: \\\"\\\\F180\\\";\\n}\\n.fa-trello:before {\\n  content: \\\"\\\\F181\\\";\\n}\\n.fa-female:before {\\n  content: \\\"\\\\F182\\\";\\n}\\n.fa-male:before {\\n  content: \\\"\\\\F183\\\";\\n}\\n.fa-gittip:before,\\n.fa-gratipay:before {\\n  content: \\\"\\\\F184\\\";\\n}\\n.fa-sun-o:before {\\n  content: \\\"\\\\F185\\\";\\n}\\n.fa-moon-o:before {\\n  content: \\\"\\\\F186\\\";\\n}\\n.fa-archive:before {\\n  content: \\\"\\\\F187\\\";\\n}\\n.fa-bug:before {\\n  content: \\\"\\\\F188\\\";\\n}\\n.fa-vk:before {\\n  content: \\\"\\\\F189\\\";\\n}\\n.fa-weibo:before {\\n  content: \\\"\\\\F18A\\\";\\n}\\n.fa-renren:before {\\n  content: \\\"\\\\F18B\\\";\\n}\\n.fa-pagelines:before {\\n  content: \\\"\\\\F18C\\\";\\n}\\n.fa-stack-exchange:before {\\n  content: \\\"\\\\F18D\\\";\\n}\\n.fa-arrow-circle-o-right:before {\\n  content: \\\"\\\\F18E\\\";\\n}\\n.fa-arrow-circle-o-left:before {\\n  content: \\\"\\\\F190\\\";\\n}\\n.fa-toggle-left:before,\\n.fa-caret-square-o-left:before {\\n  content: \\\"\\\\F191\\\";\\n}\\n.fa-dot-circle-o:before {\\n  content: \\\"\\\\F192\\\";\\n}\\n.fa-wheelchair:before {\\n  content: \\\"\\\\F193\\\";\\n}\\n.fa-vimeo-square:before {\\n  content: \\\"\\\\F194\\\";\\n}\\n.fa-turkish-lira:before,\\n.fa-try:before {\\n  content: \\\"\\\\F195\\\";\\n}\\n.fa-plus-square-o:before {\\n  content: \\\"\\\\F196\\\";\\n}\\n.fa-space-shuttle:before {\\n  content: \\\"\\\\F197\\\";\\n}\\n.fa-slack:before {\\n  content: \\\"\\\\F198\\\";\\n}\\n.fa-envelope-square:before {\\n  content: \\\"\\\\F199\\\";\\n}\\n.fa-wordpress:before {\\n  content: \\\"\\\\F19A\\\";\\n}\\n.fa-openid:before {\\n  content: \\\"\\\\F19B\\\";\\n}\\n.fa-institution:before,\\n.fa-bank:before,\\n.fa-university:before {\\n  content: \\\"\\\\F19C\\\";\\n}\\n.fa-mortar-board:before,\\n.fa-graduation-cap:before {\\n  content: \\\"\\\\F19D\\\";\\n}\\n.fa-yahoo:before {\\n  content: \\\"\\\\F19E\\\";\\n}\\n.fa-google:before {\\n  content: \\\"\\\\F1A0\\\";\\n}\\n.fa-reddit:before {\\n  content: \\\"\\\\F1A1\\\";\\n}\\n.fa-reddit-square:before {\\n  content: \\\"\\\\F1A2\\\";\\n}\\n.fa-stumbleupon-circle:before {\\n  content: \\\"\\\\F1A3\\\";\\n}\\n.fa-stumbleupon:before {\\n  content: \\\"\\\\F1A4\\\";\\n}\\n.fa-delicious:before {\\n  content: \\\"\\\\F1A5\\\";\\n}\\n.fa-digg:before {\\n  content: \\\"\\\\F1A6\\\";\\n}\\n.fa-pied-piper-pp:before {\\n  content: \\\"\\\\F1A7\\\";\\n}\\n.fa-pied-piper-alt:before {\\n  content: \\\"\\\\F1A8\\\";\\n}\\n.fa-drupal:before {\\n  content: \\\"\\\\F1A9\\\";\\n}\\n.fa-joomla:before {\\n  content: \\\"\\\\F1AA\\\";\\n}\\n.fa-language:before {\\n  content: \\\"\\\\F1AB\\\";\\n}\\n.fa-fax:before {\\n  content: \\\"\\\\F1AC\\\";\\n}\\n.fa-building:before {\\n  content: \\\"\\\\F1AD\\\";\\n}\\n.fa-child:before {\\n  content: \\\"\\\\F1AE\\\";\\n}\\n.fa-paw:before {\\n  content: \\\"\\\\F1B0\\\";\\n}\\n.fa-spoon:before {\\n  content: \\\"\\\\F1B1\\\";\\n}\\n.fa-cube:before {\\n  content: \\\"\\\\F1B2\\\";\\n}\\n.fa-cubes:before {\\n  content: \\\"\\\\F1B3\\\";\\n}\\n.fa-behance:before {\\n  content: \\\"\\\\F1B4\\\";\\n}\\n.fa-behance-square:before {\\n  content: \\\"\\\\F1B5\\\";\\n}\\n.fa-steam:before {\\n  content: \\\"\\\\F1B6\\\";\\n}\\n.fa-steam-square:before {\\n  content: \\\"\\\\F1B7\\\";\\n}\\n.fa-recycle:before {\\n  content: \\\"\\\\F1B8\\\";\\n}\\n.fa-automobile:before,\\n.fa-car:before {\\n  content: \\\"\\\\F1B9\\\";\\n}\\n.fa-cab:before,\\n.fa-taxi:before {\\n  content: \\\"\\\\F1BA\\\";\\n}\\n.fa-tree:before {\\n  content: \\\"\\\\F1BB\\\";\\n}\\n.fa-spotify:before {\\n  content: \\\"\\\\F1BC\\\";\\n}\\n.fa-deviantart:before {\\n  content: \\\"\\\\F1BD\\\";\\n}\\n.fa-soundcloud:before {\\n  content: \\\"\\\\F1BE\\\";\\n}\\n.fa-database:before {\\n  content: \\\"\\\\F1C0\\\";\\n}\\n.fa-file-pdf-o:before {\\n  content: \\\"\\\\F1C1\\\";\\n}\\n.fa-file-word-o:before {\\n  content: \\\"\\\\F1C2\\\";\\n}\\n.fa-file-excel-o:before {\\n  content: \\\"\\\\F1C3\\\";\\n}\\n.fa-file-powerpoint-o:before {\\n  content: \\\"\\\\F1C4\\\";\\n}\\n.fa-file-photo-o:before,\\n.fa-file-picture-o:before,\\n.fa-file-image-o:before {\\n  content: \\\"\\\\F1C5\\\";\\n}\\n.fa-file-zip-o:before,\\n.fa-file-archive-o:before {\\n  content: \\\"\\\\F1C6\\\";\\n}\\n.fa-file-sound-o:before,\\n.fa-file-audio-o:before {\\n  content: \\\"\\\\F1C7\\\";\\n}\\n.fa-file-movie-o:before,\\n.fa-file-video-o:before {\\n  content: \\\"\\\\F1C8\\\";\\n}\\n.fa-file-code-o:before {\\n  content: \\\"\\\\F1C9\\\";\\n}\\n.fa-vine:before {\\n  content: \\\"\\\\F1CA\\\";\\n}\\n.fa-codepen:before {\\n  content: \\\"\\\\F1CB\\\";\\n}\\n.fa-jsfiddle:before {\\n  content: \\\"\\\\F1CC\\\";\\n}\\n.fa-life-bouy:before,\\n.fa-life-buoy:before,\\n.fa-life-saver:before,\\n.fa-support:before,\\n.fa-life-ring:before {\\n  content: \\\"\\\\F1CD\\\";\\n}\\n.fa-circle-o-notch:before {\\n  content: \\\"\\\\F1CE\\\";\\n}\\n.fa-ra:before,\\n.fa-resistance:before,\\n.fa-rebel:before {\\n  content: \\\"\\\\F1D0\\\";\\n}\\n.fa-ge:before,\\n.fa-empire:before {\\n  content: \\\"\\\\F1D1\\\";\\n}\\n.fa-git-square:before {\\n  content: \\\"\\\\F1D2\\\";\\n}\\n.fa-git:before {\\n  content: \\\"\\\\F1D3\\\";\\n}\\n.fa-y-combinator-square:before,\\n.fa-yc-square:before,\\n.fa-hacker-news:before {\\n  content: \\\"\\\\F1D4\\\";\\n}\\n.fa-tencent-weibo:before {\\n  content: \\\"\\\\F1D5\\\";\\n}\\n.fa-qq:before {\\n  content: \\\"\\\\F1D6\\\";\\n}\\n.fa-wechat:before,\\n.fa-weixin:before {\\n  content: \\\"\\\\F1D7\\\";\\n}\\n.fa-send:before,\\n.fa-paper-plane:before {\\n  content: \\\"\\\\F1D8\\\";\\n}\\n.fa-send-o:before,\\n.fa-paper-plane-o:before {\\n  content: \\\"\\\\F1D9\\\";\\n}\\n.fa-history:before {\\n  content: \\\"\\\\F1DA\\\";\\n}\\n.fa-circle-thin:before {\\n  content: \\\"\\\\F1DB\\\";\\n}\\n.fa-header:before {\\n  content: \\\"\\\\F1DC\\\";\\n}\\n.fa-paragraph:before {\\n  content: \\\"\\\\F1DD\\\";\\n}\\n.fa-sliders:before {\\n  content: \\\"\\\\F1DE\\\";\\n}\\n.fa-share-alt:before {\\n  content: \\\"\\\\F1E0\\\";\\n}\\n.fa-share-alt-square:before {\\n  content: \\\"\\\\F1E1\\\";\\n}\\n.fa-bomb:before {\\n  content: \\\"\\\\F1E2\\\";\\n}\\n.fa-soccer-ball-o:before,\\n.fa-futbol-o:before {\\n  content: \\\"\\\\F1E3\\\";\\n}\\n.fa-tty:before {\\n  content: \\\"\\\\F1E4\\\";\\n}\\n.fa-binoculars:before {\\n  content: \\\"\\\\F1E5\\\";\\n}\\n.fa-plug:before {\\n  content: \\\"\\\\F1E6\\\";\\n}\\n.fa-slideshare:before {\\n  content: \\\"\\\\F1E7\\\";\\n}\\n.fa-twitch:before {\\n  content: \\\"\\\\F1E8\\\";\\n}\\n.fa-yelp:before {\\n  content: \\\"\\\\F1E9\\\";\\n}\\n.fa-newspaper-o:before {\\n  content: \\\"\\\\F1EA\\\";\\n}\\n.fa-wifi:before {\\n  content: \\\"\\\\F1EB\\\";\\n}\\n.fa-calculator:before {\\n  content: \\\"\\\\F1EC\\\";\\n}\\n.fa-paypal:before {\\n  content: \\\"\\\\F1ED\\\";\\n}\\n.fa-google-wallet:before {\\n  content: \\\"\\\\F1EE\\\";\\n}\\n.fa-cc-visa:before {\\n  content: \\\"\\\\F1F0\\\";\\n}\\n.fa-cc-mastercard:before {\\n  content: \\\"\\\\F1F1\\\";\\n}\\n.fa-cc-discover:before {\\n  content: \\\"\\\\F1F2\\\";\\n}\\n.fa-cc-amex:before {\\n  content: \\\"\\\\F1F3\\\";\\n}\\n.fa-cc-paypal:before {\\n  content: \\\"\\\\F1F4\\\";\\n}\\n.fa-cc-stripe:before {\\n  content: \\\"\\\\F1F5\\\";\\n}\\n.fa-bell-slash:before {\\n  content: \\\"\\\\F1F6\\\";\\n}\\n.fa-bell-slash-o:before {\\n  content: \\\"\\\\F1F7\\\";\\n}\\n.fa-trash:before {\\n  content: \\\"\\\\F1F8\\\";\\n}\\n.fa-copyright:before {\\n  content: \\\"\\\\F1F9\\\";\\n}\\n.fa-at:before {\\n  content: \\\"\\\\F1FA\\\";\\n}\\n.fa-eyedropper:before {\\n  content: \\\"\\\\F1FB\\\";\\n}\\n.fa-paint-brush:before {\\n  content: \\\"\\\\F1FC\\\";\\n}\\n.fa-birthday-cake:before {\\n  content: \\\"\\\\F1FD\\\";\\n}\\n.fa-area-chart:before {\\n  content: \\\"\\\\F1FE\\\";\\n}\\n.fa-pie-chart:before {\\n  content: \\\"\\\\F200\\\";\\n}\\n.fa-line-chart:before {\\n  content: \\\"\\\\F201\\\";\\n}\\n.fa-lastfm:before {\\n  content: \\\"\\\\F202\\\";\\n}\\n.fa-lastfm-square:before {\\n  content: \\\"\\\\F203\\\";\\n}\\n.fa-toggle-off:before {\\n  content: \\\"\\\\F204\\\";\\n}\\n.fa-toggle-on:before {\\n  content: \\\"\\\\F205\\\";\\n}\\n.fa-bicycle:before {\\n  content: \\\"\\\\F206\\\";\\n}\\n.fa-bus:before {\\n  content: \\\"\\\\F207\\\";\\n}\\n.fa-ioxhost:before {\\n  content: \\\"\\\\F208\\\";\\n}\\n.fa-angellist:before {\\n  content: \\\"\\\\F209\\\";\\n}\\n.fa-cc:before {\\n  content: \\\"\\\\F20A\\\";\\n}\\n.fa-shekel:before,\\n.fa-sheqel:before,\\n.fa-ils:before {\\n  content: \\\"\\\\F20B\\\";\\n}\\n.fa-meanpath:before {\\n  content: \\\"\\\\F20C\\\";\\n}\\n.fa-buysellads:before {\\n  content: \\\"\\\\F20D\\\";\\n}\\n.fa-connectdevelop:before {\\n  content: \\\"\\\\F20E\\\";\\n}\\n.fa-dashcube:before {\\n  content: \\\"\\\\F210\\\";\\n}\\n.fa-forumbee:before {\\n  content: \\\"\\\\F211\\\";\\n}\\n.fa-leanpub:before {\\n  content: \\\"\\\\F212\\\";\\n}\\n.fa-sellsy:before {\\n  content: \\\"\\\\F213\\\";\\n}\\n.fa-shirtsinbulk:before {\\n  content: \\\"\\\\F214\\\";\\n}\\n.fa-simplybuilt:before {\\n  content: \\\"\\\\F215\\\";\\n}\\n.fa-skyatlas:before {\\n  content: \\\"\\\\F216\\\";\\n}\\n.fa-cart-plus:before {\\n  content: \\\"\\\\F217\\\";\\n}\\n.fa-cart-arrow-down:before {\\n  content: \\\"\\\\F218\\\";\\n}\\n.fa-diamond:before {\\n  content: \\\"\\\\F219\\\";\\n}\\n.fa-ship:before {\\n  content: \\\"\\\\F21A\\\";\\n}\\n.fa-user-secret:before {\\n  content: \\\"\\\\F21B\\\";\\n}\\n.fa-motorcycle:before {\\n  content: \\\"\\\\F21C\\\";\\n}\\n.fa-street-view:before {\\n  content: \\\"\\\\F21D\\\";\\n}\\n.fa-heartbeat:before {\\n  content: \\\"\\\\F21E\\\";\\n}\\n.fa-venus:before {\\n  content: \\\"\\\\F221\\\";\\n}\\n.fa-mars:before {\\n  content: \\\"\\\\F222\\\";\\n}\\n.fa-mercury:before {\\n  content: \\\"\\\\F223\\\";\\n}\\n.fa-intersex:before,\\n.fa-transgender:before {\\n  content: \\\"\\\\F224\\\";\\n}\\n.fa-transgender-alt:before {\\n  content: \\\"\\\\F225\\\";\\n}\\n.fa-venus-double:before {\\n  content: \\\"\\\\F226\\\";\\n}\\n.fa-mars-double:before {\\n  content: \\\"\\\\F227\\\";\\n}\\n.fa-venus-mars:before {\\n  content: \\\"\\\\F228\\\";\\n}\\n.fa-mars-stroke:before {\\n  content: \\\"\\\\F229\\\";\\n}\\n.fa-mars-stroke-v:before {\\n  content: \\\"\\\\F22A\\\";\\n}\\n.fa-mars-stroke-h:before {\\n  content: \\\"\\\\F22B\\\";\\n}\\n.fa-neuter:before {\\n  content: \\\"\\\\F22C\\\";\\n}\\n.fa-genderless:before {\\n  content: \\\"\\\\F22D\\\";\\n}\\n.fa-facebook-official:before {\\n  content: \\\"\\\\F230\\\";\\n}\\n.fa-pinterest-p:before {\\n  content: \\\"\\\\F231\\\";\\n}\\n.fa-whatsapp:before {\\n  content: \\\"\\\\F232\\\";\\n}\\n.fa-server:before {\\n  content: \\\"\\\\F233\\\";\\n}\\n.fa-user-plus:before {\\n  content: \\\"\\\\F234\\\";\\n}\\n.fa-user-times:before {\\n  content: \\\"\\\\F235\\\";\\n}\\n.fa-hotel:before,\\n.fa-bed:before {\\n  content: \\\"\\\\F236\\\";\\n}\\n.fa-viacoin:before {\\n  content: \\\"\\\\F237\\\";\\n}\\n.fa-train:before {\\n  content: \\\"\\\\F238\\\";\\n}\\n.fa-subway:before {\\n  content: \\\"\\\\F239\\\";\\n}\\n.fa-medium:before {\\n  content: \\\"\\\\F23A\\\";\\n}\\n.fa-yc:before,\\n.fa-y-combinator:before {\\n  content: \\\"\\\\F23B\\\";\\n}\\n.fa-optin-monster:before {\\n  content: \\\"\\\\F23C\\\";\\n}\\n.fa-opencart:before {\\n  content: \\\"\\\\F23D\\\";\\n}\\n.fa-expeditedssl:before {\\n  content: \\\"\\\\F23E\\\";\\n}\\n.fa-battery-4:before,\\n.fa-battery:before,\\n.fa-battery-full:before {\\n  content: \\\"\\\\F240\\\";\\n}\\n.fa-battery-3:before,\\n.fa-battery-three-quarters:before {\\n  content: \\\"\\\\F241\\\";\\n}\\n.fa-battery-2:before,\\n.fa-battery-half:before {\\n  content: \\\"\\\\F242\\\";\\n}\\n.fa-battery-1:before,\\n.fa-battery-quarter:before {\\n  content: \\\"\\\\F243\\\";\\n}\\n.fa-battery-0:before,\\n.fa-battery-empty:before {\\n  content: \\\"\\\\F244\\\";\\n}\\n.fa-mouse-pointer:before {\\n  content: \\\"\\\\F245\\\";\\n}\\n.fa-i-cursor:before {\\n  content: \\\"\\\\F246\\\";\\n}\\n.fa-object-group:before {\\n  content: \\\"\\\\F247\\\";\\n}\\n.fa-object-ungroup:before {\\n  content: \\\"\\\\F248\\\";\\n}\\n.fa-sticky-note:before {\\n  content: \\\"\\\\F249\\\";\\n}\\n.fa-sticky-note-o:before {\\n  content: \\\"\\\\F24A\\\";\\n}\\n.fa-cc-jcb:before {\\n  content: \\\"\\\\F24B\\\";\\n}\\n.fa-cc-diners-club:before {\\n  content: \\\"\\\\F24C\\\";\\n}\\n.fa-clone:before {\\n  content: \\\"\\\\F24D\\\";\\n}\\n.fa-balance-scale:before {\\n  content: \\\"\\\\F24E\\\";\\n}\\n.fa-hourglass-o:before {\\n  content: \\\"\\\\F250\\\";\\n}\\n.fa-hourglass-1:before,\\n.fa-hourglass-start:before {\\n  content: \\\"\\\\F251\\\";\\n}\\n.fa-hourglass-2:before,\\n.fa-hourglass-half:before {\\n  content: \\\"\\\\F252\\\";\\n}\\n.fa-hourglass-3:before,\\n.fa-hourglass-end:before {\\n  content: \\\"\\\\F253\\\";\\n}\\n.fa-hourglass:before {\\n  content: \\\"\\\\F254\\\";\\n}\\n.fa-hand-grab-o:before,\\n.fa-hand-rock-o:before {\\n  content: \\\"\\\\F255\\\";\\n}\\n.fa-hand-stop-o:before,\\n.fa-hand-paper-o:before {\\n  content: \\\"\\\\F256\\\";\\n}\\n.fa-hand-scissors-o:before {\\n  content: \\\"\\\\F257\\\";\\n}\\n.fa-hand-lizard-o:before {\\n  content: \\\"\\\\F258\\\";\\n}\\n.fa-hand-spock-o:before {\\n  content: \\\"\\\\F259\\\";\\n}\\n.fa-hand-pointer-o:before {\\n  content: \\\"\\\\F25A\\\";\\n}\\n.fa-hand-peace-o:before {\\n  content: \\\"\\\\F25B\\\";\\n}\\n.fa-trademark:before {\\n  content: \\\"\\\\F25C\\\";\\n}\\n.fa-registered:before {\\n  content: \\\"\\\\F25D\\\";\\n}\\n.fa-creative-commons:before {\\n  content: \\\"\\\\F25E\\\";\\n}\\n.fa-gg:before {\\n  content: \\\"\\\\F260\\\";\\n}\\n.fa-gg-circle:before {\\n  content: \\\"\\\\F261\\\";\\n}\\n.fa-tripadvisor:before {\\n  content: \\\"\\\\F262\\\";\\n}\\n.fa-odnoklassniki:before {\\n  content: \\\"\\\\F263\\\";\\n}\\n.fa-odnoklassniki-square:before {\\n  content: \\\"\\\\F264\\\";\\n}\\n.fa-get-pocket:before {\\n  content: \\\"\\\\F265\\\";\\n}\\n.fa-wikipedia-w:before {\\n  content: \\\"\\\\F266\\\";\\n}\\n.fa-safari:before {\\n  content: \\\"\\\\F267\\\";\\n}\\n.fa-chrome:before {\\n  content: \\\"\\\\F268\\\";\\n}\\n.fa-firefox:before {\\n  content: \\\"\\\\F269\\\";\\n}\\n.fa-opera:before {\\n  content: \\\"\\\\F26A\\\";\\n}\\n.fa-internet-explorer:before {\\n  content: \\\"\\\\F26B\\\";\\n}\\n.fa-tv:before,\\n.fa-television:before {\\n  content: \\\"\\\\F26C\\\";\\n}\\n.fa-contao:before {\\n  content: \\\"\\\\F26D\\\";\\n}\\n.fa-500px:before {\\n  content: \\\"\\\\F26E\\\";\\n}\\n.fa-amazon:before {\\n  content: \\\"\\\\F270\\\";\\n}\\n.fa-calendar-plus-o:before {\\n  content: \\\"\\\\F271\\\";\\n}\\n.fa-calendar-minus-o:before {\\n  content: \\\"\\\\F272\\\";\\n}\\n.fa-calendar-times-o:before {\\n  content: \\\"\\\\F273\\\";\\n}\\n.fa-calendar-check-o:before {\\n  content: \\\"\\\\F274\\\";\\n}\\n.fa-industry:before {\\n  content: \\\"\\\\F275\\\";\\n}\\n.fa-map-pin:before {\\n  content: \\\"\\\\F276\\\";\\n}\\n.fa-map-signs:before {\\n  content: \\\"\\\\F277\\\";\\n}\\n.fa-map-o:before {\\n  content: \\\"\\\\F278\\\";\\n}\\n.fa-map:before {\\n  content: \\\"\\\\F279\\\";\\n}\\n.fa-commenting:before {\\n  content: \\\"\\\\F27A\\\";\\n}\\n.fa-commenting-o:before {\\n  content: \\\"\\\\F27B\\\";\\n}\\n.fa-houzz:before {\\n  content: \\\"\\\\F27C\\\";\\n}\\n.fa-vimeo:before {\\n  content: \\\"\\\\F27D\\\";\\n}\\n.fa-black-tie:before {\\n  content: \\\"\\\\F27E\\\";\\n}\\n.fa-fonticons:before {\\n  content: \\\"\\\\F280\\\";\\n}\\n.fa-reddit-alien:before {\\n  content: \\\"\\\\F281\\\";\\n}\\n.fa-edge:before {\\n  content: \\\"\\\\F282\\\";\\n}\\n.fa-credit-card-alt:before {\\n  content: \\\"\\\\F283\\\";\\n}\\n.fa-codiepie:before {\\n  content: \\\"\\\\F284\\\";\\n}\\n.fa-modx:before {\\n  content: \\\"\\\\F285\\\";\\n}\\n.fa-fort-awesome:before {\\n  content: \\\"\\\\F286\\\";\\n}\\n.fa-usb:before {\\n  content: \\\"\\\\F287\\\";\\n}\\n.fa-product-hunt:before {\\n  content: \\\"\\\\F288\\\";\\n}\\n.fa-mixcloud:before {\\n  content: \\\"\\\\F289\\\";\\n}\\n.fa-scribd:before {\\n  content: \\\"\\\\F28A\\\";\\n}\\n.fa-pause-circle:before {\\n  content: \\\"\\\\F28B\\\";\\n}\\n.fa-pause-circle-o:before {\\n  content: \\\"\\\\F28C\\\";\\n}\\n.fa-stop-circle:before {\\n  content: \\\"\\\\F28D\\\";\\n}\\n.fa-stop-circle-o:before {\\n  content: \\\"\\\\F28E\\\";\\n}\\n.fa-shopping-bag:before {\\n  content: \\\"\\\\F290\\\";\\n}\\n.fa-shopping-basket:before {\\n  content: \\\"\\\\F291\\\";\\n}\\n.fa-hashtag:before {\\n  content: \\\"\\\\F292\\\";\\n}\\n.fa-bluetooth:before {\\n  content: \\\"\\\\F293\\\";\\n}\\n.fa-bluetooth-b:before {\\n  content: \\\"\\\\F294\\\";\\n}\\n.fa-percent:before {\\n  content: \\\"\\\\F295\\\";\\n}\\n.fa-gitlab:before {\\n  content: \\\"\\\\F296\\\";\\n}\\n.fa-wpbeginner:before {\\n  content: \\\"\\\\F297\\\";\\n}\\n.fa-wpforms:before {\\n  content: \\\"\\\\F298\\\";\\n}\\n.fa-envira:before {\\n  content: \\\"\\\\F299\\\";\\n}\\n.fa-universal-access:before {\\n  content: \\\"\\\\F29A\\\";\\n}\\n.fa-wheelchair-alt:before {\\n  content: \\\"\\\\F29B\\\";\\n}\\n.fa-question-circle-o:before {\\n  content: \\\"\\\\F29C\\\";\\n}\\n.fa-blind:before {\\n  content: \\\"\\\\F29D\\\";\\n}\\n.fa-audio-description:before {\\n  content: \\\"\\\\F29E\\\";\\n}\\n.fa-volume-control-phone:before {\\n  content: \\\"\\\\F2A0\\\";\\n}\\n.fa-braille:before {\\n  content: \\\"\\\\F2A1\\\";\\n}\\n.fa-assistive-listening-systems:before {\\n  content: \\\"\\\\F2A2\\\";\\n}\\n.fa-asl-interpreting:before,\\n.fa-american-sign-language-interpreting:before {\\n  content: \\\"\\\\F2A3\\\";\\n}\\n.fa-deafness:before,\\n.fa-hard-of-hearing:before,\\n.fa-deaf:before {\\n  content: \\\"\\\\F2A4\\\";\\n}\\n.fa-glide:before {\\n  content: \\\"\\\\F2A5\\\";\\n}\\n.fa-glide-g:before {\\n  content: \\\"\\\\F2A6\\\";\\n}\\n.fa-signing:before,\\n.fa-sign-language:before {\\n  content: \\\"\\\\F2A7\\\";\\n}\\n.fa-low-vision:before {\\n  content: \\\"\\\\F2A8\\\";\\n}\\n.fa-viadeo:before {\\n  content: \\\"\\\\F2A9\\\";\\n}\\n.fa-viadeo-square:before {\\n  content: \\\"\\\\F2AA\\\";\\n}\\n.fa-snapchat:before {\\n  content: \\\"\\\\F2AB\\\";\\n}\\n.fa-snapchat-ghost:before {\\n  content: \\\"\\\\F2AC\\\";\\n}\\n.fa-snapchat-square:before {\\n  content: \\\"\\\\F2AD\\\";\\n}\\n.fa-pied-piper:before {\\n  content: \\\"\\\\F2AE\\\";\\n}\\n.fa-first-order:before {\\n  content: \\\"\\\\F2B0\\\";\\n}\\n.fa-yoast:before {\\n  content: \\\"\\\\F2B1\\\";\\n}\\n.fa-themeisle:before {\\n  content: \\\"\\\\F2B2\\\";\\n}\\n.fa-google-plus-circle:before,\\n.fa-google-plus-official:before {\\n  content: \\\"\\\\F2B3\\\";\\n}\\n.fa-fa:before,\\n.fa-font-awesome:before {\\n  content: \\\"\\\\F2B4\\\";\\n}\\n.fa-handshake-o:before {\\n  content: \\\"\\\\F2B5\\\";\\n}\\n.fa-envelope-open:before {\\n  content: \\\"\\\\F2B6\\\";\\n}\\n.fa-envelope-open-o:before {\\n  content: \\\"\\\\F2B7\\\";\\n}\\n.fa-linode:before {\\n  content: \\\"\\\\F2B8\\\";\\n}\\n.fa-address-book:before {\\n  content: \\\"\\\\F2B9\\\";\\n}\\n.fa-address-book-o:before {\\n  content: \\\"\\\\F2BA\\\";\\n}\\n.fa-vcard:before,\\n.fa-address-card:before {\\n  content: \\\"\\\\F2BB\\\";\\n}\\n.fa-vcard-o:before,\\n.fa-address-card-o:before {\\n  content: \\\"\\\\F2BC\\\";\\n}\\n.fa-user-circle:before {\\n  content: \\\"\\\\F2BD\\\";\\n}\\n.fa-user-circle-o:before {\\n  content: \\\"\\\\F2BE\\\";\\n}\\n.fa-user-o:before {\\n  content: \\\"\\\\F2C0\\\";\\n}\\n.fa-id-badge:before {\\n  content: \\\"\\\\F2C1\\\";\\n}\\n.fa-drivers-license:before,\\n.fa-id-card:before {\\n  content: \\\"\\\\F2C2\\\";\\n}\\n.fa-drivers-license-o:before,\\n.fa-id-card-o:before {\\n  content: \\\"\\\\F2C3\\\";\\n}\\n.fa-quora:before {\\n  content: \\\"\\\\F2C4\\\";\\n}\\n.fa-free-code-camp:before {\\n  content: \\\"\\\\F2C5\\\";\\n}\\n.fa-telegram:before {\\n  content: \\\"\\\\F2C6\\\";\\n}\\n.fa-thermometer-4:before,\\n.fa-thermometer:before,\\n.fa-thermometer-full:before {\\n  content: \\\"\\\\F2C7\\\";\\n}\\n.fa-thermometer-3:before,\\n.fa-thermometer-three-quarters:before {\\n  content: \\\"\\\\F2C8\\\";\\n}\\n.fa-thermometer-2:before,\\n.fa-thermometer-half:before {\\n  content: \\\"\\\\F2C9\\\";\\n}\\n.fa-thermometer-1:before,\\n.fa-thermometer-quarter:before {\\n  content: \\\"\\\\F2CA\\\";\\n}\\n.fa-thermometer-0:before,\\n.fa-thermometer-empty:before {\\n  content: \\\"\\\\F2CB\\\";\\n}\\n.fa-shower:before {\\n  content: \\\"\\\\F2CC\\\";\\n}\\n.fa-bathtub:before,\\n.fa-s15:before,\\n.fa-bath:before {\\n  content: \\\"\\\\F2CD\\\";\\n}\\n.fa-podcast:before {\\n  content: \\\"\\\\F2CE\\\";\\n}\\n.fa-window-maximize:before {\\n  content: \\\"\\\\F2D0\\\";\\n}\\n.fa-window-minimize:before {\\n  content: \\\"\\\\F2D1\\\";\\n}\\n.fa-window-restore:before {\\n  content: \\\"\\\\F2D2\\\";\\n}\\n.fa-times-rectangle:before,\\n.fa-window-close:before {\\n  content: \\\"\\\\F2D3\\\";\\n}\\n.fa-times-rectangle-o:before,\\n.fa-window-close-o:before {\\n  content: \\\"\\\\F2D4\\\";\\n}\\n.fa-bandcamp:before {\\n  content: \\\"\\\\F2D5\\\";\\n}\\n.fa-grav:before {\\n  content: \\\"\\\\F2D6\\\";\\n}\\n.fa-etsy:before {\\n  content: \\\"\\\\F2D7\\\";\\n}\\n.fa-imdb:before {\\n  content: \\\"\\\\F2D8\\\";\\n}\\n.fa-ravelry:before {\\n  content: \\\"\\\\F2D9\\\";\\n}\\n.fa-eercast:before {\\n  content: \\\"\\\\F2DA\\\";\\n}\\n.fa-microchip:before {\\n  content: \\\"\\\\F2DB\\\";\\n}\\n.fa-snowflake-o:before {\\n  content: \\\"\\\\F2DC\\\";\\n}\\n.fa-superpowers:before {\\n  content: \\\"\\\\F2DD\\\";\\n}\\n.fa-wpexplorer:before {\\n  content: \\\"\\\\F2DE\\\";\\n}\\n.fa-meetup:before {\\n  content: \\\"\\\\F2E0\\\";\\n}\\n.sr-only {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  border: 0;\\n}\\n.sr-only-focusable:active,\\n.sr-only-focusable:focus {\\n  position: static;\\n  width: auto;\\n  height: auto;\\n  margin: 0;\\n  overflow: visible;\\n  clip: auto;\\n}\\n\", \"\"]);\n\n// exports\n","var escape = require(\"../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".toolbar {\\n  margin: 0;\\n  padding-top: 0;\\n  padding-right: 10px;\\n  top: 0;\\n  right: 0;\\n  left: 220px;\\n  height: 60px;\\n  overflow: visible;\\n  position: absolute;\\n  background-color: #B2E2F2;\\n  border: none !important;\\n}\\n.toolbar * {\\n  outline: none;\\n}\\n.toolbar .group {\\n  padding-right: 20px;\\n  display: inline-block;\\n  vertical-align: top;\\n}\\n.toolbar .group .image-button {\\n  display: inline-block;\\n}\\n.toolbar .group .image-button img {\\n  margin: 5px;\\n  margin-bottom: 0;\\n  padding: 0;\\n  width: 40px;\\n  height: 40px;\\n  position: relative;\\n  display: inline-block;\\n  text-align: center;\\n  color: #777;\\n  font-size: 45px;\\n  transition: all 0.5s;\\n}\\n.toolbar .group .image-button div {\\n  color: rgba(0, 0, 0, 0.5);\\n  text-align: center;\\n  font-size: 10px;\\n}\\n.toolbar .group .image-button div.highlight {\\n  animation: highlight 3s infinite;\\n}\\n.toolbar .group .image-button.disabled {\\n  opacity: 0.2;\\n}\\n.toolbar .group .image-button:not(.disabled) img,\\n.toolbar .group .image-button:not(.disabled) svg {\\n  cursor: pointer;\\n}\\n.toolbar .group .image-button:not(.disabled) img:hover,\\n.toolbar .group .image-button:not(.disabled) svg:hover {\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\n}\\n@keyframes highlight {\\n  0% {\\n    color: #C71D3D;\\n  }\\n  50% {\\n    color: rgba(0, 0, 0, 0.4);\\n  }\\n  100% {\\n    color: #C71D3D;\\n  }\\n}\\n.modal-backdrop.in {\\n  opacity: 0.7;\\n  background-color: black;\\n  transition: opacity 0.4s linear;\\n}\\n.genericDialog .modal-content {\\n  border-radius: 4px;\\n  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22);\\n  background-color: #ffffff;\\n}\\n.genericDialog .modal-content .modal-header {\\n  border-bottom: 0;\\n  font-weight: 400;\\n  box-shadow: 0 3px 5px rgba(57, 63, 72, 0.3);\\n}\\n.genericDialog .modal-content .modal-body {\\n  min-height: 120px;\\n}\\n.genericDialog .modal-content .modal-body .form-control {\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  appearance: none;\\n  box-sizing: border-box;\\n  border-radius: 4px;\\n  margin: 0;\\n  padding: 0;\\n  color: #4D4D4D;\\n  display: inline-block;\\n  font: inherit;\\n  border: 1px solid #DFDFDF;\\n  box-shadow: none;\\n  height: 24px;\\n  padding: 0 3px;\\n}\\n.genericDialog .modal-content .modal-body .form-control:focus {\\n  background-color: #f5f5f5;\\n}\\n.genericDialog .modal-content .modal-body .list-group {\\n  overflow-y: auto;\\n  overflow-x: auto;\\n}\\n.genericDialog .modal-content .modal-body .list-group *[data-draw2d=\\\"true\\\"] {\\n  font-weight: bold;\\n  color: #C71D3D;\\n}\\n.genericDialog .modal-content .modal-body .list-group .glyphicon,\\n.genericDialog .modal-content .modal-body .list-group .fa {\\n  font-size: 20px;\\n  padding-right: 10px;\\n  color: #C71D3D;\\n}\\n.genericDialog .modal-content .modal-body .list-group .list-group-item {\\n  background-color: transparent;\\n  font-weight: 300;\\n}\\n.genericDialog .modal-content .modal-body .list-group .list-group-item:hover {\\n  text-decoration: underline;\\n}\\n.genericDialog .modal-content .modal-body .list-group *[data-draw2d=\\\"false\\\"][data-type=\\\"file\\\"] {\\n  color: gray;\\n  cursor: default;\\n  text-decoration: none !important;\\n}\\n.genericDialog .modal-content .modal-body .list-group *[data-draw2d=\\\"false\\\"][data-type=\\\"file\\\"] .fa {\\n  color: gray;\\n}\\n.genericDialog .modal-content .modal-footer {\\n  background-color: transparent;\\n  border-top: 0;\\n}\\n.genericDialog .modal-content .modal-footer .btn,\\n.genericDialog .modal-content .modal-footer .btn-group {\\n  border: 0;\\n  text-transform: uppercase;\\n  background-color: transparent;\\n  color: #C71D3D;\\n  transition: all 0.5s;\\n}\\n.genericDialog .modal-content .modal-footer .btn:hover,\\n.genericDialog .modal-content .modal-footer .btn-group:hover {\\n  background-color: rgba(199, 29, 61, 0.04);\\n  transition: all 0.5s;\\n}\\n.genericDialog .modal-content .modal-footer .btn-group {\\n  border: 0;\\n  text-transform: uppercase;\\n  background-color: transparent;\\n  color: #C71D3D;\\n  transition: all 0.5s;\\n}\\n.genericDialog .modal-content .modal-footer .btn-group .btn:hover {\\n  background-color: transparent;\\n}\\n.genericDialog .modal-content .modal-footer .btn-group .dropdown-toggle .caret {\\n  margin-top: 7px;\\n}\\n.genericDialog .modal-content .modal-footer .btn-group:hover {\\n  background-color: rgba(199, 29, 61, 0.04);\\n  transition: all 0.5s;\\n}\\n.genericDialog .modal-content .modal-footer .btn-primary {\\n  font-weight: bold;\\n}\\n#fileOpenDialog .list-group {\\n  height: 60%;\\n}\\n#fileSaveDialog .filePreview {\\n  max-width: 200px;\\n  max-height: 200px;\\n}\\n#fileSaveDialog .modal-body .media {\\n  padding: 20px;\\n}\\n#githubFileSaveAsDialog .filePreview {\\n  max-width: 200px;\\n  max-height: 200px;\\n}\\n#githubFileSaveAsDialog .list-group {\\n  height: 250px;\\n}\\n#canvas_zoom {\\n  position: fixed;\\n  bottom: 20px;\\n  right: 270px;\\n  background-color: rgba(178, 226, 242, 0.3);\\n  border-radius: 5px;\\n}\\n#canvas_zoom button {\\n  background-color: transparent;\\n  font-weight: 300;\\n  padding: 5px;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n  border: 1px solid transparent;\\n  outline: none;\\n  transition: all 0.5s;\\n}\\n#canvas_zoom button:hover {\\n  border: 1px solid #C71D3D;\\n}\\n.markdownRendering {\\n  padding: 20px;\\n}\\n.markdownRendering img {\\n  max-width: 100%;\\n}\\n.markdownRendering p {\\n  font-size: 16px;\\n  margin-top: 30px;\\n}\\n.markdownRendering table {\\n  margin-left: auto;\\n  margin-right: auto;\\n  font-family: Arial, Helvetica, sans-serif;\\n  color: #666;\\n  font-size: 12px;\\n  text-shadow: 1px 1px 0px #fff;\\n  background: #eaebec;\\n  border: #ccc 1px solid;\\n  -moz-border-radius: 3px;\\n  -webkit-border-radius: 3px;\\n  border-radius: 3px;\\n  -moz-box-shadow: 0 1px 2px #d1d1d1;\\n  -webkit-box-shadow: 0 1px 2px #d1d1d1;\\n  box-shadow: 0 1px 2px #d1d1d1;\\n}\\n.markdownRendering table th {\\n  padding: 21px 25px 22px 25px;\\n  border-top: 1px solid #fafafa;\\n  border-bottom: 1px solid #e0e0e0;\\n}\\n.markdownRendering table th:first-child {\\n  text-align: left;\\n  padding-left: 20px;\\n}\\n.markdownRendering table tr:first-child th:first-child {\\n  -moz-border-radius-topleft: 3px;\\n  -webkit-border-top-left-radius: 3px;\\n  border-top-left-radius: 3px;\\n}\\n.markdownRendering table tr:first-child th:last-child {\\n  -moz-border-radius-topright: 3px;\\n  -webkit-border-top-right-radius: 3px;\\n  border-top-right-radius: 3px;\\n}\\n.markdownRendering table tr {\\n  text-align: center;\\n  padding-left: 20px;\\n}\\n.markdownRendering table tr td:first-child {\\n  text-align: left;\\n  padding-left: 20px;\\n  border-left: 0;\\n}\\n.markdownRendering table tr td {\\n  padding: 18px;\\n  border-top: 1px solid #ffffff;\\n  border-bottom: 1px solid #e0e0e0;\\n  border-left: 1px solid #e0e0e0;\\n}\\n.markdownRendering tbody tr:nth-child(odd) {\\n  background: #fafafa;\\n}\\n.markdownRendering tbody tr:nth-child(even) {\\n  background: #f3f3f3;\\n}\\n.markdownRendering table tr:last-child td {\\n  border-bottom: 0;\\n}\\n.markdownRendering table tr:last-child td:first-child {\\n  -moz-border-radius-bottomleft: 3px;\\n  -webkit-border-bottom-left-radius: 3px;\\n  border-bottom-left-radius: 3px;\\n}\\n.markdownRendering table tr:last-child td:last-child {\\n  -moz-border-radius-bottomright: 3px;\\n  -webkit-border-bottom-right-radius: 3px;\\n  border-bottom-right-radius: 3px;\\n}\\n.tinyFlyoverMenu {\\n  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.4);\\n  border: 1px solid lightgray;\\n  position: absolute;\\n  top: -15px;\\n  right: 20px;\\n  background-color: white;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  border-radius: 3px;\\n  font-size: 20px;\\n  z-index: 1;\\n}\\n.tinyFlyoverMenu div {\\n  margin-left: 3px;\\n  margin-right: 3px;\\n  border: 1px solid transparent;\\n}\\n.tinyFlyoverMenu div:hover {\\n  border: 1px solid lightgray;\\n  cursor: pointer;\\n}\\n.activeSection .tinyFlyoverMenu {\\n  position: sticky;\\n  float: right;\\n  top: 10px;\\n}\\n#notificationToast {\\n  position: absolute;\\n  top: -20px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  background-color: #C71D3D;\\n  padding-left: 20px;\\n  padding-right: 20px;\\n  color: white;\\n  border-radius: 0 0 8px 8px;\\n  font-weight: 100;\\n  z-index: 30000;\\n}\\n#files {\\n  overflow-y: scroll;\\n  padding: 30px !important;\\n  box-shadow: -6px 0 20px -4px rgba(31, 73, 125, 0.3);\\n}\\n#files .toolbar {\\n  background-color: transparent;\\n}\\n#files .teaser {\\n  margin-bottom: 0;\\n  background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.4) 70%, #fff 100%), radial-gradient(ellipse at center, rgba(247, 249, 250, 0.7) 0%, rgba(247, 249, 250, 0) 60%), linear-gradient(to bottom, rgba(247, 249, 250, 0) 0%, #f7f9fa 100%);\\n}\\n#files .teaser .title {\\n  color: #C71D3D;\\n  font-weight: 200;\\n  font-size: 4vw;\\n  white-space: nowrap;\\n  margin-bottom: 10px;\\n}\\n#files .teaser .title img {\\n  padding-right: 40px;\\n  height: 100px;\\n}\\n#files .teaser .slogan {\\n  font-size: 2vw;\\n  font-weight: 200;\\n  color: #34495e;\\n}\\n#files .deleteIcon {\\n  position: absolute;\\n  right: 24px;\\n  top: 25px;\\n  cursor: pointer;\\n  font-size: 25px;\\n  padding: 4px;\\n  border-radius: 2px;\\n}\\n#files .deleteIcon:hover {\\n  background-color: rgba(0, 0, 0, 0.03);\\n}\\n#files .list-group-item {\\n  cursor: pointer;\\n}\\n#files .list-group-item .thumb .thumbnail {\\n  cursor: pointer;\\n}\\n#files .list-group-item .thumb .media-body {\\n  padding-top: 14px;\\n  padding-left: 20px;\\n}\\n#files .list-group-item .thumb .filenameInplaceEdit {\\n  font-size: 18px;\\n  color: #C71D3D;\\n  margin-top: -5px;\\n}\\n#files .list-group-item .thumb h4 {\\n  font-size: 18px;\\n  color: #C71D3D;\\n}\\n#files .thumbAdd {\\n  color: #0078f2;\\n  border: 1px solid rgba(0, 120, 242, 0.33);\\n  border-radius: 6px;\\n  cursor: pointer;\\n  transition: all 1s;\\n  -webkit-transition: all 1s;\\n}\\n#files .thumbAdd div {\\n  font-size: 160px;\\n  text-align: center;\\n}\\n#files .thumbAdd h4 {\\n  text-align: center;\\n}\\n#files .thumbAdd:hover {\\n  border: 1px solid #0078f2;\\n  transition: all 1s;\\n  -webkit-transition: all 1s;\\n}\\n#files .fileOperations {\\n  border-bottom: 1px solid #e0e0e0;\\n  padding-bottom: 9px;\\n}\\n#files .fileOperations div {\\n  border: 1px solid lightgray;\\n  padding: 4px;\\n  border-radius: 5px;\\n  cursor: pointer;\\n}\\n#files .container {\\n  width: 100%;\\n}\\n#files header {\\n  position: relative;\\n  margin-bottom: 10px;\\n}\\n#files #material-tabs {\\n  position: relative;\\n  display: block;\\n  padding: 0;\\n  border-bottom: 1px solid #e0e0e0;\\n}\\n#files #material-tabs > a {\\n  position: relative;\\n  display: inline-block;\\n  text-decoration: none;\\n  padding: 22px;\\n  text-transform: uppercase;\\n  font-size: 14px;\\n  font-weight: 600;\\n  color: #424f5a;\\n  text-align: center;\\n}\\n#files #material-tabs > a.active {\\n  font-weight: 700;\\n  outline: none;\\n}\\n#files #material-tabs > a:not(.active):hover {\\n  background-color: inherit;\\n  color: #7c848a;\\n}\\n#files .yellow-bar {\\n  position: absolute;\\n  z-index: 10;\\n  bottom: 0;\\n  height: 3px;\\n  background: #458CFF;\\n  display: block;\\n  left: 0;\\n  transition: left 0.2s ease;\\n  -webkit-transition: left 0.2s ease;\\n}\\n.userinfo_toggler .userContainer {\\n  text-align: center;\\n}\\n.userinfo_toggler .userContainer img {\\n  width: 90px;\\n}\\n.userinfo_toggler .userContainer button {\\n  margin-top: 20px;\\n  background-color: white;\\n  border-radius: 4px;\\n  border: 1px solid lightgray;\\n  color: black;\\n}\\n.userinfo_toggler .loginButton {\\n  top: 3px;\\n  position: relative;\\n  background-color: #C71D3D;\\n  color: white;\\n  font-weight: 600;\\n  border-radius: 4px;\\n  border: 1px solid lightgray;\\n  cursor: pointer;\\n  letter-spacing: 4px;\\n  padding-left: 15px;\\n  padding-right: 10px;\\n}\\n#home {\\n  overflow: scroll;\\n}\\n#home .authorPage {\\n  padding: 40px !important;\\n  font-size: calc(12px + 0.5vw);\\n  font-weight: 400;\\n}\\n#home .authorPage h1 {\\n  font-weight: 200;\\n  font-size: calc(16px + 2.5vw);\\n  white-space: nowrap;\\n  margin-bottom: 10px;\\n  color: #C71D3D;\\n}\\n#home .authorPage h2 {\\n  font-size: calc(14px + 1.5vw);\\n  font-weight: 200;\\n  color: #C71D3D;\\n}\\n#home footer {\\n  text-align: center;\\n  margin-top: 100px;\\n  color: #C71D3D;\\n}\\n#home footer a {\\n  color: #C71D3D;\\n  text-decoration: underline;\\n}\\n#layout {\\n  width: 100%;\\n  height: 100%;\\n  padding: 0;\\n  margin: 0;\\n}\\n#layout .nav-tabs {\\n  float: left;\\n  border-bottom: 0;\\n}\\n#layout .nav-tabs li {\\n  float: none;\\n  margin: 0;\\n}\\n#layout .nav-tabs li a {\\n  margin-right: 0;\\n  border: 0;\\n}\\n#layout #leftTabStrip {\\n  height: 100%;\\n  position: absolute;\\n  width: 60px;\\n  padding-top: 60px;\\n  overflow: hidden;\\n}\\n#layout #leftTabStrip .leftTab {\\n  border-radius: 0 !important;\\n  width: 60px;\\n  height: 60px;\\n}\\n#layout .tab-content {\\n  position: relative;\\n  margin-left: 60px;\\n  height: 100%;\\n}\\n#layout .tab-content .tab-pane {\\n  display: none;\\n  padding: 0;\\n  height: 100%;\\n  position: relative;\\n}\\n#layout .tab-content .tab-pane .workspace .palette {\\n  position: absolute;\\n  height: 100%;\\n  width: 220px;\\n  padding: 0;\\n}\\n#layout .tab-content .active {\\n  display: block;\\n}\\n/***BOOTSTRAP****/\\n.btn {\\n  border-radius: 0 !important;\\n}\\n.tooltip-inner {\\n  border-radius: 0 !important;\\n  padding: 10px !important;\\n  padding-top: 5px !important;\\n  padding-bottom: 5px !important;\\n  font-family: 'Roboto', sans-serif !important;\\n  font-weight: 300 !important;\\n  font-size: 14px !important;\\n  color: #b0b0b0 !important;\\n}\\n/********/\\nbody {\\n  overflow: hidden;\\n  font-family: 'Roboto', sans-serif !important;\\n  font-weight: 300;\\n}\\ninput {\\n  background: none repeat scroll 0 0 #f8f8f8;\\n  border-color: #C6C6C6 #DADADA #EAEAEA;\\n  border-radius: 4px 4px 4px 4px;\\n  -moz-box-sizing: border-box;\\n  padding-left: 7px;\\n  border-style: solid ;\\n  border-width: 1px;\\n  vertical-align: middle;\\n  height: 25px;\\n  font-size: 14px;\\n  line-height: 25px;\\n}\\n.input-block-level {\\n  display: block;\\n  width: 100%;\\n  min-height: 28px;\\n}\\n.control-label {\\n  font-family: 'Roboto', sans-serif;\\n  font-weight: 300;\\n}\\n/******************************************************************\\n * Einstellungen der PropertyViews im Editmodus der \\\"Form\\\".\\n ******************************************************************/\\n.palette_node_element {\\n  width: 48px;\\n  height: 48px;\\n  cursor: move;\\n  margin: 10px auto 10px auto;\\n}\\n.tooltip {\\n  z-index: 1000000;\\n}\\n/* Effects */\\n.overlay-scale {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 10000;\\n  visibility: hidden;\\n  opacity: 0;\\n  -webkit-transform: scale(0.9);\\n  transform: scale(0.9);\\n  -webkit-transition: all 0.4s;\\n  transition: all 0.4s;\\n}\\n.overlay-scale.open {\\n  visibility: visible;\\n  opacity: 1;\\n  -webkit-transform: scale(1);\\n  transform: scale(1);\\n  -webkit-transition: all 0.4s;\\n  transition: all 0.4s;\\n}\\n.readonly-highlight {\\n  background-color: rgba(50, 43, 168, 0.5);\\n  opacity: 0.2;\\n  color: darkblue;\\n  position: absolute;\\n}\\n.content {\\n  position: absolute;\\n  top: 60px;\\n  right: 250px;\\n  left: 220px;\\n  overflow: scroll;\\n  padding: 0;\\n  margin: 0;\\n  border: 0;\\n  bottom: 0;\\n  background-color: #FFFFFF;\\n}\\n#canvas {\\n  width: 6000px;\\n  height: 6000px;\\n}\\n#canvas_config {\\n  position: fixed;\\n  width: 40px;\\n  top: 65px;\\n  left: 225px;\\n  cursor: pointer;\\n  border: 1px solid transparent;\\n  background-color: rgba(178, 226, 242, 0.3);\\n}\\n#canvas_config:hover {\\n  border: 1px solid #C71D3D !important;\\n}\\n#canvas_config:hover {\\n  color: #C71D3D;\\n}\\n#canvas_config_items {\\n  position: fixed;\\n  top: 90px;\\n  left: 225px;\\n  cursor: pointer;\\n  padding: 10px;\\n  white-space: nowrap;\\n  min-width: 250px;\\n}\\n.layer-name-prompt .modal-title {\\n  font-weight: 100;\\n}\\n.layer-name-prompt .modal-footer {\\n  border: 0;\\n}\\n.layer-name-prompt .modal-header {\\n  border-bottom: 3px solid #C71D3D;\\n}\\n.layer-name-prompt input {\\n  outline: none !important;\\n  -webkit-box-shadow: inset !important;\\n  box-shadow: inset !important;\\n  background-color: rgba(0, 0, 0, 0.02) !important;\\n  border-radius: 1px !important;\\n}\\n.layer-name-prompt input:focus {\\n  border: 1px solid #C71D3D;\\n}\\n.layer-name-prompt .btn-primary {\\n  background-color: #C71D3D;\\n  border: 0;\\n}\\n.layer-name-prompt .btn-primary:hover {\\n  background-color: #9a172f;\\n}\\n#layer {\\n  padding: 0;\\n  margin: 0;\\n  border: 0;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  width: 220px;\\n  background-color: #ffffff;\\n  text-align: center;\\n  box-shadow: 5px 0 20px -3px rgba(31, 73, 125, 0.3);\\n  z-index: 1;\\n}\\n#layer .panetitle {\\n  position: fixed;\\n  height: 30px;\\n  width: 220px;\\n  top: 90px;\\n  border-bottom: 1px solid #222222;\\n  font-weight: 500;\\n  font-size: 12px;\\n  padding: 4px 4px 4px 20px;\\n  letter-spacing: 5px;\\n  text-align: left;\\n  color: #C71D3D;\\n  box-shadow: 0 4px 2px -2px rgba(31, 73, 125, 0.3);\\n}\\n#layer #layer_elements {\\n  padding: 0;\\n  margin: 0;\\n  border: 0;\\n  position: fixed;\\n  top: 120px;\\n  bottom: 0;\\n  width: 220px;\\n  overflow: auto;\\n}\\n#layer #layer_elements .layerElement {\\n  background-color: #fafafa;\\n  color: black;\\n  cursor: move;\\n  font-weight: 400;\\n  font-size: 12px;\\n  letter-spacing: 1px;\\n  padding: 4px 4px 4px 5px;\\n  text-align: left;\\n  border: 1px solid transparent;\\n  border-bottom: 1px solid #222222;\\n}\\n#layer #layer_elements .layerElement::before {\\n  content: \\\"\\\";\\n  display: block;\\n  width: 20px;\\n  height: 20px;\\n  float: left;\\n  margin-right: 5px;\\n}\\n#layer #layer_elements .layerElement.ExtLine::before {\\n  background: url(\" + escape(require(\"../images/layer_line.svg\")) + \") no-repeat;\\n  background-size: cover;\\n}\\n#layer #layer_elements .layerElement.PolyRect::before {\\n  background: url(\" + escape(require(\"../images/layer_rect.svg\")) + \") no-repeat;\\n  background-size: cover;\\n}\\n#layer #layer_elements .layerElement.PolyCircle::before {\\n  background: url(\" + escape(require(\"../images/layer_circle.svg\")) + \") no-repeat;\\n  background-size: cover;\\n}\\n#layer #layer_elements .layerElement.ExtLabel::before {\\n  background: url(\" + escape(require(\"../images/layer_text.svg\")) + \") no-repeat;\\n  background-size: cover;\\n}\\n#layer #layer_elements .layerElement.ExtPort::before {\\n  background: url(\" + escape(require(\"../images/layer_port.svg\")) + \") no-repeat;\\n  background-size: cover;\\n}\\n#layer #layer_elements .layerElement[data-visibility=\\\"false\\\"] {\\n  opacity: 0.5;\\n  font-style: italic;\\n}\\n#layer #layer_elements .layerElement .icon {\\n  cursor: pointer;\\n  padding-right: 4px;\\n  width: 20px;\\n  height: 20px;\\n}\\n#layer #layer_elements .layerElement .icon * {\\n  stroke: black !important;\\n}\\n#layer #layer_elements .layerElement .icon:hover * {\\n  stroke: #C71D3D !important;\\n}\\n#layer #layer_elements .layerSelectedElement {\\n  background-color: #f5f5f5;\\n  color: black;\\n  border-style: dotted;\\n  border-width: 1px;\\n  border-color: #C71D3D;\\n  font-weight: 600;\\n}\\n#codeDialog {\\n  z-index: 10000;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n#codeDialog .codeContainer {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: white;\\n}\\n#codeDialog .tinyFlyoverMenu.codeOverlay {\\n  top: 15px;\\n  position: fixed;\\n  right: 30px;\\n  z-index: 1;\\n}\\n#testDialog .testInfo {\\n  position: absolute;\\n  color: black;\\n  z-index: 20000;\\n  top: 20px;\\n  left: 20px;\\n  border: 1px solid lightgray;\\n  padding: 7px;\\n  background-color: white;\\n  border-radius: 2px;\\n}\\n#testDialog #testCanvas {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: white;\\n  z-index: 15000;\\n}\\n#testDialog .tinyFlyoverMenu {\\n  top: 15px;\\n  z-index: 15001;\\n}\\n#FigureMarkdownEdit .tinyFlyoverMenu {\\n  top: 15px;\\n  position: fixed;\\n  right: 30px;\\n}\\n#FigureMarkdownEdit .header {\\n  width: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  display: inline-block;\\n  height: 60px;\\n  background-color: white;\\n  overflow: hidden;\\n}\\n#FigureMarkdownEdit .header .left {\\n  width: 50%;\\n  display: inline-block;\\n  height: 60px;\\n  font-size: 20px;\\n  padding: 6px;\\n  color: #CC4F5A;\\n  background-color: rgba(0, 0, 0, 0.1);\\n  vertical-align: top;\\n}\\n#FigureMarkdownEdit .header .left small {\\n  font-size: 16px;\\n}\\n#FigureMarkdownEdit .header .right {\\n  width: 50%;\\n  display: inline-block;\\n  height: 60px;\\n  font-size: 20px;\\n  padding: 6px;\\n  color: #CC4F5A;\\n  background-color: rgba(0, 0, 0, 0.05);\\n  vertical-align: top;\\n  position: absolute;\\n}\\n#FigureMarkdownEdit .source {\\n  width: 50%;\\n  display: inline-block;\\n  font-family: Menlo, Monaco, Consolas, \\\"Courier New\\\", monospace;\\n  font-size: 13px;\\n  padding: 2px;\\n  top: 60px;\\n  bottom: 0;\\n  position: absolute;\\n}\\n#FigureMarkdownEdit .markdownRendering {\\n  width: 50%;\\n  display: inline-block;\\n  left: 50%;\\n  position: absolute;\\n  background-color: white;\\n  padding: 30px;\\n  overflow: auto;\\n  top: 60px;\\n  bottom: 0;\\n}\\n.portDirectionOption {\\n  height: 60px;\\n  text-align: center;\\n}\\n.portDirectionOption label > input {\\n  /* HIDE RADIO */\\n  display: none;\\n}\\n.portDirectionOption label > input + span {\\n  /* IMAGE STYLES */\\n  cursor: pointer;\\n  color: gray !important;\\n  padding-right: 5px;\\n}\\n.portDirectionOption label > input:checked + span {\\n  /* (CHECKED) IMAGE STYLES */\\n  color: #C71D3D !important;\\n}\\n.portTypeOption {\\n  height: 65px;\\n  padding-left: 60px;\\n}\\n.portTypeOption label > input {\\n  /* HIDE RADIO */\\n  display: none;\\n}\\n.portTypeOption label > input + span {\\n  /* IMAGE STYLES */\\n  cursor: pointer;\\n  color: gray !important;\\n  padding-right: 5px;\\n  font-weight: 100;\\n  font-size: 14px;\\n}\\n.portTypeOption label > input + span:before {\\n  padding-right: 10px;\\n}\\n.portTypeOption label > input:checked + span {\\n  /* (CHECKED) IMAGE STYLES */\\n  color: #C71D3D !important;\\n}\\n#filter {\\n  position: absolute;\\n  top: 60px;\\n  right: 0;\\n  bottom: 0;\\n  width: 250px;\\n  padding: 0;\\n  margin: 0;\\n  border-radius: 0;\\n  border: 0;\\n  background-color: #282a30;\\n}\\n#filter .filter_header {\\n  background: none repeat scroll 0 0 #303030;\\n  position: fixed;\\n  height: 30px;\\n  width: 250px;\\n  top: 60px;\\n  border-bottom: 1px solid #222222;\\n  border-top: 1px solid #111111;\\n  font-weight: 500;\\n  font-size: 12px;\\n  padding-top: 5px;\\n  letter-spacing: 5px;\\n  text-align: center;\\n  color: #C71D3D;\\n}\\n#filter .filter_toolbar {\\n  overflow: visible;\\n  border: 0;\\n  padding: 3px;\\n  padding-left: 10px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  width: 250px;\\n  height: 30px;\\n  background: none repeat scroll 0 0 #303030;\\n}\\n#filter .filter_actions {\\n  position: fixed;\\n  top: 90px;\\n  bottom: 30px;\\n  width: 250px;\\n  border: 0;\\n  padding: 0;\\n  overflow-y: auto;\\n}\\n#filter .filter_actions .panel-body {\\n  padding: 7px;\\n  padding-top: 0;\\n}\\n#filter .filter_actions .form-group {\\n  margin-bottom: 2px !important;\\n}\\n#filter .filter_actions .form-group > .input-group {\\n  margin-bottom: 10px;\\n}\\n#filter .filter_actions .form-group > .input-group:last-child {\\n  margin-bottom: 0px;\\n}\\n#filter .filter_actions .icon {\\n  color: #26B4A8;\\n  padding: 0;\\n  top: -4px;\\n  color: rgba(255, 255, 255, 0.25);\\n}\\n#filter .filter_actions .icon:hover {\\n  color: #C71D3D;\\n}\\n#filter .filter_actions .filter-heading {\\n  color: #DDDDDD !important;\\n  font-size: 12px;\\n  padding-right: 10px !important;\\n  padding-top: 1px !important;\\n  padding-bottom: 0 !important;\\n  background-color: transparent !important;\\n  background-image: none !important;\\n  border: 0 !important;\\n  margin-top: 4px;\\n  cursor: pointer;\\n  font-weight: 300;\\n}\\n#filter .filter_actions .filter-heading .icon {\\n  width: 15px;\\n}\\n#filter .filter_actions .filter-heading .icon * {\\n  stroke: white !important;\\n}\\n#filter .form-control {\\n  height: 25px;\\n}\\n#filter .btn {\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  padding-top: 1px;\\n  padding-bottom: 2px;\\n}\\n#filter .input-group-addon {\\n  padding: 0;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  color: rgba(0, 0, 0, 0.3);\\n  background-color: white;\\n  border-left: 0;\\n  border-radius: 0;\\n  font-weight: 100;\\n  text-transform: lowercase;\\n  font-size: 12px;\\n}\\n#filter .panel-default {\\n  margin: 0;\\n  border-radius: 0;\\n  background-color: rgba(199, 29, 61, 0.02);\\n  border: 0;\\n  border-top: 1px solid #303030;\\n  border-bottom: 1px solid #202525;\\n  margin-top: 3px;\\n}\\n.ui-anglepicker {\\n  width: 52px;\\n  height: 52px;\\n  background: #dbdbdb;\\n  background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2RiZGJkYiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjIwJSIgc3RvcC1jb2xvcj0iI2UxZTFkZSIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmOGY4ZjMiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);\\n  background: -moz-linear-gradient(top, #dbdbdb 0%, #e1e1de 20%, #f8f8f3 100%);\\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #dbdbdb), color-stop(20%, #e1e1de), color-stop(100%, #f8f8f3));\\n  background: -webkit-linear-gradient(top, #dbdbdb 0%, #e1e1de 20%, #f8f8f3 100%);\\n  background: -o-linear-gradient(top, #dbdbdb 0%, #e1e1de 20%, #f8f8f3 100%);\\n  background: -ms-linear-gradient(top, #dbdbdb 0%, #e1e1de 20%, #f8f8f3 100%);\\n  background: linear-gradient(to bottom, #dbdbdb 0%, #e1e1de 20%, #f8f8f3 100%);\\n  border: 2px solid #666;\\n  -moz-box-shadow: inset 0 2px 3px white, inset 0 -1px 2px #fffef8;\\n  -webkit-box-shadow: inset 0 2px 3px white, inset 0 -1px 2px #fffef8;\\n  box-shadow: inset 0 2px 3px white, inset 0 -1px 2px #fffef8;\\n  -moz-border-radius: 50%;\\n  -webkit-border-radius: 50%;\\n  border-radius: 50%;\\n  position: relative;\\n  display: inline-block;\\n}\\n.ui-anglepicker-pointer {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  width: 50%;\\n  margin: -2px 0 0 -2px;\\n  -moz-transform-origin: 2px 2px;\\n  -webkit-transform-origin: 2px 2px;\\n  -ms-transform-origin: 2px 2px;\\n  -o-transform-origin: 2px 2px;\\n  transform-origin: 2px 2px;\\n}\\n.ui-anglepicker:hover,\\n.ui-anglepicker.ui-anglepicker-dragging {\\n  border-color: #494949;\\n}\\n.ui-anglepicker-dragging .ui-anglepicker-dot,\\n.ui-anglepicker-dragging .ui-anglepicker-line,\\n.ui-anglepicker:hover .ui-anglepicker-dot,\\n.ui-anglepicker:hover .ui-anglepicker-line {\\n  background: #494949;\\n}\\n.ui-anglepicker-dot {\\n  height: 4px;\\n  width: 4px;\\n  position: absolute;\\n  background: #838383;\\n  -moz-border-radius: 50%;\\n  -webkit-border-radius: 50%;\\n  border-radius: 50%;\\n}\\n.ui-anglepicker-line {\\n  margin-top: 1.5px;\\n  margin-right: -2px;\\n  height: 1px;\\n  background: #838383;\\n}\\n#tool_shape.open .dropdown-menu {\\n  -webkit-transform: scale(1, 1);\\n  opacity: 1;\\n  transform: scale(1, 1);\\n}\\n#tool_shape .dropdown-menu {\\n  opacity: 0.1;\\n  animation-fill-mode: forwards;\\n  transform: scale(1, 0);\\n  transform-origin: 0 0 ;\\n  display: block;\\n  transition: all 0.2s ease;\\n}\\n#tool_shape .tool_shape_entry {\\n  text-align: left;\\n}\\n#tool_shape .tool_shape_entry img {\\n  height: 30px;\\n  padding-right: 20px;\\n}\\n#tool_shape .tool_shape_entry .tool_label {\\n  min-width: 95px;\\n  display: inline-block;\\n}\\n#tool_shape .tool_shape_entry .tool_shortcut {\\n  color: rgba(0, 0, 0, 0.5);\\n}\\n.applicationSwitch {\\n  float: right;\\n}\\n.applicationSwitch .dropdown-menu {\\n  z-index: 10000;\\n  right: 0;\\n  left: initial;\\n  min-width: 180px;\\n}\\n.applicationSwitch .form-horizontal .image-button {\\n  padding: 15px;\\n  font-weight: 400;\\n}\\n.vertical-text {\\n  transform: rotate(-90deg);\\n  white-space: nowrap;\\n  top: 200px;\\n  left: 20px;\\n  font-size: 50px;\\n  color: white;\\n}\\n#layout #leftTabStrip {\\n  background-color: #C71D3D;\\n}\\n#layout #leftTabStrip:after {\\n  content: \\\"Designer\\\";\\n  -webkit-transform: rotate(-90deg) translate(-90px, -70px);\\n  -moz-transform: rotate(-90deg) translate(-90px, -70px);\\n  -ms-transform: rotate(-90deg) translate(-90px, -70px);\\n  transform: rotate(-90deg) translate(-90px, -70px);\\n  font-size: 55px;\\n  white-space: nowrap;\\n  color: #B2E2F2;\\n  font-weight: 200;\\n  letter-spacing: 3px;\\n}\\n#layout #leftTabStrip li.active a:hover {\\n  background-color: white;\\n}\\n#layout #leftTabStrip li.active svg polyline[stroke] {\\n  stroke: #C71D3D !important;\\n}\\n#layout #leftTabStrip li.active svg path[stroke] {\\n  stroke: #C71D3D !important;\\n}\\n#layout #leftTabStrip li.active svg rect[stroke] {\\n  stroke: #C71D3D !important;\\n}\\n#layout #leftTabStrip li.active svg g[stroke] {\\n  stroke: #C71D3D !important;\\n}\\n#layout #leftTabStrip li.active svg line[stroke] {\\n  stroke: #C71D3D !important;\\n}\\n#layout #leftTabStrip li.active svg circle[stroke] {\\n  stroke: #C71D3D !important;\\n}\\n#layout #leftTabStrip li.active svg rect[stroke] {\\n  stroke: #C71D3D !important;\\n}\\n#layout #leftTabStrip li.active svg rect[fill] {\\n  fill: #C71D3D !important;\\n}\\n#layout #leftTabStrip li.active svg circle[fill] {\\n  fill: #C71D3D !important;\\n}\\n#layout #leftTabStrip li a {\\n  padding: 4px;\\n}\\n#layout #leftTabStrip li a:hover {\\n  background-color: rgba(0, 0, 0, 0.1);\\n}\\n#layout #leftTabStrip li a svg polyline[stroke] {\\n  stroke: white !important;\\n}\\n#layout #leftTabStrip li a svg path[stroke] {\\n  stroke: white !important;\\n}\\n#layout #leftTabStrip li a svg path[stroke] {\\n  stroke: white !important;\\n}\\n#layout #leftTabStrip li a svg line[stroke] {\\n  stroke: white !important;\\n}\\n#layout #leftTabStrip li a svg circle[stroke] {\\n  stroke: white !important;\\n}\\n#layout #leftTabStrip li a svg g[stroke] {\\n  stroke: white !important;\\n}\\n#layout #leftTabStrip li a svg rect[stroke] {\\n  stroke: white !important;\\n}\\n#layout #leftTabStrip li a svg rect[fill] {\\n  fill: white !important;\\n}\\n#layout #leftTabStrip li a svg circle[fill] {\\n  fill: white !important;\\n}\\n.shadow {\\n  border: 1px solid #C71D3D;\\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\\n  background-color: white;\\n}\\n.ui-draggable-dragging {\\n  z-index: 10000;\\n}\\ntext.highlightOnHover:hover {\\n  cursor: pointer;\\n  font-weight: bold;\\n}\\nellipse.highlightOnHover:hover {\\n  cursor: pointer;\\n}\\nrect.Raft {\\n  fill: rgba(28, 155, 171, 0.1);\\n}\\n#configMenuIcon {\\n  font-size: 25px;\\n  cursor: pointer;\\n  opacity: 0.3;\\n}\\n#configMenuIcon:hover {\\n  opacity: 1;\\n  color: #C71D3D;\\n}\\n#paletteElementsOverlay {\\n  bottom: 0;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  background-color: rgba(255, 255, 255, 0.7);\\n  display: none;\\n}\\n#figureConfigDialog {\\n  display: none;\\n  background-color: white;\\n  border: 1px solid rgba(0, 0, 0, 0.2);\\n  padding: 10px;\\n  margin-left: 30px;\\n  border-left: 3px solid #C71D3D;\\n  border-radius: 4px;\\n}\\n#figureConfigDialog .header {\\n  font-size: 16px;\\n  font-weight: 600;\\n  padding-bottom: 15px;\\n}\\n#figureConfigDialog .figureAddLabel {\\n  font-size: 12px;\\n  font-weight: 200;\\n  cursor: pointer;\\n}\\n#figureConfigDialog .figureAddLabel:hover {\\n  color: #C71D3D;\\n}\\n#figureConfigDialog .form-group textarea {\\n  min-width: 300px;\\n  min-height: 100px;\\n}\\n#figureConfigDialog:after {\\n  content: '';\\n  display: block;\\n  position: absolute;\\n  left: -20px;\\n  top: 10px;\\n  width: 0;\\n  height: 0;\\n  border-right: 10px solid #C71D3D;\\n  border-top: 10px solid transparent;\\n  border-left: 10px solid transparent;\\n  border-bottom: 10px solid transparent;\\n}\\n.pallette_item {\\n  text-align: center;\\n}\\n@keyframes spinner {\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n.spinner:before {\\n  content: '';\\n  box-sizing: border-box;\\n  position: absolute;\\n  top: 35%;\\n  left: 50%;\\n  width: 30px;\\n  height: 30px;\\n  margin-top: -15px;\\n  margin-left: -15px;\\n  border-radius: 50%;\\n  border: 2px solid #ccc;\\n  border-top-color: #07d;\\n  animation: spinner 0.6s linear infinite;\\n}\\n.workspace .palette {\\n  box-shadow: 5px 0 20px -3px rgba(31, 73, 125, 0.3), -6px 0 20px -4px rgba(31, 73, 125, 0.3);\\n  border-right: 1px solid rgba(74, 74, 74, 0.5);\\n  border-left: 1px solid rgba(74, 74, 74, 0.5);\\n}\\n.workspace .palette .title img {\\n  padding-right: 20px;\\n  position: absolute;\\n  left: 10px;\\n  top: 10px;\\n  height: 40px;\\n}\\n.workspace .palette .title div {\\n  position: absolute;\\n  left: 60px;\\n  top: 10px;\\n}\\n.workspace .palette .title div h1 {\\n  font-size: 15px;\\n  font-weight: 200;\\n  line-height: 25px;\\n  margin: 0;\\n  padding: 0;\\n  text-align: left;\\n  letter-spacing: 2px;\\n}\\n.workspace .palette .title div h2 {\\n  font-size: 10px;\\n  font-weight: 600;\\n  margin: 0;\\n  padding: 0;\\n  text-align: left;\\n  letter-spacing: 4px;\\n  color: #C71D3D;\\n}\\n.workspace .palette .pallette_item {\\n  padding: 0px;\\n}\\n.workspace .palette .pallette_item > div {\\n  width: 100%;\\n  height: 100%;\\n  text-align: center;\\n  border: 1px solid transparent;\\n}\\n.workspace .palette .pallette_item > div img {\\n  position: absolute;\\n  top: 0px;\\n  bottom: 0;\\n  margin: auto;\\n  left: 50%;\\n  transform: translate(-50%, -10px);\\n}\\n.workspace .palette .pallette_item > div div {\\n  position: absolute;\\n  padding-bottom: 2px;\\n  width: 100%;\\n  bottom: 0;\\n  padding-top: 2px;\\n  background-color: rgba(0, 0, 0, 0.05);\\n  cursor: default;\\n}\\n.workspace .palette .pallette_item .glowBorder {\\n  border: 1px solid #C71D3D;\\n}\\n.workspace .palette .draw2d_droppable {\\n  cursor: move;\\n  max-height: 80px;\\n}\\n.workspace .palette .request {\\n  font-size: 10px;\\n  color: #C71D3D;\\n}\\n.workspace .palette .request .icon {\\n  cursor: pointer;\\n  font-size: 75px;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n}\\n.workspace .content .canvas {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -khtml-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n.nav-tabs > li.active > a,\\n.nav-tabs > li.active > a:hover,\\n.nav-tabs > li.active > a:focus {\\n  border: 0;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = function escape(url) {\n    if (typeof url !== 'string') {\n        return url\n    }\n    // If url is already wrapped in quotes, remove them\n    if (/^['\"].*['\"]$/.test(url)) {\n        url = url.slice(1, -1);\n    }\n    // Should url be wrapped?\n    // See https://drafts.csswg.org/css-values-3/#urls\n    if (/[\"'() \\t\\n]/.test(url)) {\n        return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"'\n    }\n\n    return url\n}\n","var api = require(\"!../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../css-loader/index.js!./font-awesome.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","module.exports = \"js/webpack/674f50d287a8c48dc19ba404d20fe713.eot\";","module.exports = \"js/webpack/674f50d287a8c48dc19ba404d20fe713.eot\";","module.exports = \"js/webpack/912ec66d7572ff821749319396470bde.svg\";","module.exports = \"js/webpack/b06871f281fee6b241d60582ae9369b9.ttf\";","module.exports = \"js/webpack/af7ae505a9eed503f8b8e6982036873e.woff2\";","module.exports = \"js/webpack/fee66e712a8a08eef5805a46892932ad.woff\";","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/**\n * JSTS. See https://github.com/bjornharrtell/jsts\n * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_EDLv1.txt\n * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_EPLv1.txt\n * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_LICENSE_ES6_COLLECTIONS.txt\n * @license\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.jsts = {})));\n}(this, (function (exports) { 'use strict';\n\n/* Polyfill service v3.13.0\n * For detailed credits and licence information see http://github.com/financial-times/polyfill-service\n *\n * - Array.prototype.fill, License: CC0 */\n\nif (!('fill' in Array.prototype)) {\n  Object.defineProperty(Array.prototype, 'fill', {\n    configurable: true,\n    value: function fill(value) {\n      if (this === undefined || this === null) {\n        throw new TypeError(this + ' is not an object');\n      }\n\n      var arrayLike = Object(this);\n\n      var length = Math.max(Math.min(arrayLike.length, 9007199254740991), 0) || 0;\n\n      var relativeStart = 1 in arguments ? parseInt(Number(arguments[1]), 10) || 0 : 0;\n\n      relativeStart = relativeStart < 0 ? Math.max(length + relativeStart, 0) : Math.min(relativeStart, length);\n\n      var relativeEnd = 2 in arguments && arguments[2] !== undefined ? parseInt(Number(arguments[2]), 10) || 0 : length;\n\n      relativeEnd = relativeEnd < 0 ? Math.max(length + arguments[2], 0) : Math.min(relativeEnd, length);\n\n      while (relativeStart < relativeEnd) {\n        arrayLike[relativeStart] = value;\n\n        ++relativeStart;\n      }\n\n      return arrayLike;\n    },\n    writable: true\n  });\n}\n\nNumber.isFinite = Number.isFinite || function (value) {\n  return typeof value === 'number' && isFinite(value);\n};\n\nNumber.isInteger = Number.isInteger || function (val) {\n  return typeof val === 'number' && isFinite(val) && Math.floor(val) === val;\n};\n\nNumber.parseFloat = Number.parseFloat || parseFloat;\n\nNumber.isNaN = Number.isNaN || function (value) {\n  return value !== value; // eslint-disable-line\n};\n\nMath.trunc = Math.trunc || function (x) {\n  return x < 0 ? Math.ceil(x) : Math.floor(x);\n};\n\nfunction extend (target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) target[key] = source[key];\n  }\n}\n\nfunction NumberUtil() {}\nextend(NumberUtil.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NumberUtil;\n\t}\n});\nNumberUtil.equalsWithTolerance = function (x1, x2, tolerance) {\n\treturn Math.abs(x1 - x2) <= tolerance;\n};\n\nfunction IllegalArgumentException() {}\n\nfunction Long(high, low) {\n  this.low = low | 0;\n  this.high = high | 0;\n}\n\nLong.toBinaryString = function (i) {\n  var result = '';\n  for (var mask = 0x80000000; mask > 0; mask >>>= 1) {\n    result += (i.high & mask) === mask ? '1' : '0';\n  }for (var mask = 0x80000000; mask > 0; mask >>>= 1) {\n    result += (i.low & mask) === mask ? '1' : '0';\n  }return result;\n};\n\nfunction Double() {}\n\nDouble.isNaN = function (n) {\n\treturn Number.isNaN(n);\n};\nDouble.isInfinite = function (n) {\n\treturn !Number.isFinite(n);\n};\nDouble.MAX_VALUE = Number.MAX_VALUE;\n\nif (typeof Float64Array == 'function' && typeof Int32Array == 'function') {\n\t// Simple and fast conversion between double and long bits\n\t// using TypedArrays and ArrayViewBuffers.\n\t(function () {\n\t\tvar EXP_BIT_MASK = 0x7ff00000;\n\t\tvar SIGNIF_BIT_MASK = 0xFFFFF;\n\t\tvar f64buf = new Float64Array(1);\n\t\tvar i32buf = new Int32Array(f64buf.buffer);\n\t\tDouble.doubleToLongBits = function (value) {\n\t\t\tf64buf[0] = value;\n\t\t\tvar low = i32buf[0] | 0;\n\t\t\tvar high = i32buf[1] | 0;\n\t\t\t// Check for NaN based on values of bit fields, maximum\n\t\t\t// exponent and nonzero significand.\n\t\t\tif ((high & EXP_BIT_MASK) === EXP_BIT_MASK && (high & SIGNIF_BIT_MASK) !== 0 && low !== 0) {\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = 0x7ff80000 | 0;\n\t\t\t}\n\t\t\treturn new Long(high, low);\n\t\t};\n\t\tDouble.longBitsToDouble = function (bits) {\n\t\t\ti32buf[0] = bits.low;\n\t\t\ti32buf[1] = bits.high;\n\t\t\treturn f64buf[0];\n\t\t};\n\t})();\n} else {\n\t// More complex and slower fallback implementation using \n\t// math and the divide-by-two and multiply-by-two algorithms.\n\t(function () {\n\t\tvar BIAS = 1023;\n\t\tvar log2 = Math.log2;\n\t\tvar floor = Math.floor;\n\t\tvar pow = Math.pow;\n\t\tvar MAX_REL_BITS_INTEGER = function () {\n\t\t\tfor (var i = 53; i > 0; i--) {\n\t\t\t\tvar bits = pow(2, i) - 1;\n\t\t\t\tif (floor(log2(bits)) + 1 === i) {\n\t\t\t\t\treturn bits;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t}();\n\t\tDouble.doubleToLongBits = function (value) {\n\t\t\tvar x, y, f, bits, skip;\n\t\t\tvar sign, exp, high, low;\n\n\t\t\t// Get the sign bit and absolute value.\n\t\t\tif (value < 0 || 1 / value === Number.NEGATIVE_INFINITY) {\n\t\t\t\tsign = 1 << 31;\n\t\t\t\tvalue = -value;\n\t\t\t} else {\n\t\t\t\tsign = 0;\n\t\t\t}\n\n\t\t\t// Handle some special values.\n\t\t\tif (value === 0) {\n\t\t\t\t// Handle zeros (+/-0).\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = sign; // exponent: 00..00, significand: 00..00\n\t\t\t\treturn new Long(high, low);\n\t\t\t}\n\n\t\t\tif (value === Infinity) {\n\t\t\t\t// Handle infinity (only positive values for value possible).\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = sign | 0x7ff00000; // exponent: 11..11, significand: 00..00\n\t\t\t\treturn new Long(high, low);\n\t\t\t}\n\n\t\t\tif (value !== value) {\n\t\t\t\t// Handle NaNs (boiled down to only one distinct NaN).\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = 0x7ff80000; // exponent: 11..11, significand: 10..00\n\t\t\t\treturn new Long(high, low);\n\t\t\t}\n\n\t\t\t// Preinitialize variables, that are not neccessarily set by\n\t\t\t// the algorithm.\n\t\t\tbits = 0;\n\t\t\tlow = 0 | 0;\n\n\t\t\t// Get the (always positive) integer part of value.\n\t\t\tx = floor(value);\n\n\t\t\t// Process the integer part if it's greater than 1. Zero requires\n\t\t\t// no bits at all, 1 represents the implicit (hidden) leading bit,\n\t\t\t// which must not be written as well.\n\t\t\tif (x > 1) {\n\t\t\t\t// If we can reliably determine the number of bits required for\n\t\t\t\t// the integer part,\n\t\t\t\tif (x <= MAX_REL_BITS_INTEGER) {\n\t\t\t\t\t// get the number of bits required to represent it minus 1\n\t\t\t\t\tbits = floor(log2(x)) /* + 1 - 1*/;\n\t\t\t\t\t// and simply copy/shift the integer bits into low and high.\n\t\t\t\t\t// That's much faster than the divide-by-two algorithm (saves\n\t\t\t\t\t// up to ~60%).\n\t\t\t\t\t// We always need to mask out the most significant bit, which\n\t\t\t\t\t// is the implicit (aka hidden) bit.\n\t\t\t\t\tif (bits <= 20) {\n\t\t\t\t\t\t// The simple case in which the integer fits into the\n\t\t\t\t\t\t// lower 20 bits of the high word is worth to be handled\n\t\t\t\t\t\t// separately (saves ~25%).\n\t\t\t\t\t\tlow = 0 | 0;\n\t\t\t\t\t\thigh = x << 20 - bits & 0xfffff;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Here, the integer part is split into low and high.\n\t\t\t\t\t\t// Since its value may require more than 32 bits, we\n\t\t\t\t\t\t// cannot use bitwise operators (which implicitly cast\n\t\t\t\t\t\t// to Int32), but use arithmetic operators % and / to\n\t\t\t\t\t\t// get low and high parts. The uppper 20 bits go to high,\n\t\t\t\t\t\t// the remaining bits (in f) to low.\n\t\t\t\t\t\tf = bits - 20;\n\t\t\t\t\t\t// Like (1 << f) but safe with even more than 32 bits.\n\t\t\t\t\t\ty = pow(2, f);\n\t\t\t\t\t\tlow = x % y << 32 - f;\n\t\t\t\t\t\thigh = x / y & 0xfffff;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// For greater values, we must use the much slower divide-by-two\n\t\t\t\t\t// algorithm. Bits are generated from right to left, that is from\n\t\t\t\t\t// least to most significant bit. For each bit, we left-shift both\n\t\t\t\t\t// low and high by one and carry bit #0 from high to #31 in low.\n\t\t\t\t\t// The next bit is then copied into bit #19 in high, the leftmost\n\t\t\t\t\t// bit of the double's significand.\n\n\t\t\t\t\t// Preserve x for later user, so work with f.\n\t\t\t\t\tf = x;\n\t\t\t\t\tlow = 0 | 0;\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\ty = f / 2;\n\t\t\t\t\t\tf = floor(y);\n\t\t\t\t\t\tif (f === 0) {\n\t\t\t\t\t\t\t// We just found the most signigicant (1-)bit, which\n\t\t\t\t\t\t\t// is the implicit bit and so, not stored in the double\n\t\t\t\t\t\t\t// value. So, it's time to leave the loop.\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Count this bit, shift low and carry bit #0 from high.\n\t\t\t\t\t\tbits++;\n\t\t\t\t\t\tlow >>>= 1;\n\t\t\t\t\t\tlow |= (high & 0x1) << 31;\n\t\t\t\t\t\t// Shift high.\n\t\t\t\t\t\thigh >>>= 1;\n\t\t\t\t\t\tif (y !== f) {\n\t\t\t\t\t\t\t// Copy the new bit into bit #19 in high (only required if 1).\n\t\t\t\t\t\t\thigh |= 0x80000;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Bias the exponent.\n\t\t\texp = bits + BIAS;\n\n\t\t\t// If the integer part is zero, we've not yet seen the implicit\n\t\t\t// leading bit. Variable skip is later used while processing the \n\t\t\t// fractional part (if any).\n\t\t\tskip = x === 0;\n\n\t\t\t// Get fraction only into x.\n\t\t\tx = value - x;\n\n\t\t\t// If some significand bits are still left to be filled and\n\t\t\t// the fractional part is not zero, convert the fraction using\n\t\t\t// the multiply-by-2 algorithm.\n\t\t\tif (bits < 52 && x !== 0) {\n\n\t\t\t\t// Initialize 'buffer' f, into which newly created bits get\n\t\t\t\t// shifted from right to left.\n\t\t\t\tf = 0;\n\n\t\t\t\twhile (true) {\n\t\t\t\t\ty = x * 2;\n\t\t\t\t\tif (y >= 1) {\n\t\t\t\t\t\t// This is a new 1-bit. Add and count this bit, if not\n\t\t\t\t\t\t// prohibited by skip.\n\t\t\t\t\t\tx = y - 1;\n\t\t\t\t\t\tif (!skip) {\n\t\t\t\t\t\t\tf <<= 1;\n\t\t\t\t\t\t\tf |= 1;\n\t\t\t\t\t\t\tbits++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Otherwise, decrement the exponent and unset\n\t\t\t\t\t\t\t// skip, so that all following bits get written.\n\t\t\t\t\t\t\texp--;\n\t\t\t\t\t\t\tskip = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is a new 0-bit. Add and count this bit, if not\n\t\t\t\t\t\t// prohibited by skip.\n\t\t\t\t\t\tx = y;\n\t\t\t\t\t\tif (!skip) {\n\t\t\t\t\t\t\tf <<= 1;\n\t\t\t\t\t\t\tbits++;\n\t\t\t\t\t\t} else if (--exp === 0) {\n\t\t\t\t\t\t\t// Otherwise we've just decremented the exponent. If the\n\t\t\t\t\t\t\t// biased exponent is zero now (-1023), we process a\n\t\t\t\t\t\t\t// subnormal number, which has no impled leading 1-bit.\n\t\t\t\t\t\t\t// So, count this 0-bit and unset skip to write out\n\t\t\t\t\t\t\t// all the following bits.\n\t\t\t\t\t\t\tbits++;\n\t\t\t\t\t\t\tskip = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (bits === 20) {\n\t\t\t\t\t\t// When 20 bits have been created in total, we're done with\n\t\t\t\t\t\t// the high word. Copy the bits from 'buffer' f into high\n\t\t\t\t\t\t// and reset 'buffer' f. Following bits will end up in the\n\t\t\t\t\t\t// low word.\n\t\t\t\t\t\thigh |= f;\n\t\t\t\t\t\tf = 0;\n\t\t\t\t\t} else if (bits === 52) {\n\t\t\t\t\t\t// When 52 bits have been created in total, we're done with\n\t\t\t\t\t\t// low word as well. Copy the bits from 'buffer' f into low\n\t\t\t\t\t\t// and exit the loop.\n\t\t\t\t\t\tlow |= f;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (y === 1) {\n\t\t\t\t\t\t// When y is exactly 1, there is no remainder and the process\n\t\t\t\t\t\t// is complete (the number is finite). Copy the bits from\n\t\t\t\t\t\t// 'buffer' f into either low or high and exit the loop.\n\t\t\t\t\t\tif (bits < 20) {\n\t\t\t\t\t\t\thigh |= f << 20 - bits;\n\t\t\t\t\t\t} else if (bits < 52) {\n\t\t\t\t\t\t\tlow |= f << 52 - bits;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Copy/shift the exponent and sign bits into the high word.\n\t\t\thigh |= exp << 20;\n\t\t\thigh |= sign;\n\n\t\t\treturn new Long(high, low);\n\t\t};\n\t\tDouble.longBitsToDouble = function (bits) {\n\t\t\tvar x, sign, exp, fract;\n\t\t\tvar high = bits.high;\n\t\t\tvar low = bits.low;\n\n\t\t\t// Extract the sign.\n\t\t\tsign = high & 1 << 31 ? -1 : 1;\n\n\t\t\t// Extract the unbiased exponent.\n\t\t\texp = ((high & 0x7ff00000) >> 20) - BIAS;\n\n\t\t\t// Calculate the fraction from left to right. Start\n\t\t\t// off with the 20 lower bits from the high word.\n\t\t\tfract = 0;\n\t\t\tx = 1 << 19;\n\t\t\tfor (var i = 1; i <= 20; i++) {\n\t\t\t\tif (high & x) {\n\t\t\t\t\tfract += pow(2, -i);\n\t\t\t\t}\n\t\t\t\tx >>>= 1;\n\t\t\t}\n\t\t\t// Continue with all 32 bits from the low word.\n\t\t\tx = 1 << 31;\n\t\t\tfor (var i = 21; i <= 52; i++) {\n\t\t\t\tif (low & x) {\n\t\t\t\t\tfract += pow(2, -i);\n\t\t\t\t}\n\t\t\t\tx >>>= 1;\n\t\t\t}\n\n\t\t\t// Handle special values.\n\t\t\t// Check for zero and subnormal values.\n\t\t\tif (exp === -BIAS) {\n\t\t\t\tif (fract === 0) {\n\t\t\t\t\t// +/-1.0 * 0.0 => +/-0.0\n\t\t\t\t\treturn sign * 0;\n\t\t\t\t}\n\t\t\t\texp = -1022;\n\t\t\t}\n\t\t\t// Check for +/-Infinity or NaN.\n\t\t\telse if (exp === BIAS + 1) {\n\t\t\t\t\tif (fract === 0) {\n\t\t\t\t\t\t// +/-1.0 / 0.0 => +/-Infinity\n\t\t\t\t\t\treturn sign / 0;\n\t\t\t\t\t}\n\t\t\t\t\treturn NaN;\n\t\t\t\t}\n\t\t\t\t// Nothing special? Seems to be a normal number.\n\t\t\t\telse {\n\t\t\t\t\t\t// Add the implicit leading bit (1*2^0).\n\t\t\t\t\t\tfract += 1;\n\t\t\t\t\t}\n\n\t\t\treturn sign * fract * pow(2, exp);\n\t\t};\n\t})();\n}\n\nfunction Comparable() {}\n\nfunction Clonable() {}\n\nfunction Comparator() {}\n\nfunction Serializable() {}\n\nfunction RuntimeException(message) {\n  this.name = 'RuntimeException';\n  this.message = message;\n  this.stack = new Error().stack;\n  Error.call(this, message);\n}\n\nRuntimeException.prototype = Object.create(Error.prototype);\nRuntimeException.prototype.constructor = Error;\n\nfunction inherits (c, p) {\n  c.prototype = Object.create(p.prototype);\n  c.prototype.constructor = c;\n}\n\nfunction AssertionFailedException() {\n\tif (arguments.length === 0) {\n\t\tRuntimeException.call(this);\n\t} else if (arguments.length === 1) {\n\t\tvar message = arguments[0];\n\t\tRuntimeException.call(this, message);\n\t}\n}\ninherits(AssertionFailedException, RuntimeException);\nextend(AssertionFailedException.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn AssertionFailedException;\n\t}\n});\n\nfunction Assert() {}\nextend(Assert.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Assert;\n\t}\n});\nAssert.shouldNeverReachHere = function () {\n\tif (arguments.length === 0) {\n\t\tAssert.shouldNeverReachHere(null);\n\t} else if (arguments.length === 1) {\n\t\tvar message = arguments[0];\n\t\tthrow new AssertionFailedException(\"Should never reach here\" + (message !== null ? \": \" + message : \"\"));\n\t}\n};\nAssert.isTrue = function () {\n\tif (arguments.length === 1) {\n\t\tvar assertion = arguments[0];\n\t\tAssert.isTrue(assertion, null);\n\t} else if (arguments.length === 2) {\n\t\tvar _assertion = arguments[0],\n\t\t    message = arguments[1];\n\t\tif (!_assertion) {\n\t\t\tif (message === null) {\n\t\t\t\tthrow new AssertionFailedException();\n\t\t\t} else {\n\t\t\t\tthrow new AssertionFailedException(message);\n\t\t\t}\n\t\t}\n\t}\n};\nAssert.equals = function () {\n\tif (arguments.length === 2) {\n\t\tvar expectedValue = arguments[0],\n\t\t    actualValue = arguments[1];\n\t\tAssert.equals(expectedValue, actualValue, null);\n\t} else if (arguments.length === 3) {\n\t\tvar _expectedValue = arguments[0],\n\t\t    _actualValue = arguments[1],\n\t\t    message = arguments[2];\n\t\tif (!_actualValue.equals(_expectedValue)) {\n\t\t\tthrow new AssertionFailedException(\"Expected \" + _expectedValue + \" but encountered \" + _actualValue + (message !== null ? \": \" + message : \"\"));\n\t\t}\n\t}\n};\n\nfunction Coordinate() {\n\tthis.x = null;\n\tthis.y = null;\n\tthis.z = null;\n\tif (arguments.length === 0) {\n\t\tCoordinate.call(this, 0.0, 0.0);\n\t} else if (arguments.length === 1) {\n\t\tvar c = arguments[0];\n\t\tCoordinate.call(this, c.x, c.y, c.z);\n\t} else if (arguments.length === 2) {\n\t\tvar x = arguments[0],\n\t\t    y = arguments[1];\n\t\tCoordinate.call(this, x, y, Coordinate.NULL_ORDINATE);\n\t} else if (arguments.length === 3) {\n\t\tvar _x = arguments[0],\n\t\t    _y = arguments[1],\n\t\t    z = arguments[2];\n\t\tthis.x = _x;\n\t\tthis.y = _y;\n\t\tthis.z = z;\n\t}\n}\nextend(Coordinate.prototype, {\n\tsetOrdinate: function setOrdinate(ordinateIndex, value) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase Coordinate.X:\n\t\t\t\tthis.x = value;\n\t\t\t\tbreak;\n\t\t\tcase Coordinate.Y:\n\t\t\t\tthis.y = value;\n\t\t\t\tbreak;\n\t\t\tcase Coordinate.Z:\n\t\t\t\tthis.z = value;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new IllegalArgumentException(\"Invalid ordinate index: \" + ordinateIndex);\n\t\t}\n\t},\n\tequals2D: function equals2D() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar other = arguments[0];\n\t\t\tif (this.x !== other.x) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.y !== other.y) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar c = arguments[0],\n\t\t\t    tolerance = arguments[1];\n\t\t\tif (!NumberUtil.equalsWithTolerance(this.x, c.x, tolerance)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!NumberUtil.equalsWithTolerance(this.y, c.y, tolerance)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\tgetOrdinate: function getOrdinate(ordinateIndex) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase Coordinate.X:\n\t\t\t\treturn this.x;\n\t\t\tcase Coordinate.Y:\n\t\t\t\treturn this.y;\n\t\t\tcase Coordinate.Z:\n\t\t\t\treturn this.z;\n\t\t}\n\t\tthrow new IllegalArgumentException(\"Invalid ordinate index: \" + ordinateIndex);\n\t},\n\tequals3D: function equals3D(other) {\n\t\treturn this.x === other.x && this.y === other.y && (this.z === other.z || Double.isNaN(this.z) && Double.isNaN(other.z));\n\t},\n\tequals: function equals(other) {\n\t\tif (!(other instanceof Coordinate)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.equals2D(other);\n\t},\n\tequalInZ: function equalInZ(c, tolerance) {\n\t\treturn NumberUtil.equalsWithTolerance(this.z, c.z, tolerance);\n\t},\n\tcompareTo: function compareTo(o) {\n\t\tvar other = o;\n\t\tif (this.x < other.x) return -1;\n\t\tif (this.x > other.x) return 1;\n\t\tif (this.y < other.y) return -1;\n\t\tif (this.y > other.y) return 1;\n\t\treturn 0;\n\t},\n\tclone: function clone() {\n\t\ttry {\n\t\t\tvar coord = null;\n\t\t\treturn coord;\n\t\t} catch (e) {\n\t\t\tif (e instanceof CloneNotSupportedException) {\n\t\t\t\tAssert.shouldNeverReachHere(\"this shouldn't happen because this class is Cloneable\");\n\t\t\t\treturn null;\n\t\t\t} else throw e;\n\t\t} finally {}\n\t},\n\tcopy: function copy() {\n\t\treturn new Coordinate(this);\n\t},\n\ttoString: function toString() {\n\t\treturn \"(\" + this.x + \", \" + this.y + \", \" + this.z + \")\";\n\t},\n\tdistance3D: function distance3D(c) {\n\t\tvar dx = this.x - c.x;\n\t\tvar dy = this.y - c.y;\n\t\tvar dz = this.z - c.z;\n\t\treturn Math.sqrt(dx * dx + dy * dy + dz * dz);\n\t},\n\tdistance: function distance(c) {\n\t\tvar dx = this.x - c.x;\n\t\tvar dy = this.y - c.y;\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t},\n\thashCode: function hashCode() {\n\t\tvar result = 17;\n\t\tresult = 37 * result + Coordinate.hashCode(this.x);\n\t\tresult = 37 * result + Coordinate.hashCode(this.y);\n\t\treturn result;\n\t},\n\tsetCoordinate: function setCoordinate(other) {\n\t\tthis.x = other.x;\n\t\tthis.y = other.y;\n\t\tthis.z = other.z;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable, Clonable, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Coordinate;\n\t}\n});\nCoordinate.hashCode = function () {\n\tif (arguments.length === 1 && typeof arguments[0] === \"number\") {\n\t\tvar x = arguments[0];\n\t\tvar f = Double.doubleToLongBits(x);\n\t\treturn Math.trunc(f ^ f >>> 32);\n\t}\n};\nfunction DimensionalComparator() {\n\tthis._dimensionsToTest = 2;\n\tif (arguments.length === 0) {\n\t\tDimensionalComparator.call(this, 2);\n\t} else if (arguments.length === 1) {\n\t\tvar dimensionsToTest = arguments[0];\n\t\tif (dimensionsToTest !== 2 && dimensionsToTest !== 3) throw new IllegalArgumentException(\"only 2 or 3 dimensions may be specified\");\n\t\tthis._dimensionsToTest = dimensionsToTest;\n\t}\n}\nextend(DimensionalComparator.prototype, {\n\tcompare: function compare(o1, o2) {\n\t\tvar c1 = o1;\n\t\tvar c2 = o2;\n\t\tvar compX = DimensionalComparator.compare(c1.x, c2.x);\n\t\tif (compX !== 0) return compX;\n\t\tvar compY = DimensionalComparator.compare(c1.y, c2.y);\n\t\tif (compY !== 0) return compY;\n\t\tif (this._dimensionsToTest <= 2) return 0;\n\t\tvar compZ = DimensionalComparator.compare(c1.z, c2.z);\n\t\treturn compZ;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DimensionalComparator;\n\t}\n});\nDimensionalComparator.compare = function (a, b) {\n\tif (a < b) return -1;\n\tif (a > b) return 1;\n\tif (Double.isNaN(a)) {\n\t\tif (Double.isNaN(b)) return 0;\n\t\treturn -1;\n\t}\n\tif (Double.isNaN(b)) return 1;\n\treturn 0;\n};\nCoordinate.DimensionalComparator = DimensionalComparator;\nCoordinate.serialVersionUID = 6683108902428366910;\nCoordinate.NULL_ORDINATE = Double.NaN;\nCoordinate.X = 0;\nCoordinate.Y = 1;\nCoordinate.Z = 2;\n\nfunction hasInterface (o, i) {\n  return o.interfaces_ && o.interfaces_().indexOf(i) > -1;\n}\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html\n * @constructor\n * @private\n */\nfunction Iterator() {}\n\n/**\n * Returns true if the iteration has more elements.\n * @return {boolean}\n */\nIterator.prototype.hasNext = function () {};\n\n/**\n * Returns the next element in the iteration.\n * @return {Object}\n */\nIterator.prototype.next = function () {};\n\n/**\n * Removes from the underlying collection the last element returned by the\n * iterator (optional operation).\n */\nIterator.prototype.remove = function () {};\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Collection.html\n *\n * @constructor\n * @private\n */\nfunction Collection() {}\n\n/**\n * Ensures that this collection contains the specified element (optional\n * operation).\n * @param {Object} e\n * @return {boolean}\n */\nCollection.prototype.add = function () {};\n\n/**\n * Appends all of the elements in the specified collection to the end of this\n * list, in the order that they are returned by the specified collection's\n * iterator (optional operation).\n * @param {javascript.util.Collection} c\n * @return {boolean}\n */\nCollection.prototype.addAll = function () {};\n\n/**\n * Returns true if this collection contains no elements.\n * @return {boolean}\n */\nCollection.prototype.isEmpty = function () {};\n\n/**\n * Returns an iterator over the elements in this collection.\n * @return {javascript.util.Iterator}\n */\nCollection.prototype.iterator = function () {};\n\n/**\n * Returns an iterator over the elements in this collection.\n * @return {number}\n */\nCollection.prototype.size = function () {};\n\n/**\n * Returns an array containing all of the elements in this collection.\n * @return {Array}\n */\nCollection.prototype.toArray = function () {};\n\n/**\n * Removes a single instance of the specified element from this collection if it\n * is present. (optional)\n * @param {Object} e\n * @return {boolean}\n */\nCollection.prototype.remove = function () {};\n\n/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nfunction IndexOutOfBoundsException$1(message) {\n  this.message = message || '';\n}\nIndexOutOfBoundsException$1.prototype = new Error();\n\n/**\n * @type {string}\n */\nIndexOutOfBoundsException$1.prototype.name = 'IndexOutOfBoundsException';\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/List.html\n *\n * @extends {javascript.util.Collection}\n * @constructor\n * @private\n */\nfunction List() {}\nList.prototype = Object.create(Collection.prototype);\nList.prototype.constructor = List;\n\n/**\n * Returns the element at the specified position in this list.\n * @param {number} index\n * @return {Object}\n */\nList.prototype.get = function () {};\n\n/**\n * Replaces the element at the specified position in this list with the\n * specified element (optional operation).\n * @param {number} index\n * @param {Object} e\n * @return {Object}\n */\nList.prototype.set = function () {};\n\n/**\n * Returns true if this collection contains no elements.\n * @return {boolean}\n */\nList.prototype.isEmpty = function () {};\n\n/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nfunction NoSuchElementException(message) {\n  this.message = message || '';\n}\nNoSuchElementException.prototype = new Error();\n\n/**\n * @type {string}\n */\nNoSuchElementException.prototype.name = 'NoSuchElementException';\n\n/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nfunction OperationNotSupported(message) {\n  this.message = message || '';\n}\nOperationNotSupported.prototype = new Error();\n\n/**\n * @type {string}\n */\nOperationNotSupported.prototype.name = 'OperationNotSupported';\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html\n *\n * @extends List\n * @private\n */\nfunction ArrayList() {\n  /**\n   * @type {Array}\n   * @private\n  */\n  this.array_ = [];\n\n  if (arguments[0] instanceof Collection) {\n    this.addAll(arguments[0]);\n  }\n}\nArrayList.prototype = Object.create(List.prototype);\nArrayList.prototype.constructor = ArrayList;\n\nArrayList.prototype.ensureCapacity = function () {};\nArrayList.prototype.interfaces_ = function () {\n  return [List, Collection];\n};\n\n/**\n * @override\n */\nArrayList.prototype.add = function (e) {\n  if (arguments.length === 1) {\n    this.array_.push(e);\n  } else {\n    this.array_.splice(arguments[0], 0, arguments[1]);\n  }\n  return true;\n};\n\nArrayList.prototype.clear = function () {\n  this.array_ = [];\n};\n\n/**\n * @override\n */\nArrayList.prototype.addAll = function (c) {\n  for (var i = c.iterator(); i.hasNext();) {\n    this.add(i.next());\n  }\n  return true;\n};\n\n/**\n * @override\n */\nArrayList.prototype.set = function (index, element) {\n  var oldElement = this.array_[index];\n  this.array_[index] = element;\n  return oldElement;\n};\n\n/**\n * @override\n */\nArrayList.prototype.iterator = function () {\n  return new Iterator_(this);\n};\n\n/**\n * @override\n */\nArrayList.prototype.get = function (index) {\n  if (index < 0 || index >= this.size()) {\n    throw new IndexOutOfBoundsException$1();\n  }\n\n  return this.array_[index];\n};\n\n/**\n * @override\n */\nArrayList.prototype.isEmpty = function () {\n  return this.array_.length === 0;\n};\n\n/**\n * @override\n */\nArrayList.prototype.size = function () {\n  return this.array_.length;\n};\n\n/**\n * @override\n */\nArrayList.prototype.toArray = function () {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n\n/**\n * @override\n */\nArrayList.prototype.remove = function (o) {\n  var found = false;\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    if (this.array_[i] === o) {\n      this.array_.splice(i, 1);\n      found = true;\n      break;\n    }\n  }\n\n  return found;\n};\n\n/**\n * @extends {Iterator}\n * @param {ArrayList} arrayList\n * @constructor\n * @private\n */\nvar Iterator_ = function Iterator_(arrayList) {\n  /**\n   * @type {ArrayList}\n   * @private\n  */\n  this.arrayList_ = arrayList;\n  /**\n   * @type {number}\n   * @private\n  */\n  this.position_ = 0;\n};\n\n/**\n * @override\n */\nIterator_.prototype.next = function () {\n  if (this.position_ === this.arrayList_.size()) {\n    throw new NoSuchElementException();\n  }\n  return this.arrayList_.get(this.position_++);\n};\n\n/**\n * @override\n */\nIterator_.prototype.hasNext = function () {\n  if (this.position_ < this.arrayList_.size()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n/**\n * TODO: should be in ListIterator\n * @override\n */\nIterator_.prototype.set = function (element) {\n  return this.arrayList_.set(this.position_ - 1, element);\n};\n\n/**\n * @override\n */\nIterator_.prototype.remove = function () {\n  this.arrayList_.remove(this.arrayList_.get(this.position_));\n};\n\nfunction CoordinateList() {\n\tArrayList.apply(this);\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tvar coord = arguments[0];\n\t\tthis.ensureCapacity(coord.length);\n\t\tthis.add(coord, true);\n\t} else if (arguments.length === 2) {\n\t\tvar _coord = arguments[0],\n\t\t    allowRepeated = arguments[1];\n\t\tthis.ensureCapacity(_coord.length);\n\t\tthis.add(_coord, allowRepeated);\n\t}\n}\ninherits(CoordinateList, ArrayList);\nextend(CoordinateList.prototype, {\n\tgetCoordinate: function getCoordinate(i) {\n\t\treturn this.get(i);\n\t},\n\taddAll: function addAll() {\n\t\tif (arguments.length === 2 && typeof arguments[1] === \"boolean\" && hasInterface(arguments[0], Collection)) {\n\t\t\tvar coll = arguments[0],\n\t\t\t    allowRepeated = arguments[1];\n\t\t\tvar isChanged = false;\n\t\t\tfor (var i = coll.iterator(); i.hasNext();) {\n\t\t\t\tthis.add(i.next(), allowRepeated);\n\t\t\t\tisChanged = true;\n\t\t\t}\n\t\t\treturn isChanged;\n\t\t} else return ArrayList.prototype.addAll.apply(this, arguments);\n\t},\n\tclone: function clone() {\n\t\tvar clone = ArrayList.prototype.clone.call(this);\n\t\tfor (var i = 0; i < this.size(); i++) {\n\t\t\tclone.add(i, this.get(i).clone());\n\t\t}\n\t\treturn clone;\n\t},\n\ttoCoordinateArray: function toCoordinateArray() {\n\t\treturn this.toArray(CoordinateList.coordArrayType);\n\t},\n\tadd: function add() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar coord = arguments[0];\n\t\t\tArrayList.prototype.add.call(this, coord);\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof Array && typeof arguments[1] === \"boolean\") {\n\t\t\t\tvar _coord2 = arguments[0],\n\t\t\t\t    allowRepeated = arguments[1];\n\t\t\t\tthis.add(_coord2, allowRepeated, true);\n\t\t\t\treturn true;\n\t\t\t} else if (arguments[0] instanceof Coordinate && typeof arguments[1] === \"boolean\") {\n\t\t\t\tvar _coord3 = arguments[0],\n\t\t\t\t    _allowRepeated = arguments[1];\n\t\t\t\tif (!_allowRepeated) {\n\t\t\t\t\tif (this.size() >= 1) {\n\t\t\t\t\t\tvar last = this.get(this.size() - 1);\n\t\t\t\t\t\tif (last.equals2D(_coord3)) return null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tArrayList.prototype.add.call(this, _coord3);\n\t\t\t} else if (arguments[0] instanceof Object && typeof arguments[1] === \"boolean\") {\n\t\t\t\tvar obj = arguments[0],\n\t\t\t\t    _allowRepeated2 = arguments[1];\n\t\t\t\tthis.add(obj, _allowRepeated2);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (typeof arguments[2] === \"boolean\" && arguments[0] instanceof Array && typeof arguments[1] === \"boolean\") {\n\t\t\t\tvar _coord4 = arguments[0],\n\t\t\t\t    _allowRepeated3 = arguments[1],\n\t\t\t\t    direction = arguments[2];\n\t\t\t\tif (direction) {\n\t\t\t\t\tfor (var i = 0; i < _coord4.length; i++) {\n\t\t\t\t\t\tthis.add(_coord4[i], _allowRepeated3);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = _coord4.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tthis.add(_coord4[i], _allowRepeated3);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else if (typeof arguments[2] === \"boolean\" && Number.isInteger(arguments[0]) && arguments[1] instanceof Coordinate) {\n\t\t\t\tvar _i = arguments[0],\n\t\t\t\t    _coord5 = arguments[1],\n\t\t\t\t    _allowRepeated4 = arguments[2];\n\t\t\t\tif (!_allowRepeated4) {\n\t\t\t\t\tvar size = this.size();\n\t\t\t\t\tif (size > 0) {\n\t\t\t\t\t\tif (_i > 0) {\n\t\t\t\t\t\t\tvar prev = this.get(_i - 1);\n\t\t\t\t\t\t\tif (prev.equals2D(_coord5)) return null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_i < size) {\n\t\t\t\t\t\t\tvar next = this.get(_i);\n\t\t\t\t\t\t\tif (next.equals2D(_coord5)) return null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tArrayList.prototype.add.call(this, _i, _coord5);\n\t\t\t}\n\t\t} else if (arguments.length === 4) {\n\t\t\tvar _coord6 = arguments[0],\n\t\t\t    _allowRepeated5 = arguments[1],\n\t\t\t    start = arguments[2],\n\t\t\t    end = arguments[3];\n\t\t\tvar inc = 1;\n\t\t\tif (start > end) inc = -1;\n\t\t\tfor (var i = start; i !== end; i += inc) {\n\t\t\t\tthis.add(_coord6[i], _allowRepeated5);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\tcloseRing: function closeRing() {\n\t\tif (this.size() > 0) this.add(new Coordinate(this.get(0)), false);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateList;\n\t}\n});\nCoordinateList.coordArrayType = new Array(0).fill(null);\n\nfunction Envelope() {\n\tthis._minx = null;\n\tthis._maxx = null;\n\tthis._miny = null;\n\tthis._maxy = null;\n\tif (arguments.length === 0) {\n\t\tthis.init();\n\t} else if (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\tvar p = arguments[0];\n\t\t\tthis.init(p.x, p.x, p.y, p.y);\n\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\tvar env = arguments[0];\n\t\t\tthis.init(env);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tvar p1 = arguments[0],\n\t\t    p2 = arguments[1];\n\t\tthis.init(p1.x, p2.x, p1.y, p2.y);\n\t} else if (arguments.length === 4) {\n\t\tvar x1 = arguments[0],\n\t\t    x2 = arguments[1],\n\t\t    y1 = arguments[2],\n\t\t    y2 = arguments[3];\n\t\tthis.init(x1, x2, y1, y2);\n\t}\n}\nextend(Envelope.prototype, {\n\tgetArea: function getArea() {\n\t\treturn this.getWidth() * this.getHeight();\n\t},\n\tequals: function equals(other) {\n\t\tif (!(other instanceof Envelope)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar otherEnvelope = other;\n\t\tif (this.isNull()) {\n\t\t\treturn otherEnvelope.isNull();\n\t\t}\n\t\treturn this._maxx === otherEnvelope.getMaxX() && this._maxy === otherEnvelope.getMaxY() && this._minx === otherEnvelope.getMinX() && this._miny === otherEnvelope.getMinY();\n\t},\n\tintersection: function intersection(env) {\n\t\tif (this.isNull() || env.isNull() || !this.intersects(env)) return new Envelope();\n\t\tvar intMinX = this._minx > env._minx ? this._minx : env._minx;\n\t\tvar intMinY = this._miny > env._miny ? this._miny : env._miny;\n\t\tvar intMaxX = this._maxx < env._maxx ? this._maxx : env._maxx;\n\t\tvar intMaxY = this._maxy < env._maxy ? this._maxy : env._maxy;\n\t\treturn new Envelope(intMinX, intMaxX, intMinY, intMaxY);\n\t},\n\tisNull: function isNull() {\n\t\treturn this._maxx < this._minx;\n\t},\n\tgetMaxX: function getMaxX() {\n\t\treturn this._maxx;\n\t},\n\tcovers: function covers() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tvar p = arguments[0];\n\t\t\t\treturn this.covers(p.x, p.y);\n\t\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\t\tvar other = arguments[0];\n\t\t\t\tif (this.isNull() || other.isNull()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn other.getMinX() >= this._minx && other.getMaxX() <= this._maxx && other.getMinY() >= this._miny && other.getMaxY() <= this._maxy;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar x = arguments[0],\n\t\t\t    y = arguments[1];\n\t\t\tif (this.isNull()) return false;\n\t\t\treturn x >= this._minx && x <= this._maxx && y >= this._miny && y <= this._maxy;\n\t\t}\n\t},\n\tintersects: function intersects() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Envelope) {\n\t\t\t\tvar other = arguments[0];\n\t\t\t\tif (this.isNull() || other.isNull()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn !(other._minx > this._maxx || other._maxx < this._minx || other._miny > this._maxy || other._maxy < this._miny);\n\t\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\t\tvar p = arguments[0];\n\t\t\t\treturn this.intersects(p.x, p.y);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\t\t\tvar a = arguments[0],\n\t\t\t\t    b = arguments[1];\n\t\t\t\tif (this.isNull()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar envminx = a.x < b.x ? a.x : b.x;\n\t\t\t\tif (envminx > this._maxx) return false;\n\t\t\t\tvar envmaxx = a.x > b.x ? a.x : b.x;\n\t\t\t\tif (envmaxx < this._minx) return false;\n\t\t\t\tvar envminy = a.y < b.y ? a.y : b.y;\n\t\t\t\tif (envminy > this._maxy) return false;\n\t\t\t\tvar envmaxy = a.y > b.y ? a.y : b.y;\n\t\t\t\tif (envmaxy < this._miny) return false;\n\t\t\t\treturn true;\n\t\t\t} else if (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\t\t\tvar x = arguments[0],\n\t\t\t\t    y = arguments[1];\n\t\t\t\tif (this.isNull()) return false;\n\t\t\t\treturn !(x > this._maxx || x < this._minx || y > this._maxy || y < this._miny);\n\t\t\t}\n\t\t}\n\t},\n\tgetMinY: function getMinY() {\n\t\treturn this._miny;\n\t},\n\tgetMinX: function getMinX() {\n\t\treturn this._minx;\n\t},\n\texpandToInclude: function expandToInclude() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tvar p = arguments[0];\n\t\t\t\tthis.expandToInclude(p.x, p.y);\n\t\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\t\tvar other = arguments[0];\n\t\t\t\tif (other.isNull()) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (this.isNull()) {\n\t\t\t\t\tthis._minx = other.getMinX();\n\t\t\t\t\tthis._maxx = other.getMaxX();\n\t\t\t\t\tthis._miny = other.getMinY();\n\t\t\t\t\tthis._maxy = other.getMaxY();\n\t\t\t\t} else {\n\t\t\t\t\tif (other._minx < this._minx) {\n\t\t\t\t\t\tthis._minx = other._minx;\n\t\t\t\t\t}\n\t\t\t\t\tif (other._maxx > this._maxx) {\n\t\t\t\t\t\tthis._maxx = other._maxx;\n\t\t\t\t\t}\n\t\t\t\t\tif (other._miny < this._miny) {\n\t\t\t\t\t\tthis._miny = other._miny;\n\t\t\t\t\t}\n\t\t\t\t\tif (other._maxy > this._maxy) {\n\t\t\t\t\t\tthis._maxy = other._maxy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar x = arguments[0],\n\t\t\t    y = arguments[1];\n\t\t\tif (this.isNull()) {\n\t\t\t\tthis._minx = x;\n\t\t\t\tthis._maxx = x;\n\t\t\t\tthis._miny = y;\n\t\t\t\tthis._maxy = y;\n\t\t\t} else {\n\t\t\t\tif (x < this._minx) {\n\t\t\t\t\tthis._minx = x;\n\t\t\t\t}\n\t\t\t\tif (x > this._maxx) {\n\t\t\t\t\tthis._maxx = x;\n\t\t\t\t}\n\t\t\t\tif (y < this._miny) {\n\t\t\t\t\tthis._miny = y;\n\t\t\t\t}\n\t\t\t\tif (y > this._maxy) {\n\t\t\t\t\tthis._maxy = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tminExtent: function minExtent() {\n\t\tif (this.isNull()) return 0.0;\n\t\tvar w = this.getWidth();\n\t\tvar h = this.getHeight();\n\t\tif (w < h) return w;\n\t\treturn h;\n\t},\n\tgetWidth: function getWidth() {\n\t\tif (this.isNull()) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn this._maxx - this._minx;\n\t},\n\tcompareTo: function compareTo(o) {\n\t\tvar env = o;\n\t\tif (this.isNull()) {\n\t\t\tif (env.isNull()) return 0;\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif (env.isNull()) return 1;\n\t\t}\n\t\tif (this._minx < env._minx) return -1;\n\t\tif (this._minx > env._minx) return 1;\n\t\tif (this._miny < env._miny) return -1;\n\t\tif (this._miny > env._miny) return 1;\n\t\tif (this._maxx < env._maxx) return -1;\n\t\tif (this._maxx > env._maxx) return 1;\n\t\tif (this._maxy < env._maxy) return -1;\n\t\tif (this._maxy > env._maxy) return 1;\n\t\treturn 0;\n\t},\n\ttranslate: function translate(transX, transY) {\n\t\tif (this.isNull()) {\n\t\t\treturn null;\n\t\t}\n\t\tthis.init(this.getMinX() + transX, this.getMaxX() + transX, this.getMinY() + transY, this.getMaxY() + transY);\n\t},\n\ttoString: function toString() {\n\t\treturn \"Env[\" + this._minx + \" : \" + this._maxx + \", \" + this._miny + \" : \" + this._maxy + \"]\";\n\t},\n\tsetToNull: function setToNull() {\n\t\tthis._minx = 0;\n\t\tthis._maxx = -1;\n\t\tthis._miny = 0;\n\t\tthis._maxy = -1;\n\t},\n\tgetHeight: function getHeight() {\n\t\tif (this.isNull()) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn this._maxy - this._miny;\n\t},\n\tmaxExtent: function maxExtent() {\n\t\tif (this.isNull()) return 0.0;\n\t\tvar w = this.getWidth();\n\t\tvar h = this.getHeight();\n\t\tif (w > h) return w;\n\t\treturn h;\n\t},\n\texpandBy: function expandBy() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar distance = arguments[0];\n\t\t\tthis.expandBy(distance, distance);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar deltaX = arguments[0],\n\t\t\t    deltaY = arguments[1];\n\t\t\tif (this.isNull()) return null;\n\t\t\tthis._minx -= deltaX;\n\t\t\tthis._maxx += deltaX;\n\t\t\tthis._miny -= deltaY;\n\t\t\tthis._maxy += deltaY;\n\t\t\tif (this._minx > this._maxx || this._miny > this._maxy) this.setToNull();\n\t\t}\n\t},\n\tcontains: function contains() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Envelope) {\n\t\t\t\tvar other = arguments[0];\n\t\t\t\treturn this.covers(other);\n\t\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\t\tvar p = arguments[0];\n\t\t\t\treturn this.covers(p);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar x = arguments[0],\n\t\t\t    y = arguments[1];\n\t\t\treturn this.covers(x, y);\n\t\t}\n\t},\n\tcentre: function centre() {\n\t\tif (this.isNull()) return null;\n\t\treturn new Coordinate((this.getMinX() + this.getMaxX()) / 2.0, (this.getMinY() + this.getMaxY()) / 2.0);\n\t},\n\tinit: function init() {\n\t\tif (arguments.length === 0) {\n\t\t\tthis.setToNull();\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tvar p = arguments[0];\n\t\t\t\tthis.init(p.x, p.x, p.y, p.y);\n\t\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\t\tvar env = arguments[0];\n\t\t\t\tthis._minx = env._minx;\n\t\t\t\tthis._maxx = env._maxx;\n\t\t\t\tthis._miny = env._miny;\n\t\t\t\tthis._maxy = env._maxy;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar p1 = arguments[0],\n\t\t\t    p2 = arguments[1];\n\t\t\tthis.init(p1.x, p2.x, p1.y, p2.y);\n\t\t} else if (arguments.length === 4) {\n\t\t\tvar x1 = arguments[0],\n\t\t\t    x2 = arguments[1],\n\t\t\t    y1 = arguments[2],\n\t\t\t    y2 = arguments[3];\n\t\t\tif (x1 < x2) {\n\t\t\t\tthis._minx = x1;\n\t\t\t\tthis._maxx = x2;\n\t\t\t} else {\n\t\t\t\tthis._minx = x2;\n\t\t\t\tthis._maxx = x1;\n\t\t\t}\n\t\t\tif (y1 < y2) {\n\t\t\t\tthis._miny = y1;\n\t\t\t\tthis._maxy = y2;\n\t\t\t} else {\n\t\t\t\tthis._miny = y2;\n\t\t\t\tthis._maxy = y1;\n\t\t\t}\n\t\t}\n\t},\n\tgetMaxY: function getMaxY() {\n\t\treturn this._maxy;\n\t},\n\tdistance: function distance(env) {\n\t\tif (this.intersects(env)) return 0;\n\t\tvar dx = 0.0;\n\t\tif (this._maxx < env._minx) dx = env._minx - this._maxx;else if (this._minx > env._maxx) dx = this._minx - env._maxx;\n\t\tvar dy = 0.0;\n\t\tif (this._maxy < env._miny) dy = env._miny - this._maxy;else if (this._miny > env._maxy) dy = this._miny - env._maxy;\n\t\tif (dx === 0.0) return dy;\n\t\tif (dy === 0.0) return dx;\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t},\n\thashCode: function hashCode() {\n\t\tvar result = 17;\n\t\tresult = 37 * result + Coordinate.hashCode(this._minx);\n\t\tresult = 37 * result + Coordinate.hashCode(this._maxx);\n\t\tresult = 37 * result + Coordinate.hashCode(this._miny);\n\t\tresult = 37 * result + Coordinate.hashCode(this._maxy);\n\t\treturn result;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Envelope;\n\t}\n});\nEnvelope.intersects = function () {\n\tif (arguments.length === 3) {\n\t\tvar p1 = arguments[0],\n\t\t    p2 = arguments[1],\n\t\t    q = arguments[2];\n\t\tif (q.x >= (p1.x < p2.x ? p1.x : p2.x) && q.x <= (p1.x > p2.x ? p1.x : p2.x) && q.y >= (p1.y < p2.y ? p1.y : p2.y) && q.y <= (p1.y > p2.y ? p1.y : p2.y)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t} else if (arguments.length === 4) {\n\t\tvar _p = arguments[0],\n\t\t    _p2 = arguments[1],\n\t\t    q1 = arguments[2],\n\t\t    q2 = arguments[3];\n\t\tvar minq = Math.min(q1.x, q2.x);\n\t\tvar maxq = Math.max(q1.x, q2.x);\n\t\tvar minp = Math.min(_p.x, _p2.x);\n\t\tvar maxp = Math.max(_p.x, _p2.x);\n\t\tif (minp > maxq) return false;\n\t\tif (maxp < minq) return false;\n\t\tminq = Math.min(q1.y, q2.y);\n\t\tmaxq = Math.max(q1.y, q2.y);\n\t\tminp = Math.min(_p.y, _p2.y);\n\t\tmaxp = Math.max(_p.y, _p2.y);\n\t\tif (minp > maxq) return false;\n\t\tif (maxp < minq) return false;\n\t\treturn true;\n\t}\n};\nEnvelope.serialVersionUID = 5873921885273102420;\n\nfunction Exception() {}\n\nfunction NotRepresentableException() {\n\tException.call(this, \"Projective point not representable on the Cartesian plane.\");\n}\ninherits(NotRepresentableException, Exception);\nextend(NotRepresentableException.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NotRepresentableException;\n\t}\n});\n\nfunction StringBuffer(str) {\n  this.str = str;\n}\n\nStringBuffer.prototype.append = function (e) {\n  this.str += e;\n};\n\nStringBuffer.prototype.setCharAt = function (i, c) {\n  this.str = this.str.substr(0, i) + c + this.str.substr(i + 1);\n};\n\nStringBuffer.prototype.toString = function (e) {\n  return this.str;\n};\n\nfunction Integer(value) {\n  this.value = value;\n}\n\nInteger.prototype.intValue = function () {\n  return this.value;\n};\nInteger.prototype.compareTo = function (o) {\n  if (this.value < o) return -1;\n  if (this.value > o) return 1;\n  return 0;\n};\n\nInteger.isNaN = function (n) {\n  return Number.isNaN(n);\n};\n\nfunction Character() {}\nCharacter.isWhitespace = function (c) {\n  return c <= 32 && c >= 0 || c == 127;\n};\nCharacter.toUpperCase = function (c) {\n  return c.toUpperCase();\n};\n\nfunction DD() {\n\tthis._hi = 0.0;\n\tthis._lo = 0.0;\n\tif (arguments.length === 0) {\n\t\tthis.init(0.0);\n\t} else if (arguments.length === 1) {\n\t\tif (typeof arguments[0] === \"number\") {\n\t\t\tvar x = arguments[0];\n\t\t\tthis.init(x);\n\t\t} else if (arguments[0] instanceof DD) {\n\t\t\tvar dd = arguments[0];\n\t\t\tthis.init(dd);\n\t\t} else if (typeof arguments[0] === \"string\") {\n\t\t\tvar str = arguments[0];\n\t\t\tDD.call(this, DD.parse(str));\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tvar hi = arguments[0],\n\t\t    lo = arguments[1];\n\t\tthis.init(hi, lo);\n\t}\n}\nextend(DD.prototype, {\n\tle: function le(y) {\n\t\treturn this._hi < y._hi || this._hi === y._hi && this._lo <= y._lo;\n\t},\n\textractSignificantDigits: function extractSignificantDigits(insertDecimalPoint, magnitude) {\n\t\tvar y = this.abs();\n\t\tvar mag = DD.magnitude(y._hi);\n\t\tvar scale = DD.TEN.pow(mag);\n\t\ty = y.divide(scale);\n\t\tif (y.gt(DD.TEN)) {\n\t\t\ty = y.divide(DD.TEN);\n\t\t\tmag += 1;\n\t\t} else if (y.lt(DD.ONE)) {\n\t\t\ty = y.multiply(DD.TEN);\n\t\t\tmag -= 1;\n\t\t}\n\t\tvar decimalPointPos = mag + 1;\n\t\tvar buf = new StringBuffer();\n\t\tvar numDigits = DD.MAX_PRINT_DIGITS - 1;\n\t\tfor (var i = 0; i <= numDigits; i++) {\n\t\t\tif (insertDecimalPoint && i === decimalPointPos) {\n\t\t\t\tbuf.append('.');\n\t\t\t}\n\t\t\tvar digit = Math.trunc(y._hi);\n\t\t\tif (digit < 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar rebiasBy10 = false;\n\t\t\tvar digitChar = 0;\n\t\t\tif (digit > 9) {\n\t\t\t\trebiasBy10 = true;\n\t\t\t\tdigitChar = '9';\n\t\t\t} else {\n\t\t\t\tdigitChar = '0' + digit;\n\t\t\t}\n\t\t\tbuf.append(digitChar);\n\t\t\ty = y.subtract(DD.valueOf(digit)).multiply(DD.TEN);\n\t\t\tif (rebiasBy10) y.selfAdd(DD.TEN);\n\t\t\tvar continueExtractingDigits = true;\n\t\t\tvar remMag = DD.magnitude(y._hi);\n\t\t\tif (remMag < 0 && Math.abs(remMag) >= numDigits - i) continueExtractingDigits = false;\n\t\t\tif (!continueExtractingDigits) break;\n\t\t}\n\t\tmagnitude[0] = mag;\n\t\treturn buf.toString();\n\t},\n\tsqr: function sqr() {\n\t\treturn this.multiply(this);\n\t},\n\tdoubleValue: function doubleValue() {\n\t\treturn this._hi + this._lo;\n\t},\n\tsubtract: function subtract() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tvar y = arguments[0];\n\t\t\treturn this.add(y.negate());\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tvar _y = arguments[0];\n\t\t\treturn this.add(-_y);\n\t\t}\n\t},\n\tequals: function equals() {\n\t\tif (arguments.length === 1 && arguments[0] instanceof DD) {\n\t\t\tvar y = arguments[0];\n\t\t\treturn this._hi === y._hi && this._lo === y._lo;\n\t\t}\n\t},\n\tisZero: function isZero() {\n\t\treturn this._hi === 0.0 && this._lo === 0.0;\n\t},\n\tselfSubtract: function selfSubtract() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tvar y = arguments[0];\n\t\t\tif (this.isNaN()) return this;\n\t\t\treturn this.selfAdd(-y._hi, -y._lo);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tvar _y2 = arguments[0];\n\t\t\tif (this.isNaN()) return this;\n\t\t\treturn this.selfAdd(-_y2, 0.0);\n\t\t}\n\t},\n\tgetSpecialNumberString: function getSpecialNumberString() {\n\t\tif (this.isZero()) return \"0.0\";\n\t\tif (this.isNaN()) return \"NaN \";\n\t\treturn null;\n\t},\n\tmin: function min(x) {\n\t\tif (this.le(x)) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn x;\n\t\t}\n\t},\n\tselfDivide: function selfDivide() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof DD) {\n\t\t\t\tvar y = arguments[0];\n\t\t\t\treturn this.selfDivide(y._hi, y._lo);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tvar _y3 = arguments[0];\n\t\t\t\treturn this.selfDivide(_y3, 0.0);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar yhi = arguments[0],\n\t\t\t    ylo = arguments[1];\n\t\t\tvar hc = null,\n\t\t\t    tc = null,\n\t\t\t    hy = null,\n\t\t\t    ty = null,\n\t\t\t    C = null,\n\t\t\t    c = null,\n\t\t\t    U = null,\n\t\t\t    u = null;\n\t\t\tC = this._hi / yhi;\n\t\t\tc = DD.SPLIT * C;\n\t\t\thc = c - C;\n\t\t\tu = DD.SPLIT * yhi;\n\t\t\thc = c - hc;\n\t\t\ttc = C - hc;\n\t\t\thy = u - yhi;\n\t\t\tU = C * yhi;\n\t\t\thy = u - hy;\n\t\t\tty = yhi - hy;\n\t\t\tu = hc * hy - U + hc * ty + tc * hy + tc * ty;\n\t\t\tc = (this._hi - U - u + this._lo - C * ylo) / yhi;\n\t\t\tu = C + c;\n\t\t\tthis._hi = u;\n\t\t\tthis._lo = C - u + c;\n\t\t\treturn this;\n\t\t}\n\t},\n\tdump: function dump() {\n\t\treturn \"DD<\" + this._hi + \", \" + this._lo + \">\";\n\t},\n\tdivide: function divide() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tvar y = arguments[0];\n\t\t\tvar hc = null,\n\t\t\t    tc = null,\n\t\t\t    hy = null,\n\t\t\t    ty = null,\n\t\t\t    C = null,\n\t\t\t    c = null,\n\t\t\t    U = null,\n\t\t\t    u = null;\n\t\t\tC = this._hi / y._hi;\n\t\t\tc = DD.SPLIT * C;\n\t\t\thc = c - C;\n\t\t\tu = DD.SPLIT * y._hi;\n\t\t\thc = c - hc;\n\t\t\ttc = C - hc;\n\t\t\thy = u - y._hi;\n\t\t\tU = C * y._hi;\n\t\t\thy = u - hy;\n\t\t\tty = y._hi - hy;\n\t\t\tu = hc * hy - U + hc * ty + tc * hy + tc * ty;\n\t\t\tc = (this._hi - U - u + this._lo - C * y._lo) / y._hi;\n\t\t\tu = C + c;\n\t\t\tvar zhi = u;\n\t\t\tvar zlo = C - u + c;\n\t\t\treturn new DD(zhi, zlo);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tvar _y4 = arguments[0];\n\t\t\tif (Double.isNaN(_y4)) return DD.createNaN();\n\t\t\treturn DD.copy(this).selfDivide(_y4, 0.0);\n\t\t}\n\t},\n\tge: function ge(y) {\n\t\treturn this._hi > y._hi || this._hi === y._hi && this._lo >= y._lo;\n\t},\n\tpow: function pow(exp) {\n\t\tif (exp === 0.0) return DD.valueOf(1.0);\n\t\tvar r = new DD(this);\n\t\tvar s = DD.valueOf(1.0);\n\t\tvar n = Math.abs(exp);\n\t\tif (n > 1) {\n\t\t\twhile (n > 0) {\n\t\t\t\tif (n % 2 === 1) {\n\t\t\t\t\ts.selfMultiply(r);\n\t\t\t\t}\n\t\t\t\tn /= 2;\n\t\t\t\tif (n > 0) r = r.sqr();\n\t\t\t}\n\t\t} else {\n\t\t\ts = r;\n\t\t}\n\t\tif (exp < 0) return s.reciprocal();\n\t\treturn s;\n\t},\n\tceil: function ceil() {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tvar fhi = Math.ceil(this._hi);\n\t\tvar flo = 0.0;\n\t\tif (fhi === this._hi) {\n\t\t\tflo = Math.ceil(this._lo);\n\t\t}\n\t\treturn new DD(fhi, flo);\n\t},\n\tcompareTo: function compareTo(o) {\n\t\tvar other = o;\n\t\tif (this._hi < other._hi) return -1;\n\t\tif (this._hi > other._hi) return 1;\n\t\tif (this._lo < other._lo) return -1;\n\t\tif (this._lo > other._lo) return 1;\n\t\treturn 0;\n\t},\n\trint: function rint() {\n\t\tif (this.isNaN()) return this;\n\t\tvar plus5 = this.add(0.5);\n\t\treturn plus5.floor();\n\t},\n\tsetValue: function setValue() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tvar value = arguments[0];\n\t\t\tthis.init(value);\n\t\t\treturn this;\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tvar _value = arguments[0];\n\t\t\tthis.init(_value);\n\t\t\treturn this;\n\t\t}\n\t},\n\tmax: function max(x) {\n\t\tif (this.ge(x)) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn x;\n\t\t}\n\t},\n\tsqrt: function sqrt() {\n\t\tif (this.isZero()) return DD.valueOf(0.0);\n\t\tif (this.isNegative()) {\n\t\t\treturn DD.NaN;\n\t\t}\n\t\tvar x = 1.0 / Math.sqrt(this._hi);\n\t\tvar ax = this._hi * x;\n\t\tvar axdd = DD.valueOf(ax);\n\t\tvar diffSq = this.subtract(axdd.sqr());\n\t\tvar d2 = diffSq._hi * (x * 0.5);\n\t\treturn axdd.add(d2);\n\t},\n\tselfAdd: function selfAdd() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof DD) {\n\t\t\t\tvar y = arguments[0];\n\t\t\t\treturn this.selfAdd(y._hi, y._lo);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tvar _y5 = arguments[0];\n\t\t\t\tvar H = null,\n\t\t\t\t    h = null,\n\t\t\t\t    S = null,\n\t\t\t\t    s = null,\n\t\t\t\t    e = null,\n\t\t\t\t    f = null;\n\t\t\t\tS = this._hi + _y5;\n\t\t\t\te = S - this._hi;\n\t\t\t\ts = S - e;\n\t\t\t\ts = _y5 - e + (this._hi - s);\n\t\t\t\tf = s + this._lo;\n\t\t\t\tH = S + f;\n\t\t\t\th = f + (S - H);\n\t\t\t\tthis._hi = H + h;\n\t\t\t\tthis._lo = h + (H - this._hi);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar yhi = arguments[0],\n\t\t\t    ylo = arguments[1];\n\t\t\tvar H = null,\n\t\t\t    h = null,\n\t\t\t    T = null,\n\t\t\t    t = null,\n\t\t\t    S = null,\n\t\t\t    s = null,\n\t\t\t    e = null,\n\t\t\t    f = null;\n\t\t\tS = this._hi + yhi;\n\t\t\tT = this._lo + ylo;\n\t\t\te = S - this._hi;\n\t\t\tf = T - this._lo;\n\t\t\ts = S - e;\n\t\t\tt = T - f;\n\t\t\ts = yhi - e + (this._hi - s);\n\t\t\tt = ylo - f + (this._lo - t);\n\t\t\te = s + T;\n\t\t\tH = S + e;\n\t\t\th = e + (S - H);\n\t\t\te = t + h;\n\t\t\tvar zhi = H + e;\n\t\t\tvar zlo = e + (H - zhi);\n\t\t\tthis._hi = zhi;\n\t\t\tthis._lo = zlo;\n\t\t\treturn this;\n\t\t}\n\t},\n\tselfMultiply: function selfMultiply() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof DD) {\n\t\t\t\tvar y = arguments[0];\n\t\t\t\treturn this.selfMultiply(y._hi, y._lo);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tvar _y6 = arguments[0];\n\t\t\t\treturn this.selfMultiply(_y6, 0.0);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar yhi = arguments[0],\n\t\t\t    ylo = arguments[1];\n\t\t\tvar hx = null,\n\t\t\t    tx = null,\n\t\t\t    hy = null,\n\t\t\t    ty = null,\n\t\t\t    C = null,\n\t\t\t    c = null;\n\t\t\tC = DD.SPLIT * this._hi;\n\t\t\thx = C - this._hi;\n\t\t\tc = DD.SPLIT * yhi;\n\t\t\thx = C - hx;\n\t\t\ttx = this._hi - hx;\n\t\t\thy = c - yhi;\n\t\t\tC = this._hi * yhi;\n\t\t\thy = c - hy;\n\t\t\tty = yhi - hy;\n\t\t\tc = hx * hy - C + hx * ty + tx * hy + tx * ty + (this._hi * ylo + this._lo * yhi);\n\t\t\tvar zhi = C + c;\n\t\t\thx = C - zhi;\n\t\t\tvar zlo = c + hx;\n\t\t\tthis._hi = zhi;\n\t\t\tthis._lo = zlo;\n\t\t\treturn this;\n\t\t}\n\t},\n\tselfSqr: function selfSqr() {\n\t\treturn this.selfMultiply(this);\n\t},\n\tfloor: function floor() {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tvar fhi = Math.floor(this._hi);\n\t\tvar flo = 0.0;\n\t\tif (fhi === this._hi) {\n\t\t\tflo = Math.floor(this._lo);\n\t\t}\n\t\treturn new DD(fhi, flo);\n\t},\n\tnegate: function negate() {\n\t\tif (this.isNaN()) return this;\n\t\treturn new DD(-this._hi, -this._lo);\n\t},\n\tclone: function clone() {\n\t\ttry {\n\t\t\treturn null;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof CloneNotSupportedException) {\n\t\t\t\treturn null;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t},\n\tmultiply: function multiply() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tvar y = arguments[0];\n\t\t\tif (y.isNaN()) return DD.createNaN();\n\t\t\treturn DD.copy(this).selfMultiply(y);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tvar _y7 = arguments[0];\n\t\t\tif (Double.isNaN(_y7)) return DD.createNaN();\n\t\t\treturn DD.copy(this).selfMultiply(_y7, 0.0);\n\t\t}\n\t},\n\tisNaN: function isNaN() {\n\t\treturn Double.isNaN(this._hi);\n\t},\n\tintValue: function intValue() {\n\t\treturn Math.trunc(this._hi);\n\t},\n\ttoString: function toString() {\n\t\tvar mag = DD.magnitude(this._hi);\n\t\tif (mag >= -3 && mag <= 20) return this.toStandardNotation();\n\t\treturn this.toSciNotation();\n\t},\n\ttoStandardNotation: function toStandardNotation() {\n\t\tvar specialStr = this.getSpecialNumberString();\n\t\tif (specialStr !== null) return specialStr;\n\t\tvar magnitude = new Array(1).fill(null);\n\t\tvar sigDigits = this.extractSignificantDigits(true, magnitude);\n\t\tvar decimalPointPos = magnitude[0] + 1;\n\t\tvar num = sigDigits;\n\t\tif (sigDigits.charAt(0) === '.') {\n\t\t\tnum = \"0\" + sigDigits;\n\t\t} else if (decimalPointPos < 0) {\n\t\t\tnum = \"0.\" + DD.stringOfChar('0', -decimalPointPos) + sigDigits;\n\t\t} else if (sigDigits.indexOf('.') === -1) {\n\t\t\tvar numZeroes = decimalPointPos - sigDigits.length;\n\t\t\tvar zeroes = DD.stringOfChar('0', numZeroes);\n\t\t\tnum = sigDigits + zeroes + \".0\";\n\t\t}\n\t\tif (this.isNegative()) return \"-\" + num;\n\t\treturn num;\n\t},\n\treciprocal: function reciprocal() {\n\t\tvar hc = null,\n\t\t    tc = null,\n\t\t    hy = null,\n\t\t    ty = null,\n\t\t    C = null,\n\t\t    c = null,\n\t\t    U = null,\n\t\t    u = null;\n\t\tC = 1.0 / this._hi;\n\t\tc = DD.SPLIT * C;\n\t\thc = c - C;\n\t\tu = DD.SPLIT * this._hi;\n\t\thc = c - hc;\n\t\ttc = C - hc;\n\t\thy = u - this._hi;\n\t\tU = C * this._hi;\n\t\thy = u - hy;\n\t\tty = this._hi - hy;\n\t\tu = hc * hy - U + hc * ty + tc * hy + tc * ty;\n\t\tc = (1.0 - U - u - C * this._lo) / this._hi;\n\t\tvar zhi = C + c;\n\t\tvar zlo = C - zhi + c;\n\t\treturn new DD(zhi, zlo);\n\t},\n\ttoSciNotation: function toSciNotation() {\n\t\tif (this.isZero()) return DD.SCI_NOT_ZERO;\n\t\tvar specialStr = this.getSpecialNumberString();\n\t\tif (specialStr !== null) return specialStr;\n\t\tvar magnitude = new Array(1).fill(null);\n\t\tvar digits = this.extractSignificantDigits(false, magnitude);\n\t\tvar expStr = DD.SCI_NOT_EXPONENT_CHAR + magnitude[0];\n\t\tif (digits.charAt(0) === '0') {\n\t\t\tthrow new IllegalStateException(\"Found leading zero: \" + digits);\n\t\t}\n\t\tvar trailingDigits = \"\";\n\t\tif (digits.length > 1) trailingDigits = digits.substring(1);\n\t\tvar digitsWithDecimal = digits.charAt(0) + \".\" + trailingDigits;\n\t\tif (this.isNegative()) return \"-\" + digitsWithDecimal + expStr;\n\t\treturn digitsWithDecimal + expStr;\n\t},\n\tabs: function abs() {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tif (this.isNegative()) return this.negate();\n\t\treturn new DD(this);\n\t},\n\tisPositive: function isPositive() {\n\t\treturn this._hi > 0.0 || this._hi === 0.0 && this._lo > 0.0;\n\t},\n\tlt: function lt(y) {\n\t\treturn this._hi < y._hi || this._hi === y._hi && this._lo < y._lo;\n\t},\n\tadd: function add() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tvar y = arguments[0];\n\t\t\treturn DD.copy(this).selfAdd(y);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tvar _y8 = arguments[0];\n\t\t\treturn DD.copy(this).selfAdd(_y8);\n\t\t}\n\t},\n\tinit: function init() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (typeof arguments[0] === \"number\") {\n\t\t\t\tvar x = arguments[0];\n\t\t\t\tthis._hi = x;\n\t\t\t\tthis._lo = 0.0;\n\t\t\t} else if (arguments[0] instanceof DD) {\n\t\t\t\tvar dd = arguments[0];\n\t\t\t\tthis._hi = dd._hi;\n\t\t\t\tthis._lo = dd._lo;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar hi = arguments[0],\n\t\t\t    lo = arguments[1];\n\t\t\tthis._hi = hi;\n\t\t\tthis._lo = lo;\n\t\t}\n\t},\n\tgt: function gt(y) {\n\t\treturn this._hi > y._hi || this._hi === y._hi && this._lo > y._lo;\n\t},\n\tisNegative: function isNegative() {\n\t\treturn this._hi < 0.0 || this._hi === 0.0 && this._lo < 0.0;\n\t},\n\ttrunc: function trunc() {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tif (this.isPositive()) return this.floor();else return this.ceil();\n\t},\n\tsignum: function signum() {\n\t\tif (this._hi > 0) return 1;\n\t\tif (this._hi < 0) return -1;\n\t\tif (this._lo > 0) return 1;\n\t\tif (this._lo < 0) return -1;\n\t\treturn 0;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Serializable, Comparable, Clonable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DD;\n\t}\n});\nDD.sqr = function (x) {\n\treturn DD.valueOf(x).selfMultiply(x);\n};\nDD.valueOf = function () {\n\tif (typeof arguments[0] === \"string\") {\n\t\tvar str = arguments[0];\n\t\treturn DD.parse(str);\n\t} else if (typeof arguments[0] === \"number\") {\n\t\tvar x = arguments[0];\n\t\treturn new DD(x);\n\t}\n};\nDD.sqrt = function (x) {\n\treturn DD.valueOf(x).sqrt();\n};\nDD.parse = function (str) {\n\tvar i = 0;\n\tvar strlen = str.length;\n\twhile (Character.isWhitespace(str.charAt(i))) {\n\t\ti++;\n\t}var isNegative = false;\n\tif (i < strlen) {\n\t\tvar signCh = str.charAt(i);\n\t\tif (signCh === '-' || signCh === '+') {\n\t\t\ti++;\n\t\t\tif (signCh === '-') isNegative = true;\n\t\t}\n\t}\n\tvar val = new DD();\n\tvar numDigits = 0;\n\tvar numBeforeDec = 0;\n\tvar exp = 0;\n\twhile (true) {\n\t\tif (i >= strlen) break;\n\t\tvar ch = str.charAt(i);\n\t\ti++;\n\t\tif (Character.isDigit(ch)) {\n\t\t\tvar d = ch - '0';\n\t\t\tval.selfMultiply(DD.TEN);\n\t\t\tval.selfAdd(d);\n\t\t\tnumDigits++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (ch === '.') {\n\t\t\tnumBeforeDec = numDigits;\n\t\t\tcontinue;\n\t\t}\n\t\tif (ch === 'e' || ch === 'E') {\n\t\t\tvar expStr = str.substring(i);\n\t\t\ttry {\n\t\t\t\texp = Integer.parseInt(expStr);\n\t\t\t} catch (ex) {\n\t\t\t\tif (ex instanceof NumberFormatException) {\n\t\t\t\t\tthrow new NumberFormatException(\"Invalid exponent \" + expStr + \" in string \" + str);\n\t\t\t\t} else throw ex;\n\t\t\t} finally {}\n\t\t\tbreak;\n\t\t}\n\t\tthrow new NumberFormatException(\"Unexpected character '\" + ch + \"' at position \" + i + \" in string \" + str);\n\t}\n\tvar val2 = val;\n\tvar numDecPlaces = numDigits - numBeforeDec - exp;\n\tif (numDecPlaces === 0) {\n\t\tval2 = val;\n\t} else if (numDecPlaces > 0) {\n\t\tvar scale = DD.TEN.pow(numDecPlaces);\n\t\tval2 = val.divide(scale);\n\t} else if (numDecPlaces < 0) {\n\t\tvar scale = DD.TEN.pow(-numDecPlaces);\n\t\tval2 = val.multiply(scale);\n\t}\n\tif (isNegative) {\n\t\treturn val2.negate();\n\t}\n\treturn val2;\n};\nDD.createNaN = function () {\n\treturn new DD(Double.NaN, Double.NaN);\n};\nDD.copy = function (dd) {\n\treturn new DD(dd);\n};\nDD.magnitude = function (x) {\n\tvar xAbs = Math.abs(x);\n\tvar xLog10 = Math.log(xAbs) / Math.log(10);\n\tvar xMag = Math.trunc(Math.floor(xLog10));\n\tvar xApprox = Math.pow(10, xMag);\n\tif (xApprox * 10 <= xAbs) xMag += 1;\n\treturn xMag;\n};\nDD.stringOfChar = function (ch, len) {\n\tvar buf = new StringBuffer();\n\tfor (var i = 0; i < len; i++) {\n\t\tbuf.append(ch);\n\t}\n\treturn buf.toString();\n};\nDD.PI = new DD(3.141592653589793116e+00, 1.224646799147353207e-16);\nDD.TWO_PI = new DD(6.283185307179586232e+00, 2.449293598294706414e-16);\nDD.PI_2 = new DD(1.570796326794896558e+00, 6.123233995736766036e-17);\nDD.E = new DD(2.718281828459045091e+00, 1.445646891729250158e-16);\nDD.NaN = new DD(Double.NaN, Double.NaN);\nDD.EPS = 1.23259516440783e-32;\nDD.SPLIT = 134217729.0;\nDD.MAX_PRINT_DIGITS = 32;\nDD.TEN = DD.valueOf(10.0);\nDD.ONE = DD.valueOf(1.0);\nDD.SCI_NOT_EXPONENT_CHAR = \"E\";\nDD.SCI_NOT_ZERO = \"0.0E0\";\n\nfunction CGAlgorithmsDD() {}\nextend(CGAlgorithmsDD.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CGAlgorithmsDD;\n\t}\n});\nCGAlgorithmsDD.orientationIndex = function (p1, p2, q) {\n\tvar index = CGAlgorithmsDD.orientationIndexFilter(p1, p2, q);\n\tif (index <= 1) return index;\n\tvar dx1 = DD.valueOf(p2.x).selfAdd(-p1.x);\n\tvar dy1 = DD.valueOf(p2.y).selfAdd(-p1.y);\n\tvar dx2 = DD.valueOf(q.x).selfAdd(-p2.x);\n\tvar dy2 = DD.valueOf(q.y).selfAdd(-p2.y);\n\treturn dx1.selfMultiply(dy2).selfSubtract(dy1.selfMultiply(dx2)).signum();\n};\nCGAlgorithmsDD.signOfDet2x2 = function () {\n\tif (arguments[0] instanceof DD) {\n\t\tvar _x = arguments[0],\n\t\t    _y = arguments[1],\n\t\t    _x2 = arguments[2],\n\t\t    _y2 = arguments[3];\n\t\tvar det = _x.multiply(_y2).selfSubtract(_y.multiply(_x2));\n\t\treturn det.signum();\n\t} else if (typeof arguments[0] === \"number\") {\n\t\tvar dx1 = arguments[0],\n\t\t    dy1 = arguments[1],\n\t\t    dx2 = arguments[2],\n\t\t    dy2 = arguments[3];\n\t\tvar x1 = DD.valueOf(dx1);\n\t\tvar y1 = DD.valueOf(dy1);\n\t\tvar x2 = DD.valueOf(dx2);\n\t\tvar y2 = DD.valueOf(dy2);\n\t\tvar det = x1.multiply(y2).selfSubtract(y1.multiply(x2));\n\t\treturn det.signum();\n\t}\n};\nCGAlgorithmsDD.intersection = function (p1, p2, q1, q2) {\n\tvar denom1 = DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(DD.valueOf(p2.x).selfSubtract(p1.x));\n\tvar denom2 = DD.valueOf(q2.x).selfSubtract(q1.x).selfMultiply(DD.valueOf(p2.y).selfSubtract(p1.y));\n\tvar denom = denom1.subtract(denom2);\n\tvar numx1 = DD.valueOf(q2.x).selfSubtract(q1.x).selfMultiply(DD.valueOf(p1.y).selfSubtract(q1.y));\n\tvar numx2 = DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(DD.valueOf(p1.x).selfSubtract(q1.x));\n\tvar numx = numx1.subtract(numx2);\n\tvar fracP = numx.selfDivide(denom).doubleValue();\n\tvar x = DD.valueOf(p1.x).selfAdd(DD.valueOf(p2.x).selfSubtract(p1.x).selfMultiply(fracP)).doubleValue();\n\tvar numy1 = DD.valueOf(p2.x).selfSubtract(p1.x).selfMultiply(DD.valueOf(p1.y).selfSubtract(q1.y));\n\tvar numy2 = DD.valueOf(p2.y).selfSubtract(p1.y).selfMultiply(DD.valueOf(p1.x).selfSubtract(q1.x));\n\tvar numy = numy1.subtract(numy2);\n\tvar fracQ = numy.selfDivide(denom).doubleValue();\n\tvar y = DD.valueOf(q1.y).selfAdd(DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(fracQ)).doubleValue();\n\treturn new Coordinate(x, y);\n};\nCGAlgorithmsDD.orientationIndexFilter = function (pa, pb, pc) {\n\tvar detsum = null;\n\tvar detleft = (pa.x - pc.x) * (pb.y - pc.y);\n\tvar detright = (pa.y - pc.y) * (pb.x - pc.x);\n\tvar det = detleft - detright;\n\tif (detleft > 0.0) {\n\t\tif (detright <= 0.0) {\n\t\t\treturn CGAlgorithmsDD.signum(det);\n\t\t} else {\n\t\t\tdetsum = detleft + detright;\n\t\t}\n\t} else if (detleft < 0.0) {\n\t\tif (detright >= 0.0) {\n\t\t\treturn CGAlgorithmsDD.signum(det);\n\t\t} else {\n\t\t\tdetsum = -detleft - detright;\n\t\t}\n\t} else {\n\t\treturn CGAlgorithmsDD.signum(det);\n\t}\n\tvar errbound = CGAlgorithmsDD.DP_SAFE_EPSILON * detsum;\n\tif (det >= errbound || -det >= errbound) {\n\t\treturn CGAlgorithmsDD.signum(det);\n\t}\n\treturn 2;\n};\nCGAlgorithmsDD.signum = function (x) {\n\tif (x > 0) return 1;\n\tif (x < 0) return -1;\n\treturn 0;\n};\nCGAlgorithmsDD.DP_SAFE_EPSILON = 1e-15;\n\nfunction Orientation() {}\nextend(Orientation.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Orientation;\n\t}\n});\nOrientation.index = function (p1, p2, q) {\n\treturn CGAlgorithmsDD.orientationIndex(p1, p2, q);\n};\nOrientation.isCCW = function (ring) {\n\tvar nPts = ring.length - 1;\n\tif (nPts < 3) throw new IllegalArgumentException(\"Ring has fewer than 4 points, so orientation cannot be determined\");\n\tvar hiPt = ring[0];\n\tvar hiIndex = 0;\n\tfor (var i = 1; i <= nPts; i++) {\n\t\tvar p = ring[i];\n\t\tif (p.y > hiPt.y) {\n\t\t\thiPt = p;\n\t\t\thiIndex = i;\n\t\t}\n\t}\n\tvar iPrev = hiIndex;\n\tdo {\n\t\tiPrev = iPrev - 1;\n\t\tif (iPrev < 0) iPrev = nPts;\n\t} while (ring[iPrev].equals2D(hiPt) && iPrev !== hiIndex);\n\tvar iNext = hiIndex;\n\tdo {\n\t\tiNext = (iNext + 1) % nPts;\n\t} while (ring[iNext].equals2D(hiPt) && iNext !== hiIndex);\n\tvar prev = ring[iPrev];\n\tvar next = ring[iNext];\n\tif (prev.equals2D(hiPt) || next.equals2D(hiPt) || prev.equals2D(next)) return false;\n\tvar disc = Orientation.index(prev, hiPt, next);\n\tvar isCCW = null;\n\tif (disc === 0) {\n\t\tisCCW = prev.x > next.x;\n\t} else {\n\t\tisCCW = disc > 0;\n\t}\n\treturn isCCW;\n};\nOrientation.CLOCKWISE = -1;\nOrientation.RIGHT = Orientation.CLOCKWISE;\nOrientation.COUNTERCLOCKWISE = 1;\nOrientation.LEFT = Orientation.COUNTERCLOCKWISE;\nOrientation.COLLINEAR = 0;\nOrientation.STRAIGHT = Orientation.COLLINEAR;\n\nfunction System() {}\n\nSystem.arraycopy = function (src, srcPos, dest, destPos, len) {\n  var c = 0;\n  for (var i = srcPos; i < srcPos + len; i++) {\n    dest[destPos + c] = src[i];\n    c++;\n  }\n};\n\nSystem.getProperty = function (name) {\n  return {\n    'line.separator': '\\n'\n  }[name];\n};\n\nfunction HCoordinate() {\n\tthis.x = null;\n\tthis.y = null;\n\tthis.w = null;\n\tif (arguments.length === 0) {\n\t\tthis.x = 0.0;\n\t\tthis.y = 0.0;\n\t\tthis.w = 1.0;\n\t} else if (arguments.length === 1) {\n\t\tvar p = arguments[0];\n\t\tthis.x = p.x;\n\t\tthis.y = p.y;\n\t\tthis.w = 1.0;\n\t} else if (arguments.length === 2) {\n\t\tif (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\t\tvar _x = arguments[0],\n\t\t\t    _y = arguments[1];\n\t\t\tthis.x = _x;\n\t\t\tthis.y = _y;\n\t\t\tthis.w = 1.0;\n\t\t} else if (arguments[0] instanceof HCoordinate && arguments[1] instanceof HCoordinate) {\n\t\t\tvar p1 = arguments[0],\n\t\t\t    p2 = arguments[1];\n\t\t\tthis.x = p1.y * p2.w - p2.y * p1.w;\n\t\t\tthis.y = p2.x * p1.w - p1.x * p2.w;\n\t\t\tthis.w = p1.x * p2.y - p2.x * p1.y;\n\t\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\t\tvar _p = arguments[0],\n\t\t\t    _p2 = arguments[1];\n\t\t\tthis.x = _p.y - _p2.y;\n\t\t\tthis.y = _p2.x - _p.x;\n\t\t\tthis.w = _p.x * _p2.y - _p2.x * _p.y;\n\t\t}\n\t} else if (arguments.length === 3) {\n\t\tvar _x2 = arguments[0],\n\t\t    _y2 = arguments[1],\n\t\t    _w = arguments[2];\n\t\tthis.x = _x2;\n\t\tthis.y = _y2;\n\t\tthis.w = _w;\n\t} else if (arguments.length === 4) {\n\t\tvar _p3 = arguments[0],\n\t\t    _p4 = arguments[1],\n\t\t    q1 = arguments[2],\n\t\t    q2 = arguments[3];\n\t\tvar px = _p3.y - _p4.y;\n\t\tvar py = _p4.x - _p3.x;\n\t\tvar pw = _p3.x * _p4.y - _p4.x * _p3.y;\n\t\tvar qx = q1.y - q2.y;\n\t\tvar qy = q2.x - q1.x;\n\t\tvar qw = q1.x * q2.y - q2.x * q1.y;\n\t\tthis.x = py * qw - qy * pw;\n\t\tthis.y = qx * pw - px * qw;\n\t\tthis.w = px * qy - qx * py;\n\t}\n}\nextend(HCoordinate.prototype, {\n\tgetY: function getY() {\n\t\tvar a = this.y / this.w;\n\t\tif (Double.isNaN(a) || Double.isInfinite(a)) {\n\t\t\tthrow new NotRepresentableException();\n\t\t}\n\t\treturn a;\n\t},\n\tgetX: function getX() {\n\t\tvar a = this.x / this.w;\n\t\tif (Double.isNaN(a) || Double.isInfinite(a)) {\n\t\t\tthrow new NotRepresentableException();\n\t\t}\n\t\treturn a;\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\tvar p = new Coordinate();\n\t\tp.x = this.getX();\n\t\tp.y = this.getY();\n\t\treturn p;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn HCoordinate;\n\t}\n});\nHCoordinate.intersection = function (p1, p2, q1, q2) {\n\tvar px = p1.y - p2.y;\n\tvar py = p2.x - p1.x;\n\tvar pw = p1.x * p2.y - p2.x * p1.y;\n\tvar qx = q1.y - q2.y;\n\tvar qy = q2.x - q1.x;\n\tvar qw = q1.x * q2.y - q2.x * q1.y;\n\tvar x = py * qw - qy * pw;\n\tvar y = qx * pw - px * qw;\n\tvar w = px * qy - qx * py;\n\tvar xInt = x / w;\n\tvar yInt = y / w;\n\tif (Double.isNaN(xInt) || Double.isInfinite(xInt) || Double.isNaN(yInt) || Double.isInfinite(yInt)) {\n\t\tthrow new NotRepresentableException();\n\t}\n\treturn new Coordinate(xInt, yInt);\n};\n\nfunction MathUtil() {}\nextend(MathUtil.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MathUtil;\n\t}\n});\nMathUtil.log10 = function (x) {\n\tvar ln = Math.log(x);\n\tif (Double.isInfinite(ln)) return ln;\n\tif (Double.isNaN(ln)) return ln;\n\treturn ln / MathUtil.LOG_10;\n};\nMathUtil.min = function (v1, v2, v3, v4) {\n\tvar min = v1;\n\tif (v2 < min) min = v2;\n\tif (v3 < min) min = v3;\n\tif (v4 < min) min = v4;\n\treturn min;\n};\nMathUtil.clamp = function () {\n\tif (typeof arguments[2] === \"number\" && typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\tvar x = arguments[0],\n\t\t    min = arguments[1],\n\t\t    max = arguments[2];\n\t\tif (x < min) return min;\n\t\tif (x > max) return max;\n\t\treturn x;\n\t} else if (Number.isInteger(arguments[2]) && Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {\n\t\tvar _x = arguments[0],\n\t\t    _min = arguments[1],\n\t\t    _max = arguments[2];\n\t\tif (_x < _min) return _min;\n\t\tif (_x > _max) return _max;\n\t\treturn _x;\n\t}\n};\nMathUtil.wrap = function (index, max) {\n\tif (index < 0) {\n\t\treturn max - -index % max;\n\t}\n\treturn index % max;\n};\nMathUtil.max = function () {\n\tif (arguments.length === 3) {\n\t\tvar v1 = arguments[0],\n\t\t    v2 = arguments[1],\n\t\t    v3 = arguments[2];\n\t\tvar max = v1;\n\t\tif (v2 > max) max = v2;\n\t\tif (v3 > max) max = v3;\n\t\treturn max;\n\t} else if (arguments.length === 4) {\n\t\tvar _v = arguments[0],\n\t\t    _v2 = arguments[1],\n\t\t    _v3 = arguments[2],\n\t\t    v4 = arguments[3];\n\t\tvar max = _v;\n\t\tif (_v2 > max) max = _v2;\n\t\tif (_v3 > max) max = _v3;\n\t\tif (v4 > max) max = v4;\n\t\treturn max;\n\t}\n};\nMathUtil.average = function (x1, x2) {\n\treturn (x1 + x2) / 2.0;\n};\nMathUtil.LOG_10 = Math.log(10);\n\nfunction Distance() {}\nextend(Distance.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Distance;\n\t}\n});\nDistance.segmentToSegment = function (A, B, C, D) {\n\tif (A.equals(B)) return Distance.pointToSegment(A, C, D);\n\tif (C.equals(D)) return Distance.pointToSegment(D, A, B);\n\tvar noIntersection = false;\n\tif (!Envelope.intersects(A, B, C, D)) {\n\t\tnoIntersection = true;\n\t} else {\n\t\tvar denom = (B.x - A.x) * (D.y - C.y) - (B.y - A.y) * (D.x - C.x);\n\t\tif (denom === 0) {\n\t\t\tnoIntersection = true;\n\t\t} else {\n\t\t\tvar r_num = (A.y - C.y) * (D.x - C.x) - (A.x - C.x) * (D.y - C.y);\n\t\t\tvar s_num = (A.y - C.y) * (B.x - A.x) - (A.x - C.x) * (B.y - A.y);\n\t\t\tvar s = s_num / denom;\n\t\t\tvar r = r_num / denom;\n\t\t\tif (r < 0 || r > 1 || s < 0 || s > 1) {\n\t\t\t\tnoIntersection = true;\n\t\t\t}\n\t\t}\n\t}\n\tif (noIntersection) {\n\t\treturn MathUtil.min(Distance.pointToSegment(A, C, D), Distance.pointToSegment(B, C, D), Distance.pointToSegment(C, A, B), Distance.pointToSegment(D, A, B));\n\t}\n\treturn 0.0;\n};\nDistance.pointToSegment = function (p, A, B) {\n\tif (A.x === B.x && A.y === B.y) return p.distance(A);\n\tvar len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n\tvar r = ((p.x - A.x) * (B.x - A.x) + (p.y - A.y) * (B.y - A.y)) / len2;\n\tif (r <= 0.0) return p.distance(A);\n\tif (r >= 1.0) return p.distance(B);\n\tvar s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n\treturn Math.abs(s) * Math.sqrt(len2);\n};\nDistance.pointToLinePerpendicular = function (p, A, B) {\n\tvar len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n\tvar s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n\treturn Math.abs(s) * Math.sqrt(len2);\n};\nDistance.pointToSegmentString = function (p, line) {\n\tif (line.length === 0) throw new IllegalArgumentException(\"Line array must contain at least one vertex\");\n\tvar minDistance = p.distance(line[0]);\n\tfor (var i = 0; i < line.length - 1; i++) {\n\t\tvar dist = Distance.pointToSegment(p, line[i], line[i + 1]);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t}\n\t}\n\treturn minDistance;\n};\n\nfunction CoordinateSequence() {}\nextend(CoordinateSequence.prototype, {\n\tsetOrdinate: function setOrdinate(index, ordinateIndex, value) {},\n\tsize: function size() {},\n\tgetOrdinate: function getOrdinate(index, ordinateIndex) {},\n\tgetCoordinate: function getCoordinate() {\n\t\t\n\t},\n\tgetCoordinateCopy: function getCoordinateCopy(i) {},\n\tgetDimension: function getDimension() {},\n\tgetX: function getX(index) {},\n\texpandEnvelope: function expandEnvelope(env) {},\n\tcopy: function copy() {},\n\tgetY: function getY(index) {},\n\ttoCoordinateArray: function toCoordinateArray() {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Clonable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateSequence;\n\t}\n});\nCoordinateSequence.X = 0;\nCoordinateSequence.Y = 1;\nCoordinateSequence.Z = 2;\nCoordinateSequence.M = 3;\n\nfunction CoordinateSequenceFactory() {}\nextend(CoordinateSequenceFactory.prototype, {\n\tcreate: function create() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\t\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\t\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\t\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateSequenceFactory;\n\t}\n});\n\nfunction GeometryComponentFilter() {}\nextend(GeometryComponentFilter.prototype, {\n\tfilter: function filter(geom) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryComponentFilter;\n\t}\n});\n\nfunction Geometry() {\n\tthis._envelope = null;\n\tthis._factory = null;\n\tthis._SRID = null;\n\tthis._userData = null;\n\tvar factory = arguments[0];\n\tthis._factory = factory;\n\tthis._SRID = factory.getSRID();\n}\nextend(Geometry.prototype, {\n\tisGeometryCollection: function isGeometryCollection() {\n\t\treturn this.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION;\n\t},\n\tgetFactory: function getFactory() {\n\t\treturn this._factory;\n\t},\n\tgetGeometryN: function getGeometryN(n) {\n\t\treturn this;\n\t},\n\tgetArea: function getArea() {\n\t\treturn 0.0;\n\t},\n\tisRectangle: function isRectangle() {\n\t\treturn false;\n\t},\n\tequals: function equals() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tvar _g = arguments[0];\n\t\t\tif (_g === null) return false;\n\t\t\treturn this.equalsTopo(_g);\n\t\t} else if (arguments[0] instanceof Object) {\n\t\t\tvar o = arguments[0];\n\t\t\tif (!(o instanceof Geometry)) return false;\n\t\t\tvar g = o;\n\t\t\treturn this.equalsExact(g);\n\t\t}\n\t},\n\tequalsExact: function equalsExact(other) {\n\t\treturn this === other || this.equalsExact(other, 0);\n\t},\n\tgeometryChanged: function geometryChanged() {\n\t\tthis.apply(Geometry.geometryChangedFilter);\n\t},\n\tgeometryChangedAction: function geometryChangedAction() {\n\t\tthis._envelope = null;\n\t},\n\tequalsNorm: function equalsNorm(g) {\n\t\tif (g === null) return false;\n\t\treturn this.norm().equalsExact(g.norm());\n\t},\n\tgetLength: function getLength() {\n\t\treturn 0.0;\n\t},\n\tgetNumGeometries: function getNumGeometries() {\n\t\treturn 1;\n\t},\n\tcompareTo: function compareTo() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar o = arguments[0];\n\t\t\tvar other = o;\n\t\t\tif (this.getTypeCode() !== other.getTypeCode()) {\n\t\t\t\treturn this.getTypeCode() - other.getTypeCode();\n\t\t\t}\n\t\t\tif (this.isEmpty() && other.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (other.isEmpty()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn this.compareToSameClass(o);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _o = arguments[0],\n\t\t\t    comp = arguments[1];\n\t\t\tvar other = _o;\n\t\t\tif (this.getTypeCode() !== other.getTypeCode()) {\n\t\t\t\treturn this.getTypeCode() - other.getTypeCode();\n\t\t\t}\n\t\t\tif (this.isEmpty() && other.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (other.isEmpty()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn this.compareToSameClass(_o, comp);\n\t\t}\n\t},\n\tgetUserData: function getUserData() {\n\t\treturn this._userData;\n\t},\n\tgetSRID: function getSRID() {\n\t\treturn this._SRID;\n\t},\n\tgetEnvelope: function getEnvelope() {\n\t\treturn this.getFactory().toGeometry(this.getEnvelopeInternal());\n\t},\n\tcheckNotGeometryCollection: function checkNotGeometryCollection(g) {\n\t\tif (g.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION) {\n\t\t\tthrow new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\t\t}\n\t},\n\tequal: function equal(a, b, tolerance) {\n\t\tif (tolerance === 0) {\n\t\t\treturn a.equals(b);\n\t\t}\n\t\treturn a.distance(b) <= tolerance;\n\t},\n\tnorm: function norm() {\n\t\tvar copy = this.copy();\n\t\tcopy.normalize();\n\t\treturn copy;\n\t},\n\tgetPrecisionModel: function getPrecisionModel() {\n\t\treturn this._factory.getPrecisionModel();\n\t},\n\tgetEnvelopeInternal: function getEnvelopeInternal() {\n\t\tif (this._envelope === null) {\n\t\t\tthis._envelope = this.computeEnvelopeInternal();\n\t\t}\n\t\treturn new Envelope(this._envelope);\n\t},\n\tsetSRID: function setSRID(SRID) {\n\t\tthis._SRID = SRID;\n\t},\n\tsetUserData: function setUserData(userData) {\n\t\tthis._userData = userData;\n\t},\n\tcompare: function compare(a, b) {\n\t\tvar i = a.iterator();\n\t\tvar j = b.iterator();\n\t\twhile (i.hasNext() && j.hasNext()) {\n\t\t\tvar aElement = i.next();\n\t\t\tvar bElement = j.next();\n\t\t\tvar comparison = aElement.compareTo(bElement);\n\t\t\tif (comparison !== 0) {\n\t\t\t\treturn comparison;\n\t\t\t}\n\t\t}\n\t\tif (i.hasNext()) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (j.hasNext()) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 0;\n\t},\n\thashCode: function hashCode() {\n\t\treturn this.getEnvelopeInternal().hashCode();\n\t},\n\tisGeometryCollectionOrDerived: function isGeometryCollectionOrDerived() {\n\t\tif (this.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION || this.getTypeCode() === Geometry.TYPECODE_MULTIPOINT || this.getTypeCode() === Geometry.TYPECODE_MULTILINESTRING || this.getTypeCode() === Geometry.TYPECODE_MULTIPOLYGON) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Clonable, Comparable, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Geometry;\n\t}\n});\nGeometry.hasNonEmptyElements = function (geometries) {\n\tfor (var i = 0; i < geometries.length; i++) {\n\t\tif (!geometries[i].isEmpty()) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\nGeometry.hasNullElements = function (array) {\n\tfor (var i = 0; i < array.length; i++) {\n\t\tif (array[i] === null) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\nGeometry.serialVersionUID = 8763622679187376702;\nGeometry.TYPECODE_POINT = 0;\nGeometry.TYPECODE_MULTIPOINT = 1;\nGeometry.TYPECODE_LINESTRING = 2;\nGeometry.TYPECODE_LINEARRING = 3;\nGeometry.TYPECODE_MULTILINESTRING = 4;\nGeometry.TYPECODE_POLYGON = 5;\nGeometry.TYPECODE_MULTIPOLYGON = 6;\nGeometry.TYPECODE_GEOMETRYCOLLECTION = 7;\nGeometry.TYPENAME_POINT = \"Point\";\nGeometry.TYPENAME_MULTIPOINT = \"MultiPoint\";\nGeometry.TYPENAME_LINESTRING = \"LineString\";\nGeometry.TYPENAME_LINEARRING = \"LinearRing\";\nGeometry.TYPENAME_MULTILINESTRING = \"MultiLineString\";\nGeometry.TYPENAME_POLYGON = \"Polygon\";\nGeometry.TYPENAME_MULTIPOLYGON = \"MultiPolygon\";\nGeometry.TYPENAME_GEOMETRYCOLLECTION = \"GeometryCollection\";\nGeometry.geometryChangedFilter = {\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryComponentFilter];\n\t},\n\tfilter: function filter(geom) {\n\t\tgeom.geometryChangedAction();\n\t}\n};\n\nfunction CoordinateFilter() {}\nextend(CoordinateFilter.prototype, {\n\tfilter: function filter(coord) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateFilter;\n\t}\n});\n\nfunction BoundaryNodeRule() {}\nextend(BoundaryNodeRule.prototype, {\n\tisInBoundary: function isInBoundary(boundaryCount) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BoundaryNodeRule;\n\t}\n});\nfunction Mod2BoundaryNodeRule() {}\nextend(Mod2BoundaryNodeRule.prototype, {\n\tisInBoundary: function isInBoundary(boundaryCount) {\n\t\treturn boundaryCount % 2 === 1;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [BoundaryNodeRule];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Mod2BoundaryNodeRule;\n\t}\n});\nfunction EndPointBoundaryNodeRule() {}\nextend(EndPointBoundaryNodeRule.prototype, {\n\tisInBoundary: function isInBoundary(boundaryCount) {\n\t\treturn boundaryCount > 0;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [BoundaryNodeRule];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EndPointBoundaryNodeRule;\n\t}\n});\nfunction MultiValentEndPointBoundaryNodeRule() {}\nextend(MultiValentEndPointBoundaryNodeRule.prototype, {\n\tisInBoundary: function isInBoundary(boundaryCount) {\n\t\treturn boundaryCount > 1;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [BoundaryNodeRule];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MultiValentEndPointBoundaryNodeRule;\n\t}\n});\nfunction MonoValentEndPointBoundaryNodeRule() {}\nextend(MonoValentEndPointBoundaryNodeRule.prototype, {\n\tisInBoundary: function isInBoundary(boundaryCount) {\n\t\treturn boundaryCount === 1;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [BoundaryNodeRule];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MonoValentEndPointBoundaryNodeRule;\n\t}\n});\nBoundaryNodeRule.Mod2BoundaryNodeRule = Mod2BoundaryNodeRule;\nBoundaryNodeRule.EndPointBoundaryNodeRule = EndPointBoundaryNodeRule;\nBoundaryNodeRule.MultiValentEndPointBoundaryNodeRule = MultiValentEndPointBoundaryNodeRule;\nBoundaryNodeRule.MonoValentEndPointBoundaryNodeRule = MonoValentEndPointBoundaryNodeRule;\nBoundaryNodeRule.MOD2_BOUNDARY_RULE = new Mod2BoundaryNodeRule();\nBoundaryNodeRule.ENDPOINT_BOUNDARY_RULE = new EndPointBoundaryNodeRule();\nBoundaryNodeRule.MULTIVALENT_ENDPOINT_BOUNDARY_RULE = new MultiValentEndPointBoundaryNodeRule();\nBoundaryNodeRule.MONOVALENT_ENDPOINT_BOUNDARY_RULE = new MonoValentEndPointBoundaryNodeRule();\nBoundaryNodeRule.OGC_SFS_BOUNDARY_RULE = BoundaryNodeRule.MOD2_BOUNDARY_RULE;\n\nfunction CoordinateArrays() {}\nextend(CoordinateArrays.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateArrays;\n\t}\n});\nCoordinateArrays.isRing = function (pts) {\n\tif (pts.length < 4) return false;\n\tif (!pts[0].equals2D(pts[pts.length - 1])) return false;\n\treturn true;\n};\nCoordinateArrays.ptNotInList = function (testPts, pts) {\n\tfor (var i = 0; i < testPts.length; i++) {\n\t\tvar testPt = testPts[i];\n\t\tif (CoordinateArrays.indexOf(testPt, pts) < 0) return testPt;\n\t}\n\treturn null;\n};\nCoordinateArrays.scroll = function (coordinates, firstCoordinate) {\n\tvar i = CoordinateArrays.indexOf(firstCoordinate, coordinates);\n\tif (i < 0) return null;\n\tvar newCoordinates = new Array(coordinates.length).fill(null);\n\tSystem.arraycopy(coordinates, i, newCoordinates, 0, coordinates.length - i);\n\tSystem.arraycopy(coordinates, 0, newCoordinates, coordinates.length - i, i);\n\tSystem.arraycopy(newCoordinates, 0, coordinates, 0, coordinates.length);\n};\nCoordinateArrays.equals = function () {\n\tif (arguments.length === 2) {\n\t\tvar coord1 = arguments[0],\n\t\t    coord2 = arguments[1];\n\t\tif (coord1 === coord2) return true;\n\t\tif (coord1 === null || coord2 === null) return false;\n\t\tif (coord1.length !== coord2.length) return false;\n\t\tfor (var i = 0; i < coord1.length; i++) {\n\t\t\tif (!coord1[i].equals(coord2[i])) return false;\n\t\t}\n\t\treturn true;\n\t} else if (arguments.length === 3) {\n\t\tvar _coord = arguments[0],\n\t\t    _coord2 = arguments[1],\n\t\t    coordinateComparator = arguments[2];\n\t\tif (_coord === _coord2) return true;\n\t\tif (_coord === null || _coord2 === null) return false;\n\t\tif (_coord.length !== _coord2.length) return false;\n\t\tfor (var i = 0; i < _coord.length; i++) {\n\t\t\tif (coordinateComparator.compare(_coord[i], _coord2[i]) !== 0) return false;\n\t\t}\n\t\treturn true;\n\t}\n};\nCoordinateArrays.intersection = function (coordinates, env) {\n\tvar coordList = new CoordinateList();\n\tfor (var i = 0; i < coordinates.length; i++) {\n\t\tif (env.intersects(coordinates[i])) coordList.add(coordinates[i], true);\n\t}\n\treturn coordList.toCoordinateArray();\n};\nCoordinateArrays.hasRepeatedPoints = function (coord) {\n\tfor (var i = 1; i < coord.length; i++) {\n\t\tif (coord[i - 1].equals(coord[i])) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\nCoordinateArrays.removeRepeatedPoints = function (coord) {\n\tif (!CoordinateArrays.hasRepeatedPoints(coord)) return coord;\n\tvar coordList = new CoordinateList(coord, false);\n\treturn coordList.toCoordinateArray();\n};\nCoordinateArrays.reverse = function (coord) {\n\tvar last = coord.length - 1;\n\tvar mid = Math.trunc(last / 2);\n\tfor (var i = 0; i <= mid; i++) {\n\t\tvar tmp = coord[i];\n\t\tcoord[i] = coord[last - i];\n\t\tcoord[last - i] = tmp;\n\t}\n};\nCoordinateArrays.removeNull = function (coord) {\n\tvar nonNull = 0;\n\tfor (var i = 0; i < coord.length; i++) {\n\t\tif (coord[i] !== null) nonNull++;\n\t}\n\tvar newCoord = new Array(nonNull).fill(null);\n\tif (nonNull === 0) return newCoord;\n\tvar j = 0;\n\tfor (var i = 0; i < coord.length; i++) {\n\t\tif (coord[i] !== null) newCoord[j++] = coord[i];\n\t}\n\treturn newCoord;\n};\nCoordinateArrays.copyDeep = function () {\n\tif (arguments.length === 1) {\n\t\tvar coordinates = arguments[0];\n\t\tvar copy = new Array(coordinates.length).fill(null);\n\t\tfor (var i = 0; i < coordinates.length; i++) {\n\t\t\tcopy[i] = new Coordinate(coordinates[i]);\n\t\t}\n\t\treturn copy;\n\t} else if (arguments.length === 5) {\n\t\tvar src = arguments[0],\n\t\t    srcStart = arguments[1],\n\t\t    dest = arguments[2],\n\t\t    destStart = arguments[3],\n\t\t    length = arguments[4];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tdest[destStart + i] = new Coordinate(src[srcStart + i]);\n\t\t}\n\t}\n};\nCoordinateArrays.isEqualReversed = function (pts1, pts2) {\n\tfor (var i = 0; i < pts1.length; i++) {\n\t\tvar p1 = pts1[i];\n\t\tvar p2 = pts2[pts1.length - i - 1];\n\t\tif (p1.compareTo(p2) !== 0) return false;\n\t}\n\treturn true;\n};\nCoordinateArrays.envelope = function (coordinates) {\n\tvar env = new Envelope();\n\tfor (var i = 0; i < coordinates.length; i++) {\n\t\tenv.expandToInclude(coordinates[i]);\n\t}\n\treturn env;\n};\nCoordinateArrays.toCoordinateArray = function (coordList) {\n\treturn coordList.toArray(CoordinateArrays.coordArrayType);\n};\nCoordinateArrays.atLeastNCoordinatesOrNothing = function (n, c) {\n\treturn c.length >= n ? c : [];\n};\nCoordinateArrays.indexOf = function (coordinate, coordinates) {\n\tfor (var i = 0; i < coordinates.length; i++) {\n\t\tif (coordinate.equals(coordinates[i])) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nCoordinateArrays.increasingDirection = function (pts) {\n\tfor (var i = 0; i < Math.trunc(pts.length / 2); i++) {\n\t\tvar j = pts.length - 1 - i;\n\t\tvar comp = pts[i].compareTo(pts[j]);\n\t\tif (comp !== 0) return comp;\n\t}\n\treturn 1;\n};\nCoordinateArrays.compare = function (pts1, pts2) {\n\tvar i = 0;\n\twhile (i < pts1.length && i < pts2.length) {\n\t\tvar compare = pts1[i].compareTo(pts2[i]);\n\t\tif (compare !== 0) return compare;\n\t\ti++;\n\t}\n\tif (i < pts2.length) return -1;\n\tif (i < pts1.length) return 1;\n\treturn 0;\n};\nCoordinateArrays.minCoordinate = function (coordinates) {\n\tvar minCoord = null;\n\tfor (var i = 0; i < coordinates.length; i++) {\n\t\tif (minCoord === null || minCoord.compareTo(coordinates[i]) > 0) {\n\t\t\tminCoord = coordinates[i];\n\t\t}\n\t}\n\treturn minCoord;\n};\nCoordinateArrays.extract = function (pts, start, end) {\n\tstart = MathUtil.clamp(start, 0, pts.length);\n\tend = MathUtil.clamp(end, -1, pts.length);\n\tvar npts = end - start + 1;\n\tif (end < 0) npts = 0;\n\tif (start >= pts.length) npts = 0;\n\tif (end < start) npts = 0;\n\tvar extractPts = new Array(npts).fill(null);\n\tif (npts === 0) return extractPts;\n\tvar iPts = 0;\n\tfor (var i = start; i <= end; i++) {\n\t\textractPts[iPts++] = pts[i];\n\t}\n\treturn extractPts;\n};\nfunction ForwardComparator() {}\nextend(ForwardComparator.prototype, {\n\tcompare: function compare(o1, o2) {\n\t\tvar pts1 = o1;\n\t\tvar pts2 = o2;\n\t\treturn CoordinateArrays.compare(pts1, pts2);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ForwardComparator;\n\t}\n});\nfunction BidirectionalComparator() {}\nextend(BidirectionalComparator.prototype, {\n\tcompare: function compare(o1, o2) {\n\t\tvar pts1 = o1;\n\t\tvar pts2 = o2;\n\t\tif (pts1.length < pts2.length) return -1;\n\t\tif (pts1.length > pts2.length) return 1;\n\t\tif (pts1.length === 0) return 0;\n\t\tvar forwardComp = CoordinateArrays.compare(pts1, pts2);\n\t\tvar isEqualRev = CoordinateArrays.isEqualReversed(pts1, pts2);\n\t\tif (isEqualRev) return 0;\n\t\treturn forwardComp;\n\t},\n\tOLDcompare: function OLDcompare(o1, o2) {\n\t\tvar pts1 = o1;\n\t\tvar pts2 = o2;\n\t\tif (pts1.length < pts2.length) return -1;\n\t\tif (pts1.length > pts2.length) return 1;\n\t\tif (pts1.length === 0) return 0;\n\t\tvar dir1 = CoordinateArrays.increasingDirection(pts1);\n\t\tvar dir2 = CoordinateArrays.increasingDirection(pts2);\n\t\tvar i1 = dir1 > 0 ? 0 : pts1.length - 1;\n\t\tvar i2 = dir2 > 0 ? 0 : pts1.length - 1;\n\t\tfor (var i = 0; i < pts1.length; i++) {\n\t\t\tvar comparePt = pts1[i1].compareTo(pts2[i2]);\n\t\t\tif (comparePt !== 0) return comparePt;\n\t\t\ti1 += dir1;\n\t\t\ti2 += dir2;\n\t\t}\n\t\treturn 0;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BidirectionalComparator;\n\t}\n});\nCoordinateArrays.ForwardComparator = ForwardComparator;\nCoordinateArrays.BidirectionalComparator = BidirectionalComparator;\nCoordinateArrays.coordArrayType = new Array(0).fill(null);\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Map.html\n *\n * @constructor\n * @private\n */\nfunction Map$1() {}\n\n/**\n * Returns the value to which the specified key is mapped, or null if this map\n * contains no mapping for the key.\n * @param {Object} key\n * @return {Object}\n */\nMap$1.prototype.get = function () {};\n\n/**\n * Associates the specified value with the specified key in this map (optional\n * operation).\n * @param {Object} key\n * @param {Object} value\n * @return {Object}\n */\nMap$1.prototype.put = function () {};\n\n/**\n * Returns the number of key-value mappings in this map.\n * @return {number}\n */\nMap$1.prototype.size = function () {};\n\n/**\n * Returns a Collection view of the values contained in this map.\n * @return {javascript.util.Collection}\n */\nMap$1.prototype.values = function () {};\n\n/**\n * Returns a {@link Set} view of the mappings contained in this map.\n * The set is backed by the map, so changes to the map are\n * reflected in the set, and vice-versa.  If the map is modified\n * while an iteration over the set is in progress (except through\n * the iterator's own <tt>remove</tt> operation, or through the\n * <tt>setValue</tt> operation on a map entry returned by the\n * iterator) the results of the iteration are undefined.  The set\n * supports element removal, which removes the corresponding\n * mapping from the map, via the <tt>Iterator.remove</tt>,\n * <tt>Set.remove</tt>, <tt>removeAll</tt>, <tt>retainAll</tt> and\n * <tt>clear</tt> operations.  It does not support the\n * <tt>add</tt> or <tt>addAll</tt> operations.\n *\n * @return {Set} a set view of the mappings contained in this map\n */\nMap$1.prototype.entrySet = function () {};\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/SortedMap.html\n *\n * @extends {Map}\n * @constructor\n * @private\n */\nfunction SortedMap() {}\nSortedMap.prototype = new Map$1();\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Set.html\n *\n * @extends {Collection}\n * @constructor\n * @private\n */\nfunction Set() {}\nSet.prototype = new Collection();\n\n/**\n * Returns true if this set contains the specified element. More formally,\n * returns true if and only if this set contains an element e such that (o==null ?\n * e==null : o.equals(e)).\n * @param {Object} e\n * @return {boolean}\n */\nSet.prototype.contains = function () {};\n\n/**\n * @see http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html\n *\n * @extends {javascript.util.Set}\n * @constructor\n * @private\n */\nfunction HashSet() {\n  /**\n   * @type {Array}\n   * @private\n  */\n  this.array_ = [];\n\n  if (arguments[0] instanceof Collection) {\n    this.addAll(arguments[0]);\n  }\n}\nHashSet.prototype = new Set();\n\n/**\n * @override\n */\nHashSet.prototype.contains = function (o) {\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this.array_[i];\n    if (e === o) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * @override\n */\nHashSet.prototype.add = function (o) {\n  if (this.contains(o)) {\n    return false;\n  }\n\n  this.array_.push(o);\n\n  return true;\n};\n\n/**\n * @override\n */\nHashSet.prototype.addAll = function (c) {\n  for (var i = c.iterator(); i.hasNext();) {\n    this.add(i.next());\n  }\n  return true;\n};\n\n/**\n * @override\n */\nHashSet.prototype.remove = function (o) {\n  throw new javascript.util.OperationNotSupported();\n};\n\n/**\n * @override\n */\nHashSet.prototype.size = function () {\n  return this.array_.length;\n};\n\n/**\n * @override\n */\nHashSet.prototype.isEmpty = function () {\n  return this.array_.length === 0;\n};\n\n/**\n * @override\n */\nHashSet.prototype.toArray = function () {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n\n/**\n * @override\n */\nHashSet.prototype.iterator = function () {\n  return new Iterator_$1(this);\n};\n\n/**\n * @extends {Iterator}\n * @param {HashSet} hashSet\n * @constructor\n * @private\n */\nvar Iterator_$1 = function Iterator_(hashSet) {\n  /**\n   * @type {HashSet}\n   * @private\n   */\n  this.hashSet_ = hashSet;\n  /**\n   * @type {number}\n   * @private\n   */\n  this.position_ = 0;\n};\n\n/**\n * @override\n */\nIterator_$1.prototype.next = function () {\n  if (this.position_ === this.hashSet_.size()) {\n    throw new NoSuchElementException();\n  }\n  return this.hashSet_.array_[this.position_++];\n};\n\n/**\n * @override\n */\nIterator_$1.prototype.hasNext = function () {\n  if (this.position_ < this.hashSet_.size()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n/**\n * @override\n */\nIterator_$1.prototype.remove = function () {\n  throw new OperationNotSupported();\n};\n\nvar BLACK = 0;\nvar RED = 1;\nfunction colorOf(p) {\n  return p == null ? BLACK : p.color;\n}\nfunction parentOf(p) {\n  return p == null ? null : p.parent;\n}\nfunction setColor(p, c) {\n  if (p !== null) p.color = c;\n}\nfunction leftOf(p) {\n  return p == null ? null : p.left;\n}\nfunction rightOf(p) {\n  return p == null ? null : p.right;\n}\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html\n *\n * @extends {SortedMap}\n * @constructor\n * @private\n */\nfunction TreeMap() {\n  /**\n   * @type {Object}\n   * @private\n   */\n  this.root_ = null;\n  /**\n   * @type {number}\n   * @private\n  */\n  this.size_ = 0;\n}\nTreeMap.prototype = new SortedMap();\n\n/**\n * @override\n */\nTreeMap.prototype.get = function (key) {\n  var p = this.root_;\n  while (p !== null) {\n    var cmp = key['compareTo'](p.key);\n    if (cmp < 0) {\n      p = p.left;\n    } else if (cmp > 0) {\n      p = p.right;\n    } else {\n      return p.value;\n    }\n  }\n  return null;\n};\n\n/**\n * @override\n */\nTreeMap.prototype.put = function (key, value) {\n  if (this.root_ === null) {\n    this.root_ = {\n      key: key,\n      value: value,\n      left: null,\n      right: null,\n      parent: null,\n      color: BLACK,\n      getValue: function getValue() {\n        return this.value;\n      },\n      getKey: function getKey() {\n        return this.key;\n      }\n    };\n    this.size_ = 1;\n    return null;\n  }\n  var t = this.root_,\n      parent,\n      cmp;\n  do {\n    parent = t;\n    cmp = key['compareTo'](t.key);\n    if (cmp < 0) {\n      t = t.left;\n    } else if (cmp > 0) {\n      t = t.right;\n    } else {\n      var oldValue = t.value;\n      t.value = value;\n      return oldValue;\n    }\n  } while (t !== null);\n  var e = {\n    key: key,\n    left: null,\n    right: null,\n    value: value,\n    parent: parent,\n    color: BLACK,\n    getValue: function getValue() {\n      return this.value;\n    },\n    getKey: function getKey() {\n      return this.key;\n    }\n  };\n  if (cmp < 0) {\n    parent.left = e;\n  } else {\n    parent.right = e;\n  }\n  this.fixAfterInsertion(e);\n  this.size_++;\n  return null;\n};\n\n/**\n * @param {Object} x\n */\nTreeMap.prototype.fixAfterInsertion = function (x) {\n  x.color = RED;\n  while (x != null && x != this.root_ && x.parent.color == RED) {\n    if (parentOf(x) == leftOf(parentOf(parentOf(x)))) {\n      var y = rightOf(parentOf(parentOf(x)));\n      if (colorOf(y) == RED) {\n        setColor(parentOf(x), BLACK);\n        setColor(y, BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        x = parentOf(parentOf(x));\n      } else {\n        if (x == rightOf(parentOf(x))) {\n          x = parentOf(x);\n          this.rotateLeft(x);\n        }\n        setColor(parentOf(x), BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        this.rotateRight(parentOf(parentOf(x)));\n      }\n    } else {\n      var y = leftOf(parentOf(parentOf(x)));\n      if (colorOf(y) == RED) {\n        setColor(parentOf(x), BLACK);\n        setColor(y, BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        x = parentOf(parentOf(x));\n      } else {\n        if (x == leftOf(parentOf(x))) {\n          x = parentOf(x);\n          this.rotateRight(x);\n        }\n        setColor(parentOf(x), BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        this.rotateLeft(parentOf(parentOf(x)));\n      }\n    }\n  }\n  this.root_.color = BLACK;\n};\n\n/**\n * @override\n */\nTreeMap.prototype.values = function () {\n  var arrayList = new ArrayList();\n  var p = this.getFirstEntry();\n  if (p !== null) {\n    arrayList.add(p.value);\n    while ((p = TreeMap.successor(p)) !== null) {\n      arrayList.add(p.value);\n    }\n  }\n  return arrayList;\n};\n\n/**\n * @override\n */\nTreeMap.prototype.entrySet = function () {\n  var hashSet = new HashSet();\n  var p = this.getFirstEntry();\n  if (p !== null) {\n    hashSet.add(p);\n    while ((p = TreeMap.successor(p)) !== null) {\n      hashSet.add(p);\n    }\n  }\n  return hashSet;\n};\n\n/**\n * @param {Object} p\n */\nTreeMap.prototype.rotateLeft = function (p) {\n  if (p != null) {\n    var r = p.right;\n    p.right = r.left;\n    if (r.left != null) r.left.parent = p;\n    r.parent = p.parent;\n    if (p.parent == null) this.root_ = r;else if (p.parent.left == p) p.parent.left = r;else p.parent.right = r;\n    r.left = p;\n    p.parent = r;\n  }\n};\n\n/**\n * @param {Object} p\n */\nTreeMap.prototype.rotateRight = function (p) {\n  if (p != null) {\n    var l = p.left;\n    p.left = l.right;\n    if (l.right != null) l.right.parent = p;\n    l.parent = p.parent;\n    if (p.parent == null) this.root_ = l;else if (p.parent.right == p) p.parent.right = l;else p.parent.left = l;\n    l.right = p;\n    p.parent = l;\n  }\n};\n\n/**\n * @return {Object}\n */\nTreeMap.prototype.getFirstEntry = function () {\n  var p = this.root_;\n  if (p != null) {\n    while (p.left != null) {\n      p = p.left;\n    }\n  }\n  return p;\n};\n\n/**\n * @param {Object} t\n * @return {Object}\n * @private\n */\nTreeMap.successor = function (t) {\n  if (t === null) return null;else if (t.right !== null) {\n    var p = t.right;\n    while (p.left !== null) {\n      p = p.left;\n    }\n    return p;\n  } else {\n    var p = t.parent;\n    var ch = t;\n    while (p !== null && ch === p.right) {\n      ch = p;\n      p = p.parent;\n    }\n    return p;\n  }\n};\n\n/**\n * @override\n */\nTreeMap.prototype.size = function () {\n  return this.size_;\n};\n\nfunction Lineal() {}\nextend(Lineal.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Lineal;\n\t}\n});\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/SortedSet.html\n *\n * @extends {Set}\n * @constructor\n * @private\n */\nfunction SortedSet() {}\nSortedSet.prototype = new Set();\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/TreeSet.html\n *\n * @extends {SortedSet}\n * @constructor\n * @private\n */\nfunction TreeSet() {\n  /**\n   * @type {Array}\n   * @private\n  */\n  this.array_ = [];\n\n  if (arguments[0] instanceof Collection) {\n    this.addAll(arguments[0]);\n  }\n}\nTreeSet.prototype = new SortedSet();\n\n/**\n * @override\n */\nTreeSet.prototype.contains = function (o) {\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this.array_[i];\n    if (e['compareTo'](o) === 0) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * @override\n */\nTreeSet.prototype.add = function (o) {\n  if (this.contains(o)) {\n    return false;\n  }\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this.array_[i];\n    if (e['compareTo'](o) === 1) {\n      this.array_.splice(i, 0, o);\n      return true;\n    }\n  }\n\n  this.array_.push(o);\n\n  return true;\n};\n\n/**\n * @override\n */\nTreeSet.prototype.addAll = function (c) {\n  for (var i = c.iterator(); i.hasNext();) {\n    this.add(i.next());\n  }\n  return true;\n};\n\n/**\n * @override\n */\nTreeSet.prototype.remove = function (e) {\n  throw new OperationNotSupported();\n};\n\n/**\n * @override\n */\nTreeSet.prototype.size = function () {\n  return this.array_.length;\n};\n\n/**\n * @override\n */\nTreeSet.prototype.isEmpty = function () {\n  return this.array_.length === 0;\n};\n\n/**\n * @override\n */\nTreeSet.prototype.toArray = function () {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n\n/**\n * @override\n */\nTreeSet.prototype.iterator = function () {\n  return new Iterator_$2(this);\n};\n\n/**\n * @extends {javascript.util.Iterator}\n * @param {javascript.util.TreeSet} treeSet\n * @constructor\n * @private\n */\nvar Iterator_$2 = function Iterator_(treeSet) {\n  /**\n   * @type {javascript.util.TreeSet}\n   * @private\n   */\n  this.treeSet_ = treeSet;\n  /**\n   * @type {number}\n   * @private\n   */\n  this.position_ = 0;\n};\n\n/**\n * @override\n */\nIterator_$2.prototype.next = function () {\n  if (this.position_ === this.treeSet_.size()) {\n    throw new NoSuchElementException();\n  }\n  return this.treeSet_.array_[this.position_++];\n};\n\n/**\n * @override\n */\nIterator_$2.prototype.hasNext = function () {\n  if (this.position_ < this.treeSet_.size()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n/**\n * @override\n */\nIterator_$2.prototype.remove = function () {\n  throw new OperationNotSupported();\n};\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\n *\n * @constructor\n * @private\n */\nfunction Arrays() {}\n\n/**\n */\nArrays.sort = function () {\n  var a = arguments[0],\n      i,\n      t,\n      comparator,\n      compare;\n  if (arguments.length === 1) {\n    compare = function compare(a, b) {\n      return a.compareTo(b);\n    };\n    a.sort(compare);\n    return;\n  } else if (arguments.length === 2) {\n    comparator = arguments[1];\n    compare = function compare(a, b) {\n      return comparator['compare'](a, b);\n    };\n    a.sort(compare);\n  } else if (arguments.length === 3) {\n    t = a.slice(arguments[1], arguments[2]);\n    t.sort();\n    var r = a.slice(0, arguments[1]).concat(t, a.slice(arguments[2], a.length));\n    a.splice(0, a.length);\n    for (i = 0; i < r.length; i++) {\n      a.push(r[i]);\n    }\n    return;\n  } else if (arguments.length === 4) {\n    t = a.slice(arguments[1], arguments[2]);\n    comparator = arguments[3];\n    compare = function compare(a, b) {\n      return comparator['compare'](a, b);\n    };\n    t.sort(compare);\n    r = a.slice(0, arguments[1]).concat(t, a.slice(arguments[2], a.length));\n    a.splice(0, a.length);\n    for (i = 0; i < r.length; i++) {\n      a.push(r[i]);\n    }\n    return;\n  }\n};\n\n/**\n * @param {Array} array\n * @return {ArrayList}\n */\nArrays.asList = function (array) {\n  var arrayList = new ArrayList();\n  for (var i = 0, len = array.length; i < len; i++) {\n    arrayList.add(array[i]);\n  }\n  return arrayList;\n};\n\nfunction Dimension() {}\nextend(Dimension.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Dimension;\n\t}\n});\nDimension.toDimensionSymbol = function (dimensionValue) {\n\tswitch (dimensionValue) {\n\t\tcase Dimension.FALSE:\n\t\t\treturn Dimension.SYM_FALSE;\n\t\tcase Dimension.TRUE:\n\t\t\treturn Dimension.SYM_TRUE;\n\t\tcase Dimension.DONTCARE:\n\t\t\treturn Dimension.SYM_DONTCARE;\n\t\tcase Dimension.P:\n\t\t\treturn Dimension.SYM_P;\n\t\tcase Dimension.L:\n\t\t\treturn Dimension.SYM_L;\n\t\tcase Dimension.A:\n\t\t\treturn Dimension.SYM_A;\n\t}\n\tthrow new IllegalArgumentException(\"Unknown dimension value: \" + dimensionValue);\n};\nDimension.toDimensionValue = function (dimensionSymbol) {\n\tswitch (Character.toUpperCase(dimensionSymbol)) {\n\t\tcase Dimension.SYM_FALSE:\n\t\t\treturn Dimension.FALSE;\n\t\tcase Dimension.SYM_TRUE:\n\t\t\treturn Dimension.TRUE;\n\t\tcase Dimension.SYM_DONTCARE:\n\t\t\treturn Dimension.DONTCARE;\n\t\tcase Dimension.SYM_P:\n\t\t\treturn Dimension.P;\n\t\tcase Dimension.SYM_L:\n\t\t\treturn Dimension.L;\n\t\tcase Dimension.SYM_A:\n\t\t\treturn Dimension.A;\n\t}\n\tthrow new IllegalArgumentException(\"Unknown dimension symbol: \" + dimensionSymbol);\n};\nDimension.P = 0;\nDimension.L = 1;\nDimension.A = 2;\nDimension.FALSE = -1;\nDimension.TRUE = -2;\nDimension.DONTCARE = -3;\nDimension.SYM_FALSE = 'F';\nDimension.SYM_TRUE = 'T';\nDimension.SYM_DONTCARE = '*';\nDimension.SYM_P = '0';\nDimension.SYM_L = '1';\nDimension.SYM_A = '2';\n\nfunction GeometryFilter() {}\nextend(GeometryFilter.prototype, {\n\tfilter: function filter(geom) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryFilter;\n\t}\n});\n\nfunction CoordinateSequenceFilter() {}\nextend(CoordinateSequenceFilter.prototype, {\n\tfilter: function filter(seq, i) {},\n\tisDone: function isDone() {},\n\tisGeometryChanged: function isGeometryChanged() {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateSequenceFilter;\n\t}\n});\n\nfunction GeometryCollection() {\n\tthis._geometries = null;\n\tvar geometries = arguments[0],\n\t    factory = arguments[1];\n\tGeometry.call(this, factory);\n\tif (geometries === null) {\n\t\tgeometries = [];\n\t}\n\tif (Geometry.hasNullElements(geometries)) {\n\t\tthrow new IllegalArgumentException(\"geometries must not contain null elements\");\n\t}\n\tthis._geometries = geometries;\n}\ninherits(GeometryCollection, Geometry);\nextend(GeometryCollection.prototype, {\n\tcomputeEnvelopeInternal: function computeEnvelopeInternal() {\n\t\tvar envelope = new Envelope();\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tenvelope.expandToInclude(this._geometries[i].getEnvelopeInternal());\n\t\t}\n\t\treturn envelope;\n\t},\n\tgetGeometryN: function getGeometryN(n) {\n\t\treturn this._geometries[n];\n\t},\n\tgetCoordinates: function getCoordinates() {\n\t\tvar coordinates = new Array(this.getNumPoints()).fill(null);\n\t\tvar k = -1;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tvar childCoordinates = this._geometries[i].getCoordinates();\n\t\t\tfor (var j = 0; j < childCoordinates.length; j++) {\n\t\t\t\tk++;\n\t\t\t\tcoordinates[k] = childCoordinates[j];\n\t\t\t}\n\t\t}\n\t\treturn coordinates;\n\t},\n\tgetArea: function getArea() {\n\t\tvar area = 0.0;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tarea += this._geometries[i].getArea();\n\t\t}\n\t\treturn area;\n\t},\n\tequalsExact: function equalsExact() {\n\t\tif (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n\t\t\tvar other = arguments[0],\n\t\t\t    tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar otherCollection = other;\n\t\t\tif (this._geometries.length !== otherCollection._geometries.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tif (!this._geometries[i].equalsExact(otherCollection._geometries[i], tolerance)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else return Geometry.prototype.equalsExact.apply(this, arguments);\n\t},\n\tnormalize: function normalize() {\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tthis._geometries[i].normalize();\n\t\t}\n\t\tArrays.sort(this._geometries);\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\tif (this.isEmpty()) return null;\n\t\treturn this._geometries[0].getCoordinate();\n\t},\n\tgetBoundaryDimension: function getBoundaryDimension() {\n\t\tvar dimension = Dimension.FALSE;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tdimension = Math.max(dimension, this._geometries[i].getBoundaryDimension());\n\t\t}\n\t\treturn dimension;\n\t},\n\tgetTypeCode: function getTypeCode() {\n\t\treturn Geometry.TYPECODE_GEOMETRYCOLLECTION;\n\t},\n\tgetDimension: function getDimension() {\n\t\tvar dimension = Dimension.FALSE;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tdimension = Math.max(dimension, this._geometries[i].getDimension());\n\t\t}\n\t\treturn dimension;\n\t},\n\tgetLength: function getLength() {\n\t\tvar sum = 0.0;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tsum += this._geometries[i].getLength();\n\t\t}\n\t\treturn sum;\n\t},\n\tgetNumPoints: function getNumPoints() {\n\t\tvar numPoints = 0;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tnumPoints += this._geometries[i].getNumPoints();\n\t\t}\n\t\treturn numPoints;\n\t},\n\tgetNumGeometries: function getNumGeometries() {\n\t\treturn this._geometries.length;\n\t},\n\treverse: function reverse() {\n\t\tvar n = this._geometries.length;\n\t\tvar revGeoms = new Array(n).fill(null);\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\trevGeoms[i] = this._geometries[i].reverse();\n\t\t}\n\t\treturn this.getFactory().createGeometryCollection(revGeoms);\n\t},\n\tcompareToSameClass: function compareToSameClass() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar o = arguments[0];\n\t\t\tvar theseElements = new TreeSet(Arrays.asList(this._geometries));\n\t\t\tvar otherElements = new TreeSet(Arrays.asList(o._geometries));\n\t\t\treturn this.compare(theseElements, otherElements);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _o = arguments[0],\n\t\t\t    comp = arguments[1];\n\t\t\tvar gc = _o;\n\t\t\tvar n1 = this.getNumGeometries();\n\t\t\tvar n2 = gc.getNumGeometries();\n\t\t\tvar i = 0;\n\t\t\twhile (i < n1 && i < n2) {\n\t\t\t\tvar thisGeom = this.getGeometryN(i);\n\t\t\t\tvar otherGeom = gc.getGeometryN(i);\n\t\t\t\tvar holeComp = thisGeom.compareToSameClass(otherGeom, comp);\n\t\t\t\tif (holeComp !== 0) return holeComp;\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < n1) return 1;\n\t\t\tif (i < n2) return -1;\n\t\t\treturn 0;\n\t\t}\n\t},\n\tapply: function apply() {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tvar filter = arguments[0];\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(filter);\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tvar _filter = arguments[0];\n\t\t\tif (this._geometries.length === 0) return null;\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(_filter);\n\t\t\t\tif (_filter.isDone()) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (_filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tvar _filter2 = arguments[0];\n\t\t\t_filter2.filter(this);\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(_filter2);\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tvar _filter3 = arguments[0];\n\t\t\t_filter3.filter(this);\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(_filter3);\n\t\t\t}\n\t\t}\n\t},\n\tgetBoundary: function getBoundary() {\n\t\tthis.checkNotGeometryCollection(this);\n\t\tAssert.shouldNeverReachHere();\n\t\treturn null;\n\t},\n\tgetGeometryType: function getGeometryType() {\n\t\treturn Geometry.TYPENAME_GEOMETRYCOLLECTION;\n\t},\n\tcopy: function copy() {\n\t\tvar geometries = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < geometries.length; i++) {\n\t\t\tgeometries[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new GeometryCollection(geometries, this._factory);\n\t},\n\tisEmpty: function isEmpty() {\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tif (!this._geometries[i].isEmpty()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryCollection;\n\t}\n});\nGeometryCollection.serialVersionUID = -5694727726395021467;\n\nfunction MultiLineString() {\n\tvar lineStrings = arguments[0],\n\t    factory = arguments[1];\n\tGeometryCollection.call(this, lineStrings, factory);\n}\ninherits(MultiLineString, GeometryCollection);\nextend(MultiLineString.prototype, {\n\tequalsExact: function equalsExact() {\n\t\tif (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n\t\t\tvar other = arguments[0],\n\t\t\t    tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn GeometryCollection.prototype.equalsExact.call(this, other, tolerance);\n\t\t} else return GeometryCollection.prototype.equalsExact.apply(this, arguments);\n\t},\n\tgetBoundaryDimension: function getBoundaryDimension() {\n\t\tif (this.isClosed()) {\n\t\t\treturn Dimension.FALSE;\n\t\t}\n\t\treturn 0;\n\t},\n\tisClosed: function isClosed() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tif (!this._geometries[i].isClosed()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tgetTypeCode: function getTypeCode() {\n\t\treturn Geometry.TYPECODE_MULTILINESTRING;\n\t},\n\tgetDimension: function getDimension() {\n\t\treturn 1;\n\t},\n\treverse: function reverse() {\n\t\tvar nLines = this._geometries.length;\n\t\tvar revLines = new Array(nLines).fill(null);\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\trevLines[nLines - 1 - i] = this._geometries[i].reverse();\n\t\t}\n\t\treturn this.getFactory().createMultiLineString(revLines);\n\t},\n\tgetBoundary: function getBoundary() {\n\t\treturn new BoundaryOp(this).getBoundary();\n\t},\n\tgetGeometryType: function getGeometryType() {\n\t\treturn Geometry.TYPENAME_MULTILINESTRING;\n\t},\n\tcopy: function copy() {\n\t\tvar lineStrings = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < lineStrings.length; i++) {\n\t\t\tlineStrings[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new MultiLineString(lineStrings, this._factory);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Lineal];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MultiLineString;\n\t}\n});\nMultiLineString.serialVersionUID = 8166665132445433741;\n\nfunction BoundaryOp() {\n\tthis._geom = null;\n\tthis._geomFact = null;\n\tthis._bnRule = null;\n\tthis._endpointMap = null;\n\tif (arguments.length === 1) {\n\t\tvar geom = arguments[0];\n\t\tBoundaryOp.call(this, geom, BoundaryNodeRule.MOD2_BOUNDARY_RULE);\n\t} else if (arguments.length === 2) {\n\t\tvar _geom = arguments[0],\n\t\t    bnRule = arguments[1];\n\t\tthis._geom = _geom;\n\t\tthis._geomFact = _geom.getFactory();\n\t\tthis._bnRule = bnRule;\n\t}\n}\nextend(BoundaryOp.prototype, {\n\tboundaryMultiLineString: function boundaryMultiLineString(mLine) {\n\t\tif (this._geom.isEmpty()) {\n\t\t\treturn this.getEmptyMultiPoint();\n\t\t}\n\t\tvar bdyPts = this.computeBoundaryCoordinates(mLine);\n\t\tif (bdyPts.length === 1) {\n\t\t\treturn this._geomFact.createPoint(bdyPts[0]);\n\t\t}\n\t\treturn this._geomFact.createMultiPointFromCoords(bdyPts);\n\t},\n\tgetBoundary: function getBoundary() {\n\t\tif (this._geom instanceof LineString) return this.boundaryLineString(this._geom);\n\t\tif (this._geom instanceof MultiLineString) return this.boundaryMultiLineString(this._geom);\n\t\treturn this._geom.getBoundary();\n\t},\n\tboundaryLineString: function boundaryLineString(line) {\n\t\tif (this._geom.isEmpty()) {\n\t\t\treturn this.getEmptyMultiPoint();\n\t\t}\n\t\tif (line.isClosed()) {\n\t\t\tvar closedEndpointOnBoundary = this._bnRule.isInBoundary(2);\n\t\t\tif (closedEndpointOnBoundary) {\n\t\t\t\treturn line.getStartPoint();\n\t\t\t} else {\n\t\t\t\treturn this._geomFact.createMultiPoint();\n\t\t\t}\n\t\t}\n\t\treturn this._geomFact.createMultiPoint([line.getStartPoint(), line.getEndPoint()]);\n\t},\n\tgetEmptyMultiPoint: function getEmptyMultiPoint() {\n\t\treturn this._geomFact.createMultiPoint();\n\t},\n\tcomputeBoundaryCoordinates: function computeBoundaryCoordinates(mLine) {\n\t\tvar bdyPts = new ArrayList();\n\t\tthis._endpointMap = new TreeMap();\n\t\tfor (var i = 0; i < mLine.getNumGeometries(); i++) {\n\t\t\tvar line = mLine.getGeometryN(i);\n\t\t\tif (line.getNumPoints() === 0) continue;\n\t\t\tthis.addEndpoint(line.getCoordinateN(0));\n\t\t\tthis.addEndpoint(line.getCoordinateN(line.getNumPoints() - 1));\n\t\t}\n\t\tfor (var it = this._endpointMap.entrySet().iterator(); it.hasNext();) {\n\t\t\tvar entry = it.next();\n\t\t\tvar counter = entry.getValue();\n\t\t\tvar valence = counter.count;\n\t\t\tif (this._bnRule.isInBoundary(valence)) {\n\t\t\t\tbdyPts.add(entry.getKey());\n\t\t\t}\n\t\t}\n\t\treturn CoordinateArrays.toCoordinateArray(bdyPts);\n\t},\n\taddEndpoint: function addEndpoint(pt) {\n\t\tvar counter = this._endpointMap.get(pt);\n\t\tif (counter === null) {\n\t\t\tcounter = new Counter();\n\t\t\tthis._endpointMap.put(pt, counter);\n\t\t}\n\t\tcounter.count++;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BoundaryOp;\n\t}\n});\nBoundaryOp.getBoundary = function () {\n\tif (arguments.length === 1) {\n\t\tvar g = arguments[0];\n\t\tvar bop = new BoundaryOp(g);\n\t\treturn bop.getBoundary();\n\t} else if (arguments.length === 2) {\n\t\tvar _g = arguments[0],\n\t\t    bnRule = arguments[1];\n\t\tvar bop = new BoundaryOp(_g, bnRule);\n\t\treturn bop.getBoundary();\n\t}\n};\nfunction Counter() {\n\tthis.count = null;\n}\nextend(Counter.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Counter;\n\t}\n});\n\nfunction Length() {}\nextend(Length.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Length;\n\t}\n});\nLength.ofLine = function (pts) {\n\tvar n = pts.size();\n\tif (n <= 1) return 0.0;\n\tvar len = 0.0;\n\tvar p = new Coordinate();\n\tpts.getCoordinate(0, p);\n\tvar x0 = p.x;\n\tvar y0 = p.y;\n\tfor (var i = 1; i < n; i++) {\n\t\tpts.getCoordinate(i, p);\n\t\tvar x1 = p.x;\n\t\tvar y1 = p.y;\n\t\tvar dx = x1 - x0;\n\t\tvar dy = y1 - y0;\n\t\tlen += Math.sqrt(dx * dx + dy * dy);\n\t\tx0 = x1;\n\t\ty0 = y1;\n\t}\n\treturn len;\n};\n\nfunction PrintStream() {}\n\nfunction StringReader() {}\n\nfunction DecimalFormat() {}\n\nfunction ByteArrayOutputStream() {}\n\nfunction IOException() {}\n\nfunction LineNumberReader() {}\n\nfunction StringUtil() {}\nextend(StringUtil.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn StringUtil;\n\t}\n});\nStringUtil.chars = function (c, n) {\n\tvar ch = new Array(n).fill(null);\n\tfor (var i = 0; i < n; i++) {\n\t\tch[i] = c;\n\t}\n\treturn new String(ch);\n};\nStringUtil.getStackTrace = function () {\n\tif (arguments.length === 1) {\n\t\tvar t = arguments[0];\n\t\tvar os = new ByteArrayOutputStream();\n\t\tvar ps = new PrintStream(os);\n\t\tt.printStackTrace(ps);\n\t\treturn os.toString();\n\t} else if (arguments.length === 2) {\n\t\tvar _t = arguments[0],\n\t\t    depth = arguments[1];\n\t\tvar stackTrace = \"\";\n\t\tvar stringReader = new StringReader(StringUtil.getStackTrace(_t));\n\t\tvar lineNumberReader = new LineNumberReader(stringReader);\n\t\tfor (var i = 0; i < depth; i++) {\n\t\t\ttry {\n\t\t\t\tstackTrace += lineNumberReader.readLine() + StringUtil.NEWLINE;\n\t\t\t} catch (e) {\n\t\t\t\tif (e instanceof IOException) {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t} else throw e;\n\t\t\t} finally {}\n\t\t}\n\t\treturn stackTrace;\n\t}\n};\nStringUtil.split = function (s, separator) {\n\tvar separatorlen = separator.length;\n\tvar tokenList = new ArrayList();\n\tvar tmpString = \"\" + s;\n\tvar pos = tmpString.indexOf(separator);\n\twhile (pos >= 0) {\n\t\tvar token = tmpString.substring(0, pos);\n\t\ttokenList.add(token);\n\t\ttmpString = tmpString.substring(pos + separatorlen);\n\t\tpos = tmpString.indexOf(separator);\n\t}\n\tif (tmpString.length > 0) tokenList.add(tmpString);\n\tvar res = new Array(tokenList.size()).fill(null);\n\tfor (var i = 0; i < res.length; i++) {\n\t\tres[i] = tokenList.get(i);\n\t}\n\treturn res;\n};\nStringUtil.toString = function () {\n\tif (arguments.length === 1 && typeof arguments[0] === \"number\") {\n\t\tvar d = arguments[0];\n\t\treturn StringUtil.SIMPLE_ORDINATE_FORMAT.format(d);\n\t}\n};\nStringUtil.spaces = function (n) {\n\treturn StringUtil.chars(' ', n);\n};\nStringUtil.NEWLINE = System.getProperty(\"line.separator\");\nStringUtil.SIMPLE_ORDINATE_FORMAT = new DecimalFormat(\"0.#\");\n\nfunction StringBuilder(str) {\n  this.str = str;\n}\n\nStringBuilder.prototype.append = function (e) {\n  this.str += e;\n};\n\nStringBuilder.prototype.setCharAt = function (i, c) {\n  this.str = this.str.substr(0, i) + c + this.str.substr(i + 1);\n};\n\nStringBuilder.prototype.toString = function (e) {\n  return this.str;\n};\n\nfunction CoordinateSequences() {}\nextend(CoordinateSequences.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateSequences;\n\t}\n});\nCoordinateSequences.copyCoord = function (src, srcPos, dest, destPos) {\n\tvar minDim = Math.min(src.getDimension(), dest.getDimension());\n\tfor (var dim = 0; dim < minDim; dim++) {\n\t\tdest.setOrdinate(destPos, dim, src.getOrdinate(srcPos, dim));\n\t}\n};\nCoordinateSequences.isRing = function (seq) {\n\tvar n = seq.size();\n\tif (n === 0) return true;\n\tif (n <= 3) return false;\n\treturn seq.getOrdinate(0, CoordinateSequence.X) === seq.getOrdinate(n - 1, CoordinateSequence.X) && seq.getOrdinate(0, CoordinateSequence.Y) === seq.getOrdinate(n - 1, CoordinateSequence.Y);\n};\nCoordinateSequences.isEqual = function (cs1, cs2) {\n\tvar cs1Size = cs1.size();\n\tvar cs2Size = cs2.size();\n\tif (cs1Size !== cs2Size) return false;\n\tvar dim = Math.min(cs1.getDimension(), cs2.getDimension());\n\tfor (var i = 0; i < cs1Size; i++) {\n\t\tfor (var d = 0; d < dim; d++) {\n\t\t\tvar v1 = cs1.getOrdinate(i, d);\n\t\t\tvar v2 = cs2.getOrdinate(i, d);\n\t\t\tif (cs1.getOrdinate(i, d) === cs2.getOrdinate(i, d)) continue;\n\t\t\tif (Double.isNaN(v1) && Double.isNaN(v2)) continue;\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\nCoordinateSequences.extend = function (fact, seq, size) {\n\tvar newseq = fact.create(size, seq.getDimension());\n\tvar n = seq.size();\n\tCoordinateSequences.copy(seq, 0, newseq, 0, n);\n\tif (n > 0) {\n\t\tfor (var i = n; i < size; i++) {\n\t\t\tCoordinateSequences.copy(seq, n - 1, newseq, i, 1);\n\t\t}\n\t}\n\treturn newseq;\n};\nCoordinateSequences.reverse = function (seq) {\n\tvar last = seq.size() - 1;\n\tvar mid = Math.trunc(last / 2);\n\tfor (var i = 0; i <= mid; i++) {\n\t\tCoordinateSequences.swap(seq, i, last - i);\n\t}\n};\nCoordinateSequences.swap = function (seq, i, j) {\n\tif (i === j) return null;\n\tfor (var dim = 0; dim < seq.getDimension(); dim++) {\n\t\tvar tmp = seq.getOrdinate(i, dim);\n\t\tseq.setOrdinate(i, dim, seq.getOrdinate(j, dim));\n\t\tseq.setOrdinate(j, dim, tmp);\n\t}\n};\nCoordinateSequences.copy = function (src, srcPos, dest, destPos, length) {\n\tfor (var i = 0; i < length; i++) {\n\t\tCoordinateSequences.copyCoord(src, srcPos + i, dest, destPos + i);\n\t}\n};\nCoordinateSequences.toString = function () {\n\tif (arguments.length === 1 && hasInterface(arguments[0], CoordinateSequence)) {\n\t\tvar cs = arguments[0];\n\t\tvar size = cs.size();\n\t\tif (size === 0) return \"()\";\n\t\tvar dim = cs.getDimension();\n\t\tvar builder = new StringBuilder();\n\t\tbuilder.append('(');\n\t\tfor (var i = 0; i < size; i++) {\n\t\t\tif (i > 0) builder.append(\" \");\n\t\t\tfor (var d = 0; d < dim; d++) {\n\t\t\t\tif (d > 0) builder.append(\",\");\n\t\t\t\tbuilder.append(StringUtil.toString(cs.getOrdinate(i, d)));\n\t\t\t}\n\t\t}\n\t\tbuilder.append(')');\n\t\treturn builder.toString();\n\t}\n};\nCoordinateSequences.ensureValidRing = function (fact, seq) {\n\tvar n = seq.size();\n\tif (n === 0) return seq;\n\tif (n <= 3) return CoordinateSequences.createClosedRing(fact, seq, 4);\n\tvar isClosed = seq.getOrdinate(0, CoordinateSequence.X) === seq.getOrdinate(n - 1, CoordinateSequence.X) && seq.getOrdinate(0, CoordinateSequence.Y) === seq.getOrdinate(n - 1, CoordinateSequence.Y);\n\tif (isClosed) return seq;\n\treturn CoordinateSequences.createClosedRing(fact, seq, n + 1);\n};\nCoordinateSequences.createClosedRing = function (fact, seq, size) {\n\tvar newseq = fact.create(size, seq.getDimension());\n\tvar n = seq.size();\n\tCoordinateSequences.copy(seq, 0, newseq, 0, n);\n\tfor (var i = n; i < size; i++) {\n\t\tCoordinateSequences.copy(seq, 0, newseq, i, 1);\n\t}return newseq;\n};\n\nfunction LineString() {\n\tthis._points = null;\n\tvar points = arguments[0],\n\t    factory = arguments[1];\n\tGeometry.call(this, factory);\n\tthis.init(points);\n}\ninherits(LineString, Geometry);\nextend(LineString.prototype, {\n\tcomputeEnvelopeInternal: function computeEnvelopeInternal() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn new Envelope();\n\t\t}\n\t\treturn this._points.expandEnvelope(new Envelope());\n\t},\n\tisRing: function isRing() {\n\t\treturn this.isClosed() && this.isSimple();\n\t},\n\tgetCoordinates: function getCoordinates() {\n\t\treturn this._points.toCoordinateArray();\n\t},\n\tequalsExact: function equalsExact() {\n\t\tif (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n\t\t\tvar other = arguments[0],\n\t\t\t    tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar otherLineString = other;\n\t\t\tif (this._points.size() !== otherLineString._points.size()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\t\tif (!this.equal(this._points.getCoordinate(i), otherLineString._points.getCoordinate(i), tolerance)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else return Geometry.prototype.equalsExact.apply(this, arguments);\n\t},\n\tnormalize: function normalize() {\n\t\tfor (var i = 0; i < Math.trunc(this._points.size() / 2); i++) {\n\t\t\tvar j = this._points.size() - 1 - i;\n\t\t\tif (!this._points.getCoordinate(i).equals(this._points.getCoordinate(j))) {\n\t\t\t\tif (this._points.getCoordinate(i).compareTo(this._points.getCoordinate(j)) > 0) {\n\t\t\t\t\tvar copy = this._points.copy();\n\t\t\t\t\tCoordinateSequences.reverse(copy);\n\t\t\t\t\tthis._points = copy;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\tif (this.isEmpty()) return null;\n\t\treturn this._points.getCoordinate(0);\n\t},\n\tgetBoundaryDimension: function getBoundaryDimension() {\n\t\tif (this.isClosed()) {\n\t\t\treturn Dimension.FALSE;\n\t\t}\n\t\treturn 0;\n\t},\n\tisClosed: function isClosed() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints() - 1));\n\t},\n\tgetEndPoint: function getEndPoint() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.getPointN(this.getNumPoints() - 1);\n\t},\n\tgetTypeCode: function getTypeCode() {\n\t\treturn Geometry.TYPECODE_LINESTRING;\n\t},\n\tgetDimension: function getDimension() {\n\t\treturn 1;\n\t},\n\tgetLength: function getLength() {\n\t\treturn Length.ofLine(this._points);\n\t},\n\tgetNumPoints: function getNumPoints() {\n\t\treturn this._points.size();\n\t},\n\treverse: function reverse() {\n\t\tvar seq = this._points.copy();\n\t\tCoordinateSequences.reverse(seq);\n\t\tvar revLine = this.getFactory().createLineString(seq);\n\t\treturn revLine;\n\t},\n\tcompareToSameClass: function compareToSameClass() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar o = arguments[0];\n\t\t\tvar line = o;\n\t\t\tvar i = 0;\n\t\t\tvar j = 0;\n\t\t\twhile (i < this._points.size() && j < line._points.size()) {\n\t\t\t\tvar comparison = this._points.getCoordinate(i).compareTo(line._points.getCoordinate(j));\n\t\t\t\tif (comparison !== 0) {\n\t\t\t\t\treturn comparison;\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tj++;\n\t\t\t}\n\t\t\tif (i < this._points.size()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (j < line._points.size()) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _o = arguments[0],\n\t\t\t    comp = arguments[1];\n\t\t\tvar line = _o;\n\t\t\treturn comp.compare(this._points, line._points);\n\t\t}\n\t},\n\tapply: function apply() {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tvar filter = arguments[0];\n\t\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\t\tfilter.filter(this._points.getCoordinate(i));\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tvar _filter = arguments[0];\n\t\t\tif (this._points.size() === 0) return null;\n\t\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\t\t_filter.filter(this._points, i);\n\t\t\t\tif (_filter.isDone()) break;\n\t\t\t}\n\t\t\tif (_filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tvar _filter2 = arguments[0];\n\t\t\t_filter2.filter(this);\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tvar _filter3 = arguments[0];\n\t\t\t_filter3.filter(this);\n\t\t}\n\t},\n\tgetBoundary: function getBoundary() {\n\t\treturn new BoundaryOp(this).getBoundary();\n\t},\n\tisEquivalentClass: function isEquivalentClass(other) {\n\t\treturn other instanceof LineString;\n\t},\n\tgetCoordinateN: function getCoordinateN(n) {\n\t\treturn this._points.getCoordinate(n);\n\t},\n\tgetGeometryType: function getGeometryType() {\n\t\treturn Geometry.TYPENAME_LINESTRING;\n\t},\n\tcopy: function copy() {\n\t\treturn new LineString(this._points.copy(), this._factory);\n\t},\n\tgetCoordinateSequence: function getCoordinateSequence() {\n\t\treturn this._points;\n\t},\n\tisEmpty: function isEmpty() {\n\t\treturn this._points.size() === 0;\n\t},\n\tinit: function init(points) {\n\t\tif (points === null) {\n\t\t\tpoints = this.getFactory().getCoordinateSequenceFactory().create([]);\n\t\t}\n\t\tif (points.size() === 1) {\n\t\t\tthrow new IllegalArgumentException(\"Invalid number of points in LineString (found \" + points.size() + \" - must be 0 or >= 2)\");\n\t\t}\n\t\tthis._points = points;\n\t},\n\tisCoordinate: function isCoordinate(pt) {\n\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\tif (this._points.getCoordinate(i).equals(pt)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tgetStartPoint: function getStartPoint() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.getPointN(0);\n\t},\n\tgetPointN: function getPointN(n) {\n\t\treturn this.getFactory().createPoint(this._points.getCoordinate(n));\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Lineal];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineString;\n\t}\n});\nLineString.serialVersionUID = 3110669828065365560;\n\nfunction Puntal() {}\nextend(Puntal.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Puntal;\n\t}\n});\n\nfunction Point() {\n\tthis._coordinates = null;\n\tvar coordinates = arguments[0],\n\t    factory = arguments[1];\n\tGeometry.call(this, factory);\n\tthis.init(coordinates);\n}\ninherits(Point, Geometry);\nextend(Point.prototype, {\n\tcomputeEnvelopeInternal: function computeEnvelopeInternal() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn new Envelope();\n\t\t}\n\t\tvar env = new Envelope();\n\t\tenv.expandToInclude(this._coordinates.getX(0), this._coordinates.getY(0));\n\t\treturn env;\n\t},\n\tgetCoordinates: function getCoordinates() {\n\t\treturn this.isEmpty() ? [] : [this.getCoordinate()];\n\t},\n\tequalsExact: function equalsExact() {\n\t\tif (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n\t\t\tvar other = arguments[0],\n\t\t\t    tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.isEmpty() && other.isEmpty()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (this.isEmpty() !== other.isEmpty()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn this.equal(other.getCoordinate(), this.getCoordinate(), tolerance);\n\t\t} else return Geometry.prototype.equalsExact.apply(this, arguments);\n\t},\n\tnormalize: function normalize() {},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._coordinates.size() !== 0 ? this._coordinates.getCoordinate(0) : null;\n\t},\n\tgetBoundaryDimension: function getBoundaryDimension() {\n\t\treturn Dimension.FALSE;\n\t},\n\tgetTypeCode: function getTypeCode() {\n\t\treturn Geometry.TYPECODE_POINT;\n\t},\n\tgetDimension: function getDimension() {\n\t\treturn 0;\n\t},\n\tgetNumPoints: function getNumPoints() {\n\t\treturn this.isEmpty() ? 0 : 1;\n\t},\n\treverse: function reverse() {\n\t\treturn this.copy();\n\t},\n\tgetX: function getX() {\n\t\tif (this.getCoordinate() === null) {\n\t\t\tthrow new IllegalStateException(\"getX called on empty Point\");\n\t\t}\n\t\treturn this.getCoordinate().x;\n\t},\n\tcompareToSameClass: function compareToSameClass() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar other = arguments[0];\n\t\t\tvar point = other;\n\t\t\treturn this.getCoordinate().compareTo(point.getCoordinate());\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _other = arguments[0],\n\t\t\t    comp = arguments[1];\n\t\t\tvar point = _other;\n\t\t\treturn comp.compare(this._coordinates, point._coordinates);\n\t\t}\n\t},\n\tapply: function apply() {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tvar filter = arguments[0];\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tfilter.filter(this.getCoordinate());\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tvar _filter = arguments[0];\n\t\t\tif (this.isEmpty()) return null;\n\t\t\t_filter.filter(this._coordinates, 0);\n\t\t\tif (_filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tvar _filter2 = arguments[0];\n\t\t\t_filter2.filter(this);\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tvar _filter3 = arguments[0];\n\t\t\t_filter3.filter(this);\n\t\t}\n\t},\n\tgetBoundary: function getBoundary() {\n\t\treturn this.getFactory().createGeometryCollection();\n\t},\n\tgetGeometryType: function getGeometryType() {\n\t\treturn Geometry.TYPENAME_POINT;\n\t},\n\tcopy: function copy() {\n\t\treturn new Point(this._coordinates.copy(), this._factory);\n\t},\n\tgetCoordinateSequence: function getCoordinateSequence() {\n\t\treturn this._coordinates;\n\t},\n\tgetY: function getY() {\n\t\tif (this.getCoordinate() === null) {\n\t\t\tthrow new IllegalStateException(\"getY called on empty Point\");\n\t\t}\n\t\treturn this.getCoordinate().y;\n\t},\n\tisEmpty: function isEmpty() {\n\t\treturn this._coordinates.size() === 0;\n\t},\n\tinit: function init(coordinates) {\n\t\tif (coordinates === null) {\n\t\t\tcoordinates = this.getFactory().getCoordinateSequenceFactory().create([]);\n\t\t}\n\t\tAssert.isTrue(coordinates.size() <= 1);\n\t\tthis._coordinates = coordinates;\n\t},\n\tisSimple: function isSimple() {\n\t\treturn true;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Puntal];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Point;\n\t}\n});\nPoint.serialVersionUID = 4902022702746614570;\n\nfunction Area() {}\nextend(Area.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Area;\n\t}\n});\nArea.ofRing = function () {\n\tif (arguments[0] instanceof Array) {\n\t\tvar ring = arguments[0];\n\t\treturn Math.abs(Area.ofRingSigned(ring));\n\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\tvar _ring = arguments[0];\n\t\treturn Math.abs(Area.ofRingSigned(_ring));\n\t}\n};\nArea.ofRingSigned = function () {\n\tif (arguments[0] instanceof Array) {\n\t\tvar ring = arguments[0];\n\t\tif (ring.length < 3) return 0.0;\n\t\tvar sum = 0.0;\n\t\tvar x0 = ring[0].x;\n\t\tfor (var i = 1; i < ring.length - 1; i++) {\n\t\t\tvar x = ring[i].x - x0;\n\t\t\tvar y1 = ring[i + 1].y;\n\t\t\tvar y2 = ring[i - 1].y;\n\t\t\tsum += x * (y2 - y1);\n\t\t}\n\t\treturn sum / 2.0;\n\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\tvar _ring2 = arguments[0];\n\t\tvar n = _ring2.size();\n\t\tif (n < 3) return 0.0;\n\t\tvar p0 = new Coordinate();\n\t\tvar p1 = new Coordinate();\n\t\tvar p2 = new Coordinate();\n\t\t_ring2.getCoordinate(0, p1);\n\t\t_ring2.getCoordinate(1, p2);\n\t\tvar x0 = p1.x;\n\t\tp2.x -= x0;\n\t\tvar sum = 0.0;\n\t\tfor (var i = 1; i < n - 1; i++) {\n\t\t\tp0.y = p1.y;\n\t\t\tp1.x = p2.x;\n\t\t\tp1.y = p2.y;\n\t\t\t_ring2.getCoordinate(i + 1, p2);\n\t\t\tp2.x -= x0;\n\t\t\tsum += p1.x * (p0.y - p2.y);\n\t\t}\n\t\treturn sum / 2.0;\n\t}\n};\n\nfunction Polygonal() {}\nextend(Polygonal.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Polygonal;\n\t}\n});\n\nfunction Polygon() {\n\tthis._shell = null;\n\tthis._holes = null;\n\tvar shell = arguments[0],\n\t    holes = arguments[1],\n\t    factory = arguments[2];\n\tGeometry.call(this, factory);\n\tif (shell === null) {\n\t\tshell = this.getFactory().createLinearRing();\n\t}\n\tif (holes === null) {\n\t\tholes = [];\n\t}\n\tif (Geometry.hasNullElements(holes)) {\n\t\tthrow new IllegalArgumentException(\"holes must not contain null elements\");\n\t}\n\tif (shell.isEmpty() && Geometry.hasNonEmptyElements(holes)) {\n\t\tthrow new IllegalArgumentException(\"shell is empty but holes are not\");\n\t}\n\tthis._shell = shell;\n\tthis._holes = holes;\n}\ninherits(Polygon, Geometry);\nextend(Polygon.prototype, {\n\tcomputeEnvelopeInternal: function computeEnvelopeInternal() {\n\t\treturn this._shell.getEnvelopeInternal();\n\t},\n\tgetCoordinates: function getCoordinates() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn [];\n\t\t}\n\t\tvar coordinates = new Array(this.getNumPoints()).fill(null);\n\t\tvar k = -1;\n\t\tvar shellCoordinates = this._shell.getCoordinates();\n\t\tfor (var x = 0; x < shellCoordinates.length; x++) {\n\t\t\tk++;\n\t\t\tcoordinates[k] = shellCoordinates[x];\n\t\t}\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tvar childCoordinates = this._holes[i].getCoordinates();\n\t\t\tfor (var j = 0; j < childCoordinates.length; j++) {\n\t\t\t\tk++;\n\t\t\t\tcoordinates[k] = childCoordinates[j];\n\t\t\t}\n\t\t}\n\t\treturn coordinates;\n\t},\n\tgetArea: function getArea() {\n\t\tvar area = 0.0;\n\t\tarea += Area.ofRing(this._shell.getCoordinateSequence());\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tarea -= Area.ofRing(this._holes[i].getCoordinateSequence());\n\t\t}\n\t\treturn area;\n\t},\n\tisRectangle: function isRectangle() {\n\t\tif (this.getNumInteriorRing() !== 0) return false;\n\t\tif (this._shell === null) return false;\n\t\tif (this._shell.getNumPoints() !== 5) return false;\n\t\tvar seq = this._shell.getCoordinateSequence();\n\t\tvar env = this.getEnvelopeInternal();\n\t\tfor (var i = 0; i < 5; i++) {\n\t\t\tvar x = seq.getX(i);\n\t\t\tif (!(x === env.getMinX() || x === env.getMaxX())) return false;\n\t\t\tvar y = seq.getY(i);\n\t\t\tif (!(y === env.getMinY() || y === env.getMaxY())) return false;\n\t\t}\n\t\tvar prevX = seq.getX(0);\n\t\tvar prevY = seq.getY(0);\n\t\tfor (var i = 1; i <= 4; i++) {\n\t\t\tvar x = seq.getX(i);\n\t\t\tvar y = seq.getY(i);\n\t\t\tvar xChanged = x !== prevX;\n\t\t\tvar yChanged = y !== prevY;\n\t\t\tif (xChanged === yChanged) return false;\n\t\t\tprevX = x;\n\t\t\tprevY = y;\n\t\t}\n\t\treturn true;\n\t},\n\tequalsExact: function equalsExact() {\n\t\tif (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n\t\t\tvar other = arguments[0],\n\t\t\t    tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar otherPolygon = other;\n\t\t\tvar thisShell = this._shell;\n\t\t\tvar otherPolygonShell = otherPolygon._shell;\n\t\t\tif (!thisShell.equalsExact(otherPolygonShell, tolerance)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this._holes.length !== otherPolygon._holes.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tif (!this._holes[i].equalsExact(otherPolygon._holes[i], tolerance)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else return Geometry.prototype.equalsExact.apply(this, arguments);\n\t},\n\tnormalize: function normalize() {\n\t\tif (arguments.length === 0) {\n\t\t\tthis.normalize(this._shell, true);\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tthis.normalize(this._holes[i], false);\n\t\t\t}\n\t\t\tArrays.sort(this._holes);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar ring = arguments[0],\n\t\t\t    clockwise = arguments[1];\n\t\t\tif (ring.isEmpty()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar uniqueCoordinates = new Array(ring.getCoordinates().length - 1).fill(null);\n\t\t\tSystem.arraycopy(ring.getCoordinates(), 0, uniqueCoordinates, 0, uniqueCoordinates.length);\n\t\t\tvar minCoordinate = CoordinateArrays.minCoordinate(ring.getCoordinates());\n\t\t\tCoordinateArrays.scroll(uniqueCoordinates, minCoordinate);\n\t\t\tSystem.arraycopy(uniqueCoordinates, 0, ring.getCoordinates(), 0, uniqueCoordinates.length);\n\t\t\tring.getCoordinates()[uniqueCoordinates.length] = uniqueCoordinates[0];\n\t\t\tif (Orientation.isCCW(ring.getCoordinates()) === clockwise) {\n\t\t\t\tCoordinateArrays.reverse(ring.getCoordinates());\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._shell.getCoordinate();\n\t},\n\tgetNumInteriorRing: function getNumInteriorRing() {\n\t\treturn this._holes.length;\n\t},\n\tgetBoundaryDimension: function getBoundaryDimension() {\n\t\treturn 1;\n\t},\n\tgetTypeCode: function getTypeCode() {\n\t\treturn Geometry.TYPECODE_POLYGON;\n\t},\n\tgetDimension: function getDimension() {\n\t\treturn 2;\n\t},\n\tgetLength: function getLength() {\n\t\tvar len = 0.0;\n\t\tlen += this._shell.getLength();\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tlen += this._holes[i].getLength();\n\t\t}\n\t\treturn len;\n\t},\n\tgetNumPoints: function getNumPoints() {\n\t\tvar numPoints = this._shell.getNumPoints();\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tnumPoints += this._holes[i].getNumPoints();\n\t\t}\n\t\treturn numPoints;\n\t},\n\treverse: function reverse() {\n\t\tvar poly = this.copy();\n\t\tpoly._shell = this._shell.copy().reverse();\n\t\tpoly._holes = new Array(this._holes.length).fill(null);\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tpoly._holes[i] = this._holes[i].copy().reverse();\n\t\t}\n\t\treturn poly;\n\t},\n\tconvexHull: function convexHull() {\n\t\treturn this.getExteriorRing().convexHull();\n\t},\n\tcompareToSameClass: function compareToSameClass() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar o = arguments[0];\n\t\t\tvar thisShell = this._shell;\n\t\t\tvar otherShell = o._shell;\n\t\t\treturn thisShell.compareToSameClass(otherShell);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _o = arguments[0],\n\t\t\t    comp = arguments[1];\n\t\t\tvar poly = _o;\n\t\t\tvar thisShell = this._shell;\n\t\t\tvar otherShell = poly._shell;\n\t\t\tvar shellComp = thisShell.compareToSameClass(otherShell, comp);\n\t\t\tif (shellComp !== 0) return shellComp;\n\t\t\tvar nHole1 = this.getNumInteriorRing();\n\t\t\tvar nHole2 = poly.getNumInteriorRing();\n\t\t\tvar i = 0;\n\t\t\twhile (i < nHole1 && i < nHole2) {\n\t\t\t\tvar thisHole = this.getInteriorRingN(i);\n\t\t\t\tvar otherHole = poly.getInteriorRingN(i);\n\t\t\t\tvar holeComp = thisHole.compareToSameClass(otherHole, comp);\n\t\t\t\tif (holeComp !== 0) return holeComp;\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < nHole1) return 1;\n\t\t\tif (i < nHole2) return -1;\n\t\t\treturn 0;\n\t\t}\n\t},\n\tapply: function apply() {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tvar filter = arguments[0];\n\t\t\tthis._shell.apply(filter);\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tthis._holes[i].apply(filter);\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tvar _filter = arguments[0];\n\t\t\tthis._shell.apply(_filter);\n\t\t\tif (!_filter.isDone()) {\n\t\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\t\tthis._holes[i].apply(_filter);\n\t\t\t\t\tif (_filter.isDone()) break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (_filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tvar _filter2 = arguments[0];\n\t\t\t_filter2.filter(this);\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tvar _filter3 = arguments[0];\n\t\t\t_filter3.filter(this);\n\t\t\tthis._shell.apply(_filter3);\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tthis._holes[i].apply(_filter3);\n\t\t\t}\n\t\t}\n\t},\n\tgetBoundary: function getBoundary() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn this.getFactory().createMultiLineString();\n\t\t}\n\t\tvar rings = new Array(this._holes.length + 1).fill(null);\n\t\trings[0] = this._shell;\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\trings[i + 1] = this._holes[i];\n\t\t}\n\t\tif (rings.length <= 1) return this.getFactory().createLinearRing(rings[0].getCoordinateSequence());\n\t\treturn this.getFactory().createMultiLineString(rings);\n\t},\n\tgetGeometryType: function getGeometryType() {\n\t\treturn Geometry.TYPENAME_POLYGON;\n\t},\n\tcopy: function copy() {\n\t\tvar shellCopy = this._shell.copy();\n\t\tvar holeCopies = new Array(this._holes.length).fill(null);\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tholeCopies[i] = this._holes[i].copy();\n\t\t}\n\t\treturn new Polygon(shellCopy, holeCopies, this._factory);\n\t},\n\tgetExteriorRing: function getExteriorRing() {\n\t\treturn this._shell;\n\t},\n\tisEmpty: function isEmpty() {\n\t\treturn this._shell.isEmpty();\n\t},\n\tgetInteriorRingN: function getInteriorRingN(n) {\n\t\treturn this._holes[n];\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Polygonal];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Polygon;\n\t}\n});\nPolygon.serialVersionUID = -3494792200821764533;\n\nfunction MultiPoint() {\n\tvar points = arguments[0],\n\t    factory = arguments[1];\n\tGeometryCollection.call(this, points, factory);\n}\ninherits(MultiPoint, GeometryCollection);\nextend(MultiPoint.prototype, {\n\tisValid: function isValid() {\n\t\treturn true;\n\t},\n\tequalsExact: function equalsExact() {\n\t\tif (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n\t\t\tvar other = arguments[0],\n\t\t\t    tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn GeometryCollection.prototype.equalsExact.call(this, other, tolerance);\n\t\t} else return GeometryCollection.prototype.equalsExact.apply(this, arguments);\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\tif (arguments.length === 1 && Number.isInteger(arguments[0])) {\n\t\t\tvar n = arguments[0];\n\t\t\treturn this._geometries[n].getCoordinate();\n\t\t} else return GeometryCollection.prototype.getCoordinate.apply(this, arguments);\n\t},\n\tgetBoundaryDimension: function getBoundaryDimension() {\n\t\treturn Dimension.FALSE;\n\t},\n\tgetTypeCode: function getTypeCode() {\n\t\treturn Geometry.TYPECODE_MULTIPOINT;\n\t},\n\tgetDimension: function getDimension() {\n\t\treturn 0;\n\t},\n\tgetBoundary: function getBoundary() {\n\t\treturn this.getFactory().createGeometryCollection();\n\t},\n\tgetGeometryType: function getGeometryType() {\n\t\treturn Geometry.TYPENAME_MULTIPOINT;\n\t},\n\tcopy: function copy() {\n\t\tvar points = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < points.length; i++) {\n\t\t\tpoints[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new MultiPoint(points, this._factory);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Puntal];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MultiPoint;\n\t}\n});\nMultiPoint.serialVersionUID = -8048474874175355449;\n\nfunction LinearRing() {\n\tif (arguments[0] instanceof Array && arguments[1] instanceof GeometryFactory) {\n\t\tvar points = arguments[0],\n\t\t    factory = arguments[1];\n\t\tLinearRing.call(this, factory.getCoordinateSequenceFactory().create(points), factory);\n\t} else if (hasInterface(arguments[0], CoordinateSequence) && arguments[1] instanceof GeometryFactory) {\n\t\tvar _points = arguments[0],\n\t\t    _factory = arguments[1];\n\t\tLineString.call(this, _points, _factory);\n\t\tthis.validateConstruction();\n\t}\n}\ninherits(LinearRing, LineString);\nextend(LinearRing.prototype, {\n\tgetBoundaryDimension: function getBoundaryDimension() {\n\t\treturn Dimension.FALSE;\n\t},\n\tisClosed: function isClosed() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn true;\n\t\t}\n\t\treturn LineString.prototype.isClosed.call(this);\n\t},\n\tgetTypeCode: function getTypeCode() {\n\t\treturn Geometry.TYPECODE_LINEARRING;\n\t},\n\treverse: function reverse() {\n\t\tvar seq = this._points.copy();\n\t\tCoordinateSequences.reverse(seq);\n\t\tvar rev = this.getFactory().createLinearRing(seq);\n\t\treturn rev;\n\t},\n\tvalidateConstruction: function validateConstruction() {\n\t\tif (!this.isEmpty() && !LineString.prototype.isClosed.call(this)) {\n\t\t\tthrow new IllegalArgumentException(\"Points of LinearRing do not form a closed linestring\");\n\t\t}\n\t\tif (this.getCoordinateSequence().size() >= 1 && this.getCoordinateSequence().size() < LinearRing.MINIMUM_VALID_SIZE) {\n\t\t\tthrow new IllegalArgumentException(\"Invalid number of points in LinearRing (found \" + this.getCoordinateSequence().size() + \" - must be 0 or >= 4)\");\n\t\t}\n\t},\n\tgetGeometryType: function getGeometryType() {\n\t\treturn Geometry.TYPENAME_LINEARRING;\n\t},\n\tcopy: function copy() {\n\t\treturn new LinearRing(this._points.copy(), this._factory);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LinearRing;\n\t}\n});\nLinearRing.MINIMUM_VALID_SIZE = 4;\nLinearRing.serialVersionUID = -4261142084085851829;\n\nfunction MultiPolygon() {\n\tvar polygons = arguments[0],\n\t    factory = arguments[1];\n\tGeometryCollection.call(this, polygons, factory);\n}\ninherits(MultiPolygon, GeometryCollection);\nextend(MultiPolygon.prototype, {\n\tequalsExact: function equalsExact() {\n\t\tif (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n\t\t\tvar other = arguments[0],\n\t\t\t    tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn GeometryCollection.prototype.equalsExact.call(this, other, tolerance);\n\t\t} else return GeometryCollection.prototype.equalsExact.apply(this, arguments);\n\t},\n\tgetBoundaryDimension: function getBoundaryDimension() {\n\t\treturn 1;\n\t},\n\tgetTypeCode: function getTypeCode() {\n\t\treturn Geometry.TYPECODE_MULTIPOLYGON;\n\t},\n\tgetDimension: function getDimension() {\n\t\treturn 2;\n\t},\n\treverse: function reverse() {\n\t\tvar n = this._geometries.length;\n\t\tvar revGeoms = new Array(n).fill(null);\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\trevGeoms[i] = this._geometries[i].reverse();\n\t\t}\n\t\treturn this.getFactory().createMultiPolygon(revGeoms);\n\t},\n\tgetBoundary: function getBoundary() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn this.getFactory().createMultiLineString();\n\t\t}\n\t\tvar allRings = new ArrayList();\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tvar polygon = this._geometries[i];\n\t\t\tvar rings = polygon.getBoundary();\n\t\t\tfor (var j = 0; j < rings.getNumGeometries(); j++) {\n\t\t\t\tallRings.add(rings.getGeometryN(j));\n\t\t\t}\n\t\t}\n\t\tvar allRingsArray = new Array(allRings.size()).fill(null);\n\t\treturn this.getFactory().createMultiLineString(allRings.toArray(allRingsArray));\n\t},\n\tgetGeometryType: function getGeometryType() {\n\t\treturn Geometry.TYPENAME_MULTIPOLYGON;\n\t},\n\tcopy: function copy() {\n\t\tvar polygons = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < polygons.length; i++) {\n\t\t\tpolygons[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new MultiPolygon(polygons, this._factory);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Polygonal];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MultiPolygon;\n\t}\n});\nMultiPolygon.serialVersionUID = -551033529766975875;\n\nfunction GeometryEditor() {\n\tthis._factory = null;\n\tthis._isUserDataCopied = false;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tvar factory = arguments[0];\n\t\tthis._factory = factory;\n\t}\n}\nextend(GeometryEditor.prototype, {\n\tsetCopyUserData: function setCopyUserData(isUserDataCopied) {\n\t\tthis._isUserDataCopied = isUserDataCopied;\n\t},\n\tedit: function edit(geometry, operation) {\n\t\tif (geometry === null) return null;\n\t\tvar result = this.editInternal(geometry, operation);\n\t\tif (this._isUserDataCopied) {\n\t\t\tresult.setUserData(geometry.getUserData());\n\t\t}\n\t\treturn result;\n\t},\n\teditInternal: function editInternal(geometry, operation) {\n\t\tif (this._factory === null) this._factory = geometry.getFactory();\n\t\tif (geometry instanceof GeometryCollection) {\n\t\t\treturn this.editGeometryCollection(geometry, operation);\n\t\t}\n\t\tif (geometry instanceof Polygon) {\n\t\t\treturn this.editPolygon(geometry, operation);\n\t\t}\n\t\tif (geometry instanceof Point) {\n\t\t\treturn operation.edit(geometry, this._factory);\n\t\t}\n\t\tif (geometry instanceof LineString) {\n\t\t\treturn operation.edit(geometry, this._factory);\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"Unsupported Geometry class: \" + geometry.getClass().getName());\n\t\treturn null;\n\t},\n\teditGeometryCollection: function editGeometryCollection(collection, operation) {\n\t\tvar collectionForType = operation.edit(collection, this._factory);\n\t\tvar geometries = new ArrayList();\n\t\tfor (var i = 0; i < collectionForType.getNumGeometries(); i++) {\n\t\t\tvar geometry = this.edit(collectionForType.getGeometryN(i), operation);\n\t\t\tif (geometry === null || geometry.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tgeometries.add(geometry);\n\t\t}\n\t\tif (collectionForType.getClass() === MultiPoint) {\n\t\t\treturn this._factory.createMultiPoint(geometries.toArray([]));\n\t\t}\n\t\tif (collectionForType.getClass() === MultiLineString) {\n\t\t\treturn this._factory.createMultiLineString(geometries.toArray([]));\n\t\t}\n\t\tif (collectionForType.getClass() === MultiPolygon) {\n\t\t\treturn this._factory.createMultiPolygon(geometries.toArray([]));\n\t\t}\n\t\treturn this._factory.createGeometryCollection(geometries.toArray([]));\n\t},\n\teditPolygon: function editPolygon(polygon, operation) {\n\t\tvar newPolygon = operation.edit(polygon, this._factory);\n\t\tif (newPolygon === null) newPolygon = this._factory.createPolygon();\n\t\tif (newPolygon.isEmpty()) {\n\t\t\treturn newPolygon;\n\t\t}\n\t\tvar shell = this.edit(newPolygon.getExteriorRing(), operation);\n\t\tif (shell === null || shell.isEmpty()) {\n\t\t\treturn this._factory.createPolygon();\n\t\t}\n\t\tvar holes = new ArrayList();\n\t\tfor (var i = 0; i < newPolygon.getNumInteriorRing(); i++) {\n\t\t\tvar hole = this.edit(newPolygon.getInteriorRingN(i), operation);\n\t\t\tif (hole === null || hole.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tholes.add(hole);\n\t\t}\n\t\treturn this._factory.createPolygon(shell, holes.toArray([]));\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryEditor;\n\t}\n});\nfunction GeometryEditorOperation() {}\nGeometryEditor.GeometryEditorOperation = GeometryEditorOperation;\nfunction NoOpGeometryOperation() {}\nextend(NoOpGeometryOperation.prototype, {\n\tedit: function edit(geometry, factory) {\n\t\treturn geometry;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryEditorOperation];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NoOpGeometryOperation;\n\t}\n});\nfunction CoordinateOperation() {}\nextend(CoordinateOperation.prototype, {\n\tedit: function edit(geometry, factory) {\n\t\tvar coordinates = this.edit(geometry.getCoordinates(), geometry);\n\t\tif (geometry instanceof LinearRing) {\n\t\t\tif (coordinates === null) return factory.createLinearRing();else return factory.createLinearRing(coordinates);\n\t\t}\n\t\tif (geometry instanceof LineString) {\n\t\t\tif (coordinates === null) return factory.createLineString();else return factory.createLineString(coordinates);\n\t\t}\n\t\tif (geometry instanceof Point) {\n\t\t\tif (coordinates === null || coordinates.length === 0) return factory.createPoint();else return factory.createPoint(coordinates[0]);\n\t\t}\n\t\treturn geometry;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryEditorOperation];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateOperation;\n\t}\n});\nfunction CoordinateSequenceOperation() {}\nextend(CoordinateSequenceOperation.prototype, {\n\tedit: function edit(geometry, factory) {\n\t\tif (geometry instanceof LinearRing) {\n\t\t\treturn factory.createLinearRing(this.edit(geometry.getCoordinateSequence(), geometry));\n\t\t}\n\t\tif (geometry instanceof LineString) {\n\t\t\treturn factory.createLineString(this.edit(geometry.getCoordinateSequence(), geometry));\n\t\t}\n\t\tif (geometry instanceof Point) {\n\t\t\treturn factory.createPoint(this.edit(geometry.getCoordinateSequence(), geometry));\n\t\t}\n\t\treturn geometry;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryEditorOperation];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateSequenceOperation;\n\t}\n});\nGeometryEditor.NoOpGeometryOperation = NoOpGeometryOperation;\nGeometryEditor.CoordinateOperation = CoordinateOperation;\nGeometryEditor.CoordinateSequenceOperation = CoordinateSequenceOperation;\n\nfunction CoordinateArraySequence() {\n\tthis._dimension = 3;\n\tthis._coordinates = null;\n\tif (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tvar coordinates = arguments[0];\n\t\t\tCoordinateArraySequence.call(this, coordinates, 3);\n\t\t} else if (Number.isInteger(arguments[0])) {\n\t\t\tvar size = arguments[0];\n\t\t\tthis._coordinates = new Array(size).fill(null);\n\t\t\tfor (var i = 0; i < size; i++) {\n\t\t\t\tthis._coordinates[i] = new Coordinate();\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\tvar coordSeq = arguments[0];\n\t\t\tif (coordSeq === null) {\n\t\t\t\tthis._coordinates = new Array(0).fill(null);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._dimension = coordSeq.getDimension();\n\t\t\tthis._coordinates = new Array(coordSeq.size()).fill(null);\n\t\t\tfor (var i = 0; i < this._coordinates.length; i++) {\n\t\t\t\tthis._coordinates[i] = coordSeq.getCoordinateCopy(i);\n\t\t\t}\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tif (arguments[0] instanceof Array && Number.isInteger(arguments[1])) {\n\t\t\tvar _coordinates = arguments[0],\n\t\t\t    dimension = arguments[1];\n\t\t\tthis._coordinates = _coordinates;\n\t\t\tthis._dimension = dimension;\n\t\t\tif (_coordinates === null) this._coordinates = new Array(0).fill(null);\n\t\t} else if (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {\n\t\t\tvar _size = arguments[0],\n\t\t\t    _dimension = arguments[1];\n\t\t\tthis._coordinates = new Array(_size).fill(null);\n\t\t\tthis._dimension = _dimension;\n\t\t\tfor (var i = 0; i < _size; i++) {\n\t\t\t\tthis._coordinates[i] = new Coordinate();\n\t\t\t}\n\t\t}\n\t}\n}\nextend(CoordinateArraySequence.prototype, {\n\tsetOrdinate: function setOrdinate(index, ordinateIndex, value) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase CoordinateSequence.X:\n\t\t\t\tthis._coordinates[index].x = value;\n\t\t\t\tbreak;\n\t\t\tcase CoordinateSequence.Y:\n\t\t\t\tthis._coordinates[index].y = value;\n\t\t\t\tbreak;\n\t\t\tcase CoordinateSequence.Z:\n\t\t\t\tthis._coordinates[index].z = value;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new IllegalArgumentException(\"invalid ordinateIndex\");\n\t\t}\n\t},\n\tsize: function size() {\n\t\treturn this._coordinates.length;\n\t},\n\tgetOrdinate: function getOrdinate(index, ordinateIndex) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase CoordinateSequence.X:\n\t\t\t\treturn this._coordinates[index].x;\n\t\t\tcase CoordinateSequence.Y:\n\t\t\t\treturn this._coordinates[index].y;\n\t\t\tcase CoordinateSequence.Z:\n\t\t\t\treturn this._coordinates[index].z;\n\t\t}\n\t\treturn Double.NaN;\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar i = arguments[0];\n\t\t\treturn this._coordinates[i];\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar index = arguments[0],\n\t\t\t    coord = arguments[1];\n\t\t\tcoord.x = this._coordinates[index].x;\n\t\t\tcoord.y = this._coordinates[index].y;\n\t\t\tcoord.z = this._coordinates[index].z;\n\t\t}\n\t},\n\tgetCoordinateCopy: function getCoordinateCopy(i) {\n\t\treturn new Coordinate(this._coordinates[i]);\n\t},\n\tgetDimension: function getDimension() {\n\t\treturn this._dimension;\n\t},\n\tgetX: function getX(index) {\n\t\treturn this._coordinates[index].x;\n\t},\n\texpandEnvelope: function expandEnvelope(env) {\n\t\tfor (var i = 0; i < this._coordinates.length; i++) {\n\t\t\tenv.expandToInclude(this._coordinates[i]);\n\t\t}\n\t\treturn env;\n\t},\n\tcopy: function copy() {\n\t\tvar cloneCoordinates = new Array(this.size()).fill(null);\n\t\tfor (var i = 0; i < this._coordinates.length; i++) {\n\t\t\tcloneCoordinates[i] = this._coordinates[i].copy();\n\t\t}\n\t\treturn new CoordinateArraySequence(cloneCoordinates, this._dimension);\n\t},\n\ttoString: function toString() {\n\t\tif (this._coordinates.length > 0) {\n\t\t\tvar strBuilder = new StringBuilder(17 * this._coordinates.length);\n\t\t\tstrBuilder.append('(');\n\t\t\tstrBuilder.append(this._coordinates[0]);\n\t\t\tfor (var i = 1; i < this._coordinates.length; i++) {\n\t\t\t\tstrBuilder.append(\", \");\n\t\t\t\tstrBuilder.append(this._coordinates[i]);\n\t\t\t}\n\t\t\tstrBuilder.append(')');\n\t\t\treturn strBuilder.toString();\n\t\t} else {\n\t\t\treturn \"()\";\n\t\t}\n\t},\n\tgetY: function getY(index) {\n\t\treturn this._coordinates[index].y;\n\t},\n\ttoCoordinateArray: function toCoordinateArray() {\n\t\treturn this._coordinates;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [CoordinateSequence, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateArraySequence;\n\t}\n});\nCoordinateArraySequence.serialVersionUID = -915438501601840650;\n\nfunction CoordinateArraySequenceFactory() {}\nextend(CoordinateArraySequenceFactory.prototype, {\n\treadResolve: function readResolve() {\n\t\treturn CoordinateArraySequenceFactory.instance();\n\t},\n\tcreate: function create() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tvar coordinates = arguments[0];\n\t\t\t\treturn new CoordinateArraySequence(coordinates);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tvar coordSeq = arguments[0];\n\t\t\t\treturn new CoordinateArraySequence(coordSeq);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar size = arguments[0],\n\t\t\t    dimension = arguments[1];\n\t\t\tif (dimension > 3) dimension = 3;\n\t\t\tif (dimension < 2) return new CoordinateArraySequence(size);\n\t\t\treturn new CoordinateArraySequence(size, dimension);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [CoordinateSequenceFactory, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CoordinateArraySequenceFactory;\n\t}\n});\nCoordinateArraySequenceFactory.instance = function () {\n\treturn CoordinateArraySequenceFactory.instanceObject;\n};\nCoordinateArraySequenceFactory.serialVersionUID = -4099577099607551657;\nCoordinateArraySequenceFactory.instanceObject = new CoordinateArraySequenceFactory();\n\n// shared pointer\nvar i;\n// shortcuts\nvar defineProperty = Object.defineProperty;\nfunction is(a, b) {\n  return a === b || a !== a && b !== b;\n} // eslint-disable-line\n\nvar MapPolyfill = createCollection({\n  // WeakMap#delete(key:void*):boolean\n  'delete': sharedDelete,\n  // :was Map#get(key:void*[, d3fault:void*]):void*\n  // Map#has(key:void*):boolean\n  has: mapHas,\n  // Map#get(key:void*):boolean\n  get: sharedGet,\n  // Map#set(key:void*, value:void*):void\n  set: sharedSet,\n  // Map#keys(void):Iterator\n  keys: sharedKeys,\n  // Map#values(void):Iterator\n  values: sharedValues,\n  // Map#entries(void):Iterator\n  entries: mapEntries,\n  // Map#forEach(callback:Function, context:void*):void ==> callback.call(context, key, value, mapObject) === not in specs`\n  forEach: sharedForEach,\n  // Map#clear():\n  clear: sharedClear\n});\n\nfunction createCollection(proto, objectOnly) {\n  function Collection(a) {\n    if (!this || this.constructor !== Collection) return new Collection(a);\n    this._keys = [];\n    this._values = [];\n    this._itp = []; // iteration pointers\n    this.objectOnly = objectOnly;\n\n    // parse initial iterable argument passed\n    if (a) init.call(this, a);\n  }\n\n  // define size for non object-only collections\n  if (!objectOnly) {\n    defineProperty(proto, 'size', {\n      get: sharedSize\n    });\n  }\n\n  // set prototype\n  proto.constructor = Collection;\n  Collection.prototype = proto;\n\n  return Collection;\n}\n\nfunction init(a) {\n  // init Set argument, like `[1,2,3,{}]`\n  if (this.add) a.forEach(this.add, this);\n  // init Map argument like `[[1,2], [{}, 4]]`\n  else a.forEach(function (a) {\n      this.set(a[0], a[1]);\n    }, this);\n}\n\nfunction sharedDelete(key) {\n  if (this.has(key)) {\n    this._keys.splice(i, 1);\n    this._values.splice(i, 1);\n    // update iteration pointers\n    this._itp.forEach(function (p) {\n      if (i < p[0]) p[0]--;\n    });\n  }\n  // Aurora here does it while Canary doesn't\n  return i > -1;\n}\n\nfunction sharedGet(key) {\n  return this.has(key) ? this._values[i] : undefined;\n}\n\nfunction has(list, key) {\n  if (this.objectOnly && key !== Object(key)) throw new TypeError('Invalid value used as weak collection key');\n  // NaN or 0 passed\n  if (key !== key || key === 0) for (i = list.length; i-- && !is(list[i], key);) {} // eslint-disable-line\n  else i = list.indexOf(key);\n  return i > -1;\n}\n\nfunction mapHas(value) {\n  return has.call(this, this._keys, value);\n}\n\nfunction sharedSet(key, value) {\n  this.has(key) ? this._values[i] = value : this._values[this._keys.push(key) - 1] = value;\n  return this;\n}\n\nfunction sharedClear() {\n  (this._keys || 0).length = this._values.length = 0;\n}\n\nfunction sharedKeys() {\n  return sharedIterator(this._itp, this._keys);\n}\n\nfunction sharedValues() {\n  return sharedIterator(this._itp, this._values);\n}\n\nfunction mapEntries() {\n  return sharedIterator(this._itp, this._keys, this._values);\n}\n\nfunction sharedIterator(itp, array, array2) {\n  var p = [0];\n  var done = false;\n  itp.push(p);\n  return {\n    next: function next() {\n      var v;\n      var k = p[0];\n      if (!done && k < array.length) {\n        v = array2 ? [array[k], array2[k]] : array[k];\n        p[0]++;\n      } else {\n        done = true;\n        itp.splice(itp.indexOf(p), 1);\n      }\n      return { done: done, value: v };\n    }\n  };\n}\n\nfunction sharedSize() {\n  return this._values.length;\n}\n\nfunction sharedForEach(callback, context) {\n  var it = this.entries();\n  for (;;) {\n    var r = it.next();\n    if (r.done) break;\n    callback.call(context, r.value[1], r.value[0], this);\n  }\n}\n\nvar MapImpl = typeof Map === 'undefined' || !Map.prototype.values ? MapPolyfill : Map;\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html\n *\n * @extends {javascript.util.Map}\n * @constructor\n * @private\n */\nfunction HashMap() {\n  /**\n   * @type {Object}\n   * @private\n  */\n  this.map_ = new MapImpl();\n}\nHashMap.prototype = new Map$1();\n\n/**\n * @override\n */\nHashMap.prototype.get = function (key) {\n  return this.map_.get(key) || null;\n};\n\n/**\n * @override\n */\nHashMap.prototype.put = function (key, value) {\n  this.map_.set(key, value);\n  return value;\n};\n\n/**\n * @override\n */\nHashMap.prototype.values = function () {\n  var arrayList = new ArrayList();\n  var it = this.map_.values();\n  var o = it.next();\n  while (!o.done) {\n    arrayList.add(o.value);\n    o = it.next();\n  }\n  return arrayList;\n};\n\n/**\n * @override\n */\nHashMap.prototype.entrySet = function () {\n  var hashSet = new HashSet();\n  this.map_.entries().forEach(function (entry) {\n    return hashSet.add(entry);\n  });\n  return hashSet;\n};\n\n/**\n * @override\n */\nHashMap.prototype.size = function () {\n  return this.map_.size();\n};\n\nfunction PrecisionModel() {\n\tthis._modelType = null;\n\tthis._scale = null;\n\tif (arguments.length === 0) {\n\t\tthis._modelType = PrecisionModel.FLOATING;\n\t} else if (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Type) {\n\t\t\tvar modelType = arguments[0];\n\t\t\tthis._modelType = modelType;\n\t\t\tif (modelType === PrecisionModel.FIXED) {\n\t\t\t\tthis.setScale(1.0);\n\t\t\t}\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tvar scale = arguments[0];\n\t\t\tthis._modelType = PrecisionModel.FIXED;\n\t\t\tthis.setScale(scale);\n\t\t} else if (arguments[0] instanceof PrecisionModel) {\n\t\t\tvar pm = arguments[0];\n\t\t\tthis._modelType = pm._modelType;\n\t\t\tthis._scale = pm._scale;\n\t\t}\n\t}\n}\nextend(PrecisionModel.prototype, {\n\tequals: function equals(other) {\n\t\tif (!(other instanceof PrecisionModel)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar otherPrecisionModel = other;\n\t\treturn this._modelType === otherPrecisionModel._modelType && this._scale === otherPrecisionModel._scale;\n\t},\n\tcompareTo: function compareTo(o) {\n\t\tvar other = o;\n\t\tvar sigDigits = this.getMaximumSignificantDigits();\n\t\tvar otherSigDigits = other.getMaximumSignificantDigits();\n\t\treturn new Integer(sigDigits).compareTo(new Integer(otherSigDigits));\n\t},\n\tgetScale: function getScale() {\n\t\treturn this._scale;\n\t},\n\tisFloating: function isFloating() {\n\t\treturn this._modelType === PrecisionModel.FLOATING || this._modelType === PrecisionModel.FLOATING_SINGLE;\n\t},\n\tgetType: function getType() {\n\t\treturn this._modelType;\n\t},\n\ttoString: function toString() {\n\t\tvar description = \"UNKNOWN\";\n\t\tif (this._modelType === PrecisionModel.FLOATING) {\n\t\t\tdescription = \"Floating\";\n\t\t} else if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n\t\t\tdescription = \"Floating-Single\";\n\t\t} else if (this._modelType === PrecisionModel.FIXED) {\n\t\t\tdescription = \"Fixed (Scale=\" + this.getScale() + \")\";\n\t\t}\n\t\treturn description;\n\t},\n\tmakePrecise: function makePrecise() {\n\t\tif (typeof arguments[0] === \"number\") {\n\t\t\tvar val = arguments[0];\n\t\t\tif (Double.isNaN(val)) return val;\n\t\t\tif (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n\t\t\t\tvar floatSingleVal = val;\n\t\t\t\treturn floatSingleVal;\n\t\t\t}\n\t\t\tif (this._modelType === PrecisionModel.FIXED) {\n\t\t\t\treturn Math.round(val * this._scale) / this._scale;\n\t\t\t}\n\t\t\treturn val;\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tvar coord = arguments[0];\n\t\t\tif (this._modelType === PrecisionModel.FLOATING) return null;\n\t\t\tcoord.x = this.makePrecise(coord.x);\n\t\t\tcoord.y = this.makePrecise(coord.y);\n\t\t}\n\t},\n\tgetMaximumSignificantDigits: function getMaximumSignificantDigits() {\n\t\tvar maxSigDigits = 16;\n\t\tif (this._modelType === PrecisionModel.FLOATING) {\n\t\t\tmaxSigDigits = 16;\n\t\t} else if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n\t\t\tmaxSigDigits = 6;\n\t\t} else if (this._modelType === PrecisionModel.FIXED) {\n\t\t\tmaxSigDigits = 1 + Math.trunc(Math.ceil(Math.log(this.getScale()) / Math.log(10)));\n\t\t}\n\t\treturn maxSigDigits;\n\t},\n\tsetScale: function setScale(scale) {\n\t\tthis._scale = Math.abs(scale);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Serializable, Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PrecisionModel;\n\t}\n});\nPrecisionModel.mostPrecise = function (pm1, pm2) {\n\tif (pm1.compareTo(pm2) >= 0) return pm1;\n\treturn pm2;\n};\nfunction Type() {\n\tthis._name = null;\n\tvar name = arguments[0];\n\tthis._name = name;\n\tType.nameToTypeMap.put(name, this);\n}\nextend(Type.prototype, {\n\treadResolve: function readResolve() {\n\t\treturn Type.nameToTypeMap.get(this._name);\n\t},\n\ttoString: function toString() {\n\t\treturn this._name;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Type;\n\t}\n});\nType.serialVersionUID = -5528602631731589822;\nType.nameToTypeMap = new HashMap();\nPrecisionModel.Type = Type;\nPrecisionModel.serialVersionUID = 7777263578777803835;\nPrecisionModel.FIXED = new Type(\"FIXED\");\nPrecisionModel.FLOATING = new Type(\"FLOATING\");\nPrecisionModel.FLOATING_SINGLE = new Type(\"FLOATING SINGLE\");\nPrecisionModel.maximumPreciseValue = 9007199254740992.0;\n\nfunction GeometryFactory() {\n\tthis._precisionModel = null;\n\tthis._coordinateSequenceFactory = null;\n\tthis._SRID = null;\n\tif (arguments.length === 0) {\n\t\tGeometryFactory.call(this, new PrecisionModel(), 0);\n\t} else if (arguments.length === 1) {\n\t\tif (hasInterface(arguments[0], CoordinateSequenceFactory)) {\n\t\t\tvar coordinateSequenceFactory = arguments[0];\n\t\t\tGeometryFactory.call(this, new PrecisionModel(), 0, coordinateSequenceFactory);\n\t\t} else if (arguments[0] instanceof PrecisionModel) {\n\t\t\tvar precisionModel = arguments[0];\n\t\t\tGeometryFactory.call(this, precisionModel, 0, GeometryFactory.getDefaultCoordinateSequenceFactory());\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tvar _precisionModel = arguments[0],\n\t\t    SRID = arguments[1];\n\t\tGeometryFactory.call(this, _precisionModel, SRID, GeometryFactory.getDefaultCoordinateSequenceFactory());\n\t} else if (arguments.length === 3) {\n\t\tvar _precisionModel2 = arguments[0],\n\t\t    _SRID = arguments[1],\n\t\t    _coordinateSequenceFactory = arguments[2];\n\t\tthis._precisionModel = _precisionModel2;\n\t\tthis._coordinateSequenceFactory = _coordinateSequenceFactory;\n\t\tthis._SRID = _SRID;\n\t}\n}\nextend(GeometryFactory.prototype, {\n\ttoGeometry: function toGeometry(envelope) {\n\t\tif (envelope.isNull()) {\n\t\t\treturn this.createPoint();\n\t\t}\n\t\tif (envelope.getMinX() === envelope.getMaxX() && envelope.getMinY() === envelope.getMaxY()) {\n\t\t\treturn this.createPoint(new Coordinate(envelope.getMinX(), envelope.getMinY()));\n\t\t}\n\t\tif (envelope.getMinX() === envelope.getMaxX() || envelope.getMinY() === envelope.getMaxY()) {\n\t\t\treturn this.createLineString([new Coordinate(envelope.getMinX(), envelope.getMinY()), new Coordinate(envelope.getMaxX(), envelope.getMaxY())]);\n\t\t}\n\t\treturn this.createPolygon(this.createLinearRing([new Coordinate(envelope.getMinX(), envelope.getMinY()), new Coordinate(envelope.getMinX(), envelope.getMaxY()), new Coordinate(envelope.getMaxX(), envelope.getMaxY()), new Coordinate(envelope.getMaxX(), envelope.getMinY()), new Coordinate(envelope.getMinX(), envelope.getMinY())]), null);\n\t},\n\tcreateLineString: function createLineString() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createLineString(this.getCoordinateSequenceFactory().create([]));\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tvar coordinates = arguments[0];\n\t\t\t\treturn this.createLineString(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tvar _coordinates = arguments[0];\n\t\t\t\treturn new LineString(_coordinates, this);\n\t\t\t}\n\t\t}\n\t},\n\tcreateMultiLineString: function createMultiLineString() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new MultiLineString(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar lineStrings = arguments[0];\n\t\t\treturn new MultiLineString(lineStrings, this);\n\t\t}\n\t},\n\tbuildGeometry: function buildGeometry(geomList) {\n\t\tvar geomClass = null;\n\t\tvar isHeterogeneous = false;\n\t\tvar hasGeometryCollection = false;\n\t\tfor (var i = geomList.iterator(); i.hasNext();) {\n\t\t\tvar geom = i.next();\n\t\t\tvar partClass = geom.getClass();\n\t\t\tif (geomClass === null) {\n\t\t\t\tgeomClass = partClass;\n\t\t\t}\n\t\t\tif (partClass !== geomClass) {\n\t\t\t\tisHeterogeneous = true;\n\t\t\t}\n\t\t\tif (geom instanceof GeometryCollection) hasGeometryCollection = true;\n\t\t}\n\t\tif (geomClass === null) {\n\t\t\treturn this.createGeometryCollection();\n\t\t}\n\t\tif (isHeterogeneous || hasGeometryCollection) {\n\t\t\treturn this.createGeometryCollection(GeometryFactory.toGeometryArray(geomList));\n\t\t}\n\t\tvar geom0 = geomList.iterator().next();\n\t\tvar isCollection = geomList.size() > 1;\n\t\tif (isCollection) {\n\t\t\tif (geom0 instanceof Polygon) {\n\t\t\t\treturn this.createMultiPolygon(GeometryFactory.toPolygonArray(geomList));\n\t\t\t} else if (geom0 instanceof LineString) {\n\t\t\t\treturn this.createMultiLineString(GeometryFactory.toLineStringArray(geomList));\n\t\t\t} else if (geom0 instanceof Point) {\n\t\t\t\treturn this.createMultiPoint(GeometryFactory.toPointArray(geomList));\n\t\t\t}\n\t\t\tAssert.shouldNeverReachHere(\"Unhandled class: \" + geom0.getClass().getName());\n\t\t}\n\t\treturn geom0;\n\t},\n\tcreateMultiPointFromCoords: function createMultiPointFromCoords(coordinates) {\n\t\treturn this.createMultiPoint(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n\t},\n\tcreatePoint: function createPoint() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createPoint(this.getCoordinateSequenceFactory().create([]));\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tvar coordinate = arguments[0];\n\t\t\t\treturn this.createPoint(coordinate !== null ? this.getCoordinateSequenceFactory().create([coordinate]) : null);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tvar coordinates = arguments[0];\n\t\t\t\treturn new Point(coordinates, this);\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinateSequenceFactory: function getCoordinateSequenceFactory() {\n\t\treturn this._coordinateSequenceFactory;\n\t},\n\tcreatePolygon: function createPolygon() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createPolygon(null, null);\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tvar shell = arguments[0];\n\t\t\t\treturn this.createPolygon(this.createLinearRing(shell));\n\t\t\t} else if (arguments[0] instanceof Array) {\n\t\t\t\tvar _shell = arguments[0];\n\t\t\t\treturn this.createPolygon(this.createLinearRing(_shell));\n\t\t\t} else if (arguments[0] instanceof LinearRing) {\n\t\t\t\tvar _shell2 = arguments[0];\n\t\t\t\treturn this.createPolygon(_shell2, null);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _shell3 = arguments[0],\n\t\t\t    holes = arguments[1];\n\t\t\treturn new Polygon(_shell3, holes, this);\n\t\t}\n\t},\n\tgetSRID: function getSRID() {\n\t\treturn this._SRID;\n\t},\n\tcreateGeometryCollection: function createGeometryCollection() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new GeometryCollection(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar geometries = arguments[0];\n\t\t\treturn new GeometryCollection(geometries, this);\n\t\t}\n\t},\n\tcreateGeometry: function createGeometry(g) {\n\t\tvar editor = new GeometryEditor(this);\n\t\treturn editor.edit(g, {\n\t\t\tedit: function edit() {\n\t\t\t\tif (arguments.length === 2 && arguments[1] instanceof Geometry && hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\t\tvar coordSeq = arguments[0];\n\t\t\t\t\treturn this._coordinateSequenceFactory.create(coordSeq);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tgetPrecisionModel: function getPrecisionModel() {\n\t\treturn this._precisionModel;\n\t},\n\tcreateLinearRing: function createLinearRing() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createLinearRing(this.getCoordinateSequenceFactory().create([]));\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tvar coordinates = arguments[0];\n\t\t\t\treturn this.createLinearRing(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tvar _coordinates2 = arguments[0];\n\t\t\t\treturn new LinearRing(_coordinates2, this);\n\t\t\t}\n\t\t}\n\t},\n\tcreateMultiPolygon: function createMultiPolygon() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new MultiPolygon(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar polygons = arguments[0];\n\t\t\treturn new MultiPolygon(polygons, this);\n\t\t}\n\t},\n\tcreateMultiPoint: function createMultiPoint() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new MultiPoint(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tvar point = arguments[0];\n\t\t\t\treturn new MultiPoint(point, this);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tvar coordinates = arguments[0];\n\t\t\t\tif (coordinates === null) {\n\t\t\t\t\treturn this.createMultiPoint(new Array(0).fill(null));\n\t\t\t\t}\n\t\t\t\tvar points = new Array(coordinates.size()).fill(null);\n\t\t\t\tfor (var i = 0; i < coordinates.size(); i++) {\n\t\t\t\t\tvar ptSeq = this.getCoordinateSequenceFactory().create(1, coordinates.getDimension());\n\t\t\t\t\tCoordinateSequences.copy(coordinates, i, ptSeq, 0, 1);\n\t\t\t\t\tpoints[i] = this.createPoint(ptSeq);\n\t\t\t\t}\n\t\t\t\treturn this.createMultiPoint(points);\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryFactory;\n\t}\n});\nGeometryFactory.toMultiPolygonArray = function (multiPolygons) {\n\tvar multiPolygonArray = new Array(multiPolygons.size()).fill(null);\n\treturn multiPolygons.toArray(multiPolygonArray);\n};\nGeometryFactory.toGeometryArray = function (geometries) {\n\tif (geometries === null) return null;\n\tvar geometryArray = new Array(geometries.size()).fill(null);\n\treturn geometries.toArray(geometryArray);\n};\nGeometryFactory.getDefaultCoordinateSequenceFactory = function () {\n\treturn CoordinateArraySequenceFactory.instance();\n};\nGeometryFactory.toMultiLineStringArray = function (multiLineStrings) {\n\tvar multiLineStringArray = new Array(multiLineStrings.size()).fill(null);\n\treturn multiLineStrings.toArray(multiLineStringArray);\n};\nGeometryFactory.toLineStringArray = function (lineStrings) {\n\tvar lineStringArray = new Array(lineStrings.size()).fill(null);\n\treturn lineStrings.toArray(lineStringArray);\n};\nGeometryFactory.toMultiPointArray = function (multiPoints) {\n\tvar multiPointArray = new Array(multiPoints.size()).fill(null);\n\treturn multiPoints.toArray(multiPointArray);\n};\nGeometryFactory.toLinearRingArray = function (linearRings) {\n\tvar linearRingArray = new Array(linearRings.size()).fill(null);\n\treturn linearRings.toArray(linearRingArray);\n};\nGeometryFactory.toPointArray = function (points) {\n\tvar pointArray = new Array(points.size()).fill(null);\n\treturn points.toArray(pointArray);\n};\nGeometryFactory.toPolygonArray = function (polygons) {\n\tvar polygonArray = new Array(polygons.size()).fill(null);\n\treturn polygons.toArray(polygonArray);\n};\nGeometryFactory.createPointFromInternalCoord = function (coord, exemplar) {\n\texemplar.getPrecisionModel().makePrecise(coord);\n\treturn exemplar.getFactory().createPoint(coord);\n};\nGeometryFactory.serialVersionUID = -6820524753094095635;\n\nvar regExes = {\n  'typeStr': /^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,\n  'emptyTypeStr': /^\\s*(\\w+)\\s*EMPTY\\s*$/,\n  'spaces': /\\s+/,\n  'parenComma': /\\)\\s*,\\s*\\(/,\n  'doubleParenComma': /\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/, // can't use {2} here\n  'trimParens': /^\\s*\\(?(.*?)\\)?\\s*$/\n\n  /**\n   * Class for reading and writing Well-Known Text.\n   *\n   * NOTE: Adapted from OpenLayers 2.11 implementation.\n   */\n\n  /** Create a new parser for WKT\n   *\n   * @param {GeometryFactory} geometryFactory\n   * @return An instance of WKTParser.\n   * @constructor\n   * @private\n   */\n};function WKTParser(geometryFactory) {\n  this.geometryFactory = geometryFactory || new GeometryFactory();\n  this.precisionModel = this.geometryFactory.getPrecisionModel();\n}\n\nextend(WKTParser.prototype, {\n  /**\n   * Deserialize a WKT string and return a geometry. Supports WKT for POINT,\n   * MULTIPOINT, LINESTRING, LINEARRING, MULTILINESTRING, POLYGON, MULTIPOLYGON,\n   * and GEOMETRYCOLLECTION.\n   *\n   * @param {String} wkt A WKT string.\n   * @return {Geometry} A geometry instance.\n   * @private\n   */\n  read: function read(wkt) {\n    var geometry, type, str;\n    wkt = wkt.replace(/[\\n\\r]/g, ' ');\n    var matches = regExes.typeStr.exec(wkt);\n    if (wkt.search('EMPTY') !== -1) {\n      matches = regExes.emptyTypeStr.exec(wkt);\n      matches[2] = undefined;\n    }\n    if (matches) {\n      type = matches[1].toLowerCase();\n      str = matches[2];\n      if (parse[type]) {\n        geometry = parse[type].call(this, str);\n      }\n    }\n\n    if (geometry === undefined) throw new Error('Could not parse WKT ' + wkt);\n\n    return geometry;\n  },\n\n\n  /**\n   * Serialize a geometry into a WKT string.\n   *\n   * @param {Geometry} geometry A feature or array of features.\n   * @return {String} The WKT string representation of the input geometries.\n   * @private\n   */\n  write: function write(geometry) {\n    return this.extractGeometry(geometry);\n  },\n\n\n  /**\n   * Entry point to construct the WKT for a single Geometry object.\n   *\n   * @param {Geometry} geometry\n   * @return {String} A WKT string of representing the geometry.\n   * @private\n   */\n  extractGeometry: function extractGeometry(geometry) {\n    var type = geometry.getGeometryType().toLowerCase();\n    if (!extract[type]) {\n      return null;\n    }\n    var wktType = type.toUpperCase();\n    var data;\n    if (geometry.isEmpty()) {\n      data = wktType + ' EMPTY';\n    } else {\n      data = wktType + '(' + extract[type].call(this, geometry) + ')';\n    }\n    return data;\n  }\n});\n\n/**\n * Object with properties corresponding to the geometry types. Property values\n * are functions that do the actual data extraction.\n * @private\n */\nvar extract = {\n  coordinate: function coordinate(_coordinate) {\n    return _coordinate.x + ' ' + _coordinate.y;\n  },\n\n\n  /**\n   * Return a space delimited string of point coordinates.\n   *\n   * @param {Point}\n   *          point\n   * @return {String} A string of coordinates representing the point.\n   */\n  point: function point(_point) {\n    return extract.coordinate.call(this, _point._coordinates._coordinates[0]);\n  },\n\n\n  /**\n   * Return a comma delimited string of point coordinates from a multipoint.\n   *\n   * @param {MultiPoint}\n   *          multipoint\n   * @return {String} A string of point coordinate strings representing the\n   *         multipoint.\n   */\n  multipoint: function multipoint(_multipoint) {\n    var array = [];\n    for (var i = 0, len = _multipoint._geometries.length; i < len; ++i) {\n      array.push('(' + extract.point.call(this, _multipoint._geometries[i]) + ')');\n    }\n    return array.join(',');\n  },\n\n\n  /**\n   * Return a comma delimited string of point coordinates from a line.\n   *\n   * @param {LineString} linestring\n   * @return {String} A string of point coordinate strings representing the linestring.\n   */\n  linestring: function linestring(_linestring) {\n    var array = [];\n    for (var i = 0, len = _linestring._points._coordinates.length; i < len; ++i) {\n      array.push(extract.coordinate.call(this, _linestring._points._coordinates[i]));\n    }\n    return array.join(',');\n  },\n  linearring: function linearring(_linearring) {\n    var array = [];\n    for (var i = 0, len = _linearring._points._coordinates.length; i < len; ++i) {\n      array.push(extract.coordinate.call(this, _linearring._points._coordinates[i]));\n    }\n    return array.join(',');\n  },\n\n\n  /**\n   * Return a comma delimited string of linestring strings from a\n   * multilinestring.\n   *\n   * @param {MultiLineString} multilinestring\n   * @return {String} A string of of linestring strings representing the multilinestring.\n   */\n  multilinestring: function multilinestring(_multilinestring) {\n    var array = [];\n    for (var i = 0, len = _multilinestring._geometries.length; i < len; ++i) {\n      array.push('(' + extract.linestring.call(this, _multilinestring._geometries[i]) + ')');\n    }\n    return array.join(',');\n  },\n\n\n  /**\n   * Return a comma delimited string of linear ring arrays from a polygon.\n   *\n   * @param {Polygon} polygon\n   * @return {String} An array of linear ring arrays representing the polygon.\n   */\n  polygon: function polygon(_polygon) {\n    var array = [];\n    array.push('(' + extract.linestring.call(this, _polygon._shell) + ')');\n    for (var i = 0, len = _polygon._holes.length; i < len; ++i) {\n      array.push('(' + extract.linestring.call(this, _polygon._holes[i]) + ')');\n    }\n    return array.join(',');\n  },\n\n\n  /**\n   * Return an array of polygon arrays from a multipolygon.\n   *\n   * @param {MultiPolygon} multipolygon\n   * @return {String} An array of polygon arrays representing the multipolygon.\n   */\n  multipolygon: function multipolygon(_multipolygon) {\n    var array = [];\n    for (var i = 0, len = _multipolygon._geometries.length; i < len; ++i) {\n      array.push('(' + extract.polygon.call(this, _multipolygon._geometries[i]) + ')');\n    }\n    return array.join(',');\n  },\n\n\n  /**\n   * Return the WKT portion between 'GEOMETRYCOLLECTION(' and ')' for an\n   * geometrycollection.\n   *\n   * @param {GeometryCollection} collection\n   * @return {String} internal WKT representation of the collection.\n   */\n  geometrycollection: function geometrycollection(collection) {\n    var array = [];\n    for (var i = 0, len = collection._geometries.length; i < len; ++i) {\n      array.push(this.extractGeometry(collection._geometries[i]));\n    }\n    return array.join(',');\n  }\n};\n\n/**\n * Object with properties corresponding to the geometry types. Property values\n * are functions that do the actual parsing.\n * @private\n */\nvar parse = {\n  coord: function coord(str) {\n    var coords = str.trim().split(regExes.spaces);\n    var coord = new Coordinate(Number.parseFloat(coords[0]), Number.parseFloat(coords[1]));\n    this.precisionModel.makePrecise(coord);\n    return coord;\n  },\n\n\n  /**\n   * Return point geometry given a point WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the point.\n   * @return {Point} A point geometry.\n   * @private\n   */\n  point: function point(str) {\n    if (str === undefined) return this.geometryFactory.createPoint();\n    return this.geometryFactory.createPoint(parse.coord.call(this, str));\n  },\n\n\n  /**\n   * Return a multipoint geometry given a multipoint WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multipoint.\n   * @return {Point} A multipoint feature.\n   * @private\n   */\n  multipoint: function multipoint(str) {\n    if (str === undefined) return this.geometryFactory.createMultiPoint();\n    var point;\n    var points = str.trim().split(',');\n    var components = [];\n    for (var i = 0, len = points.length; i < len; ++i) {\n      point = points[i].replace(regExes.trimParens, '$1');\n      components.push(parse.point.call(this, point));\n    }\n    return this.geometryFactory.createMultiPoint(components);\n  },\n\n\n  /**\n   * Return a linestring geometry given a linestring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the linestring.\n   * @return {LineString} A linestring geometry.\n   * @private\n   */\n  linestring: function linestring(str) {\n    if (str === undefined) {\n      return this.geometryFactory.createLineString();\n    }\n\n    var points = str.trim().split(',');\n    var components = [];\n    for (var i = 0, len = points.length; i < len; ++i) {\n      components.push(parse.coord.call(this, points[i]));\n    }\n    return this.geometryFactory.createLineString(components);\n  },\n\n\n  /**\n   * Return a linearring geometry given a linearring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the linearring.\n   * @return {LinearRing} A linearring geometry.\n   * @private\n   */\n  linearring: function linearring(str) {\n    if (str === undefined) {\n      return this.geometryFactory.createLinearRing();\n    }\n\n    var points = str.trim().split(',');\n    var components = [];\n    for (var i = 0, len = points.length; i < len; ++i) {\n      components.push(parse.coord.call(this, points[i]));\n    }\n    return this.geometryFactory.createLinearRing(components);\n  },\n\n\n  /**\n   * Return a multilinestring geometry given a multilinestring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multilinestring.\n   * @return {MultiLineString} A multilinestring geometry.\n   * @private\n   */\n  multilinestring: function multilinestring(str) {\n    if (str === undefined) {\n      return this.geometryFactory.createMultiLineString();\n    }\n\n    var line;\n    var lines = str.trim().split(regExes.parenComma);\n    var components = [];\n    for (var i = 0, len = lines.length; i < len; ++i) {\n      line = lines[i].replace(regExes.trimParens, '$1');\n      components.push(parse.linestring.call(this, line));\n    }\n    return this.geometryFactory.createMultiLineString(components);\n  },\n\n\n  /**\n   * Return a polygon geometry given a polygon WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the polygon.\n   * @return {Polygon} A polygon geometry.\n   * @private\n   */\n  polygon: function polygon(str) {\n    if (str === undefined) {\n      return this.geometryFactory.createPolygon();\n    }\n\n    var ring, linestring, linearring;\n    var rings = str.trim().split(regExes.parenComma);\n    var shell;\n    var holes = [];\n    for (var i = 0, len = rings.length; i < len; ++i) {\n      ring = rings[i].replace(regExes.trimParens, '$1');\n      linestring = parse.linestring.call(this, ring);\n      linearring = this.geometryFactory.createLinearRing(linestring._points);\n      if (i === 0) {\n        shell = linearring;\n      } else {\n        holes.push(linearring);\n      }\n    }\n    return this.geometryFactory.createPolygon(shell, holes);\n  },\n\n\n  /**\n   * Return a multipolygon geometry given a multipolygon WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multipolygon.\n   * @return {MultiPolygon} A multipolygon geometry.\n   * @private\n   */\n  multipolygon: function multipolygon(str) {\n    if (str === undefined) {\n      return this.geometryFactory.createMultiPolygon();\n    }\n\n    var polygon;\n    var polygons = str.trim().split(regExes.doubleParenComma);\n    var components = [];\n    for (var i = 0, len = polygons.length; i < len; ++i) {\n      polygon = polygons[i].replace(regExes.trimParens, '$1');\n      components.push(parse.polygon.call(this, polygon));\n    }\n    return this.geometryFactory.createMultiPolygon(components);\n  },\n\n\n  /**\n   * Return a geometrycollection given a geometrycollection WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the geometrycollection.\n   * @return {GeometryCollection}\n   * @private\n   */\n  geometrycollection: function geometrycollection(str) {\n    if (str === undefined) {\n      return this.geometryFactory.createGeometryCollection();\n    }\n\n    // separate components of the collection with |\n    str = str.replace(/,\\s*([A-Za-z])/g, '|$1');\n    var wktArray = str.trim().split('|');\n    var components = [];\n    for (var i = 0, len = wktArray.length; i < len; ++i) {\n      components.push(this.read(wktArray[i]));\n    }\n    return this.geometryFactory.createGeometryCollection(components);\n  }\n};\n\n/**\n * @module org/locationtech/jts/io/WKTWriter\n */\n\n/**\n * Writes the Well-Known Text representation of a {@link Geometry}. The\n * Well-Known Text format is defined in the <A\n * HREF=\"http://www.opengis.org/techno/specs.htm\"> OGC Simple Features\n * Specification for SQL</A>.\n * <p>\n * The <code>WKTWriter</code> outputs coordinates rounded to the precision\n * model. Only the maximum number of decimal places necessary to represent the\n * ordinates to the required precision will be output.\n * <p>\n * The SFS WKT spec does not define a special tag for {@link LinearRing}s.\n * Under the spec, rings are output as <code>LINESTRING</code>s.\n */\n\n/**\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nfunction WKTWriter(geometryFactory) {\n  this.parser = new WKTParser(geometryFactory);\n}\n\nextend(WKTWriter.prototype, {\n  /**\n   * Converts a <code>Geometry</code> to its Well-known Text representation.\n   *\n   * @param {Geometry} geometry a <code>Geometry</code> to process.\n   * @return {string} a <Geometry Tagged Text> string (see the OpenGIS Simple\n   *         Features Specification).\n   * @memberof module:org/locationtech/jts/io/WKTWriter#\n   */\n  write: function write(geometry) {\n    return this.parser.write(geometry);\n  }\n});\n\nextend(WKTWriter, {\n  /**\n   * Generates the WKT for a <tt>LINESTRING</tt> specified by two\n   * {@link Coordinate}s.\n   *\n   * @param p0 the first coordinate.\n   * @param p1 the second coordinate.\n   *\n   * @return the WKT.\n   * @private\n   */\n  toLineString: function toLineString(p0, p1) {\n    if (arguments.length !== 2) {\n      throw new Error('Not implemented');\n    }\n\n    return 'LINESTRING ( ' + p0.x + ' ' + p0.y + ', ' + p1.x + ' ' + p1.y + ' )';\n  }\n});\n\nfunction LineIntersector() {\n\tthis._result = null;\n\tthis._inputLines = Array(2).fill().map(function () {\n\t\treturn Array(2);\n\t});\n\tthis._intPt = new Array(2).fill(null);\n\tthis._intLineIndex = null;\n\tthis._isProper = null;\n\tthis._pa = null;\n\tthis._pb = null;\n\tthis._precisionModel = null;\n\tthis._intPt[0] = new Coordinate();\n\tthis._intPt[1] = new Coordinate();\n\tthis._pa = this._intPt[0];\n\tthis._pb = this._intPt[1];\n\tthis._result = 0;\n}\nextend(LineIntersector.prototype, {\n\tgetIndexAlongSegment: function getIndexAlongSegment(segmentIndex, intIndex) {\n\t\tthis.computeIntLineIndex();\n\t\treturn this._intLineIndex[segmentIndex][intIndex];\n\t},\n\tgetTopologySummary: function getTopologySummary() {\n\t\tvar catBuilder = new StringBuilder();\n\t\tif (this.isEndPoint()) catBuilder.append(\" endpoint\");\n\t\tif (this._isProper) catBuilder.append(\" proper\");\n\t\tif (this.isCollinear()) catBuilder.append(\" collinear\");\n\t\treturn catBuilder.toString();\n\t},\n\tcomputeIntersection: function computeIntersection(p1, p2, p3, p4) {\n\t\tthis._inputLines[0][0] = p1;\n\t\tthis._inputLines[0][1] = p2;\n\t\tthis._inputLines[1][0] = p3;\n\t\tthis._inputLines[1][1] = p4;\n\t\tthis._result = this.computeIntersect(p1, p2, p3, p4);\n\t},\n\tgetIntersectionNum: function getIntersectionNum() {\n\t\treturn this._result;\n\t},\n\tcomputeIntLineIndex: function computeIntLineIndex() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this._intLineIndex === null) {\n\t\t\t\tthis._intLineIndex = Array(2).fill().map(function () {\n\t\t\t\t\treturn Array(2);\n\t\t\t\t});\n\t\t\t\tthis.computeIntLineIndex(0);\n\t\t\t\tthis.computeIntLineIndex(1);\n\t\t\t}\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar segmentIndex = arguments[0];\n\t\t\tvar dist0 = this.getEdgeDistance(segmentIndex, 0);\n\t\t\tvar dist1 = this.getEdgeDistance(segmentIndex, 1);\n\t\t\tif (dist0 > dist1) {\n\t\t\t\tthis._intLineIndex[segmentIndex][0] = 0;\n\t\t\t\tthis._intLineIndex[segmentIndex][1] = 1;\n\t\t\t} else {\n\t\t\t\tthis._intLineIndex[segmentIndex][0] = 1;\n\t\t\t\tthis._intLineIndex[segmentIndex][1] = 0;\n\t\t\t}\n\t\t}\n\t},\n\tisProper: function isProper() {\n\t\treturn this.hasIntersection() && this._isProper;\n\t},\n\tsetPrecisionModel: function setPrecisionModel(precisionModel) {\n\t\tthis._precisionModel = precisionModel;\n\t},\n\tisInteriorIntersection: function isInteriorIntersection() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.isInteriorIntersection(0)) return true;\n\t\t\tif (this.isInteriorIntersection(1)) return true;\n\t\t\treturn false;\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar inputLineIndex = arguments[0];\n\t\t\tfor (var i = 0; i < this._result; i++) {\n\t\t\t\tif (!(this._intPt[i].equals2D(this._inputLines[inputLineIndex][0]) || this._intPt[i].equals2D(this._inputLines[inputLineIndex][1]))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t},\n\tgetIntersection: function getIntersection(intIndex) {\n\t\treturn this._intPt[intIndex];\n\t},\n\tisEndPoint: function isEndPoint() {\n\t\treturn this.hasIntersection() && !this._isProper;\n\t},\n\thasIntersection: function hasIntersection() {\n\t\treturn this._result !== LineIntersector.NO_INTERSECTION;\n\t},\n\tgetEdgeDistance: function getEdgeDistance(segmentIndex, intIndex) {\n\t\tvar dist = LineIntersector.computeEdgeDistance(this._intPt[intIndex], this._inputLines[segmentIndex][0], this._inputLines[segmentIndex][1]);\n\t\treturn dist;\n\t},\n\tisCollinear: function isCollinear() {\n\t\treturn this._result === LineIntersector.COLLINEAR_INTERSECTION;\n\t},\n\ttoString: function toString() {\n\t\treturn WKTWriter.toLineString(this._inputLines[0][0], this._inputLines[0][1]) + \" - \" + WKTWriter.toLineString(this._inputLines[1][0], this._inputLines[1][1]) + this.getTopologySummary();\n\t},\n\tgetEndpoint: function getEndpoint(segmentIndex, ptIndex) {\n\t\treturn this._inputLines[segmentIndex][ptIndex];\n\t},\n\tisIntersection: function isIntersection(pt) {\n\t\tfor (var i = 0; i < this._result; i++) {\n\t\t\tif (this._intPt[i].equals2D(pt)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tgetIntersectionAlongSegment: function getIntersectionAlongSegment(segmentIndex, intIndex) {\n\t\tthis.computeIntLineIndex();\n\t\treturn this._intPt[this._intLineIndex[segmentIndex][intIndex]];\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineIntersector;\n\t}\n});\nLineIntersector.computeEdgeDistance = function (p, p0, p1) {\n\tvar dx = Math.abs(p1.x - p0.x);\n\tvar dy = Math.abs(p1.y - p0.y);\n\tvar dist = -1.0;\n\tif (p.equals(p0)) {\n\t\tdist = 0.0;\n\t} else if (p.equals(p1)) {\n\t\tif (dx > dy) dist = dx;else dist = dy;\n\t} else {\n\t\tvar pdx = Math.abs(p.x - p0.x);\n\t\tvar pdy = Math.abs(p.y - p0.y);\n\t\tif (dx > dy) dist = pdx;else dist = pdy;\n\t\tif (dist === 0.0 && !p.equals(p0)) {\n\t\t\tdist = Math.max(pdx, pdy);\n\t\t}\n\t}\n\tAssert.isTrue(!(dist === 0.0 && !p.equals(p0)), \"Bad distance calculation\");\n\treturn dist;\n};\nLineIntersector.nonRobustComputeEdgeDistance = function (p, p1, p2) {\n\tvar dx = p.x - p1.x;\n\tvar dy = p.y - p1.y;\n\tvar dist = Math.sqrt(dx * dx + dy * dy);\n\tAssert.isTrue(!(dist === 0.0 && !p.equals(p1)), \"Invalid distance calculation\");\n\treturn dist;\n};\nLineIntersector.DONT_INTERSECT = 0;\nLineIntersector.DO_INTERSECT = 1;\nLineIntersector.COLLINEAR = 2;\nLineIntersector.NO_INTERSECTION = 0;\nLineIntersector.POINT_INTERSECTION = 1;\nLineIntersector.COLLINEAR_INTERSECTION = 2;\n\nfunction RobustLineIntersector() {\n\tLineIntersector.apply(this);\n}\ninherits(RobustLineIntersector, LineIntersector);\nextend(RobustLineIntersector.prototype, {\n\tisInSegmentEnvelopes: function isInSegmentEnvelopes(intPt) {\n\t\tvar env0 = new Envelope(this._inputLines[0][0], this._inputLines[0][1]);\n\t\tvar env1 = new Envelope(this._inputLines[1][0], this._inputLines[1][1]);\n\t\treturn env0.contains(intPt) && env1.contains(intPt);\n\t},\n\tcomputeIntersection: function computeIntersection() {\n\t\tif (arguments.length === 3) {\n\t\t\tvar p = arguments[0],\n\t\t\t    p1 = arguments[1],\n\t\t\t    p2 = arguments[2];\n\t\t\tthis._isProper = false;\n\t\t\tif (Envelope.intersects(p1, p2, p)) {\n\t\t\t\tif (Orientation.index(p1, p2, p) === 0 && Orientation.index(p2, p1, p) === 0) {\n\t\t\t\t\tthis._isProper = true;\n\t\t\t\t\tif (p.equals(p1) || p.equals(p2)) {\n\t\t\t\t\t\tthis._isProper = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis._result = LineIntersector.POINT_INTERSECTION;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._result = LineIntersector.NO_INTERSECTION;\n\t\t} else return LineIntersector.prototype.computeIntersection.apply(this, arguments);\n\t},\n\tnormalizeToMinimum: function normalizeToMinimum(n1, n2, n3, n4, normPt) {\n\t\tnormPt.x = this.smallestInAbsValue(n1.x, n2.x, n3.x, n4.x);\n\t\tnormPt.y = this.smallestInAbsValue(n1.y, n2.y, n3.y, n4.y);\n\t\tn1.x -= normPt.x;\n\t\tn1.y -= normPt.y;\n\t\tn2.x -= normPt.x;\n\t\tn2.y -= normPt.y;\n\t\tn3.x -= normPt.x;\n\t\tn3.y -= normPt.y;\n\t\tn4.x -= normPt.x;\n\t\tn4.y -= normPt.y;\n\t},\n\tsafeHCoordinateIntersection: function safeHCoordinateIntersection(p1, p2, q1, q2) {\n\t\tvar intPt = null;\n\t\ttry {\n\t\t\tintPt = HCoordinate.intersection(p1, p2, q1, q2);\n\t\t} catch (e) {\n\t\t\tif (e instanceof NotRepresentableException) {\n\t\t\t\tintPt = RobustLineIntersector.nearestEndpoint(p1, p2, q1, q2);\n\t\t\t} else throw e;\n\t\t} finally {}\n\t\treturn intPt;\n\t},\n\tintersection: function intersection(p1, p2, q1, q2) {\n\t\tvar intPt = this.intersectionWithNormalization(p1, p2, q1, q2);\n\t\tif (!this.isInSegmentEnvelopes(intPt)) {\n\t\t\tintPt = new Coordinate(RobustLineIntersector.nearestEndpoint(p1, p2, q1, q2));\n\t\t}\n\t\tif (this._precisionModel !== null) {\n\t\t\tthis._precisionModel.makePrecise(intPt);\n\t\t}\n\t\treturn intPt;\n\t},\n\tsmallestInAbsValue: function smallestInAbsValue(x1, x2, x3, x4) {\n\t\tvar x = x1;\n\t\tvar xabs = Math.abs(x);\n\t\tif (Math.abs(x2) < xabs) {\n\t\t\tx = x2;\n\t\t\txabs = Math.abs(x2);\n\t\t}\n\t\tif (Math.abs(x3) < xabs) {\n\t\t\tx = x3;\n\t\t\txabs = Math.abs(x3);\n\t\t}\n\t\tif (Math.abs(x4) < xabs) {\n\t\t\tx = x4;\n\t\t}\n\t\treturn x;\n\t},\n\tcheckDD: function checkDD(p1, p2, q1, q2, intPt) {\n\t\tvar intPtDD = CGAlgorithmsDD.intersection(p1, p2, q1, q2);\n\t\tvar isIn = this.isInSegmentEnvelopes(intPtDD);\n\t\tSystem.out.println(\"DD in env = \" + isIn + \"  --------------------- \" + intPtDD);\n\t\tif (intPt.distance(intPtDD) > 0.0001) {\n\t\t\tSystem.out.println(\"Distance = \" + intPt.distance(intPtDD));\n\t\t}\n\t},\n\tintersectionWithNormalization: function intersectionWithNormalization(p1, p2, q1, q2) {\n\t\tvar n1 = new Coordinate(p1);\n\t\tvar n2 = new Coordinate(p2);\n\t\tvar n3 = new Coordinate(q1);\n\t\tvar n4 = new Coordinate(q2);\n\t\tvar normPt = new Coordinate();\n\t\tthis.normalizeToEnvCentre(n1, n2, n3, n4, normPt);\n\t\tvar intPt = this.safeHCoordinateIntersection(n1, n2, n3, n4);\n\t\tintPt.x += normPt.x;\n\t\tintPt.y += normPt.y;\n\t\treturn intPt;\n\t},\n\tcomputeCollinearIntersection: function computeCollinearIntersection(p1, p2, q1, q2) {\n\t\tvar p1q1p2 = Envelope.intersects(p1, p2, q1);\n\t\tvar p1q2p2 = Envelope.intersects(p1, p2, q2);\n\t\tvar q1p1q2 = Envelope.intersects(q1, q2, p1);\n\t\tvar q1p2q2 = Envelope.intersects(q1, q2, p2);\n\t\tif (p1q1p2 && p1q2p2) {\n\t\t\tthis._intPt[0] = q1;\n\t\t\tthis._intPt[1] = q2;\n\t\t\treturn LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (q1p1q2 && q1p2q2) {\n\t\t\tthis._intPt[0] = p1;\n\t\t\tthis._intPt[1] = p2;\n\t\t\treturn LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q1p2 && q1p1q2) {\n\t\t\tthis._intPt[0] = q1;\n\t\t\tthis._intPt[1] = p1;\n\t\t\treturn q1.equals(p1) && !p1q2p2 && !q1p2q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q1p2 && q1p2q2) {\n\t\t\tthis._intPt[0] = q1;\n\t\t\tthis._intPt[1] = p2;\n\t\t\treturn q1.equals(p2) && !p1q2p2 && !q1p1q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q2p2 && q1p1q2) {\n\t\t\tthis._intPt[0] = q2;\n\t\t\tthis._intPt[1] = p1;\n\t\t\treturn q2.equals(p1) && !p1q1p2 && !q1p2q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q2p2 && q1p2q2) {\n\t\t\tthis._intPt[0] = q2;\n\t\t\tthis._intPt[1] = p2;\n\t\t\treturn q2.equals(p2) && !p1q1p2 && !q1p1q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\treturn LineIntersector.NO_INTERSECTION;\n\t},\n\tnormalizeToEnvCentre: function normalizeToEnvCentre(n00, n01, n10, n11, normPt) {\n\t\tvar minX0 = n00.x < n01.x ? n00.x : n01.x;\n\t\tvar minY0 = n00.y < n01.y ? n00.y : n01.y;\n\t\tvar maxX0 = n00.x > n01.x ? n00.x : n01.x;\n\t\tvar maxY0 = n00.y > n01.y ? n00.y : n01.y;\n\t\tvar minX1 = n10.x < n11.x ? n10.x : n11.x;\n\t\tvar minY1 = n10.y < n11.y ? n10.y : n11.y;\n\t\tvar maxX1 = n10.x > n11.x ? n10.x : n11.x;\n\t\tvar maxY1 = n10.y > n11.y ? n10.y : n11.y;\n\t\tvar intMinX = minX0 > minX1 ? minX0 : minX1;\n\t\tvar intMaxX = maxX0 < maxX1 ? maxX0 : maxX1;\n\t\tvar intMinY = minY0 > minY1 ? minY0 : minY1;\n\t\tvar intMaxY = maxY0 < maxY1 ? maxY0 : maxY1;\n\t\tvar intMidX = (intMinX + intMaxX) / 2.0;\n\t\tvar intMidY = (intMinY + intMaxY) / 2.0;\n\t\tnormPt.x = intMidX;\n\t\tnormPt.y = intMidY;\n\t\tn00.x -= normPt.x;\n\t\tn00.y -= normPt.y;\n\t\tn01.x -= normPt.x;\n\t\tn01.y -= normPt.y;\n\t\tn10.x -= normPt.x;\n\t\tn10.y -= normPt.y;\n\t\tn11.x -= normPt.x;\n\t\tn11.y -= normPt.y;\n\t},\n\tcomputeIntersect: function computeIntersect(p1, p2, q1, q2) {\n\t\tthis._isProper = false;\n\t\tif (!Envelope.intersects(p1, p2, q1, q2)) return LineIntersector.NO_INTERSECTION;\n\t\tvar Pq1 = Orientation.index(p1, p2, q1);\n\t\tvar Pq2 = Orientation.index(p1, p2, q2);\n\t\tif (Pq1 > 0 && Pq2 > 0 || Pq1 < 0 && Pq2 < 0) {\n\t\t\treturn LineIntersector.NO_INTERSECTION;\n\t\t}\n\t\tvar Qp1 = Orientation.index(q1, q2, p1);\n\t\tvar Qp2 = Orientation.index(q1, q2, p2);\n\t\tif (Qp1 > 0 && Qp2 > 0 || Qp1 < 0 && Qp2 < 0) {\n\t\t\treturn LineIntersector.NO_INTERSECTION;\n\t\t}\n\t\tvar collinear = Pq1 === 0 && Pq2 === 0 && Qp1 === 0 && Qp2 === 0;\n\t\tif (collinear) {\n\t\t\treturn this.computeCollinearIntersection(p1, p2, q1, q2);\n\t\t}\n\t\tif (Pq1 === 0 || Pq2 === 0 || Qp1 === 0 || Qp2 === 0) {\n\t\t\tthis._isProper = false;\n\t\t\tif (p1.equals2D(q1) || p1.equals2D(q2)) {\n\t\t\t\tthis._intPt[0] = p1;\n\t\t\t} else if (p2.equals2D(q1) || p2.equals2D(q2)) {\n\t\t\t\tthis._intPt[0] = p2;\n\t\t\t} else if (Pq1 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(q1);\n\t\t\t} else if (Pq2 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(q2);\n\t\t\t} else if (Qp1 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(p1);\n\t\t\t} else if (Qp2 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(p2);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._isProper = true;\n\t\t\tthis._intPt[0] = this.intersection(p1, p2, q1, q2);\n\t\t}\n\t\treturn LineIntersector.POINT_INTERSECTION;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RobustLineIntersector;\n\t}\n});\nRobustLineIntersector.nearestEndpoint = function (p1, p2, q1, q2) {\n\tvar nearestPt = p1;\n\tvar minDist = Distance.pointToSegment(p1, q1, q2);\n\tvar dist = Distance.pointToSegment(p2, q1, q2);\n\tif (dist < minDist) {\n\t\tminDist = dist;\n\t\tnearestPt = p2;\n\t}\n\tdist = Distance.pointToSegment(q1, p1, p2);\n\tif (dist < minDist) {\n\t\tminDist = dist;\n\t\tnearestPt = q1;\n\t}\n\tdist = Distance.pointToSegment(q2, p1, p2);\n\tif (dist < minDist) {\n\t\tminDist = dist;\n\t\tnearestPt = q2;\n\t}\n\treturn nearestPt;\n};\n\nfunction LineSegment() {\n\tthis.p0 = null;\n\tthis.p1 = null;\n\tif (arguments.length === 0) {\n\t\tLineSegment.call(this, new Coordinate(), new Coordinate());\n\t} else if (arguments.length === 1) {\n\t\tvar ls = arguments[0];\n\t\tLineSegment.call(this, ls.p0, ls.p1);\n\t} else if (arguments.length === 2) {\n\t\tvar p0 = arguments[0],\n\t\t    p1 = arguments[1];\n\t\tthis.p0 = p0;\n\t\tthis.p1 = p1;\n\t} else if (arguments.length === 4) {\n\t\tvar x0 = arguments[0],\n\t\t    y0 = arguments[1],\n\t\t    x1 = arguments[2],\n\t\t    y1 = arguments[3];\n\t\tLineSegment.call(this, new Coordinate(x0, y0), new Coordinate(x1, y1));\n\t}\n}\nextend(LineSegment.prototype, {\n\tminX: function minX() {\n\t\treturn Math.min(this.p0.x, this.p1.x);\n\t},\n\torientationIndex: function orientationIndex() {\n\t\tif (arguments[0] instanceof LineSegment) {\n\t\t\tvar seg = arguments[0];\n\t\t\tvar orient0 = Orientation.index(this.p0, this.p1, seg.p0);\n\t\t\tvar orient1 = Orientation.index(this.p0, this.p1, seg.p1);\n\t\t\tif (orient0 >= 0 && orient1 >= 0) return Math.max(orient0, orient1);\n\t\t\tif (orient0 <= 0 && orient1 <= 0) return Math.max(orient0, orient1);\n\t\t\treturn 0;\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tvar p = arguments[0];\n\t\t\treturn Orientation.index(this.p0, this.p1, p);\n\t\t}\n\t},\n\ttoGeometry: function toGeometry(geomFactory) {\n\t\treturn geomFactory.createLineString([this.p0, this.p1]);\n\t},\n\tisVertical: function isVertical() {\n\t\treturn this.p0.x === this.p1.x;\n\t},\n\tequals: function equals(o) {\n\t\tif (!(o instanceof LineSegment)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar other = o;\n\t\treturn this.p0.equals(other.p0) && this.p1.equals(other.p1);\n\t},\n\tintersection: function intersection(line) {\n\t\tvar li = new RobustLineIntersector();\n\t\tli.computeIntersection(this.p0, this.p1, line.p0, line.p1);\n\t\tif (li.hasIntersection()) return li.getIntersection(0);\n\t\treturn null;\n\t},\n\tproject: function project() {\n\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\tvar p = arguments[0];\n\t\t\tif (p.equals(this.p0) || p.equals(this.p1)) return new Coordinate(p);\n\t\t\tvar r = this.projectionFactor(p);\n\t\t\tvar coord = new Coordinate();\n\t\t\tcoord.x = this.p0.x + r * (this.p1.x - this.p0.x);\n\t\t\tcoord.y = this.p0.y + r * (this.p1.y - this.p0.y);\n\t\t\treturn coord;\n\t\t} else if (arguments[0] instanceof LineSegment) {\n\t\t\tvar seg = arguments[0];\n\t\t\tvar pf0 = this.projectionFactor(seg.p0);\n\t\t\tvar pf1 = this.projectionFactor(seg.p1);\n\t\t\tif (pf0 >= 1.0 && pf1 >= 1.0) return null;\n\t\t\tif (pf0 <= 0.0 && pf1 <= 0.0) return null;\n\t\t\tvar newp0 = this.project(seg.p0);\n\t\t\tif (pf0 < 0.0) newp0 = this.p0;\n\t\t\tif (pf0 > 1.0) newp0 = this.p1;\n\t\t\tvar newp1 = this.project(seg.p1);\n\t\t\tif (pf1 < 0.0) newp1 = this.p0;\n\t\t\tif (pf1 > 1.0) newp1 = this.p1;\n\t\t\treturn new LineSegment(newp0, newp1);\n\t\t}\n\t},\n\tnormalize: function normalize() {\n\t\tif (this.p1.compareTo(this.p0) < 0) this.reverse();\n\t},\n\tangle: function angle() {\n\t\treturn Math.atan2(this.p1.y - this.p0.y, this.p1.x - this.p0.x);\n\t},\n\tgetCoordinate: function getCoordinate(i) {\n\t\tif (i === 0) return this.p0;\n\t\treturn this.p1;\n\t},\n\tdistancePerpendicular: function distancePerpendicular(p) {\n\t\treturn Distance.pointToLinePerpendicular(p, this.p0, this.p1);\n\t},\n\tminY: function minY() {\n\t\treturn Math.min(this.p0.y, this.p1.y);\n\t},\n\tmidPoint: function midPoint() {\n\t\treturn LineSegment.midPoint(this.p0, this.p1);\n\t},\n\tprojectionFactor: function projectionFactor(p) {\n\t\tif (p.equals(this.p0)) return 0.0;\n\t\tif (p.equals(this.p1)) return 1.0;\n\t\tvar dx = this.p1.x - this.p0.x;\n\t\tvar dy = this.p1.y - this.p0.y;\n\t\tvar len = dx * dx + dy * dy;\n\t\tif (len <= 0.0) return Double.NaN;\n\t\tvar r = ((p.x - this.p0.x) * dx + (p.y - this.p0.y) * dy) / len;\n\t\treturn r;\n\t},\n\tclosestPoints: function closestPoints(line) {\n\t\tvar intPt = this.intersection(line);\n\t\tif (intPt !== null) {\n\t\t\treturn [intPt, intPt];\n\t\t}\n\t\tvar closestPt = new Array(2).fill(null);\n\t\tvar minDistance = Double.MAX_VALUE;\n\t\tvar dist = null;\n\t\tvar close00 = this.closestPoint(line.p0);\n\t\tminDistance = close00.distance(line.p0);\n\t\tclosestPt[0] = close00;\n\t\tclosestPt[1] = line.p0;\n\t\tvar close01 = this.closestPoint(line.p1);\n\t\tdist = close01.distance(line.p1);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t\tclosestPt[0] = close01;\n\t\t\tclosestPt[1] = line.p1;\n\t\t}\n\t\tvar close10 = line.closestPoint(this.p0);\n\t\tdist = close10.distance(this.p0);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t\tclosestPt[0] = this.p0;\n\t\t\tclosestPt[1] = close10;\n\t\t}\n\t\tvar close11 = line.closestPoint(this.p1);\n\t\tdist = close11.distance(this.p1);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t\tclosestPt[0] = this.p1;\n\t\t\tclosestPt[1] = close11;\n\t\t}\n\t\treturn closestPt;\n\t},\n\tclosestPoint: function closestPoint(p) {\n\t\tvar factor = this.projectionFactor(p);\n\t\tif (factor > 0 && factor < 1) {\n\t\t\treturn this.project(p);\n\t\t}\n\t\tvar dist0 = this.p0.distance(p);\n\t\tvar dist1 = this.p1.distance(p);\n\t\tif (dist0 < dist1) return this.p0;\n\t\treturn this.p1;\n\t},\n\tmaxX: function maxX() {\n\t\treturn Math.max(this.p0.x, this.p1.x);\n\t},\n\tgetLength: function getLength() {\n\t\treturn this.p0.distance(this.p1);\n\t},\n\tcompareTo: function compareTo(o) {\n\t\tvar other = o;\n\t\tvar comp0 = this.p0.compareTo(other.p0);\n\t\tif (comp0 !== 0) return comp0;\n\t\treturn this.p1.compareTo(other.p1);\n\t},\n\treverse: function reverse() {\n\t\tvar temp = this.p0;\n\t\tthis.p0 = this.p1;\n\t\tthis.p1 = temp;\n\t},\n\tequalsTopo: function equalsTopo(other) {\n\t\treturn this.p0.equals(other.p0) && this.p1.equals(other.p1) || this.p0.equals(other.p1) && this.p1.equals(other.p0);\n\t},\n\tlineIntersection: function lineIntersection(line) {\n\t\ttry {\n\t\t\tvar intPt = HCoordinate.intersection(this.p0, this.p1, line.p0, line.p1);\n\t\t\treturn intPt;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof NotRepresentableException) {} else throw ex;\n\t\t} finally {}\n\t\treturn null;\n\t},\n\tmaxY: function maxY() {\n\t\treturn Math.max(this.p0.y, this.p1.y);\n\t},\n\tpointAlongOffset: function pointAlongOffset(segmentLengthFraction, offsetDistance) {\n\t\tvar segx = this.p0.x + segmentLengthFraction * (this.p1.x - this.p0.x);\n\t\tvar segy = this.p0.y + segmentLengthFraction * (this.p1.y - this.p0.y);\n\t\tvar dx = this.p1.x - this.p0.x;\n\t\tvar dy = this.p1.y - this.p0.y;\n\t\tvar len = Math.sqrt(dx * dx + dy * dy);\n\t\tvar ux = 0.0;\n\t\tvar uy = 0.0;\n\t\tif (offsetDistance !== 0.0) {\n\t\t\tif (len <= 0.0) throw new IllegalStateException(\"Cannot compute offset from zero-length line segment\");\n\t\t\tux = offsetDistance * dx / len;\n\t\t\tuy = offsetDistance * dy / len;\n\t\t}\n\t\tvar offsetx = segx - uy;\n\t\tvar offsety = segy + ux;\n\t\tvar coord = new Coordinate(offsetx, offsety);\n\t\treturn coord;\n\t},\n\tsetCoordinates: function setCoordinates() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar ls = arguments[0];\n\t\t\tthis.setCoordinates(ls.p0, ls.p1);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar p0 = arguments[0],\n\t\t\t    p1 = arguments[1];\n\t\t\tthis.p0.x = p0.x;\n\t\t\tthis.p0.y = p0.y;\n\t\t\tthis.p1.x = p1.x;\n\t\t\tthis.p1.y = p1.y;\n\t\t}\n\t},\n\tsegmentFraction: function segmentFraction(inputPt) {\n\t\tvar segFrac = this.projectionFactor(inputPt);\n\t\tif (segFrac < 0.0) segFrac = 0.0;else if (segFrac > 1.0 || Double.isNaN(segFrac)) segFrac = 1.0;\n\t\treturn segFrac;\n\t},\n\ttoString: function toString() {\n\t\treturn \"LINESTRING( \" + this.p0.x + \" \" + this.p0.y + \", \" + this.p1.x + \" \" + this.p1.y + \")\";\n\t},\n\tisHorizontal: function isHorizontal() {\n\t\treturn this.p0.y === this.p1.y;\n\t},\n\tdistance: function distance() {\n\t\tif (arguments[0] instanceof LineSegment) {\n\t\t\tvar ls = arguments[0];\n\t\t\treturn Distance.segmentToSegment(this.p0, this.p1, ls.p0, ls.p1);\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tvar p = arguments[0];\n\t\t\treturn Distance.pointToSegment(p, this.p0, this.p1);\n\t\t}\n\t},\n\tpointAlong: function pointAlong(segmentLengthFraction) {\n\t\tvar coord = new Coordinate();\n\t\tcoord.x = this.p0.x + segmentLengthFraction * (this.p1.x - this.p0.x);\n\t\tcoord.y = this.p0.y + segmentLengthFraction * (this.p1.y - this.p0.y);\n\t\treturn coord;\n\t},\n\thashCode: function hashCode() {\n\t\tvar bits0 = java.lang.Double.doubleToLongBits(this.p0.x);\n\t\tbits0 ^= java.lang.Double.doubleToLongBits(this.p0.y) * 31;\n\t\tvar hash0 = Math.trunc(bits0) ^ Math.trunc(bits0 >> 32);\n\t\tvar bits1 = java.lang.Double.doubleToLongBits(this.p1.x);\n\t\tbits1 ^= java.lang.Double.doubleToLongBits(this.p1.y) * 31;\n\t\tvar hash1 = Math.trunc(bits1) ^ Math.trunc(bits1 >> 32);\n\t\treturn hash0 ^ hash1;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineSegment;\n\t}\n});\nLineSegment.midPoint = function (p0, p1) {\n\treturn new Coordinate((p0.x + p1.x) / 2, (p0.y + p1.y) / 2);\n};\nLineSegment.serialVersionUID = 3252005833466256227;\n\nfunction Location() {}\nextend(Location.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Location;\n\t}\n});\nLocation.toLocationSymbol = function (locationValue) {\n\tswitch (locationValue) {\n\t\tcase Location.EXTERIOR:\n\t\t\treturn 'e';\n\t\tcase Location.BOUNDARY:\n\t\t\treturn 'b';\n\t\tcase Location.INTERIOR:\n\t\t\treturn 'i';\n\t\tcase Location.NONE:\n\t\t\treturn '-';\n\t}\n\tthrow new IllegalArgumentException(\"Unknown location value: \" + locationValue);\n};\nLocation.INTERIOR = 0;\nLocation.BOUNDARY = 1;\nLocation.EXTERIOR = 2;\nLocation.NONE = -1;\n\nfunction IntersectionMatrix() {\n\tthis._matrix = null;\n\tif (arguments.length === 0) {\n\t\tthis._matrix = Array(3).fill().map(function () {\n\t\t\treturn Array(3);\n\t\t});\n\t\tthis.setAll(Dimension.FALSE);\n\t} else if (arguments.length === 1) {\n\t\tif (typeof arguments[0] === \"string\") {\n\t\t\tvar elements = arguments[0];\n\t\t\tIntersectionMatrix.call(this);\n\t\t\tthis.set(elements);\n\t\t} else if (arguments[0] instanceof IntersectionMatrix) {\n\t\t\tvar other = arguments[0];\n\t\t\tIntersectionMatrix.call(this);\n\t\t\tthis._matrix[Location.INTERIOR][Location.INTERIOR] = other._matrix[Location.INTERIOR][Location.INTERIOR];\n\t\t\tthis._matrix[Location.INTERIOR][Location.BOUNDARY] = other._matrix[Location.INTERIOR][Location.BOUNDARY];\n\t\t\tthis._matrix[Location.INTERIOR][Location.EXTERIOR] = other._matrix[Location.INTERIOR][Location.EXTERIOR];\n\t\t\tthis._matrix[Location.BOUNDARY][Location.INTERIOR] = other._matrix[Location.BOUNDARY][Location.INTERIOR];\n\t\t\tthis._matrix[Location.BOUNDARY][Location.BOUNDARY] = other._matrix[Location.BOUNDARY][Location.BOUNDARY];\n\t\t\tthis._matrix[Location.BOUNDARY][Location.EXTERIOR] = other._matrix[Location.BOUNDARY][Location.EXTERIOR];\n\t\t\tthis._matrix[Location.EXTERIOR][Location.INTERIOR] = other._matrix[Location.EXTERIOR][Location.INTERIOR];\n\t\t\tthis._matrix[Location.EXTERIOR][Location.BOUNDARY] = other._matrix[Location.EXTERIOR][Location.BOUNDARY];\n\t\t\tthis._matrix[Location.EXTERIOR][Location.EXTERIOR] = other._matrix[Location.EXTERIOR][Location.EXTERIOR];\n\t\t}\n\t}\n}\nextend(IntersectionMatrix.prototype, {\n\tisIntersects: function isIntersects() {\n\t\treturn !this.isDisjoint();\n\t},\n\tisCovers: function isCovers() {\n\t\tvar hasPointInCommon = IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]);\n\t\treturn hasPointInCommon && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n\t},\n\tisCoveredBy: function isCoveredBy() {\n\t\tvar hasPointInCommon = IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]);\n\t\treturn hasPointInCommon && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE;\n\t},\n\tset: function set() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar dimensionSymbols = arguments[0];\n\t\t\tfor (var i = 0; i < dimensionSymbols.length; i++) {\n\t\t\t\tvar row = Math.trunc(i / 3);\n\t\t\t\tvar col = i % 3;\n\t\t\t\tthis._matrix[row][col] = Dimension.toDimensionValue(dimensionSymbols.charAt(i));\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _row = arguments[0],\n\t\t\t    column = arguments[1],\n\t\t\t    dimensionValue = arguments[2];\n\t\t\tthis._matrix[_row][column] = dimensionValue;\n\t\t}\n\t},\n\tisContains: function isContains() {\n\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n\t},\n\tsetAtLeast: function setAtLeast() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar minimumDimensionSymbols = arguments[0];\n\t\t\tfor (var i = 0; i < minimumDimensionSymbols.length; i++) {\n\t\t\t\tvar row = Math.trunc(i / 3);\n\t\t\t\tvar col = i % 3;\n\t\t\t\tthis.setAtLeast(row, col, Dimension.toDimensionValue(minimumDimensionSymbols.charAt(i)));\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _row2 = arguments[0],\n\t\t\t    column = arguments[1],\n\t\t\t    minimumDimensionValue = arguments[2];\n\t\t\tif (this._matrix[_row2][column] < minimumDimensionValue) {\n\t\t\t\tthis._matrix[_row2][column] = minimumDimensionValue;\n\t\t\t}\n\t\t}\n\t},\n\tsetAtLeastIfValid: function setAtLeastIfValid(row, column, minimumDimensionValue) {\n\t\tif (row >= 0 && column >= 0) {\n\t\t\tthis.setAtLeast(row, column, minimumDimensionValue);\n\t\t}\n\t},\n\tisWithin: function isWithin() {\n\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE;\n\t},\n\tisTouches: function isTouches(dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA > dimensionOfGeometryB) {\n\t\t\treturn this.isTouches(dimensionOfGeometryB, dimensionOfGeometryA);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === Dimension.FALSE && (IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]));\n\t\t}\n\t\treturn false;\n\t},\n\tisOverlaps: function isOverlaps(dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.A) {\n\t\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === 1 && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n\t\t}\n\t\treturn false;\n\t},\n\tisEquals: function isEquals(dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA !== dimensionOfGeometryB) {\n\t\t\treturn false;\n\t\t}\n\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n\t},\n\ttoString: function toString() {\n\t\tvar builder = new StringBuilder(\"123456789\");\n\t\tfor (var ai = 0; ai < 3; ai++) {\n\t\t\tfor (var bi = 0; bi < 3; bi++) {\n\t\t\t\tbuilder.setCharAt(3 * ai + bi, Dimension.toDimensionSymbol(this._matrix[ai][bi]));\n\t\t\t}\n\t\t}\n\t\treturn builder.toString();\n\t},\n\tsetAll: function setAll(dimensionValue) {\n\t\tfor (var ai = 0; ai < 3; ai++) {\n\t\t\tfor (var bi = 0; bi < 3; bi++) {\n\t\t\t\tthis._matrix[ai][bi] = dimensionValue;\n\t\t\t}\n\t\t}\n\t},\n\tget: function get(row, column) {\n\t\treturn this._matrix[row][column];\n\t},\n\ttranspose: function transpose() {\n\t\tvar temp = this._matrix[1][0];\n\t\tthis._matrix[1][0] = this._matrix[0][1];\n\t\tthis._matrix[0][1] = temp;\n\t\ttemp = this._matrix[2][0];\n\t\tthis._matrix[2][0] = this._matrix[0][2];\n\t\tthis._matrix[0][2] = temp;\n\t\ttemp = this._matrix[2][1];\n\t\tthis._matrix[2][1] = this._matrix[1][2];\n\t\tthis._matrix[1][2] = temp;\n\t\treturn this;\n\t},\n\tmatches: function matches(requiredDimensionSymbols) {\n\t\tif (requiredDimensionSymbols.length !== 9) {\n\t\t\tthrow new IllegalArgumentException(\"Should be length 9: \" + requiredDimensionSymbols);\n\t\t}\n\t\tfor (var ai = 0; ai < 3; ai++) {\n\t\t\tfor (var bi = 0; bi < 3; bi++) {\n\t\t\t\tif (!IntersectionMatrix.matches(this._matrix[ai][bi], requiredDimensionSymbols.charAt(3 * ai + bi))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tadd: function add(im) {\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\tfor (var j = 0; j < 3; j++) {\n\t\t\t\tthis.setAtLeast(i, j, im.get(i, j));\n\t\t\t}\n\t\t}\n\t},\n\tisDisjoint: function isDisjoint() {\n\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.INTERIOR][Location.BOUNDARY] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.BOUNDARY] === Dimension.FALSE;\n\t},\n\tisCrosses: function isCrosses(dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.L || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.A) {\n\t\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === 0;\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Clonable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IntersectionMatrix;\n\t}\n});\nIntersectionMatrix.matches = function () {\n\tif (Number.isInteger(arguments[0]) && typeof arguments[1] === \"string\") {\n\t\tvar actualDimensionValue = arguments[0],\n\t\t    requiredDimensionSymbol = arguments[1];\n\t\tif (requiredDimensionSymbol === Dimension.SYM_DONTCARE) {\n\t\t\treturn true;\n\t\t}\n\t\tif (requiredDimensionSymbol === Dimension.SYM_TRUE && (actualDimensionValue >= 0 || actualDimensionValue === Dimension.TRUE)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (requiredDimensionSymbol === Dimension.SYM_FALSE && actualDimensionValue === Dimension.FALSE) {\n\t\t\treturn true;\n\t\t}\n\t\tif (requiredDimensionSymbol === Dimension.SYM_P && actualDimensionValue === Dimension.P) {\n\t\t\treturn true;\n\t\t}\n\t\tif (requiredDimensionSymbol === Dimension.SYM_L && actualDimensionValue === Dimension.L) {\n\t\t\treturn true;\n\t\t}\n\t\tif (requiredDimensionSymbol === Dimension.SYM_A && actualDimensionValue === Dimension.A) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t} else if (typeof arguments[0] === \"string\" && typeof arguments[1] === \"string\") {\n\t\tvar actualDimensionSymbols = arguments[0],\n\t\t    requiredDimensionSymbols = arguments[1];\n\t\tvar m = new IntersectionMatrix(actualDimensionSymbols);\n\t\treturn m.matches(requiredDimensionSymbols);\n\t}\n};\nIntersectionMatrix.isTrue = function (actualDimensionValue) {\n\tif (actualDimensionValue >= 0 || actualDimensionValue === Dimension.TRUE) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nfunction Angle() {}\nextend(Angle.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Angle;\n\t}\n});\nAngle.toDegrees = function (radians) {\n\treturn radians * 180 / Math.PI;\n};\nAngle.normalize = function (angle) {\n\twhile (angle > Math.PI) {\n\t\tangle -= Angle.PI_TIMES_2;\n\t}while (angle <= -Math.PI) {\n\t\tangle += Angle.PI_TIMES_2;\n\t}return angle;\n};\nAngle.angle = function () {\n\tif (arguments.length === 1) {\n\t\tvar p = arguments[0];\n\t\treturn Math.atan2(p.y, p.x);\n\t} else if (arguments.length === 2) {\n\t\tvar p0 = arguments[0],\n\t\t    p1 = arguments[1];\n\t\tvar dx = p1.x - p0.x;\n\t\tvar dy = p1.y - p0.y;\n\t\treturn Math.atan2(dy, dx);\n\t}\n};\nAngle.isAcute = function (p0, p1, p2) {\n\tvar dx0 = p0.x - p1.x;\n\tvar dy0 = p0.y - p1.y;\n\tvar dx1 = p2.x - p1.x;\n\tvar dy1 = p2.y - p1.y;\n\tvar dotprod = dx0 * dx1 + dy0 * dy1;\n\treturn dotprod > 0;\n};\nAngle.isObtuse = function (p0, p1, p2) {\n\tvar dx0 = p0.x - p1.x;\n\tvar dy0 = p0.y - p1.y;\n\tvar dx1 = p2.x - p1.x;\n\tvar dy1 = p2.y - p1.y;\n\tvar dotprod = dx0 * dx1 + dy0 * dy1;\n\treturn dotprod < 0;\n};\nAngle.interiorAngle = function (p0, p1, p2) {\n\tvar anglePrev = Angle.angle(p1, p0);\n\tvar angleNext = Angle.angle(p1, p2);\n\treturn Math.abs(angleNext - anglePrev);\n};\nAngle.normalizePositive = function (angle) {\n\tif (angle < 0.0) {\n\t\twhile (angle < 0.0) {\n\t\t\tangle += Angle.PI_TIMES_2;\n\t\t}if (angle >= Angle.PI_TIMES_2) angle = 0.0;\n\t} else {\n\t\twhile (angle >= Angle.PI_TIMES_2) {\n\t\t\tangle -= Angle.PI_TIMES_2;\n\t\t}if (angle < 0.0) angle = 0.0;\n\t}\n\treturn angle;\n};\nAngle.angleBetween = function (tip1, tail, tip2) {\n\tvar a1 = Angle.angle(tail, tip1);\n\tvar a2 = Angle.angle(tail, tip2);\n\treturn Angle.diff(a1, a2);\n};\nAngle.diff = function (ang1, ang2) {\n\tvar delAngle = null;\n\tif (ang1 < ang2) {\n\t\tdelAngle = ang2 - ang1;\n\t} else {\n\t\tdelAngle = ang1 - ang2;\n\t}\n\tif (delAngle > Math.PI) {\n\t\tdelAngle = 2 * Math.PI - delAngle;\n\t}\n\treturn delAngle;\n};\nAngle.toRadians = function (angleDegrees) {\n\treturn angleDegrees * Math.PI / 180.0;\n};\nAngle.getTurn = function (ang1, ang2) {\n\tvar crossproduct = Math.sin(ang2 - ang1);\n\tif (crossproduct > 0) {\n\t\treturn Angle.COUNTERCLOCKWISE;\n\t}\n\tif (crossproduct < 0) {\n\t\treturn Angle.CLOCKWISE;\n\t}\n\treturn Angle.NONE;\n};\nAngle.angleBetweenOriented = function (tip1, tail, tip2) {\n\tvar a1 = Angle.angle(tail, tip1);\n\tvar a2 = Angle.angle(tail, tip2);\n\tvar angDel = a2 - a1;\n\tif (angDel <= -Math.PI) return angDel + Angle.PI_TIMES_2;\n\tif (angDel > Math.PI) return angDel - Angle.PI_TIMES_2;\n\treturn angDel;\n};\nAngle.PI_TIMES_2 = 2.0 * Math.PI;\nAngle.PI_OVER_2 = Math.PI / 2.0;\nAngle.PI_OVER_4 = Math.PI / 4.0;\nAngle.COUNTERCLOCKWISE = Orientation.COUNTERCLOCKWISE;\nAngle.CLOCKWISE = Orientation.CLOCKWISE;\nAngle.NONE = Orientation.COLLINEAR;\n\nfunction Triangle() {\n\tthis.p0 = null;\n\tthis.p1 = null;\n\tthis.p2 = null;\n\tvar p0 = arguments[0],\n\t    p1 = arguments[1],\n\t    p2 = arguments[2];\n\tthis.p0 = p0;\n\tthis.p1 = p1;\n\tthis.p2 = p2;\n}\nextend(Triangle.prototype, {\n\tarea: function area() {\n\t\treturn Triangle.area(this.p0, this.p1, this.p2);\n\t},\n\tsignedArea: function signedArea() {\n\t\treturn Triangle.signedArea(this.p0, this.p1, this.p2);\n\t},\n\tinterpolateZ: function interpolateZ(p) {\n\t\tif (p === null) throw new IllegalArgumentException(\"Supplied point is null.\");\n\t\treturn Triangle.interpolateZ(p, this.p0, this.p1, this.p2);\n\t},\n\tlongestSideLength: function longestSideLength() {\n\t\treturn Triangle.longestSideLength(this.p0, this.p1, this.p2);\n\t},\n\tisAcute: function isAcute() {\n\t\treturn Triangle.isAcute(this.p0, this.p1, this.p2);\n\t},\n\tcircumcentre: function circumcentre() {\n\t\treturn Triangle.circumcentre(this.p0, this.p1, this.p2);\n\t},\n\tarea3D: function area3D() {\n\t\treturn Triangle.area3D(this.p0, this.p1, this.p2);\n\t},\n\tcentroid: function centroid() {\n\t\treturn Triangle.centroid(this.p0, this.p1, this.p2);\n\t},\n\tinCentre: function inCentre() {\n\t\treturn Triangle.inCentre(this.p0, this.p1, this.p2);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Triangle;\n\t}\n});\nTriangle.area = function (a, b, c) {\n\treturn Math.abs(((c.x - a.x) * (b.y - a.y) - (b.x - a.x) * (c.y - a.y)) / 2);\n};\nTriangle.signedArea = function (a, b, c) {\n\treturn ((c.x - a.x) * (b.y - a.y) - (b.x - a.x) * (c.y - a.y)) / 2;\n};\nTriangle.det = function (m00, m01, m10, m11) {\n\treturn m00 * m11 - m01 * m10;\n};\nTriangle.interpolateZ = function (p, v0, v1, v2) {\n\tvar x0 = v0.x;\n\tvar y0 = v0.y;\n\tvar a = v1.x - x0;\n\tvar b = v2.x - x0;\n\tvar c = v1.y - y0;\n\tvar d = v2.y - y0;\n\tvar det = a * d - b * c;\n\tvar dx = p.x - x0;\n\tvar dy = p.y - y0;\n\tvar t = (d * dx - b * dy) / det;\n\tvar u = (-c * dx + a * dy) / det;\n\tvar z = v0.z + t * (v1.z - v0.z) + u * (v2.z - v0.z);\n\treturn z;\n};\nTriangle.longestSideLength = function (a, b, c) {\n\tvar lenAB = a.distance(b);\n\tvar lenBC = b.distance(c);\n\tvar lenCA = c.distance(a);\n\tvar maxLen = lenAB;\n\tif (lenBC > maxLen) maxLen = lenBC;\n\tif (lenCA > maxLen) maxLen = lenCA;\n\treturn maxLen;\n};\nTriangle.isAcute = function (a, b, c) {\n\tif (!Angle.isAcute(a, b, c)) return false;\n\tif (!Angle.isAcute(b, c, a)) return false;\n\tif (!Angle.isAcute(c, a, b)) return false;\n\treturn true;\n};\nTriangle.circumcentre = function (a, b, c) {\n\tvar cx = c.x;\n\tvar cy = c.y;\n\tvar ax = a.x - cx;\n\tvar ay = a.y - cy;\n\tvar bx = b.x - cx;\n\tvar by = b.y - cy;\n\tvar denom = 2 * Triangle.det(ax, ay, bx, by);\n\tvar numx = Triangle.det(ay, ax * ax + ay * ay, by, bx * bx + by * by);\n\tvar numy = Triangle.det(ax, ax * ax + ay * ay, bx, bx * bx + by * by);\n\tvar ccx = cx - numx / denom;\n\tvar ccy = cy + numy / denom;\n\treturn new Coordinate(ccx, ccy);\n};\nTriangle.perpendicularBisector = function (a, b) {\n\tvar dx = b.x - a.x;\n\tvar dy = b.y - a.y;\n\tvar l1 = new HCoordinate(a.x + dx / 2.0, a.y + dy / 2.0, 1.0);\n\tvar l2 = new HCoordinate(a.x - dy + dx / 2.0, a.y + dx + dy / 2.0, 1.0);\n\treturn new HCoordinate(l1, l2);\n};\nTriangle.angleBisector = function (a, b, c) {\n\tvar len0 = b.distance(a);\n\tvar len2 = b.distance(c);\n\tvar frac = len0 / (len0 + len2);\n\tvar dx = c.x - a.x;\n\tvar dy = c.y - a.y;\n\tvar splitPt = new Coordinate(a.x + frac * dx, a.y + frac * dy);\n\treturn splitPt;\n};\nTriangle.area3D = function (a, b, c) {\n\tvar ux = b.x - a.x;\n\tvar uy = b.y - a.y;\n\tvar uz = b.z - a.z;\n\tvar vx = c.x - a.x;\n\tvar vy = c.y - a.y;\n\tvar vz = c.z - a.z;\n\tvar crossx = uy * vz - uz * vy;\n\tvar crossy = uz * vx - ux * vz;\n\tvar crossz = ux * vy - uy * vx;\n\tvar absSq = crossx * crossx + crossy * crossy + crossz * crossz;\n\tvar area3D = Math.sqrt(absSq) / 2;\n\treturn area3D;\n};\nTriangle.centroid = function (a, b, c) {\n\tvar x = (a.x + b.x + c.x) / 3;\n\tvar y = (a.y + b.y + c.y) / 3;\n\treturn new Coordinate(x, y);\n};\nTriangle.inCentre = function (a, b, c) {\n\tvar len0 = b.distance(c);\n\tvar len1 = a.distance(c);\n\tvar len2 = a.distance(b);\n\tvar circum = len0 + len1 + len2;\n\tvar inCentreX = (len0 * a.x + len1 * b.x + len2 * c.x) / circum;\n\tvar inCentreY = (len0 * a.y + len1 * b.y + len2 * c.y) / circum;\n\treturn new Coordinate(inCentreX, inCentreY);\n};\n\n\n\nvar geom = Object.freeze({\n\tCoordinate: Coordinate,\n\tCoordinateList: CoordinateList,\n\tEnvelope: Envelope,\n\tLineSegment: LineSegment,\n\tGeometryFactory: GeometryFactory,\n\tGeometry: Geometry,\n\tPoint: Point,\n\tLineString: LineString,\n\tLinearRing: LinearRing,\n\tPolygon: Polygon,\n\tGeometryCollection: GeometryCollection,\n\tMultiPoint: MultiPoint,\n\tMultiLineString: MultiLineString,\n\tMultiPolygon: MultiPolygon,\n\tDimension: Dimension,\n\tIntersectionMatrix: IntersectionMatrix,\n\tPrecisionModel: PrecisionModel,\n\tLocation: Location,\n\tTriangle: Triangle\n});\n\nfunction PointPairDistance() {\n\tthis._pt = [new Coordinate(), new Coordinate()];\n\tthis._distance = Double.NaN;\n\tthis._isNull = true;\n}\nextend(PointPairDistance.prototype, {\n\tgetCoordinates: function getCoordinates() {\n\t\treturn this._pt;\n\t},\n\tgetCoordinate: function getCoordinate(i) {\n\t\treturn this._pt[i];\n\t},\n\tsetMinimum: function setMinimum() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar ptDist = arguments[0];\n\t\t\tthis.setMinimum(ptDist._pt[0], ptDist._pt[1]);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar p0 = arguments[0],\n\t\t\t    p1 = arguments[1];\n\t\t\tif (this._isNull) {\n\t\t\t\tthis.initialize(p0, p1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar dist = p0.distance(p1);\n\t\t\tif (dist < this._distance) this.initialize(p0, p1, dist);\n\t\t}\n\t},\n\tinitialize: function initialize() {\n\t\tif (arguments.length === 0) {\n\t\t\tthis._isNull = true;\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar p0 = arguments[0],\n\t\t\t    p1 = arguments[1];\n\t\t\tthis._pt[0].setCoordinate(p0);\n\t\t\tthis._pt[1].setCoordinate(p1);\n\t\t\tthis._distance = p0.distance(p1);\n\t\t\tthis._isNull = false;\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _p = arguments[0],\n\t\t\t    _p2 = arguments[1],\n\t\t\t    distance = arguments[2];\n\t\t\tthis._pt[0].setCoordinate(_p);\n\t\t\tthis._pt[1].setCoordinate(_p2);\n\t\t\tthis._distance = distance;\n\t\t\tthis._isNull = false;\n\t\t}\n\t},\n\ttoString: function toString() {\n\t\treturn WKTWriter.toLineString(this._pt[0], this._pt[1]);\n\t},\n\tgetDistance: function getDistance() {\n\t\treturn this._distance;\n\t},\n\tsetMaximum: function setMaximum() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar ptDist = arguments[0];\n\t\t\tthis.setMaximum(ptDist._pt[0], ptDist._pt[1]);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar p0 = arguments[0],\n\t\t\t    p1 = arguments[1];\n\t\t\tif (this._isNull) {\n\t\t\t\tthis.initialize(p0, p1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar dist = p0.distance(p1);\n\t\t\tif (dist > this._distance) this.initialize(p0, p1, dist);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PointPairDistance;\n\t}\n});\n\nfunction DistanceToPoint() {}\nextend(DistanceToPoint.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DistanceToPoint;\n\t}\n});\nDistanceToPoint.computeDistance = function () {\n\tif (arguments[2] instanceof PointPairDistance && arguments[0] instanceof LineString && arguments[1] instanceof Coordinate) {\n\t\tvar line = arguments[0],\n\t\t    pt = arguments[1],\n\t\t    ptDist = arguments[2];\n\t\tvar tempSegment = new LineSegment();\n\t\tvar coords = line.getCoordinates();\n\t\tfor (var i = 0; i < coords.length - 1; i++) {\n\t\t\ttempSegment.setCoordinates(coords[i], coords[i + 1]);\n\t\t\tvar closestPt = tempSegment.closestPoint(pt);\n\t\t\tptDist.setMinimum(closestPt, pt);\n\t\t}\n\t} else if (arguments[2] instanceof PointPairDistance && arguments[0] instanceof Polygon && arguments[1] instanceof Coordinate) {\n\t\tvar poly = arguments[0],\n\t\t    _pt = arguments[1],\n\t\t    _ptDist = arguments[2];\n\t\tDistanceToPoint.computeDistance(poly.getExteriorRing(), _pt, _ptDist);\n\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\tDistanceToPoint.computeDistance(poly.getInteriorRingN(i), _pt, _ptDist);\n\t\t}\n\t} else if (arguments[2] instanceof PointPairDistance && arguments[0] instanceof Geometry && arguments[1] instanceof Coordinate) {\n\t\tvar geom = arguments[0],\n\t\t    _pt2 = arguments[1],\n\t\t    _ptDist2 = arguments[2];\n\t\tif (geom instanceof LineString) {\n\t\t\tDistanceToPoint.computeDistance(geom, _pt2, _ptDist2);\n\t\t} else if (geom instanceof Polygon) {\n\t\t\tDistanceToPoint.computeDistance(geom, _pt2, _ptDist2);\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tvar gc = geom;\n\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\tvar g = gc.getGeometryN(i);\n\t\t\t\tDistanceToPoint.computeDistance(g, _pt2, _ptDist2);\n\t\t\t}\n\t\t} else {\n\t\t\t_ptDist2.setMinimum(geom.getCoordinate(), _pt2);\n\t\t}\n\t} else if (arguments[2] instanceof PointPairDistance && arguments[0] instanceof LineSegment && arguments[1] instanceof Coordinate) {\n\t\tvar segment = arguments[0],\n\t\t    _pt3 = arguments[1],\n\t\t    _ptDist3 = arguments[2];\n\t\tvar closestPt = segment.closestPoint(_pt3);\n\t\t_ptDist3.setMinimum(closestPt, _pt3);\n\t}\n};\n\nfunction DiscreteHausdorffDistance() {\n\tthis._g0 = null;\n\tthis._g1 = null;\n\tthis._ptDist = new PointPairDistance();\n\tthis._densifyFrac = 0.0;\n\tvar g0 = arguments[0],\n\t    g1 = arguments[1];\n\tthis._g0 = g0;\n\tthis._g1 = g1;\n}\nextend(DiscreteHausdorffDistance.prototype, {\n\tgetCoordinates: function getCoordinates() {\n\t\treturn this._ptDist.getCoordinates();\n\t},\n\tsetDensifyFraction: function setDensifyFraction(densifyFrac) {\n\t\tif (densifyFrac > 1.0 || densifyFrac <= 0.0) throw new IllegalArgumentException(\"Fraction is not in range (0.0 - 1.0]\");\n\t\tthis._densifyFrac = densifyFrac;\n\t},\n\tcompute: function compute(g0, g1) {\n\t\tthis.computeOrientedDistance(g0, g1, this._ptDist);\n\t\tthis.computeOrientedDistance(g1, g0, this._ptDist);\n\t},\n\tdistance: function distance() {\n\t\tthis.compute(this._g0, this._g1);\n\t\treturn this._ptDist.getDistance();\n\t},\n\tcomputeOrientedDistance: function computeOrientedDistance(discreteGeom, geom, ptDist) {\n\t\tvar distFilter = new MaxPointDistanceFilter(geom);\n\t\tdiscreteGeom.apply(distFilter);\n\t\tptDist.setMaximum(distFilter.getMaxPointDistance());\n\t\tif (this._densifyFrac > 0) {\n\t\t\tvar fracFilter = new MaxDensifiedByFractionDistanceFilter(geom, this._densifyFrac);\n\t\t\tdiscreteGeom.apply(fracFilter);\n\t\t\tptDist.setMaximum(fracFilter.getMaxPointDistance());\n\t\t}\n\t},\n\torientedDistance: function orientedDistance() {\n\t\tthis.computeOrientedDistance(this._g0, this._g1, this._ptDist);\n\t\treturn this._ptDist.getDistance();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DiscreteHausdorffDistance;\n\t}\n});\nDiscreteHausdorffDistance.distance = function () {\n\tif (arguments.length === 2) {\n\t\tvar g0 = arguments[0],\n\t\t    g1 = arguments[1];\n\t\tvar dist = new DiscreteHausdorffDistance(g0, g1);\n\t\treturn dist.distance();\n\t} else if (arguments.length === 3) {\n\t\tvar _g = arguments[0],\n\t\t    _g2 = arguments[1],\n\t\t    densifyFrac = arguments[2];\n\t\tvar dist = new DiscreteHausdorffDistance(_g, _g2);\n\t\tdist.setDensifyFraction(densifyFrac);\n\t\treturn dist.distance();\n\t}\n};\nfunction MaxPointDistanceFilter() {\n\tthis._maxPtDist = new PointPairDistance();\n\tthis._minPtDist = new PointPairDistance();\n\tthis._euclideanDist = new DistanceToPoint();\n\tthis._geom = null;\n\tvar geom = arguments[0];\n\tthis._geom = geom;\n}\nextend(MaxPointDistanceFilter.prototype, {\n\tfilter: function filter(pt) {\n\t\tthis._minPtDist.initialize();\n\t\tDistanceToPoint.computeDistance(this._geom, pt, this._minPtDist);\n\t\tthis._maxPtDist.setMaximum(this._minPtDist);\n\t},\n\tgetMaxPointDistance: function getMaxPointDistance() {\n\t\treturn this._maxPtDist;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [CoordinateFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MaxPointDistanceFilter;\n\t}\n});\nfunction MaxDensifiedByFractionDistanceFilter() {\n\tthis._maxPtDist = new PointPairDistance();\n\tthis._minPtDist = new PointPairDistance();\n\tthis._geom = null;\n\tthis._numSubSegs = 0;\n\tvar geom = arguments[0],\n\t    fraction = arguments[1];\n\tthis._geom = geom;\n\tthis._numSubSegs = Math.trunc(Math.round(1.0 / fraction));\n}\nextend(MaxDensifiedByFractionDistanceFilter.prototype, {\n\tfilter: function filter(seq, index) {\n\t\tif (index === 0) return null;\n\t\tvar p0 = seq.getCoordinate(index - 1);\n\t\tvar p1 = seq.getCoordinate(index);\n\t\tvar delx = (p1.x - p0.x) / this._numSubSegs;\n\t\tvar dely = (p1.y - p0.y) / this._numSubSegs;\n\t\tfor (var i = 0; i < this._numSubSegs; i++) {\n\t\t\tvar x = p0.x + i * delx;\n\t\t\tvar y = p0.y + i * dely;\n\t\t\tvar pt = new Coordinate(x, y);\n\t\t\tthis._minPtDist.initialize();\n\t\t\tDistanceToPoint.computeDistance(this._geom, pt, this._minPtDist);\n\t\t\tthis._maxPtDist.setMaximum(this._minPtDist);\n\t\t}\n\t},\n\tisDone: function isDone() {\n\t\treturn false;\n\t},\n\tisGeometryChanged: function isGeometryChanged() {\n\t\treturn false;\n\t},\n\tgetMaxPointDistance: function getMaxPointDistance() {\n\t\treturn this._maxPtDist;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [CoordinateSequenceFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MaxDensifiedByFractionDistanceFilter;\n\t}\n});\nDiscreteHausdorffDistance.MaxPointDistanceFilter = MaxPointDistanceFilter;\nDiscreteHausdorffDistance.MaxDensifiedByFractionDistanceFilter = MaxDensifiedByFractionDistanceFilter;\n\nfunction ItemVisitor() {}\nextend(ItemVisitor.prototype, {\n\tvisitItem: function visitItem(item) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ItemVisitor;\n\t}\n});\n\nfunction PointOnGeometryLocator() {}\nextend(PointOnGeometryLocator.prototype, {\n\tlocate: function locate(p) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PointOnGeometryLocator;\n\t}\n});\n\nfunction IntervalRTreeNode() {\n\tthis._min = Double.POSITIVE_INFINITY;\n\tthis._max = Double.NEGATIVE_INFINITY;\n}\nextend(IntervalRTreeNode.prototype, {\n\tgetMin: function getMin() {\n\t\treturn this._min;\n\t},\n\tintersects: function intersects(queryMin, queryMax) {\n\t\tif (this._min > queryMax || this._max < queryMin) return false;\n\t\treturn true;\n\t},\n\tgetMax: function getMax() {\n\t\treturn this._max;\n\t},\n\ttoString: function toString() {\n\t\treturn WKTWriter.toLineString(new Coordinate(this._min, 0), new Coordinate(this._max, 0));\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IntervalRTreeNode;\n\t}\n});\nfunction NodeComparator() {}\nextend(NodeComparator.prototype, {\n\tcompare: function compare(o1, o2) {\n\t\tvar n1 = o1;\n\t\tvar n2 = o2;\n\t\tvar mid1 = (n1._min + n1._max) / 2;\n\t\tvar mid2 = (n2._min + n2._max) / 2;\n\t\tif (mid1 < mid2) return -1;\n\t\tif (mid1 > mid2) return 1;\n\t\treturn 0;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NodeComparator;\n\t}\n});\nIntervalRTreeNode.NodeComparator = NodeComparator;\n\nfunction IntervalRTreeLeafNode() {\n\tIntervalRTreeNode.apply(this);\n\tthis._item = null;\n\tvar min = arguments[0],\n\t    max = arguments[1],\n\t    item = arguments[2];\n\tthis._min = min;\n\tthis._max = max;\n\tthis._item = item;\n}\ninherits(IntervalRTreeLeafNode, IntervalRTreeNode);\nextend(IntervalRTreeLeafNode.prototype, {\n\tquery: function query(queryMin, queryMax, visitor) {\n\t\tif (!this.intersects(queryMin, queryMax)) return null;\n\t\tvisitor.visitItem(this._item);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IntervalRTreeLeafNode;\n\t}\n});\n\nvar Collections = {\n  reverseOrder: function reverseOrder() {\n    return {\n      compare: function compare(a, b) {\n        return b.compareTo(a);\n      }\n    };\n  },\n  min: function min(l) {\n    Collections.sort(l);\n    return l.get(0);\n  },\n  sort: function sort(l, c) {\n    var a = l.toArray();\n    if (c) {\n      Arrays.sort(a, c);\n    } else {\n      Arrays.sort(a);\n    }\n    var i = l.iterator();\n    for (var pos = 0, alen = a.length; pos < alen; pos++) {\n      i.next();\n      i.set(a[pos]);\n    }\n  },\n  singletonList: function singletonList(o) {\n    var arrayList = new ArrayList();\n    arrayList.add(o);\n    return arrayList;\n  }\n};\n\nfunction IntervalRTreeBranchNode() {\n\tIntervalRTreeNode.apply(this);\n\tthis._node1 = null;\n\tthis._node2 = null;\n\tvar n1 = arguments[0],\n\t    n2 = arguments[1];\n\tthis._node1 = n1;\n\tthis._node2 = n2;\n\tthis.buildExtent(this._node1, this._node2);\n}\ninherits(IntervalRTreeBranchNode, IntervalRTreeNode);\nextend(IntervalRTreeBranchNode.prototype, {\n\tbuildExtent: function buildExtent(n1, n2) {\n\t\tthis._min = Math.min(n1._min, n2._min);\n\t\tthis._max = Math.max(n1._max, n2._max);\n\t},\n\tquery: function query(queryMin, queryMax, visitor) {\n\t\tif (!this.intersects(queryMin, queryMax)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._node1 !== null) this._node1.query(queryMin, queryMax, visitor);\n\t\tif (this._node2 !== null) this._node2.query(queryMin, queryMax, visitor);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IntervalRTreeBranchNode;\n\t}\n});\n\nfunction SortedPackedIntervalRTree() {\n\tthis._leaves = new ArrayList();\n\tthis._root = null;\n\tthis._level = 0;\n}\nextend(SortedPackedIntervalRTree.prototype, {\n\tbuildTree: function buildTree() {\n\t\tCollections.sort(this._leaves, new IntervalRTreeNode.NodeComparator());\n\t\tvar src = this._leaves;\n\t\tvar temp = null;\n\t\tvar dest = new ArrayList();\n\t\twhile (true) {\n\t\t\tthis.buildLevel(src, dest);\n\t\t\tif (dest.size() === 1) return dest.get(0);\n\t\t\ttemp = src;\n\t\t\tsrc = dest;\n\t\t\tdest = temp;\n\t\t}\n\t},\n\tinsert: function insert(min, max, item) {\n\t\tif (this._root !== null) throw new IllegalStateException(\"Index cannot be added to once it has been queried\");\n\t\tthis._leaves.add(new IntervalRTreeLeafNode(min, max, item));\n\t},\n\tquery: function query(min, max, visitor) {\n\t\tthis.init();\n\t\tthis._root.query(min, max, visitor);\n\t},\n\tbuildRoot: function buildRoot() {\n\t\tif (this._root !== null) return null;\n\t\tthis._root = this.buildTree();\n\t},\n\tprintNode: function printNode(node) {\n\t\tSystem.out.println(WKTWriter.toLineString(new Coordinate(node._min, this._level), new Coordinate(node._max, this._level)));\n\t},\n\tinit: function init() {\n\t\tif (this._root !== null) return null;\n\t\tthis.buildRoot();\n\t},\n\tbuildLevel: function buildLevel(src, dest) {\n\t\tthis._level++;\n\t\tdest.clear();\n\t\tfor (var i = 0; i < src.size(); i += 2) {\n\t\t\tvar n1 = src.get(i);\n\t\t\tvar n2 = i + 1 < src.size() ? src.get(i) : null;\n\t\t\tif (n2 === null) {\n\t\t\t\tdest.add(n1);\n\t\t\t} else {\n\t\t\t\tvar node = new IntervalRTreeBranchNode(src.get(i), src.get(i + 1));\n\t\t\t\tdest.add(node);\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SortedPackedIntervalRTree;\n\t}\n});\n\nfunction LinearComponentExtracter() {\n\tthis._lines = null;\n\tthis._isForcedToLineString = false;\n\tif (arguments.length === 1) {\n\t\tvar lines = arguments[0];\n\t\tthis._lines = lines;\n\t} else if (arguments.length === 2) {\n\t\tvar _lines = arguments[0],\n\t\t    isForcedToLineString = arguments[1];\n\t\tthis._lines = _lines;\n\t\tthis._isForcedToLineString = isForcedToLineString;\n\t}\n}\nextend(LinearComponentExtracter.prototype, {\n\tfilter: function filter(geom) {\n\t\tif (this._isForcedToLineString && geom instanceof LinearRing) {\n\t\t\tvar line = geom.getFactory().createLineString(geom.getCoordinateSequence());\n\t\t\tthis._lines.add(line);\n\t\t\treturn null;\n\t\t}\n\t\tif (geom instanceof LineString) this._lines.add(geom);\n\t},\n\tsetForceToLineString: function setForceToLineString(isForcedToLineString) {\n\t\tthis._isForcedToLineString = isForcedToLineString;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryComponentFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LinearComponentExtracter;\n\t}\n});\nLinearComponentExtracter.getGeometry = function () {\n\tif (arguments.length === 1) {\n\t\tvar geom = arguments[0];\n\t\treturn geom.getFactory().buildGeometry(LinearComponentExtracter.getLines(geom));\n\t} else if (arguments.length === 2) {\n\t\tvar _geom = arguments[0],\n\t\t    forceToLineString = arguments[1];\n\t\treturn _geom.getFactory().buildGeometry(LinearComponentExtracter.getLines(_geom, forceToLineString));\n\t}\n};\nLinearComponentExtracter.getLines = function () {\n\tif (arguments.length === 1) {\n\t\tvar geom = arguments[0];\n\t\treturn LinearComponentExtracter.getLines(geom, false);\n\t} else if (arguments.length === 2) {\n\t\tif (hasInterface(arguments[0], Collection) && hasInterface(arguments[1], Collection)) {\n\t\t\tvar geoms = arguments[0],\n\t\t\t    _lines2 = arguments[1];\n\t\t\tfor (var i = geoms.iterator(); i.hasNext();) {\n\t\t\t\tvar g = i.next();\n\t\t\t\tLinearComponentExtracter.getLines(g, _lines2);\n\t\t\t}\n\t\t\treturn _lines2;\n\t\t} else if (arguments[0] instanceof Geometry && typeof arguments[1] === \"boolean\") {\n\t\t\tvar _geom2 = arguments[0],\n\t\t\t    forceToLineString = arguments[1];\n\t\t\tvar lines = new ArrayList();\n\t\t\t_geom2.apply(new LinearComponentExtracter(lines, forceToLineString));\n\t\t\treturn lines;\n\t\t} else if (arguments[0] instanceof Geometry && hasInterface(arguments[1], Collection)) {\n\t\t\tvar _geom3 = arguments[0],\n\t\t\t    _lines3 = arguments[1];\n\t\t\tif (_geom3 instanceof LineString) {\n\t\t\t\t_lines3.add(_geom3);\n\t\t\t} else {\n\t\t\t\t_geom3.apply(new LinearComponentExtracter(_lines3));\n\t\t\t}\n\t\t\treturn _lines3;\n\t\t}\n\t} else if (arguments.length === 3) {\n\t\tif (typeof arguments[2] === \"boolean\" && hasInterface(arguments[0], Collection) && hasInterface(arguments[1], Collection)) {\n\t\t\tvar _geoms = arguments[0],\n\t\t\t    _lines4 = arguments[1],\n\t\t\t    _forceToLineString = arguments[2];\n\t\t\tfor (var i = _geoms.iterator(); i.hasNext();) {\n\t\t\t\tvar g = i.next();\n\t\t\t\tLinearComponentExtracter.getLines(g, _lines4, _forceToLineString);\n\t\t\t}\n\t\t\treturn _lines4;\n\t\t} else if (typeof arguments[2] === \"boolean\" && arguments[0] instanceof Geometry && hasInterface(arguments[1], Collection)) {\n\t\t\tvar _geom4 = arguments[0],\n\t\t\t    _lines5 = arguments[1],\n\t\t\t    _forceToLineString2 = arguments[2];\n\t\t\t_geom4.apply(new LinearComponentExtracter(_lines5, _forceToLineString2));\n\t\t\treturn _lines5;\n\t\t}\n\t}\n};\n\nfunction ArrayListVisitor() {\n\tthis._items = new ArrayList();\n}\nextend(ArrayListVisitor.prototype, {\n\tvisitItem: function visitItem(item) {\n\t\tthis._items.add(item);\n\t},\n\tgetItems: function getItems() {\n\t\treturn this._items;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [ItemVisitor];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ArrayListVisitor;\n\t}\n});\n\nfunction RayCrossingCounter() {\n\tthis._p = null;\n\tthis._crossingCount = 0;\n\tthis._isPointOnSegment = false;\n\tvar p = arguments[0];\n\tthis._p = p;\n}\nextend(RayCrossingCounter.prototype, {\n\tcountSegment: function countSegment(p1, p2) {\n\t\tif (p1.x < this._p.x && p2.x < this._p.x) return null;\n\t\tif (this._p.x === p2.x && this._p.y === p2.y) {\n\t\t\tthis._isPointOnSegment = true;\n\t\t\treturn null;\n\t\t}\n\t\tif (p1.y === this._p.y && p2.y === this._p.y) {\n\t\t\tvar minx = p1.x;\n\t\t\tvar maxx = p2.x;\n\t\t\tif (minx > maxx) {\n\t\t\t\tminx = p2.x;\n\t\t\t\tmaxx = p1.x;\n\t\t\t}\n\t\t\tif (this._p.x >= minx && this._p.x <= maxx) {\n\t\t\t\tthis._isPointOnSegment = true;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tif (p1.y > this._p.y && p2.y <= this._p.y || p2.y > this._p.y && p1.y <= this._p.y) {\n\t\t\tvar orient = Orientation.index(p1, p2, this._p);\n\t\t\tif (orient === Orientation.COLLINEAR) {\n\t\t\t\tthis._isPointOnSegment = true;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (p2.y < p1.y) {\n\t\t\t\torient = -orient;\n\t\t\t}\n\t\t\tif (orient === Orientation.LEFT) {\n\t\t\t\tthis._crossingCount++;\n\t\t\t}\n\t\t}\n\t},\n\tisPointInPolygon: function isPointInPolygon() {\n\t\treturn this.getLocation() !== Location.EXTERIOR;\n\t},\n\tgetLocation: function getLocation() {\n\t\tif (this._isPointOnSegment) return Location.BOUNDARY;\n\t\tif (this._crossingCount % 2 === 1) {\n\t\t\treturn Location.INTERIOR;\n\t\t}\n\t\treturn Location.EXTERIOR;\n\t},\n\tisOnSegment: function isOnSegment() {\n\t\treturn this._isPointOnSegment;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RayCrossingCounter;\n\t}\n});\nRayCrossingCounter.locatePointInRing = function () {\n\tif (arguments[0] instanceof Coordinate && hasInterface(arguments[1], CoordinateSequence)) {\n\t\tvar p = arguments[0],\n\t\t    ring = arguments[1];\n\t\tvar counter = new RayCrossingCounter(p);\n\t\tvar p1 = new Coordinate();\n\t\tvar p2 = new Coordinate();\n\t\tfor (var i = 1; i < ring.size(); i++) {\n\t\t\tring.getCoordinate(i, p1);\n\t\t\tring.getCoordinate(i - 1, p2);\n\t\t\tcounter.countSegment(p1, p2);\n\t\t\tif (counter.isOnSegment()) return counter.getLocation();\n\t\t}\n\t\treturn counter.getLocation();\n\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Array) {\n\t\tvar _p = arguments[0],\n\t\t    _ring = arguments[1];\n\t\tvar counter = new RayCrossingCounter(_p);\n\t\tfor (var i = 1; i < _ring.length; i++) {\n\t\t\tvar p1 = _ring[i];\n\t\t\tvar p2 = _ring[i - 1];\n\t\t\tcounter.countSegment(p1, p2);\n\t\t\tif (counter.isOnSegment()) return counter.getLocation();\n\t\t}\n\t\treturn counter.getLocation();\n\t}\n};\n\nfunction IndexedPointInAreaLocator() {\n\tthis._index = null;\n\tvar g = arguments[0];\n\tif (!(hasInterface(g, Polygonal) || g instanceof LinearRing)) throw new IllegalArgumentException(\"Argument must be Polygonal or LinearRing\");\n\tthis._index = new IntervalIndexedGeometry(g);\n}\nextend(IndexedPointInAreaLocator.prototype, {\n\tlocate: function locate(p) {\n\t\tvar rcc = new RayCrossingCounter(p);\n\t\tvar visitor = new SegmentVisitor(rcc);\n\t\tthis._index.query(p.y, p.y, visitor);\n\t\treturn rcc.getLocation();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [PointOnGeometryLocator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IndexedPointInAreaLocator;\n\t}\n});\nfunction SegmentVisitor() {\n\tthis._counter = null;\n\tvar counter = arguments[0];\n\tthis._counter = counter;\n}\nextend(SegmentVisitor.prototype, {\n\tvisitItem: function visitItem(item) {\n\t\tvar seg = item;\n\t\tthis._counter.countSegment(seg.getCoordinate(0), seg.getCoordinate(1));\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [ItemVisitor];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SegmentVisitor;\n\t}\n});\nfunction IntervalIndexedGeometry() {\n\tthis._index = new SortedPackedIntervalRTree();\n\tvar geom = arguments[0];\n\tthis.init(geom);\n}\nextend(IntervalIndexedGeometry.prototype, {\n\tinit: function init(geom) {\n\t\tvar lines = LinearComponentExtracter.getLines(geom);\n\t\tfor (var i = lines.iterator(); i.hasNext();) {\n\t\t\tvar line = i.next();\n\t\t\tvar pts = line.getCoordinates();\n\t\t\tthis.addLine(pts);\n\t\t}\n\t},\n\taddLine: function addLine(pts) {\n\t\tfor (var i = 1; i < pts.length; i++) {\n\t\t\tvar seg = new LineSegment(pts[i - 1], pts[i]);\n\t\t\tvar min = Math.min(seg.p0.y, seg.p1.y);\n\t\t\tvar max = Math.max(seg.p0.y, seg.p1.y);\n\t\t\tthis._index.insert(min, max, seg);\n\t\t}\n\t},\n\tquery: function query() {\n\t\tif (arguments.length === 2) {\n\t\t\tvar min = arguments[0],\n\t\t\t    max = arguments[1];\n\t\t\tvar visitor = new ArrayListVisitor();\n\t\t\tthis._index.query(min, max, visitor);\n\t\t\treturn visitor.getItems();\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _min = arguments[0],\n\t\t\t    _max = arguments[1],\n\t\t\t    _visitor = arguments[2];\n\t\t\tthis._index.query(_min, _max, _visitor);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IntervalIndexedGeometry;\n\t}\n});\nIndexedPointInAreaLocator.SegmentVisitor = SegmentVisitor;\nIndexedPointInAreaLocator.IntervalIndexedGeometry = IntervalIndexedGeometry;\n\nfunction PointLocation() {}\nextend(PointLocation.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PointLocation;\n\t}\n});\nPointLocation.isOnLine = function () {\n\tif (arguments[0] instanceof Coordinate && hasInterface(arguments[1], CoordinateSequence)) {\n\t\tvar p = arguments[0],\n\t\t    line = arguments[1];\n\t\tvar lineIntersector = new RobustLineIntersector();\n\t\tvar p0 = new Coordinate();\n\t\tvar p1 = new Coordinate();\n\t\tvar n = line.size();\n\t\tfor (var i = 1; i < n; i++) {\n\t\t\tline.getCoordinate(i - 1, p0);\n\t\t\tline.getCoordinate(i, p1);\n\t\t\tlineIntersector.computeIntersection(p, p0, p1);\n\t\t\tif (lineIntersector.hasIntersection()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Array) {\n\t\tvar _p = arguments[0],\n\t\t    _line = arguments[1];\n\t\tvar lineIntersector = new RobustLineIntersector();\n\t\tfor (var i = 1; i < _line.length; i++) {\n\t\t\tvar p0 = _line[i - 1];\n\t\t\tvar p1 = _line[i];\n\t\t\tlineIntersector.computeIntersection(_p, p0, p1);\n\t\t\tif (lineIntersector.hasIntersection()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\nPointLocation.locateInRing = function (p, ring) {\n\treturn RayCrossingCounter.locatePointInRing(p, ring);\n};\nPointLocation.isInRing = function (p, ring) {\n\treturn PointLocation.locateInRing(p, ring) !== Location.EXTERIOR;\n};\n\nfunction GeometryCollectionIterator() {\n\tthis._parent = null;\n\tthis._atStart = null;\n\tthis._max = null;\n\tthis._index = null;\n\tthis._subcollectionIterator = null;\n\tvar parent = arguments[0];\n\tthis._parent = parent;\n\tthis._atStart = true;\n\tthis._index = 0;\n\tthis._max = parent.getNumGeometries();\n}\nextend(GeometryCollectionIterator.prototype, {\n\tnext: function next() {\n\t\tif (this._atStart) {\n\t\t\tthis._atStart = false;\n\t\t\tif (GeometryCollectionIterator.isAtomic(this._parent)) this._index++;\n\t\t\treturn this._parent;\n\t\t}\n\t\tif (this._subcollectionIterator !== null) {\n\t\t\tif (this._subcollectionIterator.hasNext()) {\n\t\t\t\treturn this._subcollectionIterator.next();\n\t\t\t} else {\n\t\t\t\tthis._subcollectionIterator = null;\n\t\t\t}\n\t\t}\n\t\tif (this._index >= this._max) {\n\t\t\tthrow new NoSuchElementException();\n\t\t}\n\t\tvar obj = this._parent.getGeometryN(this._index++);\n\t\tif (obj instanceof GeometryCollection) {\n\t\t\tthis._subcollectionIterator = new GeometryCollectionIterator(obj);\n\t\t\treturn this._subcollectionIterator.next();\n\t\t}\n\t\treturn obj;\n\t},\n\tremove: function remove() {\n\t\tthrow new UnsupportedOperationException(this.getClass().getName());\n\t},\n\thasNext: function hasNext() {\n\t\tif (this._atStart) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this._subcollectionIterator !== null) {\n\t\t\tif (this._subcollectionIterator.hasNext()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis._subcollectionIterator = null;\n\t\t}\n\t\tif (this._index >= this._max) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Iterator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryCollectionIterator;\n\t}\n});\nGeometryCollectionIterator.isAtomic = function (geom) {\n\treturn !(geom instanceof GeometryCollection);\n};\n\nfunction SimplePointInAreaLocator() {\n\tthis._geom = null;\n\tvar geom = arguments[0];\n\tthis._geom = geom;\n}\nextend(SimplePointInAreaLocator.prototype, {\n\tlocate: function locate(p) {\n\t\treturn SimplePointInAreaLocator.locate(p, this._geom);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [PointOnGeometryLocator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SimplePointInAreaLocator;\n\t}\n});\nSimplePointInAreaLocator.locatePointInPolygon = function (p, poly) {\n\tif (poly.isEmpty()) return Location.EXTERIOR;\n\tvar shell = poly.getExteriorRing();\n\tvar shellLoc = SimplePointInAreaLocator.locatePointInRing(p, shell);\n\tif (shellLoc !== Location.INTERIOR) return shellLoc;\n\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\tvar hole = poly.getInteriorRingN(i);\n\t\tvar holeLoc = SimplePointInAreaLocator.locatePointInRing(p, hole);\n\t\tif (holeLoc === Location.BOUNDARY) return Location.BOUNDARY;\n\t\tif (holeLoc === Location.INTERIOR) return Location.EXTERIOR;\n\t}\n\treturn Location.INTERIOR;\n};\nSimplePointInAreaLocator.locatePointInRing = function (p, ring) {\n\tif (!ring.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n\treturn PointLocation.locateInRing(p, ring.getCoordinates());\n};\nSimplePointInAreaLocator.containsPointInPolygon = function (p, poly) {\n\treturn Location.EXTERIOR !== SimplePointInAreaLocator.locatePointInPolygon(p, poly);\n};\nSimplePointInAreaLocator.locateInGeometry = function (p, geom) {\n\tif (geom instanceof Polygon) {\n\t\treturn SimplePointInAreaLocator.locatePointInPolygon(p, geom);\n\t} else if (geom instanceof GeometryCollection) {\n\t\tvar geomi = new GeometryCollectionIterator(geom);\n\t\twhile (geomi.hasNext()) {\n\t\t\tvar g2 = geomi.next();\n\t\t\tif (g2 !== geom) {\n\t\t\t\tvar loc = SimplePointInAreaLocator.locateInGeometry(p, g2);\n\t\t\t\tif (loc !== Location.EXTERIOR) return loc;\n\t\t\t}\n\t\t}\n\t}\n\treturn Location.EXTERIOR;\n};\nSimplePointInAreaLocator.locate = function (p, geom) {\n\tif (geom.isEmpty()) return Location.EXTERIOR;\n\treturn SimplePointInAreaLocator.locateInGeometry(p, geom);\n};\n\nfunction SimilarityMeasure() {}\nextend(SimilarityMeasure.prototype, {\n\tmeasure: function measure(g1, g2) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SimilarityMeasure;\n\t}\n});\n\nfunction AreaSimilarityMeasure() {}\nextend(AreaSimilarityMeasure.prototype, {\n\tmeasure: function measure(g1, g2) {\n\t\tvar areaInt = g1.intersection(g2).getArea();\n\t\tvar areaUnion = g1.union(g2).getArea();\n\t\treturn areaInt / areaUnion;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [SimilarityMeasure];\n\t},\n\tgetClass: function getClass() {\n\t\treturn AreaSimilarityMeasure;\n\t}\n});\n\nfunction HausdorffSimilarityMeasure() {}\nextend(HausdorffSimilarityMeasure.prototype, {\n\tmeasure: function measure(g1, g2) {\n\t\tvar distance = DiscreteHausdorffDistance.distance(g1, g2, HausdorffSimilarityMeasure.DENSIFY_FRACTION);\n\t\tvar env = new Envelope(g1.getEnvelopeInternal());\n\t\tenv.expandToInclude(g2.getEnvelopeInternal());\n\t\tvar envSize = HausdorffSimilarityMeasure.diagonalSize(env);\n\t\tvar measure = 1 - distance / envSize;\n\t\treturn measure;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [SimilarityMeasure];\n\t},\n\tgetClass: function getClass() {\n\t\treturn HausdorffSimilarityMeasure;\n\t}\n});\nHausdorffSimilarityMeasure.diagonalSize = function (env) {\n\tif (env.isNull()) return 0.0;\n\tvar width = env.getWidth();\n\tvar hgt = env.getHeight();\n\treturn Math.sqrt(width * width + hgt * hgt);\n};\nHausdorffSimilarityMeasure.DENSIFY_FRACTION = 0.25;\n\nfunction SimilarityMeasureCombiner() {}\nextend(SimilarityMeasureCombiner.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SimilarityMeasureCombiner;\n\t}\n});\nSimilarityMeasureCombiner.combine = function (measure1, measure2) {\n\treturn Math.min(measure1, measure2);\n};\n\nfunction Centroid() {\n\tthis._areaBasePt = null;\n\tthis._triangleCent3 = new Coordinate();\n\tthis._areasum2 = 0;\n\tthis._cg3 = new Coordinate();\n\tthis._lineCentSum = new Coordinate();\n\tthis._totalLength = 0.0;\n\tthis._ptCount = 0;\n\tthis._ptCentSum = new Coordinate();\n\tvar geom = arguments[0];\n\tthis._areaBasePt = null;\n\tthis.add(geom);\n}\nextend(Centroid.prototype, {\n\tsetAreaBasePoint: function setAreaBasePoint(basePt) {\n\t\tthis._areaBasePt = basePt;\n\t},\n\taddPoint: function addPoint(pt) {\n\t\tthis._ptCount += 1;\n\t\tthis._ptCentSum.x += pt.x;\n\t\tthis._ptCentSum.y += pt.y;\n\t},\n\taddLineSegments: function addLineSegments(pts) {\n\t\tvar lineLen = 0.0;\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tvar segmentLen = pts[i].distance(pts[i + 1]);\n\t\t\tif (segmentLen === 0.0) continue;\n\t\t\tlineLen += segmentLen;\n\t\t\tvar midx = (pts[i].x + pts[i + 1].x) / 2;\n\t\t\tthis._lineCentSum.x += segmentLen * midx;\n\t\t\tvar midy = (pts[i].y + pts[i + 1].y) / 2;\n\t\t\tthis._lineCentSum.y += segmentLen * midy;\n\t\t}\n\t\tthis._totalLength += lineLen;\n\t\tif (lineLen === 0.0 && pts.length > 0) this.addPoint(pts[0]);\n\t},\n\taddHole: function addHole(pts) {\n\t\tvar isPositiveArea = Orientation.isCCW(pts);\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tthis.addTriangle(this._areaBasePt, pts[i], pts[i + 1], isPositiveArea);\n\t\t}\n\t\tthis.addLineSegments(pts);\n\t},\n\tgetCentroid: function getCentroid() {\n\t\tvar cent = new Coordinate();\n\t\tif (Math.abs(this._areasum2) > 0.0) {\n\t\t\tcent.x = this._cg3.x / 3 / this._areasum2;\n\t\t\tcent.y = this._cg3.y / 3 / this._areasum2;\n\t\t} else if (this._totalLength > 0.0) {\n\t\t\tcent.x = this._lineCentSum.x / this._totalLength;\n\t\t\tcent.y = this._lineCentSum.y / this._totalLength;\n\t\t} else if (this._ptCount > 0) {\n\t\t\tcent.x = this._ptCentSum.x / this._ptCount;\n\t\t\tcent.y = this._ptCentSum.y / this._ptCount;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t\treturn cent;\n\t},\n\taddShell: function addShell(pts) {\n\t\tif (pts.length > 0) this.setAreaBasePoint(pts[0]);\n\t\tvar isPositiveArea = !Orientation.isCCW(pts);\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tthis.addTriangle(this._areaBasePt, pts[i], pts[i + 1], isPositiveArea);\n\t\t}\n\t\tthis.addLineSegments(pts);\n\t},\n\taddTriangle: function addTriangle(p0, p1, p2, isPositiveArea) {\n\t\tvar sign = isPositiveArea ? 1.0 : -1.0;\n\t\tCentroid.centroid3(p0, p1, p2, this._triangleCent3);\n\t\tvar area2 = Centroid.area2(p0, p1, p2);\n\t\tthis._cg3.x += sign * area2 * this._triangleCent3.x;\n\t\tthis._cg3.y += sign * area2 * this._triangleCent3.y;\n\t\tthis._areasum2 += sign * area2;\n\t},\n\tadd: function add() {\n\t\tif (arguments[0] instanceof Polygon) {\n\t\t\tvar _poly = arguments[0];\n\t\t\tthis.addShell(_poly.getExteriorRing().getCoordinates());\n\t\t\tfor (var i = 0; i < _poly.getNumInteriorRing(); i++) {\n\t\t\t\tthis.addHole(_poly.getInteriorRingN(i).getCoordinates());\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tvar geom = arguments[0];\n\t\t\tif (geom.isEmpty()) return null;\n\t\t\tif (geom instanceof Point) {\n\t\t\t\tthis.addPoint(geom.getCoordinate());\n\t\t\t} else if (geom instanceof LineString) {\n\t\t\t\tthis.addLineSegments(geom.getCoordinates());\n\t\t\t} else if (geom instanceof Polygon) {\n\t\t\t\tvar poly = geom;\n\t\t\t\tthis.add(poly);\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.add(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Centroid;\n\t}\n});\nCentroid.area2 = function (p1, p2, p3) {\n\treturn (p2.x - p1.x) * (p3.y - p1.y) - (p3.x - p1.x) * (p2.y - p1.y);\n};\nCentroid.centroid3 = function (p1, p2, p3, c) {\n\tc.x = p1.x + p2.x + p3.x;\n\tc.y = p1.y + p2.y + p3.y;\n\treturn null;\n};\nCentroid.getCentroid = function (geom) {\n\tvar cent = new Centroid(geom);\n\treturn cent.getCentroid();\n};\n\nfunction CGAlgorithms() {}\nextend(CGAlgorithms.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CGAlgorithms;\n\t}\n});\nCGAlgorithms.orientationIndex = function (p1, p2, q) {\n\treturn CGAlgorithmsDD.orientationIndex(p1, p2, q);\n};\nCGAlgorithms.signedArea = function () {\n\tif (arguments[0] instanceof Array) {\n\t\tvar ring = arguments[0];\n\t\tif (ring.length < 3) return 0.0;\n\t\tvar sum = 0.0;\n\t\tvar x0 = ring[0].x;\n\t\tfor (var i = 1; i < ring.length - 1; i++) {\n\t\t\tvar x = ring[i].x - x0;\n\t\t\tvar y1 = ring[i + 1].y;\n\t\t\tvar y2 = ring[i - 1].y;\n\t\t\tsum += x * (y2 - y1);\n\t\t}\n\t\treturn sum / 2.0;\n\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\tvar _ring = arguments[0];\n\t\tvar n = _ring.size();\n\t\tif (n < 3) return 0.0;\n\t\tvar p0 = new Coordinate();\n\t\tvar p1 = new Coordinate();\n\t\tvar p2 = new Coordinate();\n\t\t_ring.getCoordinate(0, p1);\n\t\t_ring.getCoordinate(1, p2);\n\t\tvar x0 = p1.x;\n\t\tp2.x -= x0;\n\t\tvar sum = 0.0;\n\t\tfor (var i = 1; i < n - 1; i++) {\n\t\t\tp0.y = p1.y;\n\t\t\tp1.x = p2.x;\n\t\t\tp1.y = p2.y;\n\t\t\t_ring.getCoordinate(i + 1, p2);\n\t\t\tp2.x -= x0;\n\t\t\tsum += p1.x * (p0.y - p2.y);\n\t\t}\n\t\treturn sum / 2.0;\n\t}\n};\nCGAlgorithms.distanceLineLine = function (A, B, C, D) {\n\tif (A.equals(B)) return CGAlgorithms.distancePointLine(A, C, D);\n\tif (C.equals(D)) return CGAlgorithms.distancePointLine(D, A, B);\n\tvar noIntersection = false;\n\tif (!Envelope.intersects(A, B, C, D)) {\n\t\tnoIntersection = true;\n\t} else {\n\t\tvar denom = (B.x - A.x) * (D.y - C.y) - (B.y - A.y) * (D.x - C.x);\n\t\tif (denom === 0) {\n\t\t\tnoIntersection = true;\n\t\t} else {\n\t\t\tvar r_num = (A.y - C.y) * (D.x - C.x) - (A.x - C.x) * (D.y - C.y);\n\t\t\tvar s_num = (A.y - C.y) * (B.x - A.x) - (A.x - C.x) * (B.y - A.y);\n\t\t\tvar s = s_num / denom;\n\t\t\tvar r = r_num / denom;\n\t\t\tif (r < 0 || r > 1 || s < 0 || s > 1) {\n\t\t\t\tnoIntersection = true;\n\t\t\t}\n\t\t}\n\t}\n\tif (noIntersection) {\n\t\treturn MathUtil.min(CGAlgorithms.distancePointLine(A, C, D), CGAlgorithms.distancePointLine(B, C, D), CGAlgorithms.distancePointLine(C, A, B), CGAlgorithms.distancePointLine(D, A, B));\n\t}\n\treturn 0.0;\n};\nCGAlgorithms.isPointInRing = function (p, ring) {\n\treturn CGAlgorithms.locatePointInRing(p, ring) !== Location.EXTERIOR;\n};\nCGAlgorithms.computeLength = function (pts) {\n\tvar n = pts.size();\n\tif (n <= 1) return 0.0;\n\tvar len = 0.0;\n\tvar p = new Coordinate();\n\tpts.getCoordinate(0, p);\n\tvar x0 = p.x;\n\tvar y0 = p.y;\n\tfor (var i = 1; i < n; i++) {\n\t\tpts.getCoordinate(i, p);\n\t\tvar x1 = p.x;\n\t\tvar y1 = p.y;\n\t\tvar dx = x1 - x0;\n\t\tvar dy = y1 - y0;\n\t\tlen += Math.sqrt(dx * dx + dy * dy);\n\t\tx0 = x1;\n\t\ty0 = y1;\n\t}\n\treturn len;\n};\nCGAlgorithms.isCCW = function (ring) {\n\tvar nPts = ring.length - 1;\n\tif (nPts < 3) throw new IllegalArgumentException(\"Ring has fewer than 4 points, so orientation cannot be determined\");\n\tvar hiPt = ring[0];\n\tvar hiIndex = 0;\n\tfor (var i = 1; i <= nPts; i++) {\n\t\tvar p = ring[i];\n\t\tif (p.y > hiPt.y) {\n\t\t\thiPt = p;\n\t\t\thiIndex = i;\n\t\t}\n\t}\n\tvar iPrev = hiIndex;\n\tdo {\n\t\tiPrev = iPrev - 1;\n\t\tif (iPrev < 0) iPrev = nPts;\n\t} while (ring[iPrev].equals2D(hiPt) && iPrev !== hiIndex);\n\tvar iNext = hiIndex;\n\tdo {\n\t\tiNext = (iNext + 1) % nPts;\n\t} while (ring[iNext].equals2D(hiPt) && iNext !== hiIndex);\n\tvar prev = ring[iPrev];\n\tvar next = ring[iNext];\n\tif (prev.equals2D(hiPt) || next.equals2D(hiPt) || prev.equals2D(next)) return false;\n\tvar disc = CGAlgorithms.computeOrientation(prev, hiPt, next);\n\tvar isCCW = false;\n\tif (disc === 0) {\n\t\tisCCW = prev.x > next.x;\n\t} else {\n\t\tisCCW = disc > 0;\n\t}\n\treturn isCCW;\n};\nCGAlgorithms.locatePointInRing = function (p, ring) {\n\treturn RayCrossingCounter.locatePointInRing(p, ring);\n};\nCGAlgorithms.distancePointLinePerpendicular = function (p, A, B) {\n\tvar len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n\tvar s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n\treturn Math.abs(s) * Math.sqrt(len2);\n};\nCGAlgorithms.computeOrientation = function (p1, p2, q) {\n\treturn CGAlgorithms.orientationIndex(p1, p2, q);\n};\nCGAlgorithms.distancePointLine = function () {\n\tif (arguments.length === 2) {\n\t\tvar p = arguments[0],\n\t\t    line = arguments[1];\n\t\tif (line.length === 0) throw new IllegalArgumentException(\"Line array must contain at least one vertex\");\n\t\tvar minDistance = p.distance(line[0]);\n\t\tfor (var i = 0; i < line.length - 1; i++) {\n\t\t\tvar dist = CGAlgorithms.distancePointLine(p, line[i], line[i + 1]);\n\t\t\tif (dist < minDistance) {\n\t\t\t\tminDistance = dist;\n\t\t\t}\n\t\t}\n\t\treturn minDistance;\n\t} else if (arguments.length === 3) {\n\t\tvar _p = arguments[0],\n\t\t    A = arguments[1],\n\t\t    B = arguments[2];\n\t\tif (A.x === B.x && A.y === B.y) return _p.distance(A);\n\t\tvar len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n\t\tvar r = ((_p.x - A.x) * (B.x - A.x) + (_p.y - A.y) * (B.y - A.y)) / len2;\n\t\tif (r <= 0.0) return _p.distance(A);\n\t\tif (r >= 1.0) return _p.distance(B);\n\t\tvar s = ((A.y - _p.y) * (B.x - A.x) - (A.x - _p.x) * (B.y - A.y)) / len2;\n\t\treturn Math.abs(s) * Math.sqrt(len2);\n\t}\n};\nCGAlgorithms.isOnLine = function (p, pt) {\n\tvar lineIntersector = new RobustLineIntersector();\n\tfor (var i = 1; i < pt.length; i++) {\n\t\tvar p0 = pt[i - 1];\n\t\tvar p1 = pt[i];\n\t\tlineIntersector.computeIntersection(p, p0, p1);\n\t\tif (lineIntersector.hasIntersection()) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\nCGAlgorithms.CLOCKWISE = -1;\nCGAlgorithms.RIGHT = CGAlgorithms.CLOCKWISE;\nCGAlgorithms.COUNTERCLOCKWISE = 1;\nCGAlgorithms.LEFT = CGAlgorithms.COUNTERCLOCKWISE;\nCGAlgorithms.COLLINEAR = 0;\nCGAlgorithms.STRAIGHT = CGAlgorithms.COLLINEAR;\n\n/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nfunction EmptyStackException(message) {\n  this.message = message || '';\n}\nEmptyStackException.prototype = new Error();\n\n/**\n * @type {string}\n */\nEmptyStackException.prototype.name = 'EmptyStackException';\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Stack.html\n *\n * @extends {List}\n * @constructor\n * @private\n */\nfunction Stack() {\n  /**\n   * @type {Array}\n   * @private\n   */\n  this.array_ = [];\n}\nStack.prototype = new List();\n\n/**\n * @override\n */\nStack.prototype.add = function (e) {\n  this.array_.push(e);\n  return true;\n};\n\n/**\n * @override\n */\nStack.prototype.get = function (index) {\n  if (index < 0 || index >= this.size()) {\n    throw new IndexOutOfBoundsException();\n  }\n\n  return this.array_[index];\n};\n\n/**\n * Pushes an item onto the top of this stack.\n * @param {Object} e\n * @return {Object}\n */\nStack.prototype.push = function (e) {\n  this.array_.push(e);\n  return e;\n};\n\n/**\n * Pushes an item onto the top of this stack.\n * @param {Object} e\n * @return {Object}\n */\nStack.prototype.pop = function (e) {\n  if (this.array_.length === 0) {\n    throw new EmptyStackException();\n  }\n\n  return this.array_.pop();\n};\n\n/**\n * Looks at the object at the top of this stack without removing it from the\n * stack.\n * @return {Object}\n */\nStack.prototype.peek = function () {\n  if (this.array_.length === 0) {\n    throw new EmptyStackException();\n  }\n\n  return this.array_[this.array_.length - 1];\n};\n\n/**\n * Tests if this stack is empty.\n * @return {boolean} true if and only if this stack contains no items; false\n *         otherwise.\n */\nStack.prototype.empty = function () {\n  if (this.array_.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n/**\n * @return {boolean}\n */\nStack.prototype.isEmpty = function () {\n  return this.empty();\n};\n\n/**\n * Returns the 1-based position where an object is on this stack. If the object\n * o occurs as an item in this stack, this method returns the distance from the\n * top of the stack of the occurrence nearest the top of the stack; the topmost\n * item on the stack is considered to be at distance 1. The equals method is\n * used to compare o to the items in this stack.\n *\n * NOTE: does not currently actually use equals. (=== is used)\n *\n * @param {Object} o\n * @return {number} the 1-based position from the top of the stack where the\n *         object is located; the return value -1 indicates that the object is\n *         not on the stack.\n */\nStack.prototype.search = function (o) {\n  return this.array_.indexOf(o);\n};\n\n/**\n * @return {number}\n * @export\n */\nStack.prototype.size = function () {\n  return this.array_.length;\n};\n\n/**\n * @return {Array}\n */\nStack.prototype.toArray = function () {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n\nfunction UniqueCoordinateArrayFilter() {\n\tthis.treeSet = new TreeSet();\n\tthis.list = new ArrayList();\n}\nextend(UniqueCoordinateArrayFilter.prototype, {\n\tfilter: function filter(coord) {\n\t\tif (!this.treeSet.contains(coord)) {\n\t\t\tthis.list.add(coord);\n\t\t\tthis.treeSet.add(coord);\n\t\t}\n\t},\n\tgetCoordinates: function getCoordinates() {\n\t\tvar coordinates = new Array(this.list.size()).fill(null);\n\t\treturn this.list.toArray(coordinates);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [CoordinateFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn UniqueCoordinateArrayFilter;\n\t}\n});\nUniqueCoordinateArrayFilter.filterCoordinates = function (coords) {\n\tvar filter = new UniqueCoordinateArrayFilter();\n\tfor (var i = 0; i < coords.length; i++) {\n\t\tfilter.filter(coords[i]);\n\t}\n\treturn filter.getCoordinates();\n};\n\nfunction ConvexHull() {\n\tthis._geomFactory = null;\n\tthis._inputPts = null;\n\tif (arguments.length === 1) {\n\t\tvar geometry = arguments[0];\n\t\tConvexHull.call(this, ConvexHull.extractCoordinates(geometry), geometry.getFactory());\n\t} else if (arguments.length === 2) {\n\t\tvar pts = arguments[0],\n\t\t    geomFactory = arguments[1];\n\t\tthis._inputPts = UniqueCoordinateArrayFilter.filterCoordinates(pts);\n\t\tthis._geomFactory = geomFactory;\n\t}\n}\nextend(ConvexHull.prototype, {\n\tpreSort: function preSort(pts) {\n\t\tvar t = null;\n\t\tfor (var i = 1; i < pts.length; i++) {\n\t\t\tif (pts[i].y < pts[0].y || pts[i].y === pts[0].y && pts[i].x < pts[0].x) {\n\t\t\t\tt = pts[0];\n\t\t\t\tpts[0] = pts[i];\n\t\t\t\tpts[i] = t;\n\t\t\t}\n\t\t}\n\t\tArrays.sort(pts, 1, pts.length, new RadialComparator(pts[0]));\n\t\treturn pts;\n\t},\n\tcomputeOctRing: function computeOctRing(inputPts) {\n\t\tvar octPts = this.computeOctPts(inputPts);\n\t\tvar coordList = new CoordinateList();\n\t\tcoordList.add(octPts, false);\n\t\tif (coordList.size() < 3) {\n\t\t\treturn null;\n\t\t}\n\t\tcoordList.closeRing();\n\t\treturn coordList.toCoordinateArray();\n\t},\n\tlineOrPolygon: function lineOrPolygon(coordinates) {\n\t\tcoordinates = this.cleanRing(coordinates);\n\t\tif (coordinates.length === 3) {\n\t\t\treturn this._geomFactory.createLineString([coordinates[0], coordinates[1]]);\n\t\t}\n\t\tvar linearRing = this._geomFactory.createLinearRing(coordinates);\n\t\treturn this._geomFactory.createPolygon(linearRing);\n\t},\n\tcleanRing: function cleanRing(original) {\n\t\tAssert.equals(original[0], original[original.length - 1]);\n\t\tvar cleanedRing = new ArrayList();\n\t\tvar previousDistinctCoordinate = null;\n\t\tfor (var i = 0; i <= original.length - 2; i++) {\n\t\t\tvar currentCoordinate = original[i];\n\t\t\tvar nextCoordinate = original[i + 1];\n\t\t\tif (currentCoordinate.equals(nextCoordinate)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (previousDistinctCoordinate !== null && this.isBetween(previousDistinctCoordinate, currentCoordinate, nextCoordinate)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcleanedRing.add(currentCoordinate);\n\t\t\tpreviousDistinctCoordinate = currentCoordinate;\n\t\t}\n\t\tcleanedRing.add(original[original.length - 1]);\n\t\tvar cleanedRingCoordinates = new Array(cleanedRing.size()).fill(null);\n\t\treturn cleanedRing.toArray(cleanedRingCoordinates);\n\t},\n\tisBetween: function isBetween(c1, c2, c3) {\n\t\tif (Orientation.index(c1, c2, c3) !== 0) {\n\t\t\treturn false;\n\t\t}\n\t\tif (c1.x !== c3.x) {\n\t\t\tif (c1.x <= c2.x && c2.x <= c3.x) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (c3.x <= c2.x && c2.x <= c1.x) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tif (c1.y !== c3.y) {\n\t\t\tif (c1.y <= c2.y && c2.y <= c3.y) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (c3.y <= c2.y && c2.y <= c1.y) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\treduce: function reduce(inputPts) {\n\t\tvar polyPts = this.computeOctRing(inputPts);\n\t\tif (polyPts === null) return inputPts;\n\t\tvar reducedSet = new TreeSet();\n\t\tfor (var i = 0; i < polyPts.length; i++) {\n\t\t\treducedSet.add(polyPts[i]);\n\t\t}\n\t\tfor (var i = 0; i < inputPts.length; i++) {\n\t\t\tif (!PointLocation.isInRing(inputPts[i], polyPts)) {\n\t\t\t\treducedSet.add(inputPts[i]);\n\t\t\t}\n\t\t}\n\t\tvar reducedPts = CoordinateArrays.toCoordinateArray(reducedSet);\n\t\tif (reducedPts.length < 3) return this.padArray3(reducedPts);\n\t\treturn reducedPts;\n\t},\n\tgetConvexHull: function getConvexHull() {\n\t\tif (this._inputPts.length === 0) {\n\t\t\treturn this._geomFactory.createGeometryCollection();\n\t\t}\n\t\tif (this._inputPts.length === 1) {\n\t\t\treturn this._geomFactory.createPoint(this._inputPts[0]);\n\t\t}\n\t\tif (this._inputPts.length === 2) {\n\t\t\treturn this._geomFactory.createLineString(this._inputPts);\n\t\t}\n\t\tvar reducedPts = this._inputPts;\n\t\tif (this._inputPts.length > 50) {\n\t\t\treducedPts = this.reduce(this._inputPts);\n\t\t}\n\t\tvar sortedPts = this.preSort(reducedPts);\n\t\tvar cHS = this.grahamScan(sortedPts);\n\t\tvar cH = this.toCoordinateArray(cHS);\n\t\treturn this.lineOrPolygon(cH);\n\t},\n\tpadArray3: function padArray3(pts) {\n\t\tvar pad = new Array(3).fill(null);\n\t\tfor (var i = 0; i < pad.length; i++) {\n\t\t\tif (i < pts.length) {\n\t\t\t\tpad[i] = pts[i];\n\t\t\t} else pad[i] = pts[0];\n\t\t}\n\t\treturn pad;\n\t},\n\tcomputeOctPts: function computeOctPts(inputPts) {\n\t\tvar pts = new Array(8).fill(null);\n\t\tfor (var j = 0; j < pts.length; j++) {\n\t\t\tpts[j] = inputPts[0];\n\t\t}\n\t\tfor (var i = 1; i < inputPts.length; i++) {\n\t\t\tif (inputPts[i].x < pts[0].x) {\n\t\t\t\tpts[0] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x - inputPts[i].y < pts[1].x - pts[1].y) {\n\t\t\t\tpts[1] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].y > pts[2].y) {\n\t\t\t\tpts[2] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x + inputPts[i].y > pts[3].x + pts[3].y) {\n\t\t\t\tpts[3] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x > pts[4].x) {\n\t\t\t\tpts[4] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x - inputPts[i].y > pts[5].x - pts[5].y) {\n\t\t\t\tpts[5] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].y < pts[6].y) {\n\t\t\t\tpts[6] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x + inputPts[i].y < pts[7].x + pts[7].y) {\n\t\t\t\tpts[7] = inputPts[i];\n\t\t\t}\n\t\t}\n\t\treturn pts;\n\t},\n\ttoCoordinateArray: function toCoordinateArray(stack) {\n\t\tvar coordinates = new Array(stack.size()).fill(null);\n\t\tfor (var i = 0; i < stack.size(); i++) {\n\t\t\tvar coordinate = stack.get(i);\n\t\t\tcoordinates[i] = coordinate;\n\t\t}\n\t\treturn coordinates;\n\t},\n\tgrahamScan: function grahamScan(c) {\n\t\tvar p = null;\n\t\tvar ps = new Stack();\n\t\tps.push(c[0]);\n\t\tps.push(c[1]);\n\t\tps.push(c[2]);\n\t\tfor (var i = 3; i < c.length; i++) {\n\t\t\tp = ps.pop();\n\t\t\twhile (!ps.empty() && Orientation.index(ps.peek(), p, c[i]) > 0) {\n\t\t\t\tp = ps.pop();\n\t\t\t}\n\t\t\tps.push(p);\n\t\t\tps.push(c[i]);\n\t\t}\n\t\tps.push(c[0]);\n\t\treturn ps;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ConvexHull;\n\t}\n});\nConvexHull.extractCoordinates = function (geom) {\n\tvar filter = new UniqueCoordinateArrayFilter();\n\tgeom.apply(filter);\n\treturn filter.getCoordinates();\n};\nfunction RadialComparator() {\n\tthis._origin = null;\n\tvar origin = arguments[0];\n\tthis._origin = origin;\n}\nextend(RadialComparator.prototype, {\n\tcompare: function compare(o1, o2) {\n\t\tvar p1 = o1;\n\t\tvar p2 = o2;\n\t\treturn RadialComparator.polarCompare(this._origin, p1, p2);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RadialComparator;\n\t}\n});\nRadialComparator.polarCompare = function (o, p, q) {\n\tvar dxp = p.x - o.x;\n\tvar dyp = p.y - o.y;\n\tvar dxq = q.x - o.x;\n\tvar dyq = q.y - o.y;\n\tvar orient = Orientation.index(o, p, q);\n\tif (orient === Orientation.COUNTERCLOCKWISE) return 1;\n\tif (orient === Orientation.CLOCKWISE) return -1;\n\tvar op = dxp * dxp + dyp * dyp;\n\tvar oq = dxq * dxq + dyq * dyq;\n\tif (op < oq) {\n\t\treturn -1;\n\t}\n\tif (op > oq) {\n\t\treturn 1;\n\t}\n\treturn 0;\n};\nConvexHull.RadialComparator = RadialComparator;\n\nfunction InteriorPointArea() {\n\tthis._factory = null;\n\tthis._interiorPoint = null;\n\tthis._maxWidth = 0.0;\n\tvar g = arguments[0];\n\tthis._factory = g.getFactory();\n\tthis.add(g);\n}\nextend(InteriorPointArea.prototype, {\n\taddPolygon: function addPolygon(geometry) {\n\t\tif (geometry.isEmpty()) return null;\n\t\tvar intPt = null;\n\t\tvar width = null;\n\t\tvar bisector = this.horizontalBisector(geometry);\n\t\tif (bisector.getLength() === 0.0) {\n\t\t\twidth = 0;\n\t\t\tintPt = bisector.getCoordinate();\n\t\t} else {\n\t\t\tvar intersections = bisector.intersection(geometry);\n\t\t\tvar widestIntersection = this.widestGeometry(intersections);\n\t\t\twidth = widestIntersection.getEnvelopeInternal().getWidth();\n\t\t\tintPt = InteriorPointArea.centre(widestIntersection.getEnvelopeInternal());\n\t\t}\n\t\tif (this._interiorPoint === null || width > this._maxWidth) {\n\t\t\tthis._interiorPoint = intPt;\n\t\t\tthis._maxWidth = width;\n\t\t}\n\t},\n\tgetInteriorPoint: function getInteriorPoint() {\n\t\treturn this._interiorPoint;\n\t},\n\twidestGeometry: function widestGeometry() {\n\t\tif (arguments[0] instanceof GeometryCollection) {\n\t\t\tvar gc = arguments[0];\n\t\t\tif (gc.isEmpty()) {\n\t\t\t\treturn gc;\n\t\t\t}\n\t\t\tvar widestGeometry = gc.getGeometryN(0);\n\t\t\tfor (var i = 1; i < gc.getNumGeometries(); i++) {\n\t\t\t\tif (gc.getGeometryN(i).getEnvelopeInternal().getWidth() > widestGeometry.getEnvelopeInternal().getWidth()) {\n\t\t\t\t\twidestGeometry = gc.getGeometryN(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn widestGeometry;\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tvar geometry = arguments[0];\n\t\t\tif (!(geometry instanceof GeometryCollection)) {\n\t\t\t\treturn geometry;\n\t\t\t}\n\t\t\treturn this.widestGeometry(geometry);\n\t\t}\n\t},\n\thorizontalBisector: function horizontalBisector(geometry) {\n\t\tvar envelope = geometry.getEnvelopeInternal();\n\t\tvar bisectY = SafeBisectorFinder.getBisectorY(geometry);\n\t\treturn this._factory.createLineString([new Coordinate(envelope.getMinX(), bisectY), new Coordinate(envelope.getMaxX(), bisectY)]);\n\t},\n\tadd: function add(geom) {\n\t\tif (geom instanceof Polygon) {\n\t\t\tthis.addPolygon(geom);\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tvar gc = geom;\n\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\tthis.add(gc.getGeometryN(i));\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn InteriorPointArea;\n\t}\n});\nInteriorPointArea.centre = function (envelope) {\n\treturn new Coordinate(InteriorPointArea.avg(envelope.getMinX(), envelope.getMaxX()), InteriorPointArea.avg(envelope.getMinY(), envelope.getMaxY()));\n};\nInteriorPointArea.avg = function (a, b) {\n\treturn (a + b) / 2.0;\n};\nfunction SafeBisectorFinder() {\n\tthis._poly = null;\n\tthis._centreY = null;\n\tthis._hiY = Double.MAX_VALUE;\n\tthis._loY = -Double.MAX_VALUE;\n\tvar poly = arguments[0];\n\tthis._poly = poly;\n\tthis._hiY = poly.getEnvelopeInternal().getMaxY();\n\tthis._loY = poly.getEnvelopeInternal().getMinY();\n\tthis._centreY = InteriorPointArea.avg(this._loY, this._hiY);\n}\nextend(SafeBisectorFinder.prototype, {\n\tupdateInterval: function updateInterval(y) {\n\t\tif (y <= this._centreY) {\n\t\t\tif (y > this._loY) this._loY = y;\n\t\t} else if (y > this._centreY) {\n\t\t\tif (y < this._hiY) {\n\t\t\t\tthis._hiY = y;\n\t\t\t}\n\t\t}\n\t},\n\tgetBisectorY: function getBisectorY() {\n\t\tthis.process(this._poly.getExteriorRing());\n\t\tfor (var i = 0; i < this._poly.getNumInteriorRing(); i++) {\n\t\t\tthis.process(this._poly.getInteriorRingN(i));\n\t\t}\n\t\tvar bisectY = InteriorPointArea.avg(this._hiY, this._loY);\n\t\treturn bisectY;\n\t},\n\tprocess: function process(line) {\n\t\tvar seq = line.getCoordinateSequence();\n\t\tfor (var i = 0; i < seq.size(); i++) {\n\t\t\tvar y = seq.getY(i);\n\t\t\tthis.updateInterval(y);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SafeBisectorFinder;\n\t}\n});\nSafeBisectorFinder.getBisectorY = function (poly) {\n\tvar finder = new SafeBisectorFinder(poly);\n\treturn finder.getBisectorY();\n};\nInteriorPointArea.SafeBisectorFinder = SafeBisectorFinder;\n\nfunction InteriorPointLine() {\n\tthis._centroid = null;\n\tthis._minDistance = Double.MAX_VALUE;\n\tthis._interiorPoint = null;\n\tvar g = arguments[0];\n\tthis._centroid = g.getCentroid().getCoordinate();\n\tthis.addInterior(g);\n\tif (this._interiorPoint === null) this.addEndpoints(g);\n}\nextend(InteriorPointLine.prototype, {\n\taddEndpoints: function addEndpoints() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tvar geom = arguments[0];\n\t\t\tif (geom instanceof LineString) {\n\t\t\t\tthis.addEndpoints(geom.getCoordinates());\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.addEndpoints(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tvar pts = arguments[0];\n\t\t\tthis.add(pts[0]);\n\t\t\tthis.add(pts[pts.length - 1]);\n\t\t}\n\t},\n\tgetInteriorPoint: function getInteriorPoint() {\n\t\treturn this._interiorPoint;\n\t},\n\taddInterior: function addInterior() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tvar geom = arguments[0];\n\t\t\tif (geom instanceof LineString) {\n\t\t\t\tthis.addInterior(geom.getCoordinates());\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.addInterior(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tvar pts = arguments[0];\n\t\t\tfor (var i = 1; i < pts.length - 1; i++) {\n\t\t\t\tthis.add(pts[i]);\n\t\t\t}\n\t\t}\n\t},\n\tadd: function add(point) {\n\t\tvar dist = point.distance(this._centroid);\n\t\tif (dist < this._minDistance) {\n\t\t\tthis._interiorPoint = new Coordinate(point);\n\t\t\tthis._minDistance = dist;\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn InteriorPointLine;\n\t}\n});\n\nfunction InteriorPointPoint() {\n\tthis._centroid = null;\n\tthis._minDistance = Double.MAX_VALUE;\n\tthis._interiorPoint = null;\n\tvar g = arguments[0];\n\tthis._centroid = g.getCentroid().getCoordinate();\n\tthis.add(g);\n}\nextend(InteriorPointPoint.prototype, {\n\tgetInteriorPoint: function getInteriorPoint() {\n\t\treturn this._interiorPoint;\n\t},\n\tadd: function add() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tvar geom = arguments[0];\n\t\t\tif (geom instanceof Point) {\n\t\t\t\tthis.add(geom.getCoordinate());\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.add(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tvar point = arguments[0];\n\t\t\tvar dist = point.distance(this._centroid);\n\t\t\tif (dist < this._minDistance) {\n\t\t\t\tthis._interiorPoint = new Coordinate(point);\n\t\t\t\tthis._minDistance = dist;\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn InteriorPointPoint;\n\t}\n});\n\nfunction MonotoneChainSelectAction() {\n\tthis.selectedSegment = new LineSegment();\n}\nextend(MonotoneChainSelectAction.prototype, {\n\tselect: function select() {\n\t\tif (arguments.length === 1) {\n\t\t\t\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar mc = arguments[0],\n\t\t\t    startIndex = arguments[1];\n\t\t\tmc.getLineSegment(startIndex, this.selectedSegment);\n\t\t\tthis.select(this.selectedSegment);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MonotoneChainSelectAction;\n\t}\n});\n\nfunction NodeBase() {\n\tthis._items = new ArrayList();\n\tthis._subnode = new Array(2).fill(null);\n}\nextend(NodeBase.prototype, {\n\thasChildren: function hasChildren() {\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tisPrunable: function isPrunable() {\n\t\treturn !(this.hasChildren() || this.hasItems());\n\t},\n\taddAllItems: function addAllItems(items) {\n\t\titems.addAll(this._items);\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].addAllItems(items);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\tsize: function size() {\n\t\tvar subSize = 0;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tsubSize += this._subnode[i].size();\n\t\t\t}\n\t\t}\n\t\treturn subSize + this._items.size();\n\t},\n\taddAllItemsFromOverlapping: function addAllItemsFromOverlapping(interval, resultItems) {\n\t\tif (interval !== null && !this.isSearchMatch(interval)) return null;\n\t\tresultItems.addAll(this._items);\n\t\tif (this._subnode[0] !== null) this._subnode[0].addAllItemsFromOverlapping(interval, resultItems);\n\t\tif (this._subnode[1] !== null) this._subnode[1].addAllItemsFromOverlapping(interval, resultItems);\n\t},\n\thasItems: function hasItems() {\n\t\treturn !this._items.isEmpty();\n\t},\n\tremove: function remove(itemInterval, item) {\n\t\tif (!this.isSearchMatch(itemInterval)) return false;\n\t\tvar found = false;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tfound = this._subnode[i].remove(itemInterval, item);\n\t\t\t\tif (found) {\n\t\t\t\t\tif (this._subnode[i].isPrunable()) this._subnode[i] = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (found) return found;\n\t\tfound = this._items.remove(item);\n\t\treturn found;\n\t},\n\tgetItems: function getItems() {\n\t\treturn this._items;\n\t},\n\tdepth: function depth() {\n\t\tvar maxSubDepth = 0;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tvar sqd = this._subnode[i].depth();\n\t\t\t\tif (sqd > maxSubDepth) maxSubDepth = sqd;\n\t\t\t}\n\t\t}\n\t\treturn maxSubDepth + 1;\n\t},\n\tnodeSize: function nodeSize() {\n\t\tvar subSize = 0;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tsubSize += this._subnode[i].nodeSize();\n\t\t\t}\n\t\t}\n\t\treturn subSize + 1;\n\t},\n\tadd: function add(item) {\n\t\tthis._items.add(item);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NodeBase;\n\t}\n});\nNodeBase.getSubnodeIndex = function (interval, centre) {\n\tvar subnodeIndex = -1;\n\tif (interval.min >= centre) subnodeIndex = 1;\n\tif (interval.max <= centre) subnodeIndex = 0;\n\treturn subnodeIndex;\n};\n\nfunction Interval() {\n\tthis.min = null;\n\tthis.max = null;\n\tif (arguments.length === 0) {\n\t\tthis.min = 0.0;\n\t\tthis.max = 0.0;\n\t} else if (arguments.length === 1) {\n\t\tvar interval = arguments[0];\n\t\tthis.init(interval.min, interval.max);\n\t} else if (arguments.length === 2) {\n\t\tvar min = arguments[0],\n\t\t    max = arguments[1];\n\t\tthis.init(min, max);\n\t}\n}\nextend(Interval.prototype, {\n\texpandToInclude: function expandToInclude(interval) {\n\t\tif (interval.max > this.max) this.max = interval.max;\n\t\tif (interval.min < this.min) this.min = interval.min;\n\t},\n\tgetWidth: function getWidth() {\n\t\treturn this.max - this.min;\n\t},\n\toverlaps: function overlaps() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar interval = arguments[0];\n\t\t\treturn this.overlaps(interval.min, interval.max);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar min = arguments[0],\n\t\t\t    max = arguments[1];\n\t\t\tif (this.min > max || this.max < min) return false;\n\t\t\treturn true;\n\t\t}\n\t},\n\tgetMin: function getMin() {\n\t\treturn this.min;\n\t},\n\ttoString: function toString() {\n\t\treturn \"[\" + this.min + \", \" + this.max + \"]\";\n\t},\n\tcontains: function contains() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Interval) {\n\t\t\t\tvar interval = arguments[0];\n\t\t\t\treturn this.contains(interval.min, interval.max);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tvar p = arguments[0];\n\t\t\t\treturn p >= this.min && p <= this.max;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar min = arguments[0],\n\t\t\t    max = arguments[1];\n\t\t\treturn min >= this.min && max <= this.max;\n\t\t}\n\t},\n\tinit: function init(min, max) {\n\t\tthis.min = min;\n\t\tthis.max = max;\n\t\tif (min > max) {\n\t\t\tthis.min = max;\n\t\t\tthis.max = min;\n\t\t}\n\t},\n\tgetMax: function getMax() {\n\t\treturn this.max;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Interval;\n\t}\n});\n\nfunction DoubleBits() {}\nDoubleBits.exponent = function (d) {\n  return CVTFWD(64, d) - 1023;\n};\nDoubleBits.powerOf2 = function (exp) {\n  return Math.pow(2, exp);\n};\n\n/**\n * Calculates the exponent of the bit-pattern for a number. Uses code from:\n * http://www.merlyn.demon.co.uk/js-exact.htm\n *\n * @param {Number}\n *          NumW 32 or 64 to denote the number of bits.\n * @param {Number}\n *          Qty the number to calculate the bit pattern for.\n * @return {Number} The integer value of the exponent.\n * @private\n */\nfunction CVTFWD(NumW, Qty) {\n  var Sign;\n  var Expo;\n  var Mant;\n  var Bin;\n  var Inf = {\n    32: {\n      d: 0x7F,\n      c: 0x80,\n      b: 0,\n      a: 0\n    },\n    64: {\n      d: 0x7FF0,\n      c: 0,\n      b: 0,\n      a: 0\n    }\n  };\n  var ExW = {\n    32: 8,\n    64: 11\n  }[NumW];\n\n  if (!Bin) {\n    Sign = Qty < 0 || 1 / Qty < 0; // OK for +-0\n    if (!isFinite(Qty)) {\n      Bin = Inf[NumW];\n      if (Sign) {\n        Bin.d += 1 << NumW / 4 - 1;\n      }\n      Expo = Math.pow(2, ExW) - 1;\n      Mant = 0;\n    }\n  }\n\n  if (!Bin) {\n    Expo = {\n      32: 127,\n      64: 1023\n    }[NumW];\n    Mant = Math.abs(Qty);\n    while (Mant >= 2) {\n      Expo++;\n      Mant /= 2;\n    }\n    while (Mant < 1 && Expo > 0) {\n      Expo--;\n      Mant *= 2;\n    }\n    if (Expo <= 0) {\n      Mant /= 2;\n    }\n    if (NumW === 32 && Expo > 254) {\n      Bin = {\n        d: Sign ? 0xFF : 0x7F,\n        c: 0x80,\n        b: 0,\n        a: 0\n      };\n      Expo = Math.pow(2, ExW) - 1;\n      Mant = 0;\n    }\n  }\n\n  return Expo;\n}\n\nfunction Key() {\n\tthis._pt = 0.0;\n\tthis._level = 0;\n\tthis._interval = null;\n\tvar interval = arguments[0];\n\tthis.computeKey(interval);\n}\nextend(Key.prototype, {\n\tgetInterval: function getInterval() {\n\t\treturn this._interval;\n\t},\n\tgetLevel: function getLevel() {\n\t\treturn this._level;\n\t},\n\tcomputeKey: function computeKey(itemInterval) {\n\t\tthis._level = Key.computeLevel(itemInterval);\n\t\tthis._interval = new Interval();\n\t\tthis.computeInterval(this._level, itemInterval);\n\t\twhile (!this._interval.contains(itemInterval)) {\n\t\t\tthis._level += 1;\n\t\t\tthis.computeInterval(this._level, itemInterval);\n\t\t}\n\t},\n\tcomputeInterval: function computeInterval(level, itemInterval) {\n\t\tvar size = DoubleBits.powerOf2(level);\n\t\tthis._pt = Math.floor(itemInterval.getMin() / size) * size;\n\t\tthis._interval.init(this._pt, this._pt + size);\n\t},\n\tgetPoint: function getPoint() {\n\t\treturn this._pt;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Key;\n\t}\n});\nKey.computeLevel = function (interval) {\n\tvar dx = interval.getWidth();\n\tvar level = DoubleBits.exponent(dx) + 1;\n\treturn level;\n};\n\nfunction Node() {\n\tNodeBase.apply(this);\n\tthis._interval = null;\n\tthis._centre = null;\n\tthis._level = null;\n\tvar interval = arguments[0],\n\t    level = arguments[1];\n\tthis._interval = interval;\n\tthis._level = level;\n\tthis._centre = (interval.getMin() + interval.getMax()) / 2;\n}\ninherits(Node, NodeBase);\nextend(Node.prototype, {\n\tgetInterval: function getInterval() {\n\t\treturn this._interval;\n\t},\n\tfind: function find(searchInterval) {\n\t\tvar subnodeIndex = NodeBase.getSubnodeIndex(searchInterval, this._centre);\n\t\tif (subnodeIndex === -1) return this;\n\t\tif (this._subnode[subnodeIndex] !== null) {\n\t\t\tvar node = this._subnode[subnodeIndex];\n\t\t\treturn node.find(searchInterval);\n\t\t}\n\t\treturn this;\n\t},\n\tinsert: function insert(node) {\n\t\tAssert.isTrue(this._interval === null || this._interval.contains(node._interval));\n\t\tvar index = NodeBase.getSubnodeIndex(node._interval, this._centre);\n\t\tif (node._level === this._level - 1) {\n\t\t\tthis._subnode[index] = node;\n\t\t} else {\n\t\t\tvar childNode = this.createSubnode(index);\n\t\t\tchildNode.insert(node);\n\t\t\tthis._subnode[index] = childNode;\n\t\t}\n\t},\n\tisSearchMatch: function isSearchMatch(itemInterval) {\n\t\treturn itemInterval.overlaps(this._interval);\n\t},\n\tgetSubnode: function getSubnode(index) {\n\t\tif (this._subnode[index] === null) {\n\t\t\tthis._subnode[index] = this.createSubnode(index);\n\t\t}\n\t\treturn this._subnode[index];\n\t},\n\tgetNode: function getNode(searchInterval) {\n\t\tvar subnodeIndex = NodeBase.getSubnodeIndex(searchInterval, this._centre);\n\t\tif (subnodeIndex !== -1) {\n\t\t\tvar node = this.getSubnode(subnodeIndex);\n\t\t\treturn node.getNode(searchInterval);\n\t\t} else {\n\t\t\treturn this;\n\t\t}\n\t},\n\tcreateSubnode: function createSubnode(index) {\n\t\tvar min = 0.0;\n\t\tvar max = 0.0;\n\t\tswitch (index) {\n\t\t\tcase 0:\n\t\t\t\tmin = this._interval.getMin();\n\t\t\t\tmax = this._centre;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tmin = this._centre;\n\t\t\t\tmax = this._interval.getMax();\n\t\t\t\tbreak;\n\t\t}\n\t\tvar subInt = new Interval(min, max);\n\t\tvar node = new Node(subInt, this._level - 1);\n\t\treturn node;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Node;\n\t}\n});\nNode.createNode = function (itemInterval) {\n\tvar key = new Key(itemInterval);\n\tvar node = new Node(key.getInterval(), key.getLevel());\n\treturn node;\n};\nNode.createExpanded = function (node, addInterval) {\n\tvar expandInt = new Interval(addInterval);\n\tif (node !== null) expandInt.expandToInclude(node._interval);\n\tvar largerNode = Node.createNode(expandInt);\n\tif (node !== null) largerNode.insert(node);\n\treturn largerNode;\n};\n\nfunction IntervalSize() {}\nextend(IntervalSize.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IntervalSize;\n\t}\n});\nIntervalSize.isZeroWidth = function (min, max) {\n\tvar width = max - min;\n\tif (width === 0.0) return true;\n\tvar maxAbs = Math.max(Math.abs(min), Math.abs(max));\n\tvar scaledInterval = width / maxAbs;\n\tvar level = DoubleBits.exponent(scaledInterval);\n\treturn level <= IntervalSize.MIN_BINARY_EXPONENT;\n};\nIntervalSize.MIN_BINARY_EXPONENT = -50;\n\nfunction Root() {\n\tNodeBase.apply(this);\n}\ninherits(Root, NodeBase);\nextend(Root.prototype, {\n\tinsert: function insert(itemInterval, item) {\n\t\tvar index = NodeBase.getSubnodeIndex(itemInterval, Root.origin);\n\t\tif (index === -1) {\n\t\t\tthis.add(item);\n\t\t\treturn null;\n\t\t}\n\t\tvar node = this._subnode[index];\n\t\tif (node === null || !node.getInterval().contains(itemInterval)) {\n\t\t\tvar largerNode = Node.createExpanded(node, itemInterval);\n\t\t\tthis._subnode[index] = largerNode;\n\t\t}\n\t\tthis.insertContained(this._subnode[index], itemInterval, item);\n\t},\n\tisSearchMatch: function isSearchMatch(interval) {\n\t\treturn true;\n\t},\n\tinsertContained: function insertContained(tree, itemInterval, item) {\n\t\tAssert.isTrue(tree.getInterval().contains(itemInterval));\n\t\tvar isZeroArea = IntervalSize.isZeroWidth(itemInterval.getMin(), itemInterval.getMax());\n\t\tvar node = null;\n\t\tif (isZeroArea) node = tree.find(itemInterval);else node = tree.getNode(itemInterval);\n\t\tnode.add(item);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Root;\n\t}\n});\nRoot.origin = 0.0;\n\nfunction Bintree() {\n\tthis._root = null;\n\tthis._minExtent = 1.0;\n\tthis._root = new Root();\n}\nextend(Bintree.prototype, {\n\tsize: function size() {\n\t\tif (this._root !== null) return this._root.size();\n\t\treturn 0;\n\t},\n\tinsert: function insert(itemInterval, item) {\n\t\tthis.collectStats(itemInterval);\n\t\tvar insertInterval = Bintree.ensureExtent(itemInterval, this._minExtent);\n\t\tthis._root.insert(insertInterval, item);\n\t},\n\tquery: function query() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (typeof arguments[0] === \"number\") {\n\t\t\t\tvar x = arguments[0];\n\t\t\t\treturn this.query(new Interval(x, x));\n\t\t\t} else if (arguments[0] instanceof Interval) {\n\t\t\t\tvar interval = arguments[0];\n\t\t\t\tvar foundItems = new ArrayList();\n\t\t\t\tthis.query(interval, foundItems);\n\t\t\t\treturn foundItems;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _interval = arguments[0],\n\t\t\t    _foundItems = arguments[1];\n\t\t\tthis._root.addAllItemsFromOverlapping(_interval, _foundItems);\n\t\t}\n\t},\n\titerator: function iterator() {\n\t\tvar foundItems = new ArrayList();\n\t\tthis._root.addAllItems(foundItems);\n\t\treturn foundItems.iterator();\n\t},\n\tremove: function remove(itemInterval, item) {\n\t\tvar insertInterval = Bintree.ensureExtent(itemInterval, this._minExtent);\n\t\treturn this._root.remove(insertInterval, item);\n\t},\n\tcollectStats: function collectStats(interval) {\n\t\tvar del = interval.getWidth();\n\t\tif (del < this._minExtent && del > 0.0) this._minExtent = del;\n\t},\n\tdepth: function depth() {\n\t\tif (this._root !== null) return this._root.depth();\n\t\treturn 0;\n\t},\n\tnodeSize: function nodeSize() {\n\t\tif (this._root !== null) return this._root.nodeSize();\n\t\treturn 0;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Bintree;\n\t}\n});\nBintree.ensureExtent = function (itemInterval, minExtent) {\n\tvar min = itemInterval.getMin();\n\tvar max = itemInterval.getMax();\n\tif (min !== max) return itemInterval;\n\tif (min === max) {\n\t\tmin = min - minExtent / 2.0;\n\t\tmax = min + minExtent / 2.0;\n\t}\n\treturn new Interval(min, max);\n};\n\nfunction MonotoneChain() {\n\tthis._pts = null;\n\tthis._start = null;\n\tthis._end = null;\n\tthis._env = null;\n\tthis._context = null;\n\tthis._id = null;\n\tvar pts = arguments[0],\n\t    start = arguments[1],\n\t    end = arguments[2],\n\t    context = arguments[3];\n\tthis._pts = pts;\n\tthis._start = start;\n\tthis._end = end;\n\tthis._context = context;\n}\nextend(MonotoneChain.prototype, {\n\tgetLineSegment: function getLineSegment(index, ls) {\n\t\tls.p0 = this._pts[index];\n\t\tls.p1 = this._pts[index + 1];\n\t},\n\tcomputeSelect: function computeSelect(searchEnv, start0, end0, mcs) {\n\t\tvar p0 = this._pts[start0];\n\t\tvar p1 = this._pts[end0];\n\t\tif (end0 - start0 === 1) {\n\t\t\tmcs.select(this, start0);\n\t\t\treturn null;\n\t\t}\n\t\tif (!searchEnv.intersects(p0, p1)) return null;\n\t\tvar mid = Math.trunc((start0 + end0) / 2);\n\t\tif (start0 < mid) {\n\t\t\tthis.computeSelect(searchEnv, start0, mid, mcs);\n\t\t}\n\t\tif (mid < end0) {\n\t\t\tthis.computeSelect(searchEnv, mid, end0, mcs);\n\t\t}\n\t},\n\tgetCoordinates: function getCoordinates() {\n\t\tvar coord = new Array(this._end - this._start + 1).fill(null);\n\t\tvar index = 0;\n\t\tfor (var i = this._start; i <= this._end; i++) {\n\t\t\tcoord[index++] = this._pts[i];\n\t\t}\n\t\treturn coord;\n\t},\n\tcomputeOverlaps: function computeOverlaps() {\n\t\tif (arguments.length === 2) {\n\t\t\tvar mc = arguments[0],\n\t\t\t    mco = arguments[1];\n\t\t\tthis.computeOverlaps(this._start, this._end, mc, mc._start, mc._end, mco);\n\t\t} else if (arguments.length === 6) {\n\t\t\tvar start0 = arguments[0],\n\t\t\t    end0 = arguments[1],\n\t\t\t    _mc = arguments[2],\n\t\t\t    start1 = arguments[3],\n\t\t\t    end1 = arguments[4],\n\t\t\t    _mco = arguments[5];\n\t\t\tif (end0 - start0 === 1 && end1 - start1 === 1) {\n\t\t\t\t_mco.overlap(this, start0, _mc, start1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (!this.overlaps(start0, end0, _mc, start1, end1)) return null;\n\t\t\tvar mid0 = Math.trunc((start0 + end0) / 2);\n\t\t\tvar mid1 = Math.trunc((start1 + end1) / 2);\n\t\t\tif (start0 < mid0) {\n\t\t\t\tif (start1 < mid1) this.computeOverlaps(start0, mid0, _mc, start1, mid1, _mco);\n\t\t\t\tif (mid1 < end1) this.computeOverlaps(start0, mid0, _mc, mid1, end1, _mco);\n\t\t\t}\n\t\t\tif (mid0 < end0) {\n\t\t\t\tif (start1 < mid1) this.computeOverlaps(mid0, end0, _mc, start1, mid1, _mco);\n\t\t\t\tif (mid1 < end1) this.computeOverlaps(mid0, end0, _mc, mid1, end1, _mco);\n\t\t\t}\n\t\t}\n\t},\n\tsetId: function setId(id) {\n\t\tthis._id = id;\n\t},\n\tselect: function select(searchEnv, mcs) {\n\t\tthis.computeSelect(searchEnv, this._start, this._end, mcs);\n\t},\n\tgetEnvelope: function getEnvelope() {\n\t\tif (this._env === null) {\n\t\t\tvar p0 = this._pts[this._start];\n\t\t\tvar p1 = this._pts[this._end];\n\t\t\tthis._env = new Envelope(p0, p1);\n\t\t}\n\t\treturn this._env;\n\t},\n\toverlaps: function overlaps(start0, end0, mc, start1, end1) {\n\t\treturn Envelope.intersects(this._pts[start0], this._pts[end0], mc._pts[start1], mc._pts[end1]);\n\t},\n\tgetEndIndex: function getEndIndex() {\n\t\treturn this._end;\n\t},\n\tgetStartIndex: function getStartIndex() {\n\t\treturn this._start;\n\t},\n\tgetContext: function getContext() {\n\t\treturn this._context;\n\t},\n\tgetId: function getId() {\n\t\treturn this._id;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MonotoneChain;\n\t}\n});\n\nfunction Quadrant() {}\nextend(Quadrant.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Quadrant;\n\t}\n});\nQuadrant.isNorthern = function (quad) {\n\treturn quad === Quadrant.NE || quad === Quadrant.NW;\n};\nQuadrant.isOpposite = function (quad1, quad2) {\n\tif (quad1 === quad2) return false;\n\tvar diff = (quad1 - quad2 + 4) % 4;\n\tif (diff === 2) return true;\n\treturn false;\n};\nQuadrant.commonHalfPlane = function (quad1, quad2) {\n\tif (quad1 === quad2) return quad1;\n\tvar diff = (quad1 - quad2 + 4) % 4;\n\tif (diff === 2) return -1;\n\tvar min = quad1 < quad2 ? quad1 : quad2;\n\tvar max = quad1 > quad2 ? quad1 : quad2;\n\tif (min === 0 && max === 3) return 3;\n\treturn min;\n};\nQuadrant.isInHalfPlane = function (quad, halfPlane) {\n\tif (halfPlane === Quadrant.SE) {\n\t\treturn quad === Quadrant.SE || quad === Quadrant.SW;\n\t}\n\treturn quad === halfPlane || quad === halfPlane + 1;\n};\nQuadrant.quadrant = function () {\n\tif (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\tvar dx = arguments[0],\n\t\t    dy = arguments[1];\n\t\tif (dx === 0.0 && dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the quadrant for point ( \" + dx + \", \" + dy + \" )\");\n\t\tif (dx >= 0.0) {\n\t\t\tif (dy >= 0.0) return Quadrant.NE;else return Quadrant.SE;\n\t\t} else {\n\t\t\tif (dy >= 0.0) return Quadrant.NW;else return Quadrant.SW;\n\t\t}\n\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\tvar p0 = arguments[0],\n\t\t    p1 = arguments[1];\n\t\tif (p1.x === p0.x && p1.y === p0.y) throw new IllegalArgumentException(\"Cannot compute the quadrant for two identical points \" + p0);\n\t\tif (p1.x >= p0.x) {\n\t\t\tif (p1.y >= p0.y) return Quadrant.NE;else return Quadrant.SE;\n\t\t} else {\n\t\t\tif (p1.y >= p0.y) return Quadrant.NW;else return Quadrant.SW;\n\t\t}\n\t}\n};\nQuadrant.NE = 0;\nQuadrant.NW = 1;\nQuadrant.SW = 2;\nQuadrant.SE = 3;\n\nfunction MonotoneChainBuilder() {}\nextend(MonotoneChainBuilder.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MonotoneChainBuilder;\n\t}\n});\nMonotoneChainBuilder.getChainStartIndices = function (pts) {\n\tvar start = 0;\n\tvar startIndexList = new ArrayList();\n\tstartIndexList.add(new Integer(start));\n\tdo {\n\t\tvar last = MonotoneChainBuilder.findChainEnd(pts, start);\n\t\tstartIndexList.add(new Integer(last));\n\t\tstart = last;\n\t} while (start < pts.length - 1);\n\tvar startIndex = MonotoneChainBuilder.toIntArray(startIndexList);\n\treturn startIndex;\n};\nMonotoneChainBuilder.findChainEnd = function (pts, start) {\n\tvar safeStart = start;\n\twhile (safeStart < pts.length - 1 && pts[safeStart].equals2D(pts[safeStart + 1])) {\n\t\tsafeStart++;\n\t}\n\tif (safeStart >= pts.length - 1) {\n\t\treturn pts.length - 1;\n\t}\n\tvar chainQuad = Quadrant.quadrant(pts[safeStart], pts[safeStart + 1]);\n\tvar last = start + 1;\n\twhile (last < pts.length) {\n\t\tif (!pts[last - 1].equals2D(pts[last])) {\n\t\t\tvar quad = Quadrant.quadrant(pts[last - 1], pts[last]);\n\t\t\tif (quad !== chainQuad) break;\n\t\t}\n\t\tlast++;\n\t}\n\treturn last - 1;\n};\nMonotoneChainBuilder.getChains = function () {\n\tif (arguments.length === 1) {\n\t\tvar pts = arguments[0];\n\t\treturn MonotoneChainBuilder.getChains(pts, null);\n\t} else if (arguments.length === 2) {\n\t\tvar _pts = arguments[0],\n\t\t    context = arguments[1];\n\t\tvar mcList = new ArrayList();\n\t\tvar startIndex = MonotoneChainBuilder.getChainStartIndices(_pts);\n\t\tfor (var i = 0; i < startIndex.length - 1; i++) {\n\t\t\tvar mc = new MonotoneChain(_pts, startIndex[i], startIndex[i + 1], context);\n\t\t\tmcList.add(mc);\n\t\t}\n\t\treturn mcList;\n\t}\n};\nMonotoneChainBuilder.toIntArray = function (list) {\n\tvar array = new Array(list.size()).fill(null);\n\tfor (var i = 0; i < array.length; i++) {\n\t\tarray[i] = list.get(i).intValue();\n\t}\n\treturn array;\n};\n\nfunction RobustDeterminant() {}\nextend(RobustDeterminant.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RobustDeterminant;\n\t}\n});\nRobustDeterminant.orientationIndex = function (p1, p2, q) {\n\tvar dx1 = p2.x - p1.x;\n\tvar dy1 = p2.y - p1.y;\n\tvar dx2 = q.x - p2.x;\n\tvar dy2 = q.y - p2.y;\n\treturn RobustDeterminant.signOfDet2x2(dx1, dy1, dx2, dy2);\n};\nRobustDeterminant.signOfDet2x2 = function (x1, y1, x2, y2) {\n\tvar sign = null;\n\tvar swap = null;\n\tvar k = null;\n\tsign = 1;\n\tif (x1 === 0.0 || y2 === 0.0) {\n\t\tif (y1 === 0.0 || x2 === 0.0) {\n\t\t\treturn 0;\n\t\t} else if (y1 > 0) {\n\t\t\tif (x2 > 0) {\n\t\t\t\treturn -sign;\n\t\t\t} else {\n\t\t\t\treturn sign;\n\t\t\t}\n\t\t} else {\n\t\t\tif (x2 > 0) {\n\t\t\t\treturn sign;\n\t\t\t} else {\n\t\t\t\treturn -sign;\n\t\t\t}\n\t\t}\n\t}\n\tif (y1 === 0.0 || x2 === 0.0) {\n\t\tif (y2 > 0) {\n\t\t\tif (x1 > 0) {\n\t\t\t\treturn sign;\n\t\t\t} else {\n\t\t\t\treturn -sign;\n\t\t\t}\n\t\t} else {\n\t\t\tif (x1 > 0) {\n\t\t\t\treturn -sign;\n\t\t\t} else {\n\t\t\t\treturn sign;\n\t\t\t}\n\t\t}\n\t}\n\tif (0.0 < y1) {\n\t\tif (0.0 < y2) {\n\t\t\tif (y1 <= y2) {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tsign = -sign;\n\t\t\t\tswap = x1;\n\t\t\t\tx1 = x2;\n\t\t\t\tx2 = swap;\n\t\t\t\tswap = y1;\n\t\t\t\ty1 = y2;\n\t\t\t\ty2 = swap;\n\t\t\t}\n\t\t} else {\n\t\t\tif (y1 <= -y2) {\n\t\t\t\tsign = -sign;\n\t\t\t\tx2 = -x2;\n\t\t\t\ty2 = -y2;\n\t\t\t} else {\n\t\t\t\tswap = x1;\n\t\t\t\tx1 = -x2;\n\t\t\t\tx2 = swap;\n\t\t\t\tswap = y1;\n\t\t\t\ty1 = -y2;\n\t\t\t\ty2 = swap;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (0.0 < y2) {\n\t\t\tif (-y1 <= y2) {\n\t\t\t\tsign = -sign;\n\t\t\t\tx1 = -x1;\n\t\t\t\ty1 = -y1;\n\t\t\t} else {\n\t\t\t\tswap = -x1;\n\t\t\t\tx1 = x2;\n\t\t\t\tx2 = swap;\n\t\t\t\tswap = -y1;\n\t\t\t\ty1 = y2;\n\t\t\t\ty2 = swap;\n\t\t\t}\n\t\t} else {\n\t\t\tif (y1 >= y2) {\n\t\t\t\tx1 = -x1;\n\t\t\t\ty1 = -y1;\n\t\t\t\tx2 = -x2;\n\t\t\t\ty2 = -y2;\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tsign = -sign;\n\t\t\t\tswap = -x1;\n\t\t\t\tx1 = -x2;\n\t\t\t\tx2 = swap;\n\t\t\t\tswap = -y1;\n\t\t\t\ty1 = -y2;\n\t\t\t\ty2 = swap;\n\t\t\t}\n\t\t}\n\t}\n\tif (0.0 < x1) {\n\t\tif (0.0 < x2) {\n\t\t\tif (x1 <= x2) {\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\treturn sign;\n\t\t\t}\n\t\t} else {\n\t\t\treturn sign;\n\t\t}\n\t} else {\n\t\tif (0.0 < x2) {\n\t\t\treturn -sign;\n\t\t} else {\n\t\t\tif (x1 >= x2) {\n\t\t\t\tsign = -sign;\n\t\t\t\tx1 = -x1;\n\t\t\t\tx2 = -x2;\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\treturn -sign;\n\t\t\t}\n\t\t}\n\t}\n\twhile (true) {\n\t\tk = Math.floor(x2 / x1);\n\t\tx2 = x2 - k * x1;\n\t\ty2 = y2 - k * y1;\n\t\tif (y2 < 0.0) {\n\t\t\treturn -sign;\n\t\t}\n\t\tif (y2 > y1) {\n\t\t\treturn sign;\n\t\t}\n\t\tif (x1 > x2 + x2) {\n\t\t\tif (y1 < y2 + y2) {\n\t\t\t\treturn sign;\n\t\t\t}\n\t\t} else {\n\t\t\tif (y1 > y2 + y2) {\n\t\t\t\treturn -sign;\n\t\t\t} else {\n\t\t\t\tx2 = x1 - x2;\n\t\t\t\ty2 = y1 - y2;\n\t\t\t\tsign = -sign;\n\t\t\t}\n\t\t}\n\t\tif (y2 === 0.0) {\n\t\t\tif (x2 === 0.0) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn -sign;\n\t\t\t}\n\t\t}\n\t\tif (x2 === 0.0) {\n\t\t\treturn sign;\n\t\t}\n\t\tk = Math.floor(x1 / x2);\n\t\tx1 = x1 - k * x2;\n\t\ty1 = y1 - k * y2;\n\t\tif (y1 < 0.0) {\n\t\t\treturn sign;\n\t\t}\n\t\tif (y1 > y2) {\n\t\t\treturn -sign;\n\t\t}\n\t\tif (x2 > x1 + x1) {\n\t\t\tif (y2 < y1 + y1) {\n\t\t\t\treturn -sign;\n\t\t\t}\n\t\t} else {\n\t\t\tif (y2 > y1 + y1) {\n\t\t\t\treturn sign;\n\t\t\t} else {\n\t\t\t\tx1 = x2 - x1;\n\t\t\t\ty1 = y2 - y1;\n\t\t\t\tsign = -sign;\n\t\t\t}\n\t\t}\n\t\tif (y1 === 0.0) {\n\t\t\tif (x1 === 0.0) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn sign;\n\t\t\t}\n\t\t}\n\t\tif (x1 === 0.0) {\n\t\t\treturn -sign;\n\t\t}\n\t}\n};\n\nfunction PointInRing() {}\nextend(PointInRing.prototype, {\n\tisInside: function isInside(pt) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PointInRing;\n\t}\n});\n\nfunction MCPointInRing() {\n\tthis._ring = null;\n\tthis._tree = null;\n\tthis._crossings = 0;\n\tthis._interval = new Interval();\n\tvar ring = arguments[0];\n\tthis._ring = ring;\n\tthis.buildIndex();\n}\nextend(MCPointInRing.prototype, {\n\ttestLineSegment: function testLineSegment(p, seg) {\n\t\tvar xInt = null;\n\t\tvar x1 = null;\n\t\tvar y1 = null;\n\t\tvar x2 = null;\n\t\tvar y2 = null;\n\t\tvar p1 = seg.p0;\n\t\tvar p2 = seg.p1;\n\t\tx1 = p1.x - p.x;\n\t\ty1 = p1.y - p.y;\n\t\tx2 = p2.x - p.x;\n\t\ty2 = p2.y - p.y;\n\t\tif (y1 > 0 && y2 <= 0 || y2 > 0 && y1 <= 0) {\n\t\t\txInt = RobustDeterminant.signOfDet2x2(x1, y1, x2, y2) / (y2 - y1);\n\t\t\tif (0.0 < xInt) {\n\t\t\t\tthis._crossings++;\n\t\t\t}\n\t\t}\n\t},\n\tbuildIndex: function buildIndex() {\n\t\tthis._tree = new Bintree();\n\t\tvar pts = CoordinateArrays.removeRepeatedPoints(this._ring.getCoordinates());\n\t\tvar mcList = MonotoneChainBuilder.getChains(pts);\n\t\tfor (var i = 0; i < mcList.size(); i++) {\n\t\t\tvar mc = mcList.get(i);\n\t\t\tvar mcEnv = mc.getEnvelope();\n\t\t\tthis._interval.min = mcEnv.getMinY();\n\t\t\tthis._interval.max = mcEnv.getMaxY();\n\t\t\tthis._tree.insert(this._interval, mc);\n\t\t}\n\t},\n\ttestMonotoneChain: function testMonotoneChain(rayEnv, mcSelecter, mc) {\n\t\tmc.select(rayEnv, mcSelecter);\n\t},\n\tisInside: function isInside(pt) {\n\t\tthis._crossings = 0;\n\t\tvar rayEnv = new Envelope(Double.NEGATIVE_INFINITY, Double.POSITIVE_INFINITY, pt.y, pt.y);\n\t\tthis._interval.min = pt.y;\n\t\tthis._interval.max = pt.y;\n\t\tvar segs = this._tree.query(this._interval);\n\t\tvar mcSelecter = new MCSelecter(this, pt);\n\t\tfor (var i = segs.iterator(); i.hasNext();) {\n\t\t\tvar mc = i.next();\n\t\t\tthis.testMonotoneChain(rayEnv, mcSelecter, mc);\n\t\t}\n\t\tif (this._crossings % 2 === 1) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [PointInRing];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MCPointInRing;\n\t}\n});\nfunction MCSelecter() {\n\tMonotoneChainSelectAction.apply(this);\n\tthis.mcp = null;\n\tthis.p = null;\n\tvar mcp = arguments[0],\n\t    p = arguments[1];\n\tthis.mcp = mcp;\n\tthis.p = p;\n}\ninherits(MCSelecter, MonotoneChainSelectAction);\nextend(MCSelecter.prototype, {\n\tselect: function select() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar ls = arguments[0];\n\t\t\tthis.mcp.testLineSegment(this.p, ls);\n\t\t} else return MonotoneChainSelectAction.prototype.select.apply(this, arguments);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MCSelecter;\n\t}\n});\nMCPointInRing.MCSelecter = MCSelecter;\n\nfunction MinimumBoundingCircle() {\n\tthis._input = null;\n\tthis._extremalPts = null;\n\tthis._centre = null;\n\tthis._radius = 0.0;\n\tvar geom = arguments[0];\n\tthis._input = geom;\n}\nextend(MinimumBoundingCircle.prototype, {\n\tgetRadius: function getRadius() {\n\t\tthis.compute();\n\t\treturn this._radius;\n\t},\n\tgetDiameter: function getDiameter() {\n\t\tthis.compute();\n\t\tswitch (this._extremalPts.length) {\n\t\t\tcase 0:\n\t\t\t\treturn this._input.getFactory().createLineString();\n\t\t\tcase 1:\n\t\t\t\treturn this._input.getFactory().createPoint(this._centre);\n\t\t}\n\t\tvar p0 = this._extremalPts[0];\n\t\tvar p1 = this._extremalPts[1];\n\t\treturn this._input.getFactory().createLineString([p0, p1]);\n\t},\n\tgetExtremalPoints: function getExtremalPoints() {\n\t\tthis.compute();\n\t\treturn this._extremalPts;\n\t},\n\tcomputeCirclePoints: function computeCirclePoints() {\n\t\tif (this._input.isEmpty()) {\n\t\t\tthis._extremalPts = new Array(0).fill(null);\n\t\t\treturn null;\n\t\t}\n\t\tif (this._input.getNumPoints() === 1) {\n\t\t\tvar pts = this._input.getCoordinates();\n\t\t\tthis._extremalPts = [new Coordinate(pts[0])];\n\t\t\treturn null;\n\t\t}\n\t\tvar convexHull = this._input.convexHull();\n\t\tvar hullPts = convexHull.getCoordinates();\n\t\tvar pts = hullPts;\n\t\tif (hullPts[0].equals2D(hullPts[hullPts.length - 1])) {\n\t\t\tpts = new Array(hullPts.length - 1).fill(null);\n\t\t\tCoordinateArrays.copyDeep(hullPts, 0, pts, 0, hullPts.length - 1);\n\t\t}\n\t\tif (pts.length <= 2) {\n\t\t\tthis._extremalPts = CoordinateArrays.copyDeep(pts);\n\t\t\treturn null;\n\t\t}\n\t\tvar P = MinimumBoundingCircle.lowestPoint(pts);\n\t\tvar Q = MinimumBoundingCircle.pointWitMinAngleWithX(pts, P);\n\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\tvar R = MinimumBoundingCircle.pointWithMinAngleWithSegment(pts, P, Q);\n\t\t\tif (Angle.isObtuse(P, R, Q)) {\n\t\t\t\tthis._extremalPts = [new Coordinate(P), new Coordinate(Q)];\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (Angle.isObtuse(R, P, Q)) {\n\t\t\t\tP = R;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (Angle.isObtuse(R, Q, P)) {\n\t\t\t\tQ = R;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._extremalPts = [new Coordinate(P), new Coordinate(Q), new Coordinate(R)];\n\t\t\treturn null;\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"Logic failure in Minimum Bounding Circle algorithm!\");\n\t},\n\tcompute: function compute() {\n\t\tif (this._extremalPts !== null) return null;\n\t\tthis.computeCirclePoints();\n\t\tthis.computeCentre();\n\t\tif (this._centre !== null) this._radius = this._centre.distance(this._extremalPts[0]);\n\t},\n\tgetFarthestPoints: function getFarthestPoints() {\n\t\tthis.compute();\n\t\tswitch (this._extremalPts.length) {\n\t\t\tcase 0:\n\t\t\t\treturn this._input.getFactory().createLineString();\n\t\t\tcase 1:\n\t\t\t\treturn this._input.getFactory().createPoint(this._centre);\n\t\t}\n\t\tvar p0 = this._extremalPts[0];\n\t\tvar p1 = this._extremalPts[this._extremalPts.length - 1];\n\t\treturn this._input.getFactory().createLineString([p0, p1]);\n\t},\n\tgetCircle: function getCircle() {\n\t\tthis.compute();\n\t\tif (this._centre === null) return this._input.getFactory().createPolygon();\n\t\tvar centrePoint = this._input.getFactory().createPoint(this._centre);\n\t\tif (this._radius === 0.0) return centrePoint;\n\t\treturn centrePoint.buffer(this._radius);\n\t},\n\tgetCentre: function getCentre() {\n\t\tthis.compute();\n\t\treturn this._centre;\n\t},\n\tcomputeCentre: function computeCentre() {\n\t\tswitch (this._extremalPts.length) {\n\t\t\tcase 0:\n\t\t\t\tthis._centre = null;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis._centre = this._extremalPts[0];\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis._centre = new Coordinate((this._extremalPts[0].x + this._extremalPts[1].x) / 2.0, (this._extremalPts[0].y + this._extremalPts[1].y) / 2.0);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tthis._centre = Triangle.circumcentre(this._extremalPts[0], this._extremalPts[1], this._extremalPts[2]);\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MinimumBoundingCircle;\n\t}\n});\nMinimumBoundingCircle.pointWitMinAngleWithX = function (pts, P) {\n\tvar minSin = Double.MAX_VALUE;\n\tvar minAngPt = null;\n\tfor (var i = 0; i < pts.length; i++) {\n\t\tvar p = pts[i];\n\t\tif (p === P) continue;\n\t\tvar dx = p.x - P.x;\n\t\tvar dy = p.y - P.y;\n\t\tif (dy < 0) dy = -dy;\n\t\tvar len = Math.sqrt(dx * dx + dy * dy);\n\t\tvar sin = dy / len;\n\t\tif (sin < minSin) {\n\t\t\tminSin = sin;\n\t\t\tminAngPt = p;\n\t\t}\n\t}\n\treturn minAngPt;\n};\nMinimumBoundingCircle.lowestPoint = function (pts) {\n\tvar min = pts[0];\n\tfor (var i = 1; i < pts.length; i++) {\n\t\tif (pts[i].y < min.y) min = pts[i];\n\t}\n\treturn min;\n};\nMinimumBoundingCircle.pointWithMinAngleWithSegment = function (pts, P, Q) {\n\tvar minAng = Double.MAX_VALUE;\n\tvar minAngPt = null;\n\tfor (var i = 0; i < pts.length; i++) {\n\t\tvar p = pts[i];\n\t\tif (p === P) continue;\n\t\tif (p === Q) continue;\n\t\tvar ang = Angle.angleBetween(P, p, Q);\n\t\tif (ang < minAng) {\n\t\t\tminAng = ang;\n\t\t\tminAngPt = p;\n\t\t}\n\t}\n\treturn minAngPt;\n};\n\nfunction MinimumDiameter() {\n\tthis._inputGeom = null;\n\tthis._isConvex = null;\n\tthis._convexHullPts = null;\n\tthis._minBaseSeg = new LineSegment();\n\tthis._minWidthPt = null;\n\tthis._minPtIndex = null;\n\tthis._minWidth = 0.0;\n\tif (arguments.length === 1) {\n\t\tvar inputGeom = arguments[0];\n\t\tMinimumDiameter.call(this, inputGeom, false);\n\t} else if (arguments.length === 2) {\n\t\tvar _inputGeom = arguments[0],\n\t\t    isConvex = arguments[1];\n\t\tthis._inputGeom = _inputGeom;\n\t\tthis._isConvex = isConvex;\n\t}\n}\nextend(MinimumDiameter.prototype, {\n\tgetWidthCoordinate: function getWidthCoordinate() {\n\t\tthis.computeMinimumDiameter();\n\t\treturn this._minWidthPt;\n\t},\n\tgetSupportingSegment: function getSupportingSegment() {\n\t\tthis.computeMinimumDiameter();\n\t\treturn this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0, this._minBaseSeg.p1]);\n\t},\n\tgetDiameter: function getDiameter() {\n\t\tthis.computeMinimumDiameter();\n\t\tif (this._minWidthPt === null) return this._inputGeom.getFactory().createLineString();\n\t\tvar basePt = this._minBaseSeg.project(this._minWidthPt);\n\t\treturn this._inputGeom.getFactory().createLineString([basePt, this._minWidthPt]);\n\t},\n\tcomputeWidthConvex: function computeWidthConvex(convexGeom) {\n\t\tif (convexGeom instanceof Polygon) this._convexHullPts = convexGeom.getExteriorRing().getCoordinates();else this._convexHullPts = convexGeom.getCoordinates();\n\t\tif (this._convexHullPts.length === 0) {\n\t\t\tthis._minWidth = 0.0;\n\t\t\tthis._minWidthPt = null;\n\t\t\tthis._minBaseSeg = null;\n\t\t} else if (this._convexHullPts.length === 1) {\n\t\t\tthis._minWidth = 0.0;\n\t\t\tthis._minWidthPt = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p0 = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p1 = this._convexHullPts[0];\n\t\t} else if (this._convexHullPts.length === 2 || this._convexHullPts.length === 3) {\n\t\t\tthis._minWidth = 0.0;\n\t\t\tthis._minWidthPt = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p0 = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p1 = this._convexHullPts[1];\n\t\t} else this.computeConvexRingMinDiameter(this._convexHullPts);\n\t},\n\tcomputeConvexRingMinDiameter: function computeConvexRingMinDiameter(pts) {\n\t\tthis._minWidth = Double.MAX_VALUE;\n\t\tvar currMaxIndex = 1;\n\t\tvar seg = new LineSegment();\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tseg.p0 = pts[i];\n\t\t\tseg.p1 = pts[i + 1];\n\t\t\tcurrMaxIndex = this.findMaxPerpDistance(pts, seg, currMaxIndex);\n\t\t}\n\t},\n\tcomputeMinimumDiameter: function computeMinimumDiameter() {\n\t\tif (this._minWidthPt !== null) return null;\n\t\tif (this._isConvex) this.computeWidthConvex(this._inputGeom);else {\n\t\t\tvar convexGeom = new ConvexHull(this._inputGeom).getConvexHull();\n\t\t\tthis.computeWidthConvex(convexGeom);\n\t\t}\n\t},\n\tgetLength: function getLength() {\n\t\tthis.computeMinimumDiameter();\n\t\treturn this._minWidth;\n\t},\n\tfindMaxPerpDistance: function findMaxPerpDistance(pts, seg, startIndex) {\n\t\tvar maxPerpDistance = seg.distancePerpendicular(pts[startIndex]);\n\t\tvar nextPerpDistance = maxPerpDistance;\n\t\tvar maxIndex = startIndex;\n\t\tvar nextIndex = maxIndex;\n\t\twhile (nextPerpDistance >= maxPerpDistance) {\n\t\t\tmaxPerpDistance = nextPerpDistance;\n\t\t\tmaxIndex = nextIndex;\n\t\t\tnextIndex = MinimumDiameter.nextIndex(pts, maxIndex);\n\t\t\tnextPerpDistance = seg.distancePerpendicular(pts[nextIndex]);\n\t\t}\n\t\tif (maxPerpDistance < this._minWidth) {\n\t\t\tthis._minPtIndex = maxIndex;\n\t\t\tthis._minWidth = maxPerpDistance;\n\t\t\tthis._minWidthPt = pts[this._minPtIndex];\n\t\t\tthis._minBaseSeg = new LineSegment(seg);\n\t\t}\n\t\treturn maxIndex;\n\t},\n\tgetMinimumRectangle: function getMinimumRectangle() {\n\t\tthis.computeMinimumDiameter();\n\t\tif (this._minWidth === 0.0) {\n\t\t\tif (this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)) {\n\t\t\t\treturn this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0);\n\t\t\t}\n\t\t\treturn this._minBaseSeg.toGeometry(this._inputGeom.getFactory());\n\t\t}\n\t\tvar dx = this._minBaseSeg.p1.x - this._minBaseSeg.p0.x;\n\t\tvar dy = this._minBaseSeg.p1.y - this._minBaseSeg.p0.y;\n\t\tvar minPara = Double.MAX_VALUE;\n\t\tvar maxPara = -Double.MAX_VALUE;\n\t\tvar minPerp = Double.MAX_VALUE;\n\t\tvar maxPerp = -Double.MAX_VALUE;\n\t\tfor (var i = 0; i < this._convexHullPts.length; i++) {\n\t\t\tvar paraC = MinimumDiameter.computeC(dx, dy, this._convexHullPts[i]);\n\t\t\tif (paraC > maxPara) maxPara = paraC;\n\t\t\tif (paraC < minPara) minPara = paraC;\n\t\t\tvar perpC = MinimumDiameter.computeC(-dy, dx, this._convexHullPts[i]);\n\t\t\tif (perpC > maxPerp) maxPerp = perpC;\n\t\t\tif (perpC < minPerp) minPerp = perpC;\n\t\t}\n\t\tvar maxPerpLine = MinimumDiameter.computeSegmentForLine(-dx, -dy, maxPerp);\n\t\tvar minPerpLine = MinimumDiameter.computeSegmentForLine(-dx, -dy, minPerp);\n\t\tvar maxParaLine = MinimumDiameter.computeSegmentForLine(-dy, dx, maxPara);\n\t\tvar minParaLine = MinimumDiameter.computeSegmentForLine(-dy, dx, minPara);\n\t\tvar p0 = maxParaLine.lineIntersection(maxPerpLine);\n\t\tvar p1 = minParaLine.lineIntersection(maxPerpLine);\n\t\tvar p2 = minParaLine.lineIntersection(minPerpLine);\n\t\tvar p3 = maxParaLine.lineIntersection(minPerpLine);\n\t\tvar shell = this._inputGeom.getFactory().createLinearRing([p0, p1, p2, p3, p0]);\n\t\treturn this._inputGeom.getFactory().createPolygon(shell);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MinimumDiameter;\n\t}\n});\nMinimumDiameter.nextIndex = function (pts, index) {\n\tindex++;\n\tif (index >= pts.length) index = 0;\n\treturn index;\n};\nMinimumDiameter.computeC = function (a, b, p) {\n\treturn a * p.y - b * p.x;\n};\nMinimumDiameter.getMinimumDiameter = function (geom) {\n\treturn new MinimumDiameter(geom).getDiameter();\n};\nMinimumDiameter.getMinimumRectangle = function (geom) {\n\treturn new MinimumDiameter(geom).getMinimumRectangle();\n};\nMinimumDiameter.computeSegmentForLine = function (a, b, c) {\n\tvar p0 = null;\n\tvar p1 = null;\n\tif (Math.abs(b) > Math.abs(a)) {\n\t\tp0 = new Coordinate(0.0, c / b);\n\t\tp1 = new Coordinate(1.0, c / b - a / b);\n\t} else {\n\t\tp0 = new Coordinate(c / a, 0.0);\n\t\tp1 = new Coordinate(c / a - b / a, 1.0);\n\t}\n\treturn new LineSegment(p0, p1);\n};\n\n\n\nvar algorithm = Object.freeze({\n\tAngle: Angle,\n\tCentroid: Centroid,\n\tCGAlgorithms: CGAlgorithms,\n\tConvexHull: ConvexHull,\n\tDistance: Distance,\n\tInteriorPointArea: InteriorPointArea,\n\tInteriorPointLine: InteriorPointLine,\n\tInteriorPointPoint: InteriorPointPoint,\n\tRobustLineIntersector: RobustLineIntersector,\n\tMCPointInRing: MCPointInRing,\n\tMinimumBoundingCircle: MinimumBoundingCircle,\n\tMinimumDiameter: MinimumDiameter\n});\n\nfunction GeometryTransformer() {\n\tthis._inputGeom = null;\n\tthis._factory = null;\n\tthis._pruneEmptyGeometry = true;\n\tthis._preserveGeometryCollectionType = true;\n\tthis._preserveCollections = false;\n\tthis._preserveType = false;\n}\nextend(GeometryTransformer.prototype, {\n\ttransformPoint: function transformPoint(geom, parent) {\n\t\treturn this._factory.createPoint(this.transformCoordinates(geom.getCoordinateSequence(), geom));\n\t},\n\ttransformPolygon: function transformPolygon(geom, parent) {\n\t\tvar isAllValidLinearRings = true;\n\t\tvar shell = this.transformLinearRing(geom.getExteriorRing(), geom);\n\t\tif (shell === null || !(shell instanceof LinearRing) || shell.isEmpty()) isAllValidLinearRings = false;\n\t\tvar holes = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumInteriorRing(); i++) {\n\t\t\tvar hole = this.transformLinearRing(geom.getInteriorRingN(i), geom);\n\t\t\tif (hole === null || hole.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!(hole instanceof LinearRing)) isAllValidLinearRings = false;\n\t\t\tholes.add(hole);\n\t\t}\n\t\tif (isAllValidLinearRings) return this._factory.createPolygon(shell, holes.toArray([]));else {\n\t\t\tvar components = new ArrayList();\n\t\t\tif (shell !== null) components.add(shell);\n\t\t\tcomponents.addAll(holes);\n\t\t\treturn this._factory.buildGeometry(components);\n\t\t}\n\t},\n\tcreateCoordinateSequence: function createCoordinateSequence(coords) {\n\t\treturn this._factory.getCoordinateSequenceFactory().create(coords);\n\t},\n\tgetInputGeometry: function getInputGeometry() {\n\t\treturn this._inputGeom;\n\t},\n\ttransformMultiLineString: function transformMultiLineString(geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transformLineString(geom.getGeometryN(i), geom);\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t},\n\ttransformCoordinates: function transformCoordinates(coords, parent) {\n\t\treturn this.copy(coords);\n\t},\n\ttransformLineString: function transformLineString(geom, parent) {\n\t\treturn this._factory.createLineString(this.transformCoordinates(geom.getCoordinateSequence(), geom));\n\t},\n\ttransformMultiPoint: function transformMultiPoint(geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transformPoint(geom.getGeometryN(i), geom);\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t},\n\ttransformMultiPolygon: function transformMultiPolygon(geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transformPolygon(geom.getGeometryN(i), geom);\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t},\n\tcopy: function copy(seq) {\n\t\treturn seq.copy();\n\t},\n\ttransformGeometryCollection: function transformGeometryCollection(geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transform(geom.getGeometryN(i));\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (this._pruneEmptyGeometry && transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\tif (this._preserveGeometryCollectionType) return this._factory.createGeometryCollection(GeometryFactory.toGeometryArray(transGeomList));\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t},\n\ttransform: function transform(inputGeom) {\n\t\tthis._inputGeom = inputGeom;\n\t\tthis._factory = inputGeom.getFactory();\n\t\tif (inputGeom instanceof Point) return this.transformPoint(inputGeom, null);\n\t\tif (inputGeom instanceof MultiPoint) return this.transformMultiPoint(inputGeom, null);\n\t\tif (inputGeom instanceof LinearRing) return this.transformLinearRing(inputGeom, null);\n\t\tif (inputGeom instanceof LineString) return this.transformLineString(inputGeom, null);\n\t\tif (inputGeom instanceof MultiLineString) return this.transformMultiLineString(inputGeom, null);\n\t\tif (inputGeom instanceof Polygon) return this.transformPolygon(inputGeom, null);\n\t\tif (inputGeom instanceof MultiPolygon) return this.transformMultiPolygon(inputGeom, null);\n\t\tif (inputGeom instanceof GeometryCollection) return this.transformGeometryCollection(inputGeom, null);\n\t\tthrow new IllegalArgumentException(\"Unknown Geometry subtype: \" + inputGeom.getClass().getName());\n\t},\n\ttransformLinearRing: function transformLinearRing(geom, parent) {\n\t\tvar seq = this.transformCoordinates(geom.getCoordinateSequence(), geom);\n\t\tif (seq === null) return this._factory.createLinearRing(null);\n\t\tvar seqSize = seq.size();\n\t\tif (seqSize > 0 && seqSize < 4 && !this._preserveType) return this._factory.createLineString(seq);\n\t\treturn this._factory.createLinearRing(seq);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryTransformer;\n\t}\n});\n\nfunction Densifier() {\n\tthis._inputGeom = null;\n\tthis._distanceTolerance = null;\n\tvar inputGeom = arguments[0];\n\tthis._inputGeom = inputGeom;\n}\nextend(Densifier.prototype, {\n\tgetResultGeometry: function getResultGeometry() {\n\t\treturn new DensifyTransformer(this._distanceTolerance).transform(this._inputGeom);\n\t},\n\tsetDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n\t\tif (distanceTolerance <= 0.0) throw new IllegalArgumentException(\"Tolerance must be positive\");\n\t\tthis._distanceTolerance = distanceTolerance;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Densifier;\n\t}\n});\nDensifier.densifyPoints = function (pts, distanceTolerance, precModel) {\n\tvar seg = new LineSegment();\n\tvar coordList = new CoordinateList();\n\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\tseg.p0 = pts[i];\n\t\tseg.p1 = pts[i + 1];\n\t\tcoordList.add(seg.p0, false);\n\t\tvar len = seg.getLength();\n\t\tvar densifiedSegCount = Math.trunc(len / distanceTolerance) + 1;\n\t\tif (densifiedSegCount > 1) {\n\t\t\tvar densifiedSegLen = len / densifiedSegCount;\n\t\t\tfor (var j = 1; j < densifiedSegCount; j++) {\n\t\t\t\tvar segFract = j * densifiedSegLen / len;\n\t\t\t\tvar p = seg.pointAlong(segFract);\n\t\t\t\tprecModel.makePrecise(p);\n\t\t\t\tcoordList.add(p, false);\n\t\t\t}\n\t\t}\n\t}\n\tcoordList.add(pts[pts.length - 1], false);\n\treturn coordList.toCoordinateArray();\n};\nDensifier.densify = function (geom, distanceTolerance) {\n\tvar densifier = new Densifier(geom);\n\tdensifier.setDistanceTolerance(distanceTolerance);\n\treturn densifier.getResultGeometry();\n};\nfunction DensifyTransformer() {\n\tGeometryTransformer.apply(this);\n\tthis.distanceTolerance = null;\n\tvar distanceTolerance = arguments[0];\n\tthis.distanceTolerance = distanceTolerance;\n}\ninherits(DensifyTransformer, GeometryTransformer);\nextend(DensifyTransformer.prototype, {\n\ttransformMultiPolygon: function transformMultiPolygon(geom, parent) {\n\t\tvar roughGeom = GeometryTransformer.prototype.transformMultiPolygon.call(this, geom, parent);\n\t\treturn this.createValidArea(roughGeom);\n\t},\n\ttransformPolygon: function transformPolygon(geom, parent) {\n\t\tvar roughGeom = GeometryTransformer.prototype.transformPolygon.call(this, geom, parent);\n\t\tif (parent instanceof MultiPolygon) {\n\t\t\treturn roughGeom;\n\t\t}\n\t\treturn this.createValidArea(roughGeom);\n\t},\n\ttransformCoordinates: function transformCoordinates(coords, parent) {\n\t\tvar inputPts = coords.toCoordinateArray();\n\t\tvar newPts = Densifier.densifyPoints(inputPts, this.distanceTolerance, parent.getPrecisionModel());\n\t\tif (parent instanceof LineString && newPts.length === 1) {\n\t\t\tnewPts = new Array(0).fill(null);\n\t\t}\n\t\treturn this._factory.getCoordinateSequenceFactory().create(newPts);\n\t},\n\tcreateValidArea: function createValidArea(roughAreaGeom) {\n\t\treturn roughAreaGeom.buffer(0.0);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DensifyTransformer;\n\t}\n});\nDensifier.DensifyTransformer = DensifyTransformer;\n\n\n\nvar densify = Object.freeze({\n\tDensifier: Densifier\n});\n\nfunction HalfEdge() {\n\tthis._orig = null;\n\tthis._sym = null;\n\tthis._next = null;\n\tvar orig = arguments[0];\n\tthis._orig = orig;\n}\nextend(HalfEdge.prototype, {\n\tfind: function find(dest) {\n\t\tvar oNext = this;\n\t\tdo {\n\t\t\tif (oNext === null) return null;\n\t\t\tif (oNext.dest().equals2D(dest)) return oNext;\n\t\t\toNext = oNext.oNext();\n\t\t} while (oNext !== this);\n\t\treturn null;\n\t},\n\tdest: function dest() {\n\t\treturn this._sym._orig;\n\t},\n\toNext: function oNext() {\n\t\treturn this._sym._next;\n\t},\n\tinsert: function insert(e) {\n\t\tif (this.oNext() === this) {\n\t\t\tthis.insertAfter(e);\n\t\t\treturn null;\n\t\t}\n\t\tvar ecmp = this.compareTo(e);\n\t\tvar ePrev = this;\n\t\tdo {\n\t\t\tvar oNext = ePrev.oNext();\n\t\t\tvar cmp = oNext.compareTo(e);\n\t\t\tif (cmp !== ecmp || oNext === this) {\n\t\t\t\tePrev.insertAfter(e);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tePrev = oNext;\n\t\t} while (ePrev !== this);\n\t\tAssert.shouldNeverReachHere();\n\t},\n\tinsertAfter: function insertAfter(e) {\n\t\tAssert.equals(this._orig, e.orig());\n\t\tvar save = this.oNext();\n\t\tthis._sym.setNext(e);\n\t\te.sym().setNext(save);\n\t},\n\tdegree: function degree() {\n\t\tvar degree = 0;\n\t\tvar e = this;\n\t\tdo {\n\t\t\tdegree++;\n\t\t\te = e.oNext();\n\t\t} while (e !== this);\n\t\treturn degree;\n\t},\n\tequals: function equals() {\n\t\tif (arguments.length === 2 && arguments[1] instanceof Coordinate && arguments[0] instanceof Coordinate) {\n\t\t\tvar p0 = arguments[0],\n\t\t\t    p1 = arguments[1];\n\t\t\treturn this._orig.equals2D(p0) && this._sym._orig.equals(p1);\n\t\t}\n\t},\n\tdeltaY: function deltaY() {\n\t\treturn this._sym._orig.y - this._orig.y;\n\t},\n\tsym: function sym() {\n\t\treturn this._sym;\n\t},\n\tprev: function prev() {\n\t\treturn this._sym.next()._sym;\n\t},\n\tcompareAngularDirection: function compareAngularDirection(e) {\n\t\tvar dx = this.deltaX();\n\t\tvar dy = this.deltaY();\n\t\tvar dx2 = e.deltaX();\n\t\tvar dy2 = e.deltaY();\n\t\tif (dx === dx2 && dy === dy2) return 0;\n\t\tvar quadrant = Quadrant.quadrant(dx, dy);\n\t\tvar quadrant2 = Quadrant.quadrant(dx2, dy2);\n\t\tif (quadrant > quadrant2) return 1;\n\t\tif (quadrant < quadrant2) return -1;\n\t\treturn Orientation.index(e._orig, e.dest(), this.dest());\n\t},\n\tprevNode: function prevNode() {\n\t\tvar e = this;\n\t\twhile (e.degree() === 2) {\n\t\t\te = e.prev();\n\t\t\tif (e === this) return null;\n\t\t}\n\t\treturn e;\n\t},\n\tcompareTo: function compareTo(obj) {\n\t\tvar e = obj;\n\t\tvar comp = this.compareAngularDirection(e);\n\t\treturn comp;\n\t},\n\tnext: function next() {\n\t\treturn this._next;\n\t},\n\tsetSym: function setSym(e) {\n\t\tthis._sym = e;\n\t},\n\torig: function orig() {\n\t\treturn this._orig;\n\t},\n\ttoString: function toString() {\n\t\treturn \"HE(\" + this._orig.x + \" \" + this._orig.y + \", \" + this._sym._orig.x + \" \" + this._sym._orig.y + \")\";\n\t},\n\tsetNext: function setNext(e) {\n\t\tthis._next = e;\n\t},\n\tinit: function init(e) {\n\t\tthis.setSym(e);\n\t\te.setSym(this);\n\t\tthis.setNext(e);\n\t\te.setNext(this);\n\t},\n\tdeltaX: function deltaX() {\n\t\treturn this._sym._orig.x - this._orig.x;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn HalfEdge;\n\t}\n});\nHalfEdge.init = function (e0, e1) {\n\tif (e0._sym !== null || e1._sym !== null || e0._next !== null || e1._next !== null) throw new IllegalStateException(\"Edges are already initialized\");\n\te0.init(e1);\n\treturn e0;\n};\nHalfEdge.create = function (p0, p1) {\n\tvar e0 = new HalfEdge(p0);\n\tvar e1 = new HalfEdge(p1);\n\te0.init(e1);\n\treturn e0;\n};\n\nfunction MarkHalfEdge() {\n\tthis._isMarked = false;\n\tvar orig = arguments[0];\n\tHalfEdge.call(this, orig);\n}\ninherits(MarkHalfEdge, HalfEdge);\nextend(MarkHalfEdge.prototype, {\n\tmark: function mark() {\n\t\tthis._isMarked = true;\n\t},\n\tsetMark: function setMark(isMarked) {\n\t\tthis._isMarked = isMarked;\n\t},\n\tisMarked: function isMarked() {\n\t\treturn this._isMarked;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MarkHalfEdge;\n\t}\n});\nMarkHalfEdge.setMarkBoth = function (e, isMarked) {\n\te.setMark(isMarked);\n\te.sym().setMark(isMarked);\n};\nMarkHalfEdge.isMarked = function (e) {\n\treturn e.isMarked();\n};\nMarkHalfEdge.setMark = function (e, isMarked) {\n\te.setMark(isMarked);\n};\nMarkHalfEdge.markBoth = function (e) {\n\te.mark();\n\te.sym().mark();\n};\nMarkHalfEdge.mark = function (e) {\n\te.mark();\n};\n\nfunction EdgeGraph() {\n\tthis._vertexMap = new HashMap();\n}\nextend(EdgeGraph.prototype, {\n\tinsert: function insert(orig, dest, eAdj) {\n\t\tvar e = this.create(orig, dest);\n\t\tif (eAdj !== null) {\n\t\t\teAdj.insert(e);\n\t\t} else {\n\t\t\tthis._vertexMap.put(orig, e);\n\t\t}\n\t\tvar eAdjDest = this._vertexMap.get(dest);\n\t\tif (eAdjDest !== null) {\n\t\t\teAdjDest.insert(e.sym());\n\t\t} else {\n\t\t\tthis._vertexMap.put(dest, e.sym());\n\t\t}\n\t\treturn e;\n\t},\n\tcreate: function create(p0, p1) {\n\t\tvar e0 = this.createEdge(p0);\n\t\tvar e1 = this.createEdge(p1);\n\t\tHalfEdge.init(e0, e1);\n\t\treturn e0;\n\t},\n\tcreateEdge: function createEdge(orig) {\n\t\treturn new HalfEdge(orig);\n\t},\n\taddEdge: function addEdge(orig, dest) {\n\t\tif (!EdgeGraph.isValidEdge(orig, dest)) return null;\n\t\tvar eAdj = this._vertexMap.get(orig);\n\t\tvar eSame = null;\n\t\tif (eAdj !== null) {\n\t\t\teSame = eAdj.find(dest);\n\t\t}\n\t\tif (eSame !== null) {\n\t\t\treturn eSame;\n\t\t}\n\t\tvar e = this.insert(orig, dest, eAdj);\n\t\treturn e;\n\t},\n\tgetVertexEdges: function getVertexEdges() {\n\t\treturn this._vertexMap.values();\n\t},\n\tfindEdge: function findEdge(orig, dest) {\n\t\tvar e = this._vertexMap.get(orig);\n\t\tif (e === null) return null;\n\t\treturn e.find(dest);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeGraph;\n\t}\n});\nEdgeGraph.isValidEdge = function (orig, dest) {\n\tvar cmp = dest.compareTo(orig);\n\treturn cmp !== 0;\n};\n\nfunction DissolveHalfEdge() {\n\tthis._isStart = false;\n\tvar orig = arguments[0];\n\tMarkHalfEdge.call(this, orig);\n}\ninherits(DissolveHalfEdge, MarkHalfEdge);\nextend(DissolveHalfEdge.prototype, {\n\tsetStart: function setStart() {\n\t\tthis._isStart = true;\n\t},\n\tisStart: function isStart() {\n\t\treturn this._isStart;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DissolveHalfEdge;\n\t}\n});\n\nfunction DissolveEdgeGraph() {\n\tEdgeGraph.apply(this);\n}\ninherits(DissolveEdgeGraph, EdgeGraph);\nextend(DissolveEdgeGraph.prototype, {\n\tcreateEdge: function createEdge(p0) {\n\t\treturn new DissolveHalfEdge(p0);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DissolveEdgeGraph;\n\t}\n});\n\nfunction LineDissolver() {\n\tthis._result = null;\n\tthis._factory = null;\n\tthis._graph = null;\n\tthis._lines = new ArrayList();\n\tthis._nodeEdgeStack = new Stack();\n\tthis._ringStartEdge = null;\n\tthis._graph = new DissolveEdgeGraph();\n}\nextend(LineDissolver.prototype, {\n\taddLine: function addLine(line) {\n\t\tthis._lines.add(this._factory.createLineString(line.toCoordinateArray()));\n\t},\n\tupdateRingStartEdge: function updateRingStartEdge(e) {\n\t\tif (!e.isStart()) {\n\t\t\te = e.sym();\n\t\t\tif (!e.isStart()) return null;\n\t\t}\n\t\tif (this._ringStartEdge === null) {\n\t\t\tthis._ringStartEdge = e;\n\t\t\treturn null;\n\t\t}\n\t\tif (e.orig().compareTo(this._ringStartEdge.orig()) < 0) {\n\t\t\tthis._ringStartEdge = e;\n\t\t}\n\t},\n\tgetResult: function getResult() {\n\t\tif (this._result === null) this.computeResult();\n\t\treturn this._result;\n\t},\n\tprocess: function process(e) {\n\t\tvar eNode = e.prevNode();\n\t\tif (eNode === null) eNode = e;\n\t\tthis.stackEdges(eNode);\n\t\tthis.buildLines();\n\t},\n\tbuildRing: function buildRing(eStartRing) {\n\t\tvar line = new CoordinateList();\n\t\tvar e = eStartRing;\n\t\tline.add(e.orig().copy(), false);\n\t\twhile (e.sym().degree() === 2) {\n\t\t\tvar eNext = e.next();\n\t\t\tif (eNext === eStartRing) break;\n\t\t\tline.add(eNext.orig().copy(), false);\n\t\t\te = eNext;\n\t\t}\n\t\tline.add(e.dest().copy(), false);\n\t\tthis.addLine(line);\n\t},\n\tbuildLine: function buildLine(eStart) {\n\t\tvar line = new CoordinateList();\n\t\tvar e = eStart;\n\t\tthis._ringStartEdge = null;\n\t\tMarkHalfEdge.markBoth(e);\n\t\tline.add(e.orig().copy(), false);\n\t\twhile (e.sym().degree() === 2) {\n\t\t\tthis.updateRingStartEdge(e);\n\t\t\tvar eNext = e.next();\n\t\t\tif (eNext === eStart) {\n\t\t\t\tthis.buildRing(this._ringStartEdge);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tline.add(eNext.orig().copy(), false);\n\t\t\te = eNext;\n\t\t\tMarkHalfEdge.markBoth(e);\n\t\t}\n\t\tline.add(e.dest().clone(), false);\n\t\tthis.stackEdges(e.sym());\n\t\tthis.addLine(line);\n\t},\n\tstackEdges: function stackEdges(node) {\n\t\tvar e = node;\n\t\tdo {\n\t\t\tif (!MarkHalfEdge.isMarked(e)) this._nodeEdgeStack.add(e);\n\t\t\te = e.oNext();\n\t\t} while (e !== node);\n\t},\n\tcomputeResult: function computeResult() {\n\t\tvar edges = this._graph.getVertexEdges();\n\t\tfor (var i = edges.iterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\tif (MarkHalfEdge.isMarked(e)) continue;\n\t\t\tthis.process(e);\n\t\t}\n\t\tthis._result = this._factory.buildGeometry(this._lines);\n\t},\n\tbuildLines: function buildLines() {\n\t\twhile (!this._nodeEdgeStack.empty()) {\n\t\t\tvar e = this._nodeEdgeStack.pop();\n\t\t\tif (MarkHalfEdge.isMarked(e)) continue;\n\t\t\tthis.buildLine(e);\n\t\t}\n\t},\n\tadd: function add() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tvar _geometry = arguments[0];\n\t\t\t_geometry.apply({\n\t\t\t\tinterfaces_: function interfaces_() {\n\t\t\t\t\treturn [GeometryComponentFilter];\n\t\t\t\t},\n\t\t\t\tfilter: function filter(component) {\n\t\t\t\t\tif (component instanceof LineString) {\n\t\t\t\t\t\tthis.add(component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tvar geometries = arguments[0];\n\t\t\tfor (var i = geometries.iterator(); i.hasNext();) {\n\t\t\t\tvar geometry = i.next();\n\t\t\t\tthis.add(geometry);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tvar lineString = arguments[0];\n\t\t\tif (this._factory === null) {\n\t\t\t\tthis._factory = lineString.getFactory();\n\t\t\t}\n\t\t\tvar seq = lineString.getCoordinateSequence();\n\t\t\tvar doneStart = false;\n\t\t\tfor (var i = 1; i < seq.size(); i++) {\n\t\t\t\tvar e = this._graph.addEdge(seq.getCoordinate(i - 1), seq.getCoordinate(i));\n\t\t\t\tif (e === null) continue;\n\t\t\t\tif (!doneStart) {\n\t\t\t\t\te.setStart();\n\t\t\t\t\tdoneStart = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineDissolver;\n\t}\n});\nLineDissolver.dissolve = function (g) {\n\tvar d = new LineDissolver();\n\td.add(g);\n\treturn d.getResult();\n};\n\n\n\nvar dissolve = Object.freeze({\n\tLineDissolver: LineDissolver\n});\n\nfunction PointLocator() {\n\tthis._boundaryRule = BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;\n\tthis._isIn = null;\n\tthis._numBoundaries = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tvar boundaryRule = arguments[0];\n\t\tif (boundaryRule === null) throw new IllegalArgumentException(\"Rule must be non-null\");\n\t\tthis._boundaryRule = boundaryRule;\n\t}\n}\nextend(PointLocator.prototype, {\n\tlocateInPolygonRing: function locateInPolygonRing(p, ring) {\n\t\tif (!ring.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n\t\treturn PointLocation.locateInRing(p, ring.getCoordinates());\n\t},\n\tintersects: function intersects(p, geom) {\n\t\treturn this.locate(p, geom) !== Location.EXTERIOR;\n\t},\n\tupdateLocationInfo: function updateLocationInfo(loc) {\n\t\tif (loc === Location.INTERIOR) this._isIn = true;\n\t\tif (loc === Location.BOUNDARY) this._numBoundaries++;\n\t},\n\tcomputeLocation: function computeLocation(p, geom) {\n\t\tif (geom instanceof Point) {\n\t\t\tthis.updateLocationInfo(this.locateOnPoint(p, geom));\n\t\t}\n\t\tif (geom instanceof LineString) {\n\t\t\tthis.updateLocationInfo(this.locateOnLineString(p, geom));\n\t\t} else if (geom instanceof Polygon) {\n\t\t\tthis.updateLocationInfo(this.locateInPolygon(p, geom));\n\t\t} else if (geom instanceof MultiLineString) {\n\t\t\tvar ml = geom;\n\t\t\tfor (var i = 0; i < ml.getNumGeometries(); i++) {\n\t\t\t\tvar l = ml.getGeometryN(i);\n\t\t\t\tthis.updateLocationInfo(this.locateOnLineString(p, l));\n\t\t\t}\n\t\t} else if (geom instanceof MultiPolygon) {\n\t\t\tvar mpoly = geom;\n\t\t\tfor (var i = 0; i < mpoly.getNumGeometries(); i++) {\n\t\t\t\tvar poly = mpoly.getGeometryN(i);\n\t\t\t\tthis.updateLocationInfo(this.locateInPolygon(p, poly));\n\t\t\t}\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tvar geomi = new GeometryCollectionIterator(geom);\n\t\t\twhile (geomi.hasNext()) {\n\t\t\t\tvar g2 = geomi.next();\n\t\t\t\tif (g2 !== geom) this.computeLocation(p, g2);\n\t\t\t}\n\t\t}\n\t},\n\tlocateOnPoint: function locateOnPoint(p, pt) {\n\t\tvar ptCoord = pt.getCoordinate();\n\t\tif (ptCoord.equals2D(p)) return Location.INTERIOR;\n\t\treturn Location.EXTERIOR;\n\t},\n\tlocateOnLineString: function locateOnLineString(p, l) {\n\t\tif (!l.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n\t\tvar seq = l.getCoordinateSequence();\n\t\tif (!l.isClosed()) {\n\t\t\tif (p.equals(seq.getCoordinate(0)) || p.equals(seq.getCoordinate(seq.size() - 1))) {\n\t\t\t\treturn Location.BOUNDARY;\n\t\t\t}\n\t\t}\n\t\tif (PointLocation.isOnLine(p, seq)) {\n\t\t\treturn Location.INTERIOR;\n\t\t}\n\t\treturn Location.EXTERIOR;\n\t},\n\tlocateInPolygon: function locateInPolygon(p, poly) {\n\t\tif (poly.isEmpty()) return Location.EXTERIOR;\n\t\tvar shell = poly.getExteriorRing();\n\t\tvar shellLoc = this.locateInPolygonRing(p, shell);\n\t\tif (shellLoc === Location.EXTERIOR) return Location.EXTERIOR;\n\t\tif (shellLoc === Location.BOUNDARY) return Location.BOUNDARY;\n\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\tvar hole = poly.getInteriorRingN(i);\n\t\t\tvar holeLoc = this.locateInPolygonRing(p, hole);\n\t\t\tif (holeLoc === Location.INTERIOR) return Location.EXTERIOR;\n\t\t\tif (holeLoc === Location.BOUNDARY) return Location.BOUNDARY;\n\t\t}\n\t\treturn Location.INTERIOR;\n\t},\n\tlocate: function locate(p, geom) {\n\t\tif (geom.isEmpty()) return Location.EXTERIOR;\n\t\tif (geom instanceof LineString) {\n\t\t\treturn this.locateOnLineString(p, geom);\n\t\t} else if (geom instanceof Polygon) {\n\t\t\treturn this.locateInPolygon(p, geom);\n\t\t}\n\t\tthis._isIn = false;\n\t\tthis._numBoundaries = 0;\n\t\tthis.computeLocation(p, geom);\n\t\tif (this._boundaryRule.isInBoundary(this._numBoundaries)) return Location.BOUNDARY;\n\t\tif (this._numBoundaries > 0 || this._isIn) return Location.INTERIOR;\n\t\treturn Location.EXTERIOR;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PointLocator;\n\t}\n});\n\nfunction Position() {}\nextend(Position.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Position;\n\t}\n});\nPosition.opposite = function (position) {\n\tif (position === Position.LEFT) return Position.RIGHT;\n\tif (position === Position.RIGHT) return Position.LEFT;\n\treturn position;\n};\nPosition.ON = 0;\nPosition.LEFT = 1;\nPosition.RIGHT = 2;\n\nfunction MonotoneChain$1() {\n\tthis.mce = null;\n\tthis.chainIndex = null;\n\tvar mce = arguments[0],\n\t    chainIndex = arguments[1];\n\tthis.mce = mce;\n\tthis.chainIndex = chainIndex;\n}\nextend(MonotoneChain$1.prototype, {\n\tcomputeIntersections: function computeIntersections(mc, si) {\n\t\tthis.mce.computeIntersectsForChain(this.chainIndex, mc.mce, mc.chainIndex, si);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MonotoneChain$1;\n\t}\n});\n\nfunction SweepLineEvent() {\n\tthis._label = null;\n\tthis._xValue = null;\n\tthis._eventType = null;\n\tthis._insertEvent = null;\n\tthis._deleteEventIndex = null;\n\tthis._obj = null;\n\tif (arguments.length === 2) {\n\t\tvar x = arguments[0],\n\t\t    insertEvent = arguments[1];\n\t\tthis._eventType = SweepLineEvent.DELETE;\n\t\tthis._xValue = x;\n\t\tthis._insertEvent = insertEvent;\n\t} else if (arguments.length === 3) {\n\t\tvar label = arguments[0],\n\t\t    _x = arguments[1],\n\t\t    obj = arguments[2];\n\t\tthis._eventType = SweepLineEvent.INSERT;\n\t\tthis._label = label;\n\t\tthis._xValue = _x;\n\t\tthis._obj = obj;\n\t}\n}\nextend(SweepLineEvent.prototype, {\n\tisDelete: function isDelete() {\n\t\treturn this._eventType === SweepLineEvent.DELETE;\n\t},\n\tsetDeleteEventIndex: function setDeleteEventIndex(deleteEventIndex) {\n\t\tthis._deleteEventIndex = deleteEventIndex;\n\t},\n\tgetObject: function getObject() {\n\t\treturn this._obj;\n\t},\n\tcompareTo: function compareTo(o) {\n\t\tvar pe = o;\n\t\tif (this._xValue < pe._xValue) return -1;\n\t\tif (this._xValue > pe._xValue) return 1;\n\t\tif (this._eventType < pe._eventType) return -1;\n\t\tif (this._eventType > pe._eventType) return 1;\n\t\treturn 0;\n\t},\n\tgetInsertEvent: function getInsertEvent() {\n\t\treturn this._insertEvent;\n\t},\n\tisInsert: function isInsert() {\n\t\treturn this._eventType === SweepLineEvent.INSERT;\n\t},\n\tisSameLabel: function isSameLabel(ev) {\n\t\tif (this._label === null) return false;\n\t\treturn this._label === ev._label;\n\t},\n\tgetDeleteEventIndex: function getDeleteEventIndex() {\n\t\treturn this._deleteEventIndex;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SweepLineEvent;\n\t}\n});\nSweepLineEvent.INSERT = 1;\nSweepLineEvent.DELETE = 2;\n\nfunction EdgeSetIntersector() {}\nextend(EdgeSetIntersector.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeSetIntersector;\n\t}\n});\n\nfunction SegmentIntersector() {\n\tthis._hasIntersection = false;\n\tthis._hasProper = false;\n\tthis._hasProperInterior = false;\n\tthis._properIntersectionPoint = null;\n\tthis._li = null;\n\tthis._includeProper = null;\n\tthis._recordIsolated = null;\n\tthis._isSelfIntersection = null;\n\tthis._numIntersections = 0;\n\tthis.numTests = 0;\n\tthis._bdyNodes = null;\n\tthis._isDone = false;\n\tthis._isDoneWhenProperInt = false;\n\tvar li = arguments[0],\n\t    includeProper = arguments[1],\n\t    recordIsolated = arguments[2];\n\tthis._li = li;\n\tthis._includeProper = includeProper;\n\tthis._recordIsolated = recordIsolated;\n}\nextend(SegmentIntersector.prototype, {\n\tisTrivialIntersection: function isTrivialIntersection(e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1) {\n\t\t\tif (this._li.getIntersectionNum() === 1) {\n\t\t\t\tif (SegmentIntersector.isAdjacentSegments(segIndex0, segIndex1)) return true;\n\t\t\t\tif (e0.isClosed()) {\n\t\t\t\t\tvar maxSegIndex = e0.getNumPoints() - 1;\n\t\t\t\t\tif (segIndex0 === 0 && segIndex1 === maxSegIndex || segIndex1 === 0 && segIndex0 === maxSegIndex) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tgetProperIntersectionPoint: function getProperIntersectionPoint() {\n\t\treturn this._properIntersectionPoint;\n\t},\n\tsetIsDoneIfProperInt: function setIsDoneIfProperInt(isDoneWhenProperInt) {\n\t\tthis._isDoneWhenProperInt = isDoneWhenProperInt;\n\t},\n\thasProperInteriorIntersection: function hasProperInteriorIntersection() {\n\t\treturn this._hasProperInterior;\n\t},\n\tisBoundaryPointInternal: function isBoundaryPointInternal(li, bdyNodes) {\n\t\tfor (var i = bdyNodes.iterator(); i.hasNext();) {\n\t\t\tvar node = i.next();\n\t\t\tvar pt = node.getCoordinate();\n\t\t\tif (li.isIntersection(pt)) return true;\n\t\t}\n\t\treturn false;\n\t},\n\thasProperIntersection: function hasProperIntersection() {\n\t\treturn this._hasProper;\n\t},\n\thasIntersection: function hasIntersection() {\n\t\treturn this._hasIntersection;\n\t},\n\tisDone: function isDone() {\n\t\treturn this._isDone;\n\t},\n\tisBoundaryPoint: function isBoundaryPoint(li, bdyNodes) {\n\t\tif (bdyNodes === null) return false;\n\t\tif (this.isBoundaryPointInternal(li, bdyNodes[0])) return true;\n\t\tif (this.isBoundaryPointInternal(li, bdyNodes[1])) return true;\n\t\treturn false;\n\t},\n\tsetBoundaryNodes: function setBoundaryNodes(bdyNodes0, bdyNodes1) {\n\t\tthis._bdyNodes = new Array(2).fill(null);\n\t\tthis._bdyNodes[0] = bdyNodes0;\n\t\tthis._bdyNodes[1] = bdyNodes1;\n\t},\n\taddIntersections: function addIntersections(e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tthis.numTests++;\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tif (this._recordIsolated) {\n\t\t\t\te0.setIsolated(false);\n\t\t\t\te1.setIsolated(false);\n\t\t\t}\n\t\t\tthis._numIntersections++;\n\t\t\tif (!this.isTrivialIntersection(e0, segIndex0, e1, segIndex1)) {\n\t\t\t\tthis._hasIntersection = true;\n\t\t\t\tif (this._includeProper || !this._li.isProper()) {\n\t\t\t\t\te0.addIntersections(this._li, segIndex0, 0);\n\t\t\t\t\te1.addIntersections(this._li, segIndex1, 1);\n\t\t\t\t}\n\t\t\t\tif (this._li.isProper()) {\n\t\t\t\t\tthis._properIntersectionPoint = this._li.getIntersection(0).copy();\n\t\t\t\t\tthis._hasProper = true;\n\t\t\t\t\tif (this._isDoneWhenProperInt) {\n\t\t\t\t\t\tthis._isDone = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.isBoundaryPoint(this._li, this._bdyNodes)) this._hasProperInterior = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SegmentIntersector;\n\t}\n});\nSegmentIntersector.isAdjacentSegments = function (i1, i2) {\n\treturn Math.abs(i1 - i2) === 1;\n};\n\nfunction SimpleMCSweepLineIntersector() {\n\tEdgeSetIntersector.apply(this);\n\tthis.events = new ArrayList();\n\tthis.nOverlaps = null;\n}\ninherits(SimpleMCSweepLineIntersector, EdgeSetIntersector);\nextend(SimpleMCSweepLineIntersector.prototype, {\n\tprepareEvents: function prepareEvents() {\n\t\tCollections.sort(this.events);\n\t\tfor (var i = 0; i < this.events.size(); i++) {\n\t\t\tvar ev = this.events.get(i);\n\t\t\tif (ev.isDelete()) {\n\t\t\t\tev.getInsertEvent().setDeleteEventIndex(i);\n\t\t\t}\n\t\t}\n\t},\n\tcomputeIntersections: function computeIntersections() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar si = arguments[0];\n\t\t\tthis.nOverlaps = 0;\n\t\t\tthis.prepareEvents();\n\t\t\tfor (var i = 0; i < this.events.size(); i++) {\n\t\t\t\tvar ev = this.events.get(i);\n\t\t\t\tif (ev.isInsert()) {\n\t\t\t\t\tthis.processOverlaps(i, ev.getDeleteEventIndex(), ev, si);\n\t\t\t\t}\n\t\t\t\tif (si.isDone()) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (arguments[2] instanceof SegmentIntersector && hasInterface(arguments[0], List) && hasInterface(arguments[1], List)) {\n\t\t\t\tvar edges0 = arguments[0],\n\t\t\t\t    edges1 = arguments[1],\n\t\t\t\t    _si = arguments[2];\n\t\t\t\tthis.addEdges(edges0, edges0);\n\t\t\t\tthis.addEdges(edges1, edges1);\n\t\t\t\tthis.computeIntersections(_si);\n\t\t\t} else if (typeof arguments[2] === \"boolean\" && hasInterface(arguments[0], List) && arguments[1] instanceof SegmentIntersector) {\n\t\t\t\tvar edges = arguments[0],\n\t\t\t\t    _si2 = arguments[1],\n\t\t\t\t    testAllSegments = arguments[2];\n\t\t\t\tif (testAllSegments) this.addEdges(edges, null);else this.addEdges(edges);\n\t\t\t\tthis.computeIntersections(_si2);\n\t\t\t}\n\t\t}\n\t},\n\taddEdge: function addEdge(edge, edgeSet) {\n\t\tvar mce = edge.getMonotoneChainEdge();\n\t\tvar startIndex = mce.getStartIndexes();\n\t\tfor (var i = 0; i < startIndex.length - 1; i++) {\n\t\t\tvar mc = new MonotoneChain$1(mce, i);\n\t\t\tvar insertEvent = new SweepLineEvent(edgeSet, mce.getMinX(i), mc);\n\t\t\tthis.events.add(insertEvent);\n\t\t\tthis.events.add(new SweepLineEvent(mce.getMaxX(i), insertEvent));\n\t\t}\n\t},\n\tprocessOverlaps: function processOverlaps(start, end, ev0, si) {\n\t\tvar mc0 = ev0.getObject();\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar ev1 = this.events.get(i);\n\t\t\tif (ev1.isInsert()) {\n\t\t\t\tvar mc1 = ev1.getObject();\n\t\t\t\tif (!ev0.isSameLabel(ev1)) {\n\t\t\t\t\tmc0.computeIntersections(mc1, si);\n\t\t\t\t\tthis.nOverlaps++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\taddEdges: function addEdges() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar edges = arguments[0];\n\t\t\tfor (var i = edges.iterator(); i.hasNext();) {\n\t\t\t\tvar edge = i.next();\n\t\t\t\tthis.addEdge(edge, edge);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _edges = arguments[0],\n\t\t\t    edgeSet = arguments[1];\n\t\t\tfor (var i = _edges.iterator(); i.hasNext();) {\n\t\t\t\tvar edge = i.next();\n\t\t\t\tthis.addEdge(edge, edgeSet);\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SimpleMCSweepLineIntersector;\n\t}\n});\n\nfunction TopologyLocation() {\n\tthis.location = null;\n\tif (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tvar location = arguments[0];\n\t\t\tthis.init(location.length);\n\t\t} else if (Number.isInteger(arguments[0])) {\n\t\t\tvar on = arguments[0];\n\t\t\tthis.init(1);\n\t\t\tthis.location[Position.ON] = on;\n\t\t} else if (arguments[0] instanceof TopologyLocation) {\n\t\t\tvar gl = arguments[0];\n\t\t\tthis.init(gl.location.length);\n\t\t\tif (gl !== null) {\n\t\t\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\t\t\tthis.location[i] = gl.location[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else if (arguments.length === 3) {\n\t\tvar _on = arguments[0],\n\t\t    left = arguments[1],\n\t\t    right = arguments[2];\n\t\tthis.init(3);\n\t\tthis.location[Position.ON] = _on;\n\t\tthis.location[Position.LEFT] = left;\n\t\tthis.location[Position.RIGHT] = right;\n\t}\n}\nextend(TopologyLocation.prototype, {\n\tsetAllLocations: function setAllLocations(locValue) {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tthis.location[i] = locValue;\n\t\t}\n\t},\n\tisNull: function isNull() {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] !== Location.NONE) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tsetAllLocationsIfNull: function setAllLocationsIfNull(locValue) {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] === Location.NONE) this.location[i] = locValue;\n\t\t}\n\t},\n\tisLine: function isLine() {\n\t\treturn this.location.length === 1;\n\t},\n\tmerge: function merge(gl) {\n\t\tif (gl.location.length > this.location.length) {\n\t\t\tvar newLoc = new Array(3).fill(null);\n\t\t\tnewLoc[Position.ON] = this.location[Position.ON];\n\t\t\tnewLoc[Position.LEFT] = Location.NONE;\n\t\t\tnewLoc[Position.RIGHT] = Location.NONE;\n\t\t\tthis.location = newLoc;\n\t\t}\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] === Location.NONE && i < gl.location.length) this.location[i] = gl.location[i];\n\t\t}\n\t},\n\tgetLocations: function getLocations() {\n\t\treturn this.location;\n\t},\n\tflip: function flip() {\n\t\tif (this.location.length <= 1) return null;\n\t\tvar temp = this.location[Position.LEFT];\n\t\tthis.location[Position.LEFT] = this.location[Position.RIGHT];\n\t\tthis.location[Position.RIGHT] = temp;\n\t},\n\ttoString: function toString() {\n\t\tvar buf = new StringBuffer();\n\t\tif (this.location.length > 1) buf.append(Location.toLocationSymbol(this.location[Position.LEFT]));\n\t\tbuf.append(Location.toLocationSymbol(this.location[Position.ON]));\n\t\tif (this.location.length > 1) buf.append(Location.toLocationSymbol(this.location[Position.RIGHT]));\n\t\treturn buf.toString();\n\t},\n\tsetLocations: function setLocations(on, left, right) {\n\t\tthis.location[Position.ON] = on;\n\t\tthis.location[Position.LEFT] = left;\n\t\tthis.location[Position.RIGHT] = right;\n\t},\n\tget: function get(posIndex) {\n\t\tif (posIndex < this.location.length) return this.location[posIndex];\n\t\treturn Location.NONE;\n\t},\n\tisArea: function isArea() {\n\t\treturn this.location.length > 1;\n\t},\n\tisAnyNull: function isAnyNull() {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] === Location.NONE) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tsetLocation: function setLocation() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar locValue = arguments[0];\n\t\t\tthis.setLocation(Position.ON, locValue);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar locIndex = arguments[0],\n\t\t\t    _locValue = arguments[1];\n\t\t\tthis.location[locIndex] = _locValue;\n\t\t}\n\t},\n\tinit: function init(size) {\n\t\tthis.location = new Array(size).fill(null);\n\t\tthis.setAllLocations(Location.NONE);\n\t},\n\tisEqualOnSide: function isEqualOnSide(le, locIndex) {\n\t\treturn this.location[locIndex] === le.location[locIndex];\n\t},\n\tallPositionsEqual: function allPositionsEqual(loc) {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] !== loc) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TopologyLocation;\n\t}\n});\n\nfunction Label() {\n\tthis.elt = new Array(2).fill(null);\n\tif (arguments.length === 1) {\n\t\tif (Number.isInteger(arguments[0])) {\n\t\t\tvar onLoc = arguments[0];\n\t\t\tthis.elt[0] = new TopologyLocation(onLoc);\n\t\t\tthis.elt[1] = new TopologyLocation(onLoc);\n\t\t} else if (arguments[0] instanceof Label) {\n\t\t\tvar lbl = arguments[0];\n\t\t\tthis.elt[0] = new TopologyLocation(lbl.elt[0]);\n\t\t\tthis.elt[1] = new TopologyLocation(lbl.elt[1]);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tvar geomIndex = arguments[0],\n\t\t    _onLoc = arguments[1];\n\t\tthis.elt[0] = new TopologyLocation(Location.NONE);\n\t\tthis.elt[1] = new TopologyLocation(Location.NONE);\n\t\tthis.elt[geomIndex].setLocation(_onLoc);\n\t} else if (arguments.length === 3) {\n\t\tvar _onLoc2 = arguments[0],\n\t\t    leftLoc = arguments[1],\n\t\t    rightLoc = arguments[2];\n\t\tthis.elt[0] = new TopologyLocation(_onLoc2, leftLoc, rightLoc);\n\t\tthis.elt[1] = new TopologyLocation(_onLoc2, leftLoc, rightLoc);\n\t} else if (arguments.length === 4) {\n\t\tvar _geomIndex = arguments[0],\n\t\t    _onLoc3 = arguments[1],\n\t\t    _leftLoc = arguments[2],\n\t\t    _rightLoc = arguments[3];\n\t\tthis.elt[0] = new TopologyLocation(Location.NONE, Location.NONE, Location.NONE);\n\t\tthis.elt[1] = new TopologyLocation(Location.NONE, Location.NONE, Location.NONE);\n\t\tthis.elt[_geomIndex].setLocations(_onLoc3, _leftLoc, _rightLoc);\n\t}\n}\nextend(Label.prototype, {\n\tgetGeometryCount: function getGeometryCount() {\n\t\tvar count = 0;\n\t\tif (!this.elt[0].isNull()) count++;\n\t\tif (!this.elt[1].isNull()) count++;\n\t\treturn count;\n\t},\n\tsetAllLocations: function setAllLocations(geomIndex, location) {\n\t\tthis.elt[geomIndex].setAllLocations(location);\n\t},\n\tisNull: function isNull(geomIndex) {\n\t\treturn this.elt[geomIndex].isNull();\n\t},\n\tsetAllLocationsIfNull: function setAllLocationsIfNull() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar location = arguments[0];\n\t\t\tthis.setAllLocationsIfNull(0, location);\n\t\t\tthis.setAllLocationsIfNull(1, location);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar geomIndex = arguments[0],\n\t\t\t    _location = arguments[1];\n\t\t\tthis.elt[geomIndex].setAllLocationsIfNull(_location);\n\t\t}\n\t},\n\tisLine: function isLine(geomIndex) {\n\t\treturn this.elt[geomIndex].isLine();\n\t},\n\tmerge: function merge(lbl) {\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this.elt[i] === null && lbl.elt[i] !== null) {\n\t\t\t\tthis.elt[i] = new TopologyLocation(lbl.elt[i]);\n\t\t\t} else {\n\t\t\t\tthis.elt[i].merge(lbl.elt[i]);\n\t\t\t}\n\t\t}\n\t},\n\tflip: function flip() {\n\t\tthis.elt[0].flip();\n\t\tthis.elt[1].flip();\n\t},\n\tgetLocation: function getLocation() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar geomIndex = arguments[0];\n\t\t\treturn this.elt[geomIndex].get(Position.ON);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _geomIndex2 = arguments[0],\n\t\t\t    posIndex = arguments[1];\n\t\t\treturn this.elt[_geomIndex2].get(posIndex);\n\t\t}\n\t},\n\ttoString: function toString() {\n\t\tvar buf = new StringBuffer();\n\t\tif (this.elt[0] !== null) {\n\t\t\tbuf.append(\"A:\");\n\t\t\tbuf.append(this.elt[0].toString());\n\t\t}\n\t\tif (this.elt[1] !== null) {\n\t\t\tbuf.append(\" B:\");\n\t\t\tbuf.append(this.elt[1].toString());\n\t\t}\n\t\treturn buf.toString();\n\t},\n\tisArea: function isArea() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.elt[0].isArea() || this.elt[1].isArea();\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar geomIndex = arguments[0];\n\t\t\treturn this.elt[geomIndex].isArea();\n\t\t}\n\t},\n\tisAnyNull: function isAnyNull(geomIndex) {\n\t\treturn this.elt[geomIndex].isAnyNull();\n\t},\n\tsetLocation: function setLocation() {\n\t\tif (arguments.length === 2) {\n\t\t\tvar geomIndex = arguments[0],\n\t\t\t    location = arguments[1];\n\t\t\tthis.elt[geomIndex].setLocation(Position.ON, location);\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _geomIndex3 = arguments[0],\n\t\t\t    posIndex = arguments[1],\n\t\t\t    _location2 = arguments[2];\n\t\t\tthis.elt[_geomIndex3].setLocation(posIndex, _location2);\n\t\t}\n\t},\n\tisEqualOnSide: function isEqualOnSide(lbl, side) {\n\t\treturn this.elt[0].isEqualOnSide(lbl.elt[0], side) && this.elt[1].isEqualOnSide(lbl.elt[1], side);\n\t},\n\tallPositionsEqual: function allPositionsEqual(geomIndex, loc) {\n\t\treturn this.elt[geomIndex].allPositionsEqual(loc);\n\t},\n\ttoLine: function toLine(geomIndex) {\n\t\tif (this.elt[geomIndex].isArea()) this.elt[geomIndex] = new TopologyLocation(this.elt[geomIndex].location[0]);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Label;\n\t}\n});\nLabel.toLineLabel = function (label) {\n\tvar lineLabel = new Label(Location.NONE);\n\tfor (var i = 0; i < 2; i++) {\n\t\tlineLabel.setLocation(i, label.getLocation(i));\n\t}\n\treturn lineLabel;\n};\n\nfunction EdgeIntersection() {\n\tthis.coord = null;\n\tthis.segmentIndex = null;\n\tthis.dist = null;\n\tvar coord = arguments[0],\n\t    segmentIndex = arguments[1],\n\t    dist = arguments[2];\n\tthis.coord = new Coordinate(coord);\n\tthis.segmentIndex = segmentIndex;\n\tthis.dist = dist;\n}\nextend(EdgeIntersection.prototype, {\n\tgetSegmentIndex: function getSegmentIndex() {\n\t\treturn this.segmentIndex;\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this.coord;\n\t},\n\tprint: function print(out) {\n\t\tout.print(this.coord);\n\t\tout.print(\" seg # = \" + this.segmentIndex);\n\t\tout.println(\" dist = \" + this.dist);\n\t},\n\tcompareTo: function compareTo(obj) {\n\t\tvar other = obj;\n\t\treturn this.compare(other.segmentIndex, other.dist);\n\t},\n\tisEndPoint: function isEndPoint(maxSegmentIndex) {\n\t\tif (this.segmentIndex === 0 && this.dist === 0.0) return true;\n\t\tif (this.segmentIndex === maxSegmentIndex) return true;\n\t\treturn false;\n\t},\n\ttoString: function toString() {\n\t\treturn this.coord + \" seg # = \" + this.segmentIndex + \" dist = \" + this.dist;\n\t},\n\tgetDistance: function getDistance() {\n\t\treturn this.dist;\n\t},\n\tcompare: function compare(segmentIndex, dist) {\n\t\tif (this.segmentIndex < segmentIndex) return -1;\n\t\tif (this.segmentIndex > segmentIndex) return 1;\n\t\tif (this.dist < dist) return -1;\n\t\tif (this.dist > dist) return 1;\n\t\treturn 0;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeIntersection;\n\t}\n});\n\nfunction EdgeIntersectionList() {\n\tthis._nodeMap = new TreeMap();\n\tthis.edge = null;\n\tvar edge = arguments[0];\n\tthis.edge = edge;\n}\nextend(EdgeIntersectionList.prototype, {\n\tprint: function print(out) {\n\t\tout.println(\"Intersections:\");\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar ei = it.next();\n\t\t\tei.print(out);\n\t\t}\n\t},\n\titerator: function iterator() {\n\t\treturn this._nodeMap.values().iterator();\n\t},\n\taddSplitEdges: function addSplitEdges(edgeList) {\n\t\tthis.addEndpoints();\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tvar newEdge = this.createSplitEdge(eiPrev, ei);\n\t\t\tedgeList.add(newEdge);\n\t\t\teiPrev = ei;\n\t\t}\n\t},\n\taddEndpoints: function addEndpoints() {\n\t\tvar maxSegIndex = this.edge.pts.length - 1;\n\t\tthis.add(this.edge.pts[0], 0, 0.0);\n\t\tthis.add(this.edge.pts[maxSegIndex], maxSegIndex, 0.0);\n\t},\n\tcreateSplitEdge: function createSplitEdge(ei0, ei1) {\n\t\tvar npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\t\tvar lastSegStartPt = this.edge.pts[ei1.segmentIndex];\n\t\tvar useIntPt1 = ei1.dist > 0.0 || !ei1.coord.equals2D(lastSegStartPt);\n\t\tif (!useIntPt1) {\n\t\t\tnpts--;\n\t\t}\n\t\tvar pts = new Array(npts).fill(null);\n\t\tvar ipt = 0;\n\t\tpts[ipt++] = new Coordinate(ei0.coord);\n\t\tfor (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n\t\t\tpts[ipt++] = this.edge.pts[i];\n\t\t}\n\t\tif (useIntPt1) pts[ipt] = ei1.coord;\n\t\treturn new Edge(pts, new Label(this.edge._label));\n\t},\n\tadd: function add(intPt, segmentIndex, dist) {\n\t\tvar eiNew = new EdgeIntersection(intPt, segmentIndex, dist);\n\t\tvar ei = this._nodeMap.get(eiNew);\n\t\tif (ei !== null) {\n\t\t\treturn ei;\n\t\t}\n\t\tthis._nodeMap.put(eiNew, eiNew);\n\t\treturn eiNew;\n\t},\n\tisIntersection: function isIntersection(pt) {\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar ei = it.next();\n\t\t\tif (ei.coord.equals(pt)) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeIntersectionList;\n\t}\n});\n\nfunction MonotoneChainIndexer() {}\nextend(MonotoneChainIndexer.prototype, {\n\tgetChainStartIndices: function getChainStartIndices(pts) {\n\t\tvar start = 0;\n\t\tvar startIndexList = new ArrayList();\n\t\tstartIndexList.add(new Integer(start));\n\t\tdo {\n\t\t\tvar last = this.findChainEnd(pts, start);\n\t\t\tstartIndexList.add(new Integer(last));\n\t\t\tstart = last;\n\t\t} while (start < pts.length - 1);\n\t\tvar startIndex = MonotoneChainIndexer.toIntArray(startIndexList);\n\t\treturn startIndex;\n\t},\n\tfindChainEnd: function findChainEnd(pts, start) {\n\t\tvar chainQuad = Quadrant.quadrant(pts[start], pts[start + 1]);\n\t\tvar last = start + 1;\n\t\twhile (last < pts.length) {\n\t\t\tvar quad = Quadrant.quadrant(pts[last - 1], pts[last]);\n\t\t\tif (quad !== chainQuad) break;\n\t\t\tlast++;\n\t\t}\n\t\treturn last - 1;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MonotoneChainIndexer;\n\t}\n});\nMonotoneChainIndexer.toIntArray = function (list) {\n\tvar array = new Array(list.size()).fill(null);\n\tfor (var i = 0; i < array.length; i++) {\n\t\tarray[i] = list.get(i).intValue();\n\t}\n\treturn array;\n};\n\nfunction MonotoneChainEdge() {\n\tthis.e = null;\n\tthis.pts = null;\n\tthis.startIndex = null;\n\tvar e = arguments[0];\n\tthis.e = e;\n\tthis.pts = e.getCoordinates();\n\tvar mcb = new MonotoneChainIndexer();\n\tthis.startIndex = mcb.getChainStartIndices(this.pts);\n}\nextend(MonotoneChainEdge.prototype, {\n\tgetCoordinates: function getCoordinates() {\n\t\treturn this.pts;\n\t},\n\tgetMaxX: function getMaxX(chainIndex) {\n\t\tvar x1 = this.pts[this.startIndex[chainIndex]].x;\n\t\tvar x2 = this.pts[this.startIndex[chainIndex + 1]].x;\n\t\treturn x1 > x2 ? x1 : x2;\n\t},\n\tgetMinX: function getMinX(chainIndex) {\n\t\tvar x1 = this.pts[this.startIndex[chainIndex]].x;\n\t\tvar x2 = this.pts[this.startIndex[chainIndex + 1]].x;\n\t\treturn x1 < x2 ? x1 : x2;\n\t},\n\tcomputeIntersectsForChain: function computeIntersectsForChain() {\n\t\tif (arguments.length === 4) {\n\t\t\tvar chainIndex0 = arguments[0],\n\t\t\t    mce = arguments[1],\n\t\t\t    chainIndex1 = arguments[2],\n\t\t\t    si = arguments[3];\n\t\t\tthis.computeIntersectsForChain(this.startIndex[chainIndex0], this.startIndex[chainIndex0 + 1], mce, mce.startIndex[chainIndex1], mce.startIndex[chainIndex1 + 1], si);\n\t\t} else if (arguments.length === 6) {\n\t\t\tvar start0 = arguments[0],\n\t\t\t    end0 = arguments[1],\n\t\t\t    _mce = arguments[2],\n\t\t\t    start1 = arguments[3],\n\t\t\t    end1 = arguments[4],\n\t\t\t    ei = arguments[5];\n\t\t\tif (end0 - start0 === 1 && end1 - start1 === 1) {\n\t\t\t\tei.addIntersections(this.e, start0, _mce.e, start1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (!this.overlaps(start0, end0, _mce, start1, end1)) return null;\n\t\t\tvar mid0 = Math.trunc((start0 + end0) / 2);\n\t\t\tvar mid1 = Math.trunc((start1 + end1) / 2);\n\t\t\tif (start0 < mid0) {\n\t\t\t\tif (start1 < mid1) this.computeIntersectsForChain(start0, mid0, _mce, start1, mid1, ei);\n\t\t\t\tif (mid1 < end1) this.computeIntersectsForChain(start0, mid0, _mce, mid1, end1, ei);\n\t\t\t}\n\t\t\tif (mid0 < end0) {\n\t\t\t\tif (start1 < mid1) this.computeIntersectsForChain(mid0, end0, _mce, start1, mid1, ei);\n\t\t\t\tif (mid1 < end1) this.computeIntersectsForChain(mid0, end0, _mce, mid1, end1, ei);\n\t\t\t}\n\t\t}\n\t},\n\toverlaps: function overlaps(start0, end0, mce, start1, end1) {\n\t\treturn Envelope.intersects(this.pts[start0], this.pts[end0], mce.pts[start1], mce.pts[end1]);\n\t},\n\tgetStartIndexes: function getStartIndexes() {\n\t\treturn this.startIndex;\n\t},\n\tcomputeIntersects: function computeIntersects(mce, si) {\n\t\tfor (var i = 0; i < this.startIndex.length - 1; i++) {\n\t\t\tfor (var j = 0; j < mce.startIndex.length - 1; j++) {\n\t\t\t\tthis.computeIntersectsForChain(i, mce, j, si);\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MonotoneChainEdge;\n\t}\n});\n\nfunction Depth() {\n\tthis._depth = Array(2).fill().map(function () {\n\t\treturn Array(3);\n\t});\n\tfor (var i = 0; i < 2; i++) {\n\t\tfor (var j = 0; j < 3; j++) {\n\t\t\tthis._depth[i][j] = Depth.NULL_VALUE;\n\t\t}\n\t}\n}\nextend(Depth.prototype, {\n\tgetDepth: function getDepth(geomIndex, posIndex) {\n\t\treturn this._depth[geomIndex][posIndex];\n\t},\n\tsetDepth: function setDepth(geomIndex, posIndex, depthValue) {\n\t\tthis._depth[geomIndex][posIndex] = depthValue;\n\t},\n\tisNull: function isNull() {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tfor (var j = 0; j < 3; j++) {\n\t\t\t\t\tif (this._depth[i][j] !== Depth.NULL_VALUE) return false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar geomIndex = arguments[0];\n\t\t\treturn this._depth[geomIndex][1] === Depth.NULL_VALUE;\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _geomIndex = arguments[0],\n\t\t\t    posIndex = arguments[1];\n\t\t\treturn this._depth[_geomIndex][posIndex] === Depth.NULL_VALUE;\n\t\t}\n\t},\n\tnormalize: function normalize() {\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (!this.isNull(i)) {\n\t\t\t\tvar minDepth = this._depth[i][1];\n\t\t\t\tif (this._depth[i][2] < minDepth) minDepth = this._depth[i][2];\n\t\t\t\tif (minDepth < 0) minDepth = 0;\n\t\t\t\tfor (var j = 1; j < 3; j++) {\n\t\t\t\t\tvar newValue = 0;\n\t\t\t\t\tif (this._depth[i][j] > minDepth) newValue = 1;\n\t\t\t\t\tthis._depth[i][j] = newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetDelta: function getDelta(geomIndex) {\n\t\treturn this._depth[geomIndex][Position.RIGHT] - this._depth[geomIndex][Position.LEFT];\n\t},\n\tgetLocation: function getLocation(geomIndex, posIndex) {\n\t\tif (this._depth[geomIndex][posIndex] <= 0) return Location.EXTERIOR;\n\t\treturn Location.INTERIOR;\n\t},\n\ttoString: function toString() {\n\t\treturn \"A: \" + this._depth[0][1] + \",\" + this._depth[0][2] + \" B: \" + this._depth[1][1] + \",\" + this._depth[1][2];\n\t},\n\tadd: function add() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar lbl = arguments[0];\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tfor (var j = 1; j < 3; j++) {\n\t\t\t\t\tvar loc = lbl.getLocation(i, j);\n\t\t\t\t\tif (loc === Location.EXTERIOR || loc === Location.INTERIOR) {\n\t\t\t\t\t\tif (this.isNull(i, j)) {\n\t\t\t\t\t\t\tthis._depth[i][j] = Depth.depthAtLocation(loc);\n\t\t\t\t\t\t} else this._depth[i][j] += Depth.depthAtLocation(loc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar geomIndex = arguments[0],\n\t\t\t    posIndex = arguments[1],\n\t\t\t    location = arguments[2];\n\t\t\tif (location === Location.INTERIOR) this._depth[geomIndex][posIndex]++;\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Depth;\n\t}\n});\nDepth.depthAtLocation = function (location) {\n\tif (location === Location.EXTERIOR) return 0;\n\tif (location === Location.INTERIOR) return 1;\n\treturn Depth.NULL_VALUE;\n};\nDepth.NULL_VALUE = -1;\n\nfunction GraphComponent() {\n\tthis._label = null;\n\tthis._isInResult = false;\n\tthis._isCovered = false;\n\tthis._isCoveredSet = false;\n\tthis._isVisited = false;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tvar label = arguments[0];\n\t\tthis._label = label;\n\t}\n}\nextend(GraphComponent.prototype, {\n\tsetVisited: function setVisited(isVisited) {\n\t\tthis._isVisited = isVisited;\n\t},\n\tsetInResult: function setInResult(isInResult) {\n\t\tthis._isInResult = isInResult;\n\t},\n\tisCovered: function isCovered() {\n\t\treturn this._isCovered;\n\t},\n\tisCoveredSet: function isCoveredSet() {\n\t\treturn this._isCoveredSet;\n\t},\n\tsetLabel: function setLabel(label) {\n\t\tthis._label = label;\n\t},\n\tgetLabel: function getLabel() {\n\t\treturn this._label;\n\t},\n\tsetCovered: function setCovered(isCovered) {\n\t\tthis._isCovered = isCovered;\n\t\tthis._isCoveredSet = true;\n\t},\n\tupdateIM: function updateIM(im) {\n\t\tAssert.isTrue(this._label.getGeometryCount() >= 2, \"found partial label\");\n\t\tthis.computeIM(im);\n\t},\n\tisInResult: function isInResult() {\n\t\treturn this._isInResult;\n\t},\n\tisVisited: function isVisited() {\n\t\treturn this._isVisited;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GraphComponent;\n\t}\n});\n\nfunction Edge() {\n\tGraphComponent.apply(this);\n\tthis.pts = null;\n\tthis._env = null;\n\tthis.eiList = new EdgeIntersectionList(this);\n\tthis._name = null;\n\tthis._mce = null;\n\tthis._isIsolated = true;\n\tthis._depth = new Depth();\n\tthis._depthDelta = 0;\n\tif (arguments.length === 1) {\n\t\tvar pts = arguments[0];\n\t\tEdge.call(this, pts, null);\n\t} else if (arguments.length === 2) {\n\t\tvar _pts = arguments[0],\n\t\t    label = arguments[1];\n\t\tthis.pts = _pts;\n\t\tthis._label = label;\n\t}\n}\ninherits(Edge, GraphComponent);\nextend(Edge.prototype, {\n\tgetDepth: function getDepth() {\n\t\treturn this._depth;\n\t},\n\tgetCollapsedEdge: function getCollapsedEdge() {\n\t\tvar newPts = new Array(2).fill(null);\n\t\tnewPts[0] = this.pts[0];\n\t\tnewPts[1] = this.pts[1];\n\t\tvar newe = new Edge(newPts, Label.toLineLabel(this._label));\n\t\treturn newe;\n\t},\n\tisIsolated: function isIsolated() {\n\t\treturn this._isIsolated;\n\t},\n\tgetCoordinates: function getCoordinates() {\n\t\treturn this.pts;\n\t},\n\tsetIsolated: function setIsolated(isIsolated) {\n\t\tthis._isIsolated = isIsolated;\n\t},\n\tsetName: function setName(name) {\n\t\tthis._name = name;\n\t},\n\tequals: function equals(o) {\n\t\tif (!(o instanceof Edge)) return false;\n\t\tvar e = o;\n\t\tif (this.pts.length !== e.pts.length) return false;\n\t\tvar isEqualForward = true;\n\t\tvar isEqualReverse = true;\n\t\tvar iRev = this.pts.length;\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (!this.pts[i].equals2D(e.pts[i])) {\n\t\t\t\tisEqualForward = false;\n\t\t\t}\n\t\t\tif (!this.pts[i].equals2D(e.pts[--iRev])) {\n\t\t\t\tisEqualReverse = false;\n\t\t\t}\n\t\t\tif (!isEqualForward && !isEqualReverse) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.pts.length > 0) return this.pts[0];\n\t\t\treturn null;\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar i = arguments[0];\n\t\t\treturn this.pts[i];\n\t\t}\n\t},\n\tprint: function print(out) {\n\t\tout.print(\"edge \" + this._name + \": \");\n\t\tout.print(\"LINESTRING (\");\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (i > 0) out.print(\",\");\n\t\t\tout.print(this.pts[i].x + \" \" + this.pts[i].y);\n\t\t}\n\t\tout.print(\")  \" + this._label + \" \" + this._depthDelta);\n\t},\n\tcomputeIM: function computeIM(im) {\n\t\tEdge.updateIM(this._label, im);\n\t},\n\tisCollapsed: function isCollapsed() {\n\t\tif (!this._label.isArea()) return false;\n\t\tif (this.pts.length !== 3) return false;\n\t\tif (this.pts[0].equals(this.pts[2])) return true;\n\t\treturn false;\n\t},\n\tisClosed: function isClosed() {\n\t\treturn this.pts[0].equals(this.pts[this.pts.length - 1]);\n\t},\n\tgetMaximumSegmentIndex: function getMaximumSegmentIndex() {\n\t\treturn this.pts.length - 1;\n\t},\n\tgetDepthDelta: function getDepthDelta() {\n\t\treturn this._depthDelta;\n\t},\n\tgetNumPoints: function getNumPoints() {\n\t\treturn this.pts.length;\n\t},\n\tprintReverse: function printReverse(out) {\n\t\tout.print(\"edge \" + this._name + \": \");\n\t\tfor (var i = this.pts.length - 1; i >= 0; i--) {\n\t\t\tout.print(this.pts[i] + \" \");\n\t\t}\n\t\tout.println(\"\");\n\t},\n\tgetMonotoneChainEdge: function getMonotoneChainEdge() {\n\t\tif (this._mce === null) this._mce = new MonotoneChainEdge(this);\n\t\treturn this._mce;\n\t},\n\tgetEnvelope: function getEnvelope() {\n\t\tif (this._env === null) {\n\t\t\tthis._env = new Envelope();\n\t\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\t\tthis._env.expandToInclude(this.pts[i]);\n\t\t\t}\n\t\t}\n\t\treturn this._env;\n\t},\n\taddIntersection: function addIntersection(li, segmentIndex, geomIndex, intIndex) {\n\t\tvar intPt = new Coordinate(li.getIntersection(intIndex));\n\t\tvar normalizedSegmentIndex = segmentIndex;\n\t\tvar dist = li.getEdgeDistance(geomIndex, intIndex);\n\t\tvar nextSegIndex = normalizedSegmentIndex + 1;\n\t\tif (nextSegIndex < this.pts.length) {\n\t\t\tvar nextPt = this.pts[nextSegIndex];\n\t\t\tif (intPt.equals2D(nextPt)) {\n\t\t\t\tnormalizedSegmentIndex = nextSegIndex;\n\t\t\t\tdist = 0.0;\n\t\t\t}\n\t\t}\n\t\tvar ei = this.eiList.add(intPt, normalizedSegmentIndex, dist);\n\t},\n\ttoString: function toString() {\n\t\tvar builder = new StringBuilder();\n\t\tbuilder.append(\"edge \" + this._name + \": \");\n\t\tbuilder.append(\"LINESTRING (\");\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (i > 0) builder.append(\",\");\n\t\t\tbuilder.append(this.pts[i].x + \" \" + this.pts[i].y);\n\t\t}\n\t\tbuilder.append(\")  \" + this._label + \" \" + this._depthDelta);\n\t\treturn builder.toString();\n\t},\n\tisPointwiseEqual: function isPointwiseEqual(e) {\n\t\tif (this.pts.length !== e.pts.length) return false;\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (!this.pts[i].equals2D(e.pts[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tsetDepthDelta: function setDepthDelta(depthDelta) {\n\t\tthis._depthDelta = depthDelta;\n\t},\n\tgetEdgeIntersectionList: function getEdgeIntersectionList() {\n\t\treturn this.eiList;\n\t},\n\taddIntersections: function addIntersections(li, segmentIndex, geomIndex) {\n\t\tfor (var i = 0; i < li.getIntersectionNum(); i++) {\n\t\t\tthis.addIntersection(li, segmentIndex, geomIndex, i);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Edge;\n\t}\n});\nEdge.updateIM = function () {\n\tif (arguments.length === 2 && arguments[1] instanceof IntersectionMatrix && arguments[0] instanceof Label) {\n\t\tvar label = arguments[0],\n\t\t    im = arguments[1];\n\t\tim.setAtLeastIfValid(label.getLocation(0, Position.ON), label.getLocation(1, Position.ON), 1);\n\t\tif (label.isArea()) {\n\t\t\tim.setAtLeastIfValid(label.getLocation(0, Position.LEFT), label.getLocation(1, Position.LEFT), 2);\n\t\t\tim.setAtLeastIfValid(label.getLocation(0, Position.RIGHT), label.getLocation(1, Position.RIGHT), 2);\n\t\t}\n\t} else return GraphComponent.prototype.updateIM.apply(this, arguments);\n};\n\nfunction Node$1() {\n\tGraphComponent.apply(this);\n\tthis._coord = null;\n\tthis._edges = null;\n\tvar coord = arguments[0],\n\t    edges = arguments[1];\n\tthis._coord = coord;\n\tthis._edges = edges;\n\tthis._label = new Label(0, Location.NONE);\n}\ninherits(Node$1, GraphComponent);\nextend(Node$1.prototype, {\n\tisIncidentEdgeInResult: function isIncidentEdgeInResult() {\n\t\tfor (var it = this.getEdges().getEdges().iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.getEdge().isInResult()) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tisIsolated: function isIsolated() {\n\t\treturn this._label.getGeometryCount() === 1;\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._coord;\n\t},\n\tprint: function print(out) {\n\t\tout.println(\"node \" + this._coord + \" lbl: \" + this._label);\n\t},\n\tcomputeIM: function computeIM(im) {},\n\tcomputeMergedLocation: function computeMergedLocation(label2, eltIndex) {\n\t\tvar loc = Location.NONE;\n\t\tloc = this._label.getLocation(eltIndex);\n\t\tif (!label2.isNull(eltIndex)) {\n\t\t\tvar nLoc = label2.getLocation(eltIndex);\n\t\t\tif (loc !== Location.BOUNDARY) loc = nLoc;\n\t\t}\n\t\treturn loc;\n\t},\n\tsetLabel: function setLabel() {\n\t\tif (arguments.length === 2 && Number.isInteger(arguments[1]) && Number.isInteger(arguments[0])) {\n\t\t\tvar argIndex = arguments[0],\n\t\t\t    onLocation = arguments[1];\n\t\t\tif (this._label === null) {\n\t\t\t\tthis._label = new Label(argIndex, onLocation);\n\t\t\t} else this._label.setLocation(argIndex, onLocation);\n\t\t} else return GraphComponent.prototype.setLabel.apply(this, arguments);\n\t},\n\tgetEdges: function getEdges() {\n\t\treturn this._edges;\n\t},\n\tmergeLabel: function mergeLabel() {\n\t\tif (arguments[0] instanceof Node$1) {\n\t\t\tvar n = arguments[0];\n\t\t\tthis.mergeLabel(n._label);\n\t\t} else if (arguments[0] instanceof Label) {\n\t\t\tvar label2 = arguments[0];\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tvar loc = this.computeMergedLocation(label2, i);\n\t\t\t\tvar thisLoc = this._label.getLocation(i);\n\t\t\t\tif (thisLoc === Location.NONE) this._label.setLocation(i, loc);\n\t\t\t}\n\t\t}\n\t},\n\tadd: function add(e) {\n\t\tthis._edges.insert(e);\n\t\te.setNode(this);\n\t},\n\tsetLabelBoundary: function setLabelBoundary(argIndex) {\n\t\tif (this._label === null) return null;\n\t\tvar loc = Location.NONE;\n\t\tif (this._label !== null) loc = this._label.getLocation(argIndex);\n\t\tvar newLoc = null;\n\t\tswitch (loc) {\n\t\t\tcase Location.BOUNDARY:\n\t\t\t\tnewLoc = Location.INTERIOR;\n\t\t\t\tbreak;\n\t\t\tcase Location.INTERIOR:\n\t\t\t\tnewLoc = Location.BOUNDARY;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tnewLoc = Location.BOUNDARY;\n\t\t\t\tbreak;\n\t\t}\n\t\tthis._label.setLocation(argIndex, newLoc);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Node$1;\n\t}\n});\n\nfunction NodeMap() {\n\tthis.nodeMap = new TreeMap();\n\tthis.nodeFact = null;\n\tvar nodeFact = arguments[0];\n\tthis.nodeFact = nodeFact;\n}\nextend(NodeMap.prototype, {\n\tfind: function find(coord) {\n\t\treturn this.nodeMap.get(coord);\n\t},\n\taddNode: function addNode() {\n\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\tvar coord = arguments[0];\n\t\t\tvar node = this.nodeMap.get(coord);\n\t\t\tif (node === null) {\n\t\t\t\tnode = this.nodeFact.createNode(coord);\n\t\t\t\tthis.nodeMap.put(coord, node);\n\t\t\t}\n\t\t\treturn node;\n\t\t} else if (arguments[0] instanceof Node$1) {\n\t\t\tvar n = arguments[0];\n\t\t\tvar node = this.nodeMap.get(n.getCoordinate());\n\t\t\tif (node === null) {\n\t\t\t\tthis.nodeMap.put(n.getCoordinate(), n);\n\t\t\t\treturn n;\n\t\t\t}\n\t\t\tnode.mergeLabel(n);\n\t\t\treturn node;\n\t\t}\n\t},\n\tprint: function print(out) {\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar n = it.next();\n\t\t\tn.print(out);\n\t\t}\n\t},\n\titerator: function iterator() {\n\t\treturn this.nodeMap.values().iterator();\n\t},\n\tvalues: function values() {\n\t\treturn this.nodeMap.values();\n\t},\n\tgetBoundaryNodes: function getBoundaryNodes(geomIndex) {\n\t\tvar bdyNodes = new ArrayList();\n\t\tfor (var i = this.iterator(); i.hasNext();) {\n\t\t\tvar node = i.next();\n\t\t\tif (node.getLabel().getLocation(geomIndex) === Location.BOUNDARY) bdyNodes.add(node);\n\t\t}\n\t\treturn bdyNodes;\n\t},\n\tadd: function add(e) {\n\t\tvar p = e.getCoordinate();\n\t\tvar n = this.addNode(p);\n\t\tn.add(e);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NodeMap;\n\t}\n});\n\nfunction EdgeEnd() {\n\tthis._edge = null;\n\tthis._label = null;\n\tthis._node = null;\n\tthis._p0 = null;\n\tthis._p1 = null;\n\tthis._dx = null;\n\tthis._dy = null;\n\tthis._quadrant = null;\n\tif (arguments.length === 1) {\n\t\tvar edge = arguments[0];\n\t\tthis._edge = edge;\n\t} else if (arguments.length === 3) {\n\t\tvar _edge = arguments[0],\n\t\t    p0 = arguments[1],\n\t\t    p1 = arguments[2];\n\t\tEdgeEnd.call(this, _edge, p0, p1, null);\n\t} else if (arguments.length === 4) {\n\t\tvar _edge2 = arguments[0],\n\t\t    _p = arguments[1],\n\t\t    _p2 = arguments[2],\n\t\t    label = arguments[3];\n\t\tEdgeEnd.call(this, _edge2);\n\t\tthis.init(_p, _p2);\n\t\tthis._label = label;\n\t}\n}\nextend(EdgeEnd.prototype, {\n\tcompareDirection: function compareDirection(e) {\n\t\tif (this._dx === e._dx && this._dy === e._dy) return 0;\n\t\tif (this._quadrant > e._quadrant) return 1;\n\t\tif (this._quadrant < e._quadrant) return -1;\n\t\treturn Orientation.index(e._p0, e._p1, this._p1);\n\t},\n\tgetDy: function getDy() {\n\t\treturn this._dy;\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._p0;\n\t},\n\tsetNode: function setNode(node) {\n\t\tthis._node = node;\n\t},\n\tprint: function print(out) {\n\t\tvar angle = Math.atan2(this._dy, this._dx);\n\t\tvar className = this.getClass().getName();\n\t\tvar lastDotPos = className.lastIndexOf('.');\n\t\tvar name = className.substring(lastDotPos + 1);\n\t\tout.print(\"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + angle + \"   \" + this._label);\n\t},\n\tcompareTo: function compareTo(obj) {\n\t\tvar e = obj;\n\t\treturn this.compareDirection(e);\n\t},\n\tgetDirectedCoordinate: function getDirectedCoordinate() {\n\t\treturn this._p1;\n\t},\n\tgetDx: function getDx() {\n\t\treturn this._dx;\n\t},\n\tgetLabel: function getLabel() {\n\t\treturn this._label;\n\t},\n\tgetEdge: function getEdge() {\n\t\treturn this._edge;\n\t},\n\tgetQuadrant: function getQuadrant() {\n\t\treturn this._quadrant;\n\t},\n\tgetNode: function getNode() {\n\t\treturn this._node;\n\t},\n\ttoString: function toString() {\n\t\tvar angle = Math.atan2(this._dy, this._dx);\n\t\tvar className = this.getClass().getName();\n\t\tvar lastDotPos = className.lastIndexOf('.');\n\t\tvar name = className.substring(lastDotPos + 1);\n\t\treturn \"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + angle + \"   \" + this._label;\n\t},\n\tcomputeLabel: function computeLabel(boundaryNodeRule) {},\n\tinit: function init(p0, p1) {\n\t\tthis._p0 = p0;\n\t\tthis._p1 = p1;\n\t\tthis._dx = p1.x - p0.x;\n\t\tthis._dy = p1.y - p0.y;\n\t\tthis._quadrant = Quadrant.quadrant(this._dx, this._dy);\n\t\tAssert.isTrue(!(this._dx === 0 && this._dy === 0), \"EdgeEnd with identical endpoints found\");\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeEnd;\n\t}\n});\n\nfunction TopologyException() {\n\tthis.pt = null;\n\tif (arguments.length === 1) {\n\t\tvar msg = arguments[0];\n\t\tRuntimeException.call(this, msg);\n\t} else if (arguments.length === 2) {\n\t\tvar _msg = arguments[0],\n\t\t    pt = arguments[1];\n\t\tRuntimeException.call(this, TopologyException.msgWithCoord(_msg, pt));\n\t\tthis.name = 'TopologyException';\n\t\tthis.pt = new Coordinate(pt);\n\t}\n}\ninherits(TopologyException, RuntimeException);\nextend(TopologyException.prototype, {\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this.pt;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TopologyException;\n\t}\n});\nTopologyException.msgWithCoord = function (msg, pt) {\n\tif (pt !== null) return msg + \" [ \" + pt + \" ]\";\n\treturn msg;\n};\n\nfunction DirectedEdge() {\n\tthis._isForward = null;\n\tthis._isInResult = false;\n\tthis._isVisited = false;\n\tthis._sym = null;\n\tthis._next = null;\n\tthis._nextMin = null;\n\tthis._edgeRing = null;\n\tthis._minEdgeRing = null;\n\tthis._depth = [0, -999, -999];\n\tvar edge = arguments[0],\n\t    isForward = arguments[1];\n\tEdgeEnd.call(this, edge);\n\tthis._isForward = isForward;\n\tif (isForward) {\n\t\tthis.init(edge.getCoordinate(0), edge.getCoordinate(1));\n\t} else {\n\t\tvar n = edge.getNumPoints() - 1;\n\t\tthis.init(edge.getCoordinate(n), edge.getCoordinate(n - 1));\n\t}\n\tthis.computeDirectedLabel();\n}\ninherits(DirectedEdge, EdgeEnd);\nextend(DirectedEdge.prototype, {\n\tgetNextMin: function getNextMin() {\n\t\treturn this._nextMin;\n\t},\n\tgetDepth: function getDepth(position) {\n\t\treturn this._depth[position];\n\t},\n\tsetVisited: function setVisited(isVisited) {\n\t\tthis._isVisited = isVisited;\n\t},\n\tcomputeDirectedLabel: function computeDirectedLabel() {\n\t\tthis._label = new Label(this._edge.getLabel());\n\t\tif (!this._isForward) this._label.flip();\n\t},\n\tgetNext: function getNext() {\n\t\treturn this._next;\n\t},\n\tsetDepth: function setDepth(position, depthVal) {\n\t\tif (this._depth[position] !== -999) {\n\t\t\tif (this._depth[position] !== depthVal) throw new TopologyException(\"assigned depths do not match\", this.getCoordinate());\n\t\t}\n\t\tthis._depth[position] = depthVal;\n\t},\n\tisInteriorAreaEdge: function isInteriorAreaEdge() {\n\t\tvar isInteriorAreaEdge = true;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (!(this._label.isArea(i) && this._label.getLocation(i, Position.LEFT) === Location.INTERIOR && this._label.getLocation(i, Position.RIGHT) === Location.INTERIOR)) {\n\t\t\t\tisInteriorAreaEdge = false;\n\t\t\t}\n\t\t}\n\t\treturn isInteriorAreaEdge;\n\t},\n\tsetNextMin: function setNextMin(nextMin) {\n\t\tthis._nextMin = nextMin;\n\t},\n\tprint: function print(out) {\n\t\tEdgeEnd.prototype.print.call(this, out);\n\t\tout.print(\" \" + this._depth[Position.LEFT] + \"/\" + this._depth[Position.RIGHT]);\n\t\tout.print(\" (\" + this.getDepthDelta() + \")\");\n\t\tif (this._isInResult) out.print(\" inResult\");\n\t},\n\tsetMinEdgeRing: function setMinEdgeRing(minEdgeRing) {\n\t\tthis._minEdgeRing = minEdgeRing;\n\t},\n\tisLineEdge: function isLineEdge() {\n\t\tvar isLine = this._label.isLine(0) || this._label.isLine(1);\n\t\tvar isExteriorIfArea0 = !this._label.isArea(0) || this._label.allPositionsEqual(0, Location.EXTERIOR);\n\t\tvar isExteriorIfArea1 = !this._label.isArea(1) || this._label.allPositionsEqual(1, Location.EXTERIOR);\n\t\treturn isLine && isExteriorIfArea0 && isExteriorIfArea1;\n\t},\n\tsetEdgeRing: function setEdgeRing(edgeRing) {\n\t\tthis._edgeRing = edgeRing;\n\t},\n\tgetMinEdgeRing: function getMinEdgeRing() {\n\t\treturn this._minEdgeRing;\n\t},\n\tgetDepthDelta: function getDepthDelta() {\n\t\tvar depthDelta = this._edge.getDepthDelta();\n\t\tif (!this._isForward) depthDelta = -depthDelta;\n\t\treturn depthDelta;\n\t},\n\tsetInResult: function setInResult(isInResult) {\n\t\tthis._isInResult = isInResult;\n\t},\n\tgetSym: function getSym() {\n\t\treturn this._sym;\n\t},\n\tisForward: function isForward() {\n\t\treturn this._isForward;\n\t},\n\tgetEdge: function getEdge() {\n\t\treturn this._edge;\n\t},\n\tprintEdge: function printEdge(out) {\n\t\tthis.print(out);\n\t\tout.print(\" \");\n\t\tif (this._isForward) this._edge.print(out);else this._edge.printReverse(out);\n\t},\n\tsetSym: function setSym(de) {\n\t\tthis._sym = de;\n\t},\n\tsetVisitedEdge: function setVisitedEdge(isVisited) {\n\t\tthis.setVisited(isVisited);\n\t\tthis._sym.setVisited(isVisited);\n\t},\n\tsetEdgeDepths: function setEdgeDepths(position, depth) {\n\t\tvar depthDelta = this.getEdge().getDepthDelta();\n\t\tif (!this._isForward) depthDelta = -depthDelta;\n\t\tvar directionFactor = 1;\n\t\tif (position === Position.LEFT) directionFactor = -1;\n\t\tvar oppositePos = Position.opposite(position);\n\t\tvar delta = depthDelta * directionFactor;\n\t\tvar oppositeDepth = depth + delta;\n\t\tthis.setDepth(position, depth);\n\t\tthis.setDepth(oppositePos, oppositeDepth);\n\t},\n\tgetEdgeRing: function getEdgeRing() {\n\t\treturn this._edgeRing;\n\t},\n\tisInResult: function isInResult() {\n\t\treturn this._isInResult;\n\t},\n\tsetNext: function setNext(next) {\n\t\tthis._next = next;\n\t},\n\tisVisited: function isVisited() {\n\t\treturn this._isVisited;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DirectedEdge;\n\t}\n});\nDirectedEdge.depthFactor = function (currLocation, nextLocation) {\n\tif (currLocation === Location.EXTERIOR && nextLocation === Location.INTERIOR) return 1;else if (currLocation === Location.INTERIOR && nextLocation === Location.EXTERIOR) return -1;\n\treturn 0;\n};\n\nfunction NodeFactory() {}\nextend(NodeFactory.prototype, {\n\tcreateNode: function createNode(coord) {\n\t\treturn new Node$1(coord, null);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NodeFactory;\n\t}\n});\n\nfunction PlanarGraph() {\n\tthis._edges = new ArrayList();\n\tthis._nodes = null;\n\tthis._edgeEndList = new ArrayList();\n\tif (arguments.length === 0) {\n\t\tthis._nodes = new NodeMap(new NodeFactory());\n\t} else if (arguments.length === 1) {\n\t\tvar nodeFact = arguments[0];\n\t\tthis._nodes = new NodeMap(nodeFact);\n\t}\n}\nextend(PlanarGraph.prototype, {\n\tprintEdges: function printEdges(out) {\n\t\tout.println(\"Edges:\");\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tout.println(\"edge \" + i + \":\");\n\t\t\tvar e = this._edges.get(i);\n\t\t\te.print(out);\n\t\t\te.eiList.print(out);\n\t\t}\n\t},\n\tfind: function find(coord) {\n\t\treturn this._nodes.find(coord);\n\t},\n\taddNode: function addNode() {\n\t\tif (arguments[0] instanceof Node$1) {\n\t\t\tvar node = arguments[0];\n\t\t\treturn this._nodes.addNode(node);\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tvar coord = arguments[0];\n\t\t\treturn this._nodes.addNode(coord);\n\t\t}\n\t},\n\tgetNodeIterator: function getNodeIterator() {\n\t\treturn this._nodes.iterator();\n\t},\n\tlinkResultDirectedEdges: function linkResultDirectedEdges() {\n\t\tfor (var nodeit = this._nodes.iterator(); nodeit.hasNext();) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().linkResultDirectedEdges();\n\t\t}\n\t},\n\tdebugPrintln: function debugPrintln(o) {\n\t\tSystem.out.println(o);\n\t},\n\tisBoundaryNode: function isBoundaryNode(geomIndex, coord) {\n\t\tvar node = this._nodes.find(coord);\n\t\tif (node === null) return false;\n\t\tvar label = node.getLabel();\n\t\tif (label !== null && label.getLocation(geomIndex) === Location.BOUNDARY) return true;\n\t\treturn false;\n\t},\n\tlinkAllDirectedEdges: function linkAllDirectedEdges() {\n\t\tfor (var nodeit = this._nodes.iterator(); nodeit.hasNext();) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().linkAllDirectedEdges();\n\t\t}\n\t},\n\tmatchInSameDirection: function matchInSameDirection(p0, p1, ep0, ep1) {\n\t\tif (!p0.equals(ep0)) return false;\n\t\tif (Orientation.index(p0, p1, ep1) === Orientation.COLLINEAR && Quadrant.quadrant(p0, p1) === Quadrant.quadrant(ep0, ep1)) return true;\n\t\treturn false;\n\t},\n\tgetEdgeEnds: function getEdgeEnds() {\n\t\treturn this._edgeEndList;\n\t},\n\tdebugPrint: function debugPrint(o) {\n\t\tSystem.out.print(o);\n\t},\n\tgetEdgeIterator: function getEdgeIterator() {\n\t\treturn this._edges.iterator();\n\t},\n\tfindEdgeInSameDirection: function findEdgeInSameDirection(p0, p1) {\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tvar e = this._edges.get(i);\n\t\t\tvar eCoord = e.getCoordinates();\n\t\t\tif (this.matchInSameDirection(p0, p1, eCoord[0], eCoord[1])) return e;\n\t\t\tif (this.matchInSameDirection(p0, p1, eCoord[eCoord.length - 1], eCoord[eCoord.length - 2])) return e;\n\t\t}\n\t\treturn null;\n\t},\n\tinsertEdge: function insertEdge(e) {\n\t\tthis._edges.add(e);\n\t},\n\tfindEdgeEnd: function findEdgeEnd(e) {\n\t\tfor (var i = this.getEdgeEnds().iterator(); i.hasNext();) {\n\t\t\tvar ee = i.next();\n\t\t\tif (ee.getEdge() === e) return ee;\n\t\t}\n\t\treturn null;\n\t},\n\taddEdges: function addEdges(edgesToAdd) {\n\t\tfor (var it = edgesToAdd.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tthis._edges.add(e);\n\t\t\tvar de1 = new DirectedEdge(e, true);\n\t\t\tvar de2 = new DirectedEdge(e, false);\n\t\t\tde1.setSym(de2);\n\t\t\tde2.setSym(de1);\n\t\t\tthis.add(de1);\n\t\t\tthis.add(de2);\n\t\t}\n\t},\n\tadd: function add(e) {\n\t\tthis._nodes.add(e);\n\t\tthis._edgeEndList.add(e);\n\t},\n\tgetNodes: function getNodes() {\n\t\treturn this._nodes.values();\n\t},\n\tfindEdge: function findEdge(p0, p1) {\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tvar e = this._edges.get(i);\n\t\t\tvar eCoord = e.getCoordinates();\n\t\t\tif (p0.equals(eCoord[0]) && p1.equals(eCoord[1])) return e;\n\t\t}\n\t\treturn null;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PlanarGraph;\n\t}\n});\nPlanarGraph.linkResultDirectedEdges = function (nodes) {\n\tfor (var nodeit = nodes.iterator(); nodeit.hasNext();) {\n\t\tvar node = nodeit.next();\n\t\tnode.getEdges().linkResultDirectedEdges();\n\t}\n};\n\nfunction GeometryGraph() {\n\tPlanarGraph.apply(this);\n\tthis._parentGeom = null;\n\tthis._lineEdgeMap = new HashMap();\n\tthis._boundaryNodeRule = null;\n\tthis._useBoundaryDeterminationRule = true;\n\tthis._argIndex = null;\n\tthis._boundaryNodes = null;\n\tthis._hasTooFewPoints = false;\n\tthis._invalidPoint = null;\n\tthis._areaPtLocator = null;\n\tthis._ptLocator = new PointLocator();\n\tif (arguments.length === 2) {\n\t\tvar argIndex = arguments[0],\n\t\t    parentGeom = arguments[1];\n\t\tGeometryGraph.call(this, argIndex, parentGeom, BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE);\n\t} else if (arguments.length === 3) {\n\t\tvar _argIndex = arguments[0],\n\t\t    _parentGeom = arguments[1],\n\t\t    boundaryNodeRule = arguments[2];\n\t\tthis._argIndex = _argIndex;\n\t\tthis._parentGeom = _parentGeom;\n\t\tthis._boundaryNodeRule = boundaryNodeRule;\n\t\tif (_parentGeom !== null) {\n\t\t\tthis.add(_parentGeom);\n\t\t}\n\t}\n}\ninherits(GeometryGraph, PlanarGraph);\nextend(GeometryGraph.prototype, {\n\tinsertBoundaryPoint: function insertBoundaryPoint(argIndex, coord) {\n\t\tvar n = this._nodes.addNode(coord);\n\t\tvar lbl = n.getLabel();\n\t\tvar boundaryCount = 1;\n\t\tvar loc = Location.NONE;\n\t\tloc = lbl.getLocation(argIndex, Position.ON);\n\t\tif (loc === Location.BOUNDARY) boundaryCount++;\n\t\tvar newLoc = GeometryGraph.determineBoundary(this._boundaryNodeRule, boundaryCount);\n\t\tlbl.setLocation(argIndex, newLoc);\n\t},\n\tcomputeSelfNodes: function computeSelfNodes() {\n\t\tif (arguments.length === 2) {\n\t\t\tvar li = arguments[0],\n\t\t\t    computeRingSelfNodes = arguments[1];\n\t\t\treturn this.computeSelfNodes(li, computeRingSelfNodes, false);\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _li = arguments[0],\n\t\t\t    _computeRingSelfNodes = arguments[1],\n\t\t\t    isDoneIfProperInt = arguments[2];\n\t\t\tvar si = new SegmentIntersector(_li, true, false);\n\t\t\tsi.setIsDoneIfProperInt(isDoneIfProperInt);\n\t\t\tvar esi = this.createEdgeSetIntersector();\n\t\t\tvar isRings = this._parentGeom instanceof LinearRing || this._parentGeom instanceof Polygon || this._parentGeom instanceof MultiPolygon;\n\t\t\tvar computeAllSegments = _computeRingSelfNodes || !isRings;\n\t\t\tesi.computeIntersections(this._edges, si, computeAllSegments);\n\t\t\tthis.addSelfIntersectionNodes(this._argIndex);\n\t\t\treturn si;\n\t\t}\n\t},\n\tcomputeSplitEdges: function computeSplitEdges(edgelist) {\n\t\tfor (var i = this._edges.iterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\te.eiList.addSplitEdges(edgelist);\n\t\t}\n\t},\n\tcomputeEdgeIntersections: function computeEdgeIntersections(g, li, includeProper) {\n\t\tvar si = new SegmentIntersector(li, includeProper, true);\n\t\tsi.setBoundaryNodes(this.getBoundaryNodes(), g.getBoundaryNodes());\n\t\tvar esi = this.createEdgeSetIntersector();\n\t\tesi.computeIntersections(this._edges, g._edges, si);\n\t\treturn si;\n\t},\n\tgetGeometry: function getGeometry() {\n\t\treturn this._parentGeom;\n\t},\n\tgetBoundaryNodeRule: function getBoundaryNodeRule() {\n\t\treturn this._boundaryNodeRule;\n\t},\n\thasTooFewPoints: function hasTooFewPoints() {\n\t\treturn this._hasTooFewPoints;\n\t},\n\taddPoint: function addPoint() {\n\t\tif (arguments[0] instanceof Point) {\n\t\t\tvar p = arguments[0];\n\t\t\tvar coord = p.getCoordinate();\n\t\t\tthis.insertPoint(this._argIndex, coord, Location.INTERIOR);\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tvar pt = arguments[0];\n\t\t\tthis.insertPoint(this._argIndex, pt, Location.INTERIOR);\n\t\t}\n\t},\n\taddPolygon: function addPolygon(p) {\n\t\tthis.addPolygonRing(p.getExteriorRing(), Location.EXTERIOR, Location.INTERIOR);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tthis.addPolygonRing(hole, Location.INTERIOR, Location.EXTERIOR);\n\t\t}\n\t},\n\taddEdge: function addEdge(e) {\n\t\tthis.insertEdge(e);\n\t\tvar coord = e.getCoordinates();\n\t\tthis.insertPoint(this._argIndex, coord[0], Location.BOUNDARY);\n\t\tthis.insertPoint(this._argIndex, coord[coord.length - 1], Location.BOUNDARY);\n\t},\n\taddLineString: function addLineString(line) {\n\t\tvar coord = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\t\tif (coord.length < 2) {\n\t\t\tthis._hasTooFewPoints = true;\n\t\t\tthis._invalidPoint = coord[0];\n\t\t\treturn null;\n\t\t}\n\t\tvar e = new Edge(coord, new Label(this._argIndex, Location.INTERIOR));\n\t\tthis._lineEdgeMap.put(line, e);\n\t\tthis.insertEdge(e);\n\t\tAssert.isTrue(coord.length >= 2, \"found LineString with single point\");\n\t\tthis.insertBoundaryPoint(this._argIndex, coord[0]);\n\t\tthis.insertBoundaryPoint(this._argIndex, coord[coord.length - 1]);\n\t},\n\tgetInvalidPoint: function getInvalidPoint() {\n\t\treturn this._invalidPoint;\n\t},\n\tgetBoundaryPoints: function getBoundaryPoints() {\n\t\tvar coll = this.getBoundaryNodes();\n\t\tvar pts = new Array(coll.size()).fill(null);\n\t\tvar i = 0;\n\t\tfor (var it = coll.iterator(); it.hasNext();) {\n\t\t\tvar node = it.next();\n\t\t\tpts[i++] = node.getCoordinate().copy();\n\t\t}\n\t\treturn pts;\n\t},\n\tgetBoundaryNodes: function getBoundaryNodes() {\n\t\tif (this._boundaryNodes === null) this._boundaryNodes = this._nodes.getBoundaryNodes(this._argIndex);\n\t\treturn this._boundaryNodes;\n\t},\n\taddSelfIntersectionNode: function addSelfIntersectionNode(argIndex, coord, loc) {\n\t\tif (this.isBoundaryNode(argIndex, coord)) return null;\n\t\tif (loc === Location.BOUNDARY && this._useBoundaryDeterminationRule) this.insertBoundaryPoint(argIndex, coord);else this.insertPoint(argIndex, coord, loc);\n\t},\n\taddPolygonRing: function addPolygonRing(lr, cwLeft, cwRight) {\n\t\tif (lr.isEmpty()) return null;\n\t\tvar coord = CoordinateArrays.removeRepeatedPoints(lr.getCoordinates());\n\t\tif (coord.length < 4) {\n\t\t\tthis._hasTooFewPoints = true;\n\t\t\tthis._invalidPoint = coord[0];\n\t\t\treturn null;\n\t\t}\n\t\tvar left = cwLeft;\n\t\tvar right = cwRight;\n\t\tif (Orientation.isCCW(coord)) {\n\t\t\tleft = cwRight;\n\t\t\tright = cwLeft;\n\t\t}\n\t\tvar e = new Edge(coord, new Label(this._argIndex, Location.BOUNDARY, left, right));\n\t\tthis._lineEdgeMap.put(lr, e);\n\t\tthis.insertEdge(e);\n\t\tthis.insertPoint(this._argIndex, coord[0], Location.BOUNDARY);\n\t},\n\tinsertPoint: function insertPoint(argIndex, coord, onLocation) {\n\t\tvar n = this._nodes.addNode(coord);\n\t\tvar lbl = n.getLabel();\n\t\tif (lbl === null) {\n\t\t\tn._label = new Label(argIndex, onLocation);\n\t\t} else lbl.setLocation(argIndex, onLocation);\n\t},\n\tcreateEdgeSetIntersector: function createEdgeSetIntersector() {\n\t\treturn new SimpleMCSweepLineIntersector();\n\t},\n\taddSelfIntersectionNodes: function addSelfIntersectionNodes(argIndex) {\n\t\tfor (var i = this._edges.iterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.eiList.iterator(); eiIt.hasNext();) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tthis.addSelfIntersectionNode(argIndex, ei.coord, eLoc);\n\t\t\t}\n\t\t}\n\t},\n\tadd: function add() {\n\t\tif (arguments.length === 1 && arguments[0] instanceof Geometry) {\n\t\t\tvar g = arguments[0];\n\t\t\tif (g.isEmpty()) return null;\n\t\t\tif (g instanceof MultiPolygon) this._useBoundaryDeterminationRule = false;\n\t\t\tif (g instanceof Polygon) this.addPolygon(g);else if (g instanceof LineString) this.addLineString(g);else if (g instanceof Point) this.addPoint(g);else if (g instanceof MultiPoint) this.addCollection(g);else if (g instanceof MultiLineString) this.addCollection(g);else if (g instanceof MultiPolygon) this.addCollection(g);else if (g instanceof GeometryCollection) this.addCollection(g);else throw new UnsupportedOperationException(g.getClass().getName());\n\t\t} else return PlanarGraph.prototype.add.apply(this, arguments);\n\t},\n\taddCollection: function addCollection(gc) {\n\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\tvar g = gc.getGeometryN(i);\n\t\t\tthis.add(g);\n\t\t}\n\t},\n\tlocate: function locate(pt) {\n\t\tif (hasInterface(this._parentGeom, Polygonal) && this._parentGeom.getNumGeometries() > 50) {\n\t\t\tif (this._areaPtLocator === null) {\n\t\t\t\tthis._areaPtLocator = new IndexedPointInAreaLocator(this._parentGeom);\n\t\t\t}\n\t\t\treturn this._areaPtLocator.locate(pt);\n\t\t}\n\t\treturn this._ptLocator.locate(pt, this._parentGeom);\n\t},\n\tfindEdge: function findEdge() {\n\t\tif (arguments.length === 1 && arguments[0] instanceof LineString) {\n\t\t\tvar line = arguments[0];\n\t\t\treturn this._lineEdgeMap.get(line);\n\t\t} else return PlanarGraph.prototype.findEdge.apply(this, arguments);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryGraph;\n\t}\n});\nGeometryGraph.determineBoundary = function (boundaryNodeRule, boundaryCount) {\n\treturn boundaryNodeRule.isInBoundary(boundaryCount) ? Location.BOUNDARY : Location.INTERIOR;\n};\n\n\n\nvar geomgraph = Object.freeze({\n\tGeometryGraph: GeometryGraph\n});\n\nfunction KdNodeVisitor() {}\nextend(KdNodeVisitor.prototype, {\n\tvisit: function visit(node) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn KdNodeVisitor;\n\t}\n});\n\nfunction KdNode() {\n\tthis._p = null;\n\tthis._data = null;\n\tthis._left = null;\n\tthis._right = null;\n\tthis._count = null;\n\tif (arguments.length === 2) {\n\t\tvar p = arguments[0],\n\t\t    data = arguments[1];\n\t\tthis._p = new Coordinate(p);\n\t\tthis._left = null;\n\t\tthis._right = null;\n\t\tthis._count = 1;\n\t\tthis._data = data;\n\t} else if (arguments.length === 3) {\n\t\tvar _x = arguments[0],\n\t\t    _y = arguments[1],\n\t\t    _data = arguments[2];\n\t\tthis._p = new Coordinate(_x, _y);\n\t\tthis._left = null;\n\t\tthis._right = null;\n\t\tthis._count = 1;\n\t\tthis._data = _data;\n\t}\n}\nextend(KdNode.prototype, {\n\tisRepeated: function isRepeated() {\n\t\treturn this._count > 1;\n\t},\n\tgetRight: function getRight() {\n\t\treturn this._right;\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._p;\n\t},\n\tsetLeft: function setLeft(_left) {\n\t\tthis._left = _left;\n\t},\n\tgetX: function getX() {\n\t\treturn this._p.x;\n\t},\n\tgetData: function getData() {\n\t\treturn this._data;\n\t},\n\tgetCount: function getCount() {\n\t\treturn this._count;\n\t},\n\tgetLeft: function getLeft() {\n\t\treturn this._left;\n\t},\n\tgetY: function getY() {\n\t\treturn this._p.y;\n\t},\n\tincrement: function increment() {\n\t\tthis._count = this._count + 1;\n\t},\n\tsetRight: function setRight(_right) {\n\t\tthis._right = _right;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn KdNode;\n\t}\n});\n\nfunction KdTree() {\n\tthis._root = null;\n\tthis._numberOfNodes = null;\n\tthis._tolerance = null;\n\tif (arguments.length === 0) {\n\t\tKdTree.call(this, 0.0);\n\t} else if (arguments.length === 1) {\n\t\tvar tolerance = arguments[0];\n\t\tthis._tolerance = tolerance;\n\t}\n}\nextend(KdTree.prototype, {\n\tinsert: function insert() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar p = arguments[0];\n\t\t\treturn this.insert(p, null);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _p = arguments[0],\n\t\t\t    data = arguments[1];\n\t\t\tif (this._root === null) {\n\t\t\t\tthis._root = new KdNode(_p, data);\n\t\t\t\treturn this._root;\n\t\t\t}\n\t\t\tif (this._tolerance > 0) {\n\t\t\t\tvar matchNode = this.findBestMatchNode(_p);\n\t\t\t\tif (matchNode !== null) {\n\t\t\t\t\tmatchNode.increment();\n\t\t\t\t\treturn matchNode;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.insertExact(_p, data);\n\t\t}\n\t},\n\tquery: function query() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar queryEnv = arguments[0];\n\t\t\tvar result = new ArrayList();\n\t\t\tthis.query(queryEnv, result);\n\t\t\treturn result;\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof Envelope && hasInterface(arguments[1], List)) {\n\t\t\t\tvar _queryEnv = arguments[0],\n\t\t\t\t    _result = arguments[1];\n\t\t\t\tthis.queryNode(this._root, _queryEnv, true, {\n\t\t\t\t\tinterfaces_: function interfaces_() {\n\t\t\t\t\t\treturn [KdNodeVisitor];\n\t\t\t\t\t},\n\t\t\t\t\tvisit: function visit(node) {\n\t\t\t\t\t\t_result.add(node);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (arguments[0] instanceof Envelope && hasInterface(arguments[1], KdNodeVisitor)) {\n\t\t\t\tvar _queryEnv2 = arguments[0],\n\t\t\t\t    visitor = arguments[1];\n\t\t\t\tthis.queryNode(this._root, _queryEnv2, true, visitor);\n\t\t\t}\n\t\t}\n\t},\n\tqueryNode: function queryNode(currentNode, queryEnv, odd, visitor) {\n\t\tif (currentNode === null) return null;\n\t\tvar min = null;\n\t\tvar max = null;\n\t\tvar discriminant = null;\n\t\tif (odd) {\n\t\t\tmin = queryEnv.getMinX();\n\t\t\tmax = queryEnv.getMaxX();\n\t\t\tdiscriminant = currentNode.getX();\n\t\t} else {\n\t\t\tmin = queryEnv.getMinY();\n\t\t\tmax = queryEnv.getMaxY();\n\t\t\tdiscriminant = currentNode.getY();\n\t\t}\n\t\tvar searchLeft = min < discriminant;\n\t\tvar searchRight = discriminant <= max;\n\t\tif (searchLeft) {\n\t\t\tthis.queryNode(currentNode.getLeft(), queryEnv, !odd, visitor);\n\t\t}\n\t\tif (queryEnv.contains(currentNode.getCoordinate())) {\n\t\t\tvisitor.visit(currentNode);\n\t\t}\n\t\tif (searchRight) {\n\t\t\tthis.queryNode(currentNode.getRight(), queryEnv, !odd, visitor);\n\t\t}\n\t},\n\tfindBestMatchNode: function findBestMatchNode(p) {\n\t\tvar visitor = new BestMatchVisitor(p, this._tolerance);\n\t\tthis.query(visitor.queryEnvelope(), visitor);\n\t\treturn visitor.getNode();\n\t},\n\tisEmpty: function isEmpty() {\n\t\tif (this._root === null) return true;\n\t\treturn false;\n\t},\n\tinsertExact: function insertExact(p, data) {\n\t\tvar currentNode = this._root;\n\t\tvar leafNode = this._root;\n\t\tvar isOddLevel = true;\n\t\tvar isLessThan = true;\n\t\twhile (currentNode !== null) {\n\t\t\tif (currentNode !== null) {\n\t\t\t\tvar isInTolerance = p.distance(currentNode.getCoordinate()) <= this._tolerance;\n\t\t\t\tif (isInTolerance) {\n\t\t\t\t\tcurrentNode.increment();\n\t\t\t\t\treturn currentNode;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isOddLevel) {\n\t\t\t\tisLessThan = p.x < currentNode.getX();\n\t\t\t} else {\n\t\t\t\tisLessThan = p.y < currentNode.getY();\n\t\t\t}\n\t\t\tleafNode = currentNode;\n\t\t\tif (isLessThan) {\n\t\t\t\tcurrentNode = currentNode.getLeft();\n\t\t\t} else {\n\t\t\t\tcurrentNode = currentNode.getRight();\n\t\t\t}\n\t\t\tisOddLevel = !isOddLevel;\n\t\t}\n\t\tthis._numberOfNodes = this._numberOfNodes + 1;\n\t\tvar node = new KdNode(p, data);\n\t\tif (isLessThan) {\n\t\t\tleafNode.setLeft(node);\n\t\t} else {\n\t\t\tleafNode.setRight(node);\n\t\t}\n\t\treturn node;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn KdTree;\n\t}\n});\nKdTree.toCoordinates = function () {\n\tif (arguments.length === 1) {\n\t\tvar kdnodes = arguments[0];\n\t\treturn KdTree.toCoordinates(kdnodes, false);\n\t} else if (arguments.length === 2) {\n\t\tvar _kdnodes = arguments[0],\n\t\t    includeRepeated = arguments[1];\n\t\tvar coord = new CoordinateList();\n\t\tfor (var it = _kdnodes.iterator(); it.hasNext();) {\n\t\t\tvar node = it.next();\n\t\t\tvar count = includeRepeated ? node.getCount() : 1;\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tcoord.add(node.getCoordinate(), true);\n\t\t\t}\n\t\t}\n\t\treturn coord.toCoordinateArray();\n\t}\n};\nfunction BestMatchVisitor() {\n\tthis._tolerance = null;\n\tthis._matchNode = null;\n\tthis._matchDist = 0.0;\n\tthis._p = null;\n\tvar p = arguments[0],\n\t    tolerance = arguments[1];\n\tthis._p = p;\n\tthis._tolerance = tolerance;\n}\nextend(BestMatchVisitor.prototype, {\n\tvisit: function visit(node) {\n\t\tvar dist = this._p.distance(node.getCoordinate());\n\t\tvar isInTolerance = dist <= this._tolerance;\n\t\tif (!isInTolerance) return null;\n\t\tvar update = false;\n\t\tif (this._matchNode === null || dist < this._matchDist || this._matchNode !== null && dist === this._matchDist && node.getCoordinate().compareTo(this._matchNode.getCoordinate()) < 1) update = true;\n\t\tif (update) {\n\t\t\tthis._matchNode = node;\n\t\t\tthis._matchDist = dist;\n\t\t}\n\t},\n\tqueryEnvelope: function queryEnvelope() {\n\t\tvar queryEnv = new Envelope(this._p);\n\t\tqueryEnv.expandBy(this._tolerance);\n\t\treturn queryEnv;\n\t},\n\tgetNode: function getNode() {\n\t\treturn this._matchNode;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [KdNodeVisitor];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BestMatchVisitor;\n\t}\n});\nKdTree.BestMatchVisitor = BestMatchVisitor;\n\n\n\nvar kdtree = Object.freeze({\n\tKdTree: KdTree\n});\n\nfunction NodeBase$1() {\n\tthis._items = new ArrayList();\n\tthis._subnode = new Array(4).fill(null);\n}\nextend(NodeBase$1.prototype, {\n\thasChildren: function hasChildren() {\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tisPrunable: function isPrunable() {\n\t\treturn !(this.hasChildren() || this.hasItems());\n\t},\n\taddAllItems: function addAllItems(resultItems) {\n\t\tresultItems.addAll(this._items);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].addAllItems(resultItems);\n\t\t\t}\n\t\t}\n\t\treturn resultItems;\n\t},\n\tgetNodeCount: function getNodeCount() {\n\t\tvar subSize = 0;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tsubSize += this._subnode[i].size();\n\t\t\t}\n\t\t}\n\t\treturn subSize + 1;\n\t},\n\tsize: function size() {\n\t\tvar subSize = 0;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tsubSize += this._subnode[i].size();\n\t\t\t}\n\t\t}\n\t\treturn subSize + this._items.size();\n\t},\n\taddAllItemsFromOverlapping: function addAllItemsFromOverlapping(searchEnv, resultItems) {\n\t\tif (!this.isSearchMatch(searchEnv)) return null;\n\t\tresultItems.addAll(this._items);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].addAllItemsFromOverlapping(searchEnv, resultItems);\n\t\t\t}\n\t\t}\n\t},\n\tvisitItems: function visitItems(searchEnv, visitor) {\n\t\tfor (var i = this._items.iterator(); i.hasNext();) {\n\t\t\tvisitor.visitItem(i.next());\n\t\t}\n\t},\n\thasItems: function hasItems() {\n\t\treturn !this._items.isEmpty();\n\t},\n\tremove: function remove(itemEnv, item) {\n\t\tif (!this.isSearchMatch(itemEnv)) return false;\n\t\tvar found = false;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tfound = this._subnode[i].remove(itemEnv, item);\n\t\t\t\tif (found) {\n\t\t\t\t\tif (this._subnode[i].isPrunable()) this._subnode[i] = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (found) return found;\n\t\tfound = this._items.remove(item);\n\t\treturn found;\n\t},\n\tvisit: function visit(searchEnv, visitor) {\n\t\tif (!this.isSearchMatch(searchEnv)) return null;\n\t\tthis.visitItems(searchEnv, visitor);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].visit(searchEnv, visitor);\n\t\t\t}\n\t\t}\n\t},\n\tgetItems: function getItems() {\n\t\treturn this._items;\n\t},\n\tdepth: function depth() {\n\t\tvar maxSubDepth = 0;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tvar sqd = this._subnode[i].depth();\n\t\t\t\tif (sqd > maxSubDepth) maxSubDepth = sqd;\n\t\t\t}\n\t\t}\n\t\treturn maxSubDepth + 1;\n\t},\n\tisEmpty: function isEmpty() {\n\t\tvar isEmpty = true;\n\t\tif (!this._items.isEmpty()) isEmpty = false;else {\n\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\t\tif (!this._subnode[i].isEmpty()) {\n\t\t\t\t\t\tisEmpty = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn isEmpty;\n\t},\n\tadd: function add(item) {\n\t\tthis._items.add(item);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NodeBase$1;\n\t}\n});\nNodeBase$1.getSubnodeIndex = function (env, centrex, centrey) {\n\tvar subnodeIndex = -1;\n\tif (env.getMinX() >= centrex) {\n\t\tif (env.getMinY() >= centrey) subnodeIndex = 3;\n\t\tif (env.getMaxY() <= centrey) subnodeIndex = 1;\n\t}\n\tif (env.getMaxX() <= centrex) {\n\t\tif (env.getMinY() >= centrey) subnodeIndex = 2;\n\t\tif (env.getMaxY() <= centrey) subnodeIndex = 0;\n\t}\n\treturn subnodeIndex;\n};\n\nfunction Key$1() {\n\tthis._pt = new Coordinate();\n\tthis._level = 0;\n\tthis._env = null;\n\tvar itemEnv = arguments[0];\n\tthis.computeKey(itemEnv);\n}\nextend(Key$1.prototype, {\n\tgetLevel: function getLevel() {\n\t\treturn this._level;\n\t},\n\tcomputeKey: function computeKey() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar itemEnv = arguments[0];\n\t\t\tthis._level = Key$1.computeQuadLevel(itemEnv);\n\t\t\tthis._env = new Envelope();\n\t\t\tthis.computeKey(this._level, itemEnv);\n\t\t\twhile (!this._env.contains(itemEnv)) {\n\t\t\t\tthis._level += 1;\n\t\t\t\tthis.computeKey(this._level, itemEnv);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar level = arguments[0],\n\t\t\t    _itemEnv = arguments[1];\n\t\t\tvar quadSize = DoubleBits.powerOf2(level);\n\t\t\tthis._pt.x = Math.floor(_itemEnv.getMinX() / quadSize) * quadSize;\n\t\t\tthis._pt.y = Math.floor(_itemEnv.getMinY() / quadSize) * quadSize;\n\t\t\tthis._env.init(this._pt.x, this._pt.x + quadSize, this._pt.y, this._pt.y + quadSize);\n\t\t}\n\t},\n\tgetEnvelope: function getEnvelope() {\n\t\treturn this._env;\n\t},\n\tgetCentre: function getCentre() {\n\t\treturn new Coordinate((this._env.getMinX() + this._env.getMaxX()) / 2, (this._env.getMinY() + this._env.getMaxY()) / 2);\n\t},\n\tgetPoint: function getPoint() {\n\t\treturn this._pt;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Key$1;\n\t}\n});\nKey$1.computeQuadLevel = function (env) {\n\tvar dx = env.getWidth();\n\tvar dy = env.getHeight();\n\tvar dMax = dx > dy ? dx : dy;\n\tvar level = DoubleBits.exponent(dMax) + 1;\n\treturn level;\n};\n\nfunction Node$2() {\n\tNodeBase$1.apply(this);\n\tthis._env = null;\n\tthis._centrex = null;\n\tthis._centrey = null;\n\tthis._level = null;\n\tvar env = arguments[0],\n\t    level = arguments[1];\n\tthis._env = env;\n\tthis._level = level;\n\tthis._centrex = (env.getMinX() + env.getMaxX()) / 2;\n\tthis._centrey = (env.getMinY() + env.getMaxY()) / 2;\n}\ninherits(Node$2, NodeBase$1);\nextend(Node$2.prototype, {\n\tfind: function find(searchEnv) {\n\t\tvar subnodeIndex = NodeBase$1.getSubnodeIndex(searchEnv, this._centrex, this._centrey);\n\t\tif (subnodeIndex === -1) return this;\n\t\tif (this._subnode[subnodeIndex] !== null) {\n\t\t\tvar node = this._subnode[subnodeIndex];\n\t\t\treturn node.find(searchEnv);\n\t\t}\n\t\treturn this;\n\t},\n\tisSearchMatch: function isSearchMatch(searchEnv) {\n\t\tif (searchEnv === null) return false;\n\t\treturn this._env.intersects(searchEnv);\n\t},\n\tgetSubnode: function getSubnode(index) {\n\t\tif (this._subnode[index] === null) {\n\t\t\tthis._subnode[index] = this.createSubnode(index);\n\t\t}\n\t\treturn this._subnode[index];\n\t},\n\tgetEnvelope: function getEnvelope() {\n\t\treturn this._env;\n\t},\n\tgetNode: function getNode(searchEnv) {\n\t\tvar subnodeIndex = NodeBase$1.getSubnodeIndex(searchEnv, this._centrex, this._centrey);\n\t\tif (subnodeIndex !== -1) {\n\t\t\tvar node = this.getSubnode(subnodeIndex);\n\t\t\treturn node.getNode(searchEnv);\n\t\t} else {\n\t\t\treturn this;\n\t\t}\n\t},\n\tcreateSubnode: function createSubnode(index) {\n\t\tvar minx = 0.0;\n\t\tvar maxx = 0.0;\n\t\tvar miny = 0.0;\n\t\tvar maxy = 0.0;\n\t\tswitch (index) {\n\t\t\tcase 0:\n\t\t\t\tminx = this._env.getMinX();\n\t\t\t\tmaxx = this._centrex;\n\t\t\t\tminy = this._env.getMinY();\n\t\t\t\tmaxy = this._centrey;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tminx = this._centrex;\n\t\t\t\tmaxx = this._env.getMaxX();\n\t\t\t\tminy = this._env.getMinY();\n\t\t\t\tmaxy = this._centrey;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tminx = this._env.getMinX();\n\t\t\t\tmaxx = this._centrex;\n\t\t\t\tminy = this._centrey;\n\t\t\t\tmaxy = this._env.getMaxY();\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tminx = this._centrex;\n\t\t\t\tmaxx = this._env.getMaxX();\n\t\t\t\tminy = this._centrey;\n\t\t\t\tmaxy = this._env.getMaxY();\n\t\t\t\tbreak;\n\t\t}\n\t\tvar sqEnv = new Envelope(minx, maxx, miny, maxy);\n\t\tvar node = new Node$2(sqEnv, this._level - 1);\n\t\treturn node;\n\t},\n\tinsertNode: function insertNode(node) {\n\t\tAssert.isTrue(this._env === null || this._env.contains(node._env));\n\t\tvar index = NodeBase$1.getSubnodeIndex(node._env, this._centrex, this._centrey);\n\t\tif (node._level === this._level - 1) {\n\t\t\tthis._subnode[index] = node;\n\t\t} else {\n\t\t\tvar childNode = this.createSubnode(index);\n\t\t\tchildNode.insertNode(node);\n\t\t\tthis._subnode[index] = childNode;\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Node$2;\n\t}\n});\nNode$2.createNode = function (env) {\n\tvar key = new Key$1(env);\n\tvar node = new Node$2(key.getEnvelope(), key.getLevel());\n\treturn node;\n};\nNode$2.createExpanded = function (node, addEnv) {\n\tvar expandEnv = new Envelope(addEnv);\n\tif (node !== null) expandEnv.expandToInclude(node._env);\n\tvar largerNode = Node$2.createNode(expandEnv);\n\tif (node !== null) largerNode.insertNode(node);\n\treturn largerNode;\n};\n\nfunction Root$1() {\n\tNodeBase$1.apply(this);\n}\ninherits(Root$1, NodeBase$1);\nextend(Root$1.prototype, {\n\tinsert: function insert(itemEnv, item) {\n\t\tvar index = NodeBase$1.getSubnodeIndex(itemEnv, Root$1.origin.x, Root$1.origin.y);\n\t\tif (index === -1) {\n\t\t\tthis.add(item);\n\t\t\treturn null;\n\t\t}\n\t\tvar node = this._subnode[index];\n\t\tif (node === null || !node.getEnvelope().contains(itemEnv)) {\n\t\t\tvar largerNode = Node$2.createExpanded(node, itemEnv);\n\t\t\tthis._subnode[index] = largerNode;\n\t\t}\n\t\tthis.insertContained(this._subnode[index], itemEnv, item);\n\t},\n\tisSearchMatch: function isSearchMatch(searchEnv) {\n\t\treturn true;\n\t},\n\tinsertContained: function insertContained(tree, itemEnv, item) {\n\t\tAssert.isTrue(tree.getEnvelope().contains(itemEnv));\n\t\tvar isZeroX = IntervalSize.isZeroWidth(itemEnv.getMinX(), itemEnv.getMaxX());\n\t\tvar isZeroY = IntervalSize.isZeroWidth(itemEnv.getMinY(), itemEnv.getMaxY());\n\t\tvar node = null;\n\t\tif (isZeroX || isZeroY) node = tree.find(itemEnv);else node = tree.getNode(itemEnv);\n\t\tnode.add(item);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Root$1;\n\t}\n});\nRoot$1.origin = new Coordinate(0.0, 0.0);\n\nfunction SpatialIndex() {}\nextend(SpatialIndex.prototype, {\n\tinsert: function insert(itemEnv, item) {},\n\tremove: function remove(itemEnv, item) {},\n\tquery: function query() {\n\t\t\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SpatialIndex;\n\t}\n});\n\nfunction Quadtree() {\n\tthis._root = null;\n\tthis._minExtent = 1.0;\n\tthis._root = new Root$1();\n}\nextend(Quadtree.prototype, {\n\tsize: function size() {\n\t\tif (this._root !== null) return this._root.size();\n\t\treturn 0;\n\t},\n\tinsert: function insert(itemEnv, item) {\n\t\tthis.collectStats(itemEnv);\n\t\tvar insertEnv = Quadtree.ensureExtent(itemEnv, this._minExtent);\n\t\tthis._root.insert(insertEnv, item);\n\t},\n\tquery: function query() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar searchEnv = arguments[0];\n\t\t\tvar visitor = new ArrayListVisitor();\n\t\t\tthis.query(searchEnv, visitor);\n\t\t\treturn visitor.getItems();\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _searchEnv = arguments[0],\n\t\t\t    _visitor = arguments[1];\n\t\t\tthis._root.visit(_searchEnv, _visitor);\n\t\t}\n\t},\n\tqueryAll: function queryAll() {\n\t\tvar foundItems = new ArrayList();\n\t\tthis._root.addAllItems(foundItems);\n\t\treturn foundItems;\n\t},\n\tremove: function remove(itemEnv, item) {\n\t\tvar posEnv = Quadtree.ensureExtent(itemEnv, this._minExtent);\n\t\treturn this._root.remove(posEnv, item);\n\t},\n\tcollectStats: function collectStats(itemEnv) {\n\t\tvar delX = itemEnv.getWidth();\n\t\tif (delX < this._minExtent && delX > 0.0) this._minExtent = delX;\n\t\tvar delY = itemEnv.getHeight();\n\t\tif (delY < this._minExtent && delY > 0.0) this._minExtent = delY;\n\t},\n\tdepth: function depth() {\n\t\tif (this._root !== null) return this._root.depth();\n\t\treturn 0;\n\t},\n\tisEmpty: function isEmpty() {\n\t\tif (this._root === null) return true;\n\t\treturn this._root.isEmpty();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [SpatialIndex, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Quadtree;\n\t}\n});\nQuadtree.ensureExtent = function (itemEnv, minExtent) {\n\tvar minx = itemEnv.getMinX();\n\tvar maxx = itemEnv.getMaxX();\n\tvar miny = itemEnv.getMinY();\n\tvar maxy = itemEnv.getMaxY();\n\tif (minx !== maxx && miny !== maxy) return itemEnv;\n\tif (minx === maxx) {\n\t\tminx = minx - minExtent / 2.0;\n\t\tmaxx = minx + minExtent / 2.0;\n\t}\n\tif (miny === maxy) {\n\t\tminy = miny - minExtent / 2.0;\n\t\tmaxy = miny + minExtent / 2.0;\n\t}\n\treturn new Envelope(minx, maxx, miny, maxy);\n};\nQuadtree.serialVersionUID = -7461163625812743604;\n\n\n\nvar quadtree = Object.freeze({\n\tQuadtree: Quadtree\n});\n\nfunction Boundable() {}\nextend(Boundable.prototype, {\n\tgetBounds: function getBounds() {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Boundable;\n\t}\n});\n\nfunction ItemBoundable() {\n\tthis._bounds = null;\n\tthis._item = null;\n\tvar bounds = arguments[0],\n\t    item = arguments[1];\n\tthis._bounds = bounds;\n\tthis._item = item;\n}\nextend(ItemBoundable.prototype, {\n\tgetItem: function getItem() {\n\t\treturn this._item;\n\t},\n\tgetBounds: function getBounds() {\n\t\treturn this._bounds;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Boundable, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ItemBoundable;\n\t}\n});\n\nfunction PriorityQueue() {\n\tthis._size = null;\n\tthis._items = null;\n\tthis._size = 0;\n\tthis._items = new ArrayList();\n\tthis._items.add(null);\n}\nextend(PriorityQueue.prototype, {\n\tpoll: function poll() {\n\t\tif (this.isEmpty()) return null;\n\t\tvar minItem = this._items.get(1);\n\t\tthis._items.set(1, this._items.get(this._size));\n\t\tthis._size -= 1;\n\t\tthis.reorder(1);\n\t\treturn minItem;\n\t},\n\tsize: function size() {\n\t\treturn this._size;\n\t},\n\treorder: function reorder(hole) {\n\t\tvar child = null;\n\t\tvar tmp = this._items.get(hole);\n\t\tfor (; hole * 2 <= this._size; hole = child) {\n\t\t\tchild = hole * 2;\n\t\t\tif (child !== this._size && this._items.get(child + 1).compareTo(this._items.get(child)) < 0) child++;\n\t\t\tif (this._items.get(child).compareTo(tmp) < 0) this._items.set(hole, this._items.get(child));else break;\n\t\t}\n\t\tthis._items.set(hole, tmp);\n\t},\n\tclear: function clear() {\n\t\tthis._size = 0;\n\t\tthis._items.clear();\n\t},\n\tisEmpty: function isEmpty() {\n\t\treturn this._size === 0;\n\t},\n\tadd: function add(x) {\n\t\tthis._items.add(null);\n\t\tthis._size += 1;\n\t\tvar hole = this._size;\n\t\tthis._items.set(0, x);\n\t\tfor (; x.compareTo(this._items.get(Math.trunc(hole / 2))) < 0; hole /= 2) {\n\t\t\tthis._items.set(hole, this._items.get(Math.trunc(hole / 2)));\n\t\t}\n\t\tthis._items.set(hole, x);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PriorityQueue;\n\t}\n});\n\nfunction BoundablePairDistanceComparator() {\n\tthis.normalOrder = null;\n\tvar normalOrder = arguments[0];\n\tthis.normalOrder = normalOrder;\n}\nextend(BoundablePairDistanceComparator.prototype, {\n\tcompare: function compare(p1, p2) {\n\t\tvar distance1 = p1.getDistance();\n\t\tvar distance2 = p2.getDistance();\n\t\tif (this.normalOrder) {\n\t\t\tif (distance1 > distance2) {\n\t\t\t\treturn 1;\n\t\t\t} else if (distance1 === distance2) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif (distance1 > distance2) {\n\t\t\t\treturn -1;\n\t\t\t} else if (distance1 === distance2) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn 1;\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparator, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BoundablePairDistanceComparator;\n\t}\n});\n\nfunction AbstractNode() {\n\tthis._childBoundables = new ArrayList();\n\tthis._bounds = null;\n\tthis._level = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tvar level = arguments[0];\n\t\tthis._level = level;\n\t}\n}\nextend(AbstractNode.prototype, {\n\tgetLevel: function getLevel() {\n\t\treturn this._level;\n\t},\n\tsize: function size() {\n\t\treturn this._childBoundables.size();\n\t},\n\tgetChildBoundables: function getChildBoundables() {\n\t\treturn this._childBoundables;\n\t},\n\taddChildBoundable: function addChildBoundable(childBoundable) {\n\t\tAssert.isTrue(this._bounds === null);\n\t\tthis._childBoundables.add(childBoundable);\n\t},\n\tisEmpty: function isEmpty() {\n\t\treturn this._childBoundables.isEmpty();\n\t},\n\tgetBounds: function getBounds() {\n\t\tif (this._bounds === null) {\n\t\t\tthis._bounds = this.computeBounds();\n\t\t}\n\t\treturn this._bounds;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Boundable, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn AbstractNode;\n\t}\n});\nAbstractNode.serialVersionUID = 6493722185909573708;\n\nfunction BoundablePair() {\n\tthis._boundable1 = null;\n\tthis._boundable2 = null;\n\tthis._distance = null;\n\tthis._itemDistance = null;\n\tvar boundable1 = arguments[0],\n\t    boundable2 = arguments[1],\n\t    itemDistance = arguments[2];\n\tthis._boundable1 = boundable1;\n\tthis._boundable2 = boundable2;\n\tthis._itemDistance = itemDistance;\n\tthis._distance = this.distance();\n}\nextend(BoundablePair.prototype, {\n\texpandToQueue: function expandToQueue(priQ, minDistance) {\n\t\tvar isComp1 = BoundablePair.isComposite(this._boundable1);\n\t\tvar isComp2 = BoundablePair.isComposite(this._boundable2);\n\t\tif (isComp1 && isComp2) {\n\t\t\tif (BoundablePair.area(this._boundable1) > BoundablePair.area(this._boundable2)) {\n\t\t\t\tthis.expand(this._boundable1, this._boundable2, priQ, minDistance);\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\tthis.expand(this._boundable2, this._boundable1, priQ, minDistance);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else if (isComp1) {\n\t\t\tthis.expand(this._boundable1, this._boundable2, priQ, minDistance);\n\t\t\treturn null;\n\t\t} else if (isComp2) {\n\t\t\tthis.expand(this._boundable2, this._boundable1, priQ, minDistance);\n\t\t\treturn null;\n\t\t}\n\t\tthrow new IllegalArgumentException(\"neither boundable is composite\");\n\t},\n\tisLeaves: function isLeaves() {\n\t\treturn !(BoundablePair.isComposite(this._boundable1) || BoundablePair.isComposite(this._boundable2));\n\t},\n\tcompareTo: function compareTo(o) {\n\t\tvar nd = o;\n\t\tif (this._distance < nd._distance) return -1;\n\t\tif (this._distance > nd._distance) return 1;\n\t\treturn 0;\n\t},\n\texpand: function expand(bndComposite, bndOther, priQ, minDistance) {\n\t\tvar children = bndComposite.getChildBoundables();\n\t\tfor (var i = children.iterator(); i.hasNext();) {\n\t\t\tvar child = i.next();\n\t\t\tvar bp = new BoundablePair(child, bndOther, this._itemDistance);\n\t\t\tif (bp.getDistance() < minDistance) {\n\t\t\t\tpriQ.add(bp);\n\t\t\t}\n\t\t}\n\t},\n\tgetBoundable: function getBoundable(i) {\n\t\tif (i === 0) return this._boundable1;\n\t\treturn this._boundable2;\n\t},\n\tgetDistance: function getDistance() {\n\t\treturn this._distance;\n\t},\n\tdistance: function distance() {\n\t\tif (this.isLeaves()) {\n\t\t\treturn this._itemDistance.distance(this._boundable1, this._boundable2);\n\t\t}\n\t\treturn this._boundable1.getBounds().distance(this._boundable2.getBounds());\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BoundablePair;\n\t}\n});\nBoundablePair.area = function (b) {\n\treturn b.getBounds().getArea();\n};\nBoundablePair.isComposite = function (item) {\n\treturn item instanceof AbstractNode;\n};\n\nfunction AbstractSTRtree() {\n\tthis._root = null;\n\tthis._built = false;\n\tthis._itemBoundables = new ArrayList();\n\tthis._nodeCapacity = null;\n\tif (arguments.length === 0) {\n\t\tAbstractSTRtree.call(this, AbstractSTRtree.DEFAULT_NODE_CAPACITY);\n\t} else if (arguments.length === 1) {\n\t\tvar nodeCapacity = arguments[0];\n\t\tAssert.isTrue(nodeCapacity > 1, \"Node capacity must be greater than 1\");\n\t\tthis._nodeCapacity = nodeCapacity;\n\t}\n}\nextend(AbstractSTRtree.prototype, {\n\tqueryInternal: function queryInternal() {\n\t\tif (hasInterface(arguments[2], ItemVisitor) && arguments[0] instanceof Object && arguments[1] instanceof AbstractNode) {\n\t\t\tvar searchBounds = arguments[0],\n\t\t\t    node = arguments[1],\n\t\t\t    visitor = arguments[2];\n\t\t\tvar childBoundables = node.getChildBoundables();\n\t\t\tfor (var i = 0; i < childBoundables.size(); i++) {\n\t\t\t\tvar childBoundable = childBoundables.get(i);\n\t\t\t\tif (!this.getIntersectsOp().intersects(childBoundable.getBounds(), searchBounds)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tthis.queryInternal(searchBounds, childBoundable, visitor);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tvisitor.visitItem(childBoundable.getItem());\n\t\t\t\t} else {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (hasInterface(arguments[2], List) && arguments[0] instanceof Object && arguments[1] instanceof AbstractNode) {\n\t\t\tvar _searchBounds = arguments[0],\n\t\t\t    _node = arguments[1],\n\t\t\t    matches = arguments[2];\n\t\t\tvar childBoundables = _node.getChildBoundables();\n\t\t\tfor (var i = 0; i < childBoundables.size(); i++) {\n\t\t\t\tvar childBoundable = childBoundables.get(i);\n\t\t\t\tif (!this.getIntersectsOp().intersects(childBoundable.getBounds(), _searchBounds)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tthis.queryInternal(_searchBounds, childBoundable, matches);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tmatches.add(childBoundable.getItem());\n\t\t\t\t} else {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetNodeCapacity: function getNodeCapacity() {\n\t\treturn this._nodeCapacity;\n\t},\n\tlastNode: function lastNode(nodes) {\n\t\treturn nodes.get(nodes.size() - 1);\n\t},\n\tsize: function size() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tthis.build();\n\t\t\treturn this.size(this._root);\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar node = arguments[0];\n\t\t\tvar size = 0;\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tsize += this.size(childBoundable);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tsize += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn size;\n\t\t}\n\t},\n\tremoveItem: function removeItem(node, item) {\n\t\tvar childToRemove = null;\n\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n\t\t\tvar childBoundable = i.next();\n\t\t\tif (childBoundable instanceof ItemBoundable) {\n\t\t\t\tif (childBoundable.getItem() === item) childToRemove = childBoundable;\n\t\t\t}\n\t\t}\n\t\tif (childToRemove !== null) {\n\t\t\tnode.getChildBoundables().remove(childToRemove);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\titemsTree: function itemsTree() {\n\t\tif (arguments.length === 0) {\n\t\t\tthis.build();\n\t\t\tvar valuesTree = this.itemsTree(this._root);\n\t\t\tif (valuesTree === null) return new ArrayList();\n\t\t\treturn valuesTree;\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar node = arguments[0];\n\t\t\tvar valuesTreeForNode = new ArrayList();\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tvar valuesTreeForChild = this.itemsTree(childBoundable);\n\t\t\t\t\tif (valuesTreeForChild !== null) valuesTreeForNode.add(valuesTreeForChild);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tvaluesTreeForNode.add(childBoundable.getItem());\n\t\t\t\t} else {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (valuesTreeForNode.size() <= 0) return null;\n\t\t\treturn valuesTreeForNode;\n\t\t}\n\t},\n\tinsert: function insert(bounds, item) {\n\t\tAssert.isTrue(!this._built, \"Cannot insert items into an STR packed R-tree after it has been built.\");\n\t\tthis._itemBoundables.add(new ItemBoundable(bounds, item));\n\t},\n\tboundablesAtLevel: function boundablesAtLevel() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar level = arguments[0];\n\t\t\tvar boundables = new ArrayList();\n\t\t\tthis.boundablesAtLevel(level, this._root, boundables);\n\t\t\treturn boundables;\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _level = arguments[0],\n\t\t\t    top = arguments[1],\n\t\t\t    _boundables = arguments[2];\n\t\t\tAssert.isTrue(_level > -2);\n\t\t\tif (top.getLevel() === _level) {\n\t\t\t\t_boundables.add(top);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tfor (var i = top.getChildBoundables().iterator(); i.hasNext();) {\n\t\t\t\tvar boundable = i.next();\n\t\t\t\tif (boundable instanceof AbstractNode) {\n\t\t\t\t\tthis.boundablesAtLevel(_level, boundable, _boundables);\n\t\t\t\t} else {\n\t\t\t\t\tAssert.isTrue(boundable instanceof ItemBoundable);\n\t\t\t\t\tif (_level === -1) {\n\t\t\t\t\t\t_boundables.add(boundable);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t},\n\tquery: function query() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar searchBounds = arguments[0];\n\t\t\tthis.build();\n\t\t\tvar matches = new ArrayList();\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn matches;\n\t\t\t}\n\t\t\tif (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n\t\t\t\tthis.queryInternal(searchBounds, this._root, matches);\n\t\t\t}\n\t\t\treturn matches;\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _searchBounds2 = arguments[0],\n\t\t\t    visitor = arguments[1];\n\t\t\tthis.build();\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.getIntersectsOp().intersects(this._root.getBounds(), _searchBounds2)) {\n\t\t\t\tthis.queryInternal(_searchBounds2, this._root, visitor);\n\t\t\t}\n\t\t}\n\t},\n\tbuild: function build() {\n\t\tif (this._built) return null;\n\t\tthis._root = this._itemBoundables.isEmpty() ? this.createNode(0) : this.createHigherLevels(this._itemBoundables, -1);\n\t\tthis._itemBoundables = null;\n\t\tthis._built = true;\n\t},\n\tgetRoot: function getRoot() {\n\t\tthis.build();\n\t\treturn this._root;\n\t},\n\tremove: function remove() {\n\t\tif (arguments.length === 2) {\n\t\t\tvar searchBounds = arguments[0],\n\t\t\t    item = arguments[1];\n\t\t\tthis.build();\n\t\t\tif (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n\t\t\t\treturn this.remove(searchBounds, this._root, item);\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _searchBounds3 = arguments[0],\n\t\t\t    node = arguments[1],\n\t\t\t    _item = arguments[2];\n\t\t\tvar found = this.removeItem(node, _item);\n\t\t\tif (found) return true;\n\t\t\tvar childToPrune = null;\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (!this.getIntersectsOp().intersects(childBoundable.getBounds(), _searchBounds3)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tfound = this.remove(_searchBounds3, childBoundable, _item);\n\t\t\t\t\tif (found) {\n\t\t\t\t\t\tchildToPrune = childBoundable;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (childToPrune !== null) {\n\t\t\t\tif (childToPrune.getChildBoundables().isEmpty()) {\n\t\t\t\t\tnode.getChildBoundables().remove(childToPrune);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn found;\n\t\t}\n\t},\n\tcreateHigherLevels: function createHigherLevels(boundablesOfALevel, level) {\n\t\tAssert.isTrue(!boundablesOfALevel.isEmpty());\n\t\tvar parentBoundables = this.createParentBoundables(boundablesOfALevel, level + 1);\n\t\tif (parentBoundables.size() === 1) {\n\t\t\treturn parentBoundables.get(0);\n\t\t}\n\t\treturn this.createHigherLevels(parentBoundables, level + 1);\n\t},\n\tdepth: function depth() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tthis.build();\n\t\t\treturn this.depth(this._root);\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar node = arguments[0];\n\t\t\tvar maxChildDepth = 0;\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tvar childDepth = this.depth(childBoundable);\n\t\t\t\t\tif (childDepth > maxChildDepth) maxChildDepth = childDepth;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn maxChildDepth + 1;\n\t\t}\n\t},\n\tcreateParentBoundables: function createParentBoundables(childBoundables, newLevel) {\n\t\tAssert.isTrue(!childBoundables.isEmpty());\n\t\tvar parentBoundables = new ArrayList();\n\t\tparentBoundables.add(this.createNode(newLevel));\n\t\tvar sortedChildBoundables = new ArrayList(childBoundables);\n\t\tCollections.sort(sortedChildBoundables, this.getComparator());\n\t\tfor (var i = sortedChildBoundables.iterator(); i.hasNext();) {\n\t\t\tvar childBoundable = i.next();\n\t\t\tif (this.lastNode(parentBoundables).getChildBoundables().size() === this.getNodeCapacity()) {\n\t\t\t\tparentBoundables.add(this.createNode(newLevel));\n\t\t\t}\n\t\t\tthis.lastNode(parentBoundables).addChildBoundable(childBoundable);\n\t\t}\n\t\treturn parentBoundables;\n\t},\n\tisEmpty: function isEmpty() {\n\t\tif (!this._built) return this._itemBoundables.isEmpty();\n\t\treturn this._root.isEmpty();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn AbstractSTRtree;\n\t}\n});\nAbstractSTRtree.compareDoubles = function (a, b) {\n\treturn a > b ? 1 : a < b ? -1 : 0;\n};\nfunction IntersectsOp$1() {}\nAbstractSTRtree.IntersectsOp = IntersectsOp$1;\nAbstractSTRtree.serialVersionUID = -3886435814360241337;\nAbstractSTRtree.DEFAULT_NODE_CAPACITY = 10;\n\nfunction ItemDistance() {}\nextend(ItemDistance.prototype, {\n\tdistance: function distance(item1, item2) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ItemDistance;\n\t}\n});\n\nfunction STRtree() {\n\tif (arguments.length === 0) {\n\t\tSTRtree.call(this, STRtree.DEFAULT_NODE_CAPACITY);\n\t} else if (arguments.length === 1) {\n\t\tvar nodeCapacity = arguments[0];\n\t\tAbstractSTRtree.call(this, nodeCapacity);\n\t}\n}\ninherits(STRtree, AbstractSTRtree);\nextend(STRtree.prototype, {\n\tcreateParentBoundablesFromVerticalSlices: function createParentBoundablesFromVerticalSlices(verticalSlices, newLevel) {\n\t\tAssert.isTrue(verticalSlices.length > 0);\n\t\tvar parentBoundables = new ArrayList();\n\t\tfor (var i = 0; i < verticalSlices.length; i++) {\n\t\t\tparentBoundables.addAll(this.createParentBoundablesFromVerticalSlice(verticalSlices[i], newLevel));\n\t\t}\n\t\treturn parentBoundables;\n\t},\n\tcreateNode: function createNode(level) {\n\t\treturn new STRtreeNode(level);\n\t},\n\tsize: function size() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn AbstractSTRtree.prototype.size.call(this);\n\t\t} else return AbstractSTRtree.prototype.size.apply(this, arguments);\n\t},\n\tinsert: function insert() {\n\t\tif (arguments.length === 2 && arguments[1] instanceof Object && arguments[0] instanceof Envelope) {\n\t\t\tvar itemEnv = arguments[0],\n\t\t\t    item = arguments[1];\n\t\t\tif (itemEnv.isNull()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tAbstractSTRtree.prototype.insert.call(this, itemEnv, item);\n\t\t} else return AbstractSTRtree.prototype.insert.apply(this, arguments);\n\t},\n\tgetIntersectsOp: function getIntersectsOp() {\n\t\treturn STRtree.intersectsOp;\n\t},\n\tverticalSlices: function verticalSlices(childBoundables, sliceCount) {\n\t\tvar sliceCapacity = Math.trunc(Math.ceil(childBoundables.size() / sliceCount));\n\t\tvar slices = new Array(sliceCount).fill(null);\n\t\tvar i = childBoundables.iterator();\n\t\tfor (var j = 0; j < sliceCount; j++) {\n\t\t\tslices[j] = new ArrayList();\n\t\t\tvar boundablesAddedToSlice = 0;\n\t\t\twhile (i.hasNext() && boundablesAddedToSlice < sliceCapacity) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tslices[j].add(childBoundable);\n\t\t\t\tboundablesAddedToSlice++;\n\t\t\t}\n\t\t}\n\t\treturn slices;\n\t},\n\tquery: function query() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar searchEnv = arguments[0];\n\t\t\treturn AbstractSTRtree.prototype.query.call(this, searchEnv);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _searchEnv = arguments[0],\n\t\t\t    visitor = arguments[1];\n\t\t\tAbstractSTRtree.prototype.query.call(this, _searchEnv, visitor);\n\t\t}\n\t},\n\tgetComparator: function getComparator() {\n\t\treturn STRtree.yComparator;\n\t},\n\tcreateParentBoundablesFromVerticalSlice: function createParentBoundablesFromVerticalSlice(childBoundables, newLevel) {\n\t\treturn AbstractSTRtree.prototype.createParentBoundables.call(this, childBoundables, newLevel);\n\t},\n\tremove: function remove() {\n\t\tif (arguments.length === 2 && arguments[1] instanceof Object && arguments[0] instanceof Envelope) {\n\t\t\tvar itemEnv = arguments[0],\n\t\t\t    item = arguments[1];\n\t\t\treturn AbstractSTRtree.prototype.remove.call(this, itemEnv, item);\n\t\t} else return AbstractSTRtree.prototype.remove.apply(this, arguments);\n\t},\n\tdepth: function depth() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn AbstractSTRtree.prototype.depth.call(this);\n\t\t} else return AbstractSTRtree.prototype.depth.apply(this, arguments);\n\t},\n\tcreateParentBoundables: function createParentBoundables(childBoundables, newLevel) {\n\t\tAssert.isTrue(!childBoundables.isEmpty());\n\t\tvar minLeafCount = Math.trunc(Math.ceil(childBoundables.size() / this.getNodeCapacity()));\n\t\tvar sortedChildBoundables = new ArrayList(childBoundables);\n\t\tCollections.sort(sortedChildBoundables, STRtree.xComparator);\n\t\tvar verticalSlices = this.verticalSlices(sortedChildBoundables, Math.trunc(Math.ceil(Math.sqrt(minLeafCount))));\n\t\treturn this.createParentBoundablesFromVerticalSlices(verticalSlices, newLevel);\n\t},\n\tnearestNeighbour: function nearestNeighbour() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (hasInterface(arguments[0], ItemDistance)) {\n\t\t\t\tvar itemDist = arguments[0];\n\t\t\t\tvar bp = new BoundablePair(this.getRoot(), this.getRoot(), itemDist);\n\t\t\t\treturn this.nearestNeighbour(bp);\n\t\t\t} else if (arguments[0] instanceof BoundablePair) {\n\t\t\t\tvar initBndPair = arguments[0];\n\t\t\t\treturn this.nearestNeighbour(initBndPair, Double.POSITIVE_INFINITY);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof STRtree && hasInterface(arguments[1], ItemDistance)) {\n\t\t\t\tvar tree = arguments[0],\n\t\t\t\t    _itemDist = arguments[1];\n\t\t\t\tvar bp = new BoundablePair(this.getRoot(), tree.getRoot(), _itemDist);\n\t\t\t\treturn this.nearestNeighbour(bp);\n\t\t\t} else if (arguments[0] instanceof BoundablePair && typeof arguments[1] === \"number\") {\n\t\t\t\tvar _initBndPair = arguments[0],\n\t\t\t\t    maxDistance = arguments[1];\n\t\t\t\tvar distanceLowerBound = maxDistance;\n\t\t\t\tvar minPair = null;\n\t\t\t\tvar priQ = new PriorityQueue();\n\t\t\t\tpriQ.add(_initBndPair);\n\t\t\t\twhile (!priQ.isEmpty() && distanceLowerBound > 0.0) {\n\t\t\t\t\tvar bndPair = priQ.poll();\n\t\t\t\t\tvar currentDistance = bndPair.getDistance();\n\t\t\t\t\tif (currentDistance >= distanceLowerBound) break;\n\t\t\t\t\tif (bndPair.isLeaves()) {\n\t\t\t\t\t\tdistanceLowerBound = currentDistance;\n\t\t\t\t\t\tminPair = bndPair;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbndPair.expandToQueue(priQ, distanceLowerBound);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn [minPair.getBoundable(0).getItem(), minPair.getBoundable(1).getItem()];\n\t\t\t} else if (arguments[0] instanceof BoundablePair && Number.isInteger(arguments[1])) {\n\t\t\t\tvar _initBndPair2 = arguments[0],\n\t\t\t\t    k = arguments[1];\n\t\t\t\treturn this.nearestNeighbour(_initBndPair2, Double.POSITIVE_INFINITY, k);\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (hasInterface(arguments[2], ItemDistance) && arguments[0] instanceof Envelope && arguments[1] instanceof Object) {\n\t\t\t\tvar env = arguments[0],\n\t\t\t\t    item = arguments[1],\n\t\t\t\t    _itemDist2 = arguments[2];\n\t\t\t\tvar bnd = new ItemBoundable(env, item);\n\t\t\t\tvar bp = new BoundablePair(this.getRoot(), bnd, _itemDist2);\n\t\t\t\treturn this.nearestNeighbour(bp)[0];\n\t\t\t} else if (Number.isInteger(arguments[2]) && arguments[0] instanceof BoundablePair && typeof arguments[1] === \"number\") {\n\t\t\t\tvar _initBndPair3 = arguments[0],\n\t\t\t\t    _maxDistance = arguments[1],\n\t\t\t\t    _k = arguments[2];\n\t\t\t\tvar distanceLowerBound = _maxDistance;\n\t\t\t\tvar priQ = new PriorityQueue();\n\t\t\t\tpriQ.add(_initBndPair3);\n\t\t\t\tvar kNearestNeighbors = new java.util.PriorityQueue() < BoundablePair > (new BoundablePairDistanceComparator(false));\n\t\t\t\twhile (!priQ.isEmpty() && distanceLowerBound >= 0.0) {\n\t\t\t\t\tvar bndPair = priQ.poll();\n\t\t\t\t\tvar currentDistance = bndPair.getDistance();\n\t\t\t\t\tif (currentDistance >= distanceLowerBound) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (bndPair.isLeaves()) {\n\t\t\t\t\t\tif (kNearestNeighbors.size() < _k) {\n\t\t\t\t\t\t\tkNearestNeighbors.add(bndPair);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (kNearestNeighbors.peek().getDistance() > currentDistance) {\n\t\t\t\t\t\t\t\tkNearestNeighbors.poll();\n\t\t\t\t\t\t\t\tkNearestNeighbors.add(bndPair);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdistanceLowerBound = kNearestNeighbors.peek().getDistance();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbndPair.expandToQueue(priQ, distanceLowerBound);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn STRtree.getItems(kNearestNeighbors);\n\t\t\t}\n\t\t} else if (arguments.length === 4) {\n\t\t\tvar _env = arguments[0],\n\t\t\t    _item = arguments[1],\n\t\t\t    _itemDist3 = arguments[2],\n\t\t\t    _k2 = arguments[3];\n\t\t\tvar bnd = new ItemBoundable(_env, _item);\n\t\t\tvar bp = new BoundablePair(this.getRoot(), bnd, _itemDist3);\n\t\t\treturn this.nearestNeighbour(bp, _k2);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [SpatialIndex, Serializable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn STRtree;\n\t}\n});\nSTRtree.centreX = function (e) {\n\treturn STRtree.avg(e.getMinX(), e.getMaxX());\n};\nSTRtree.avg = function (a, b) {\n\treturn (a + b) / 2;\n};\nSTRtree.getItems = function (kNearestNeighbors) {\n\tvar items = new Array(kNearestNeighbors.size()).fill(null);\n\tvar resultIterator = kNearestNeighbors.iterator();\n\tvar count = 0;\n\twhile (resultIterator.hasNext()) {\n\t\titems[count] = resultIterator.next().getBoundable(0).getItem();\n\t\tcount++;\n\t}\n\treturn items;\n};\nSTRtree.centreY = function (e) {\n\treturn STRtree.avg(e.getMinY(), e.getMaxY());\n};\nfunction STRtreeNode() {\n\tvar level = arguments[0];\n\tAbstractNode.call(this, level);\n}\ninherits(STRtreeNode, AbstractNode);\nextend(STRtreeNode.prototype, {\n\tcomputeBounds: function computeBounds() {\n\t\tvar bounds = null;\n\t\tfor (var i = this.getChildBoundables().iterator(); i.hasNext();) {\n\t\t\tvar childBoundable = i.next();\n\t\t\tif (bounds === null) {\n\t\t\t\tbounds = new Envelope(childBoundable.getBounds());\n\t\t\t} else {\n\t\t\t\tbounds.expandToInclude(childBoundable.getBounds());\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn STRtreeNode;\n\t}\n});\nSTRtree.STRtreeNode = STRtreeNode;\nSTRtree.serialVersionUID = 259274702368956900;\nSTRtree.xComparator = {\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparator];\n\t},\n\tcompare: function compare(o1, o2) {\n\t\treturn AbstractSTRtree.compareDoubles(STRtree.centreX(o1.getBounds()), STRtree.centreX(o2.getBounds()));\n\t}\n};\nSTRtree.yComparator = {\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparator];\n\t},\n\tcompare: function compare(o1, o2) {\n\t\treturn AbstractSTRtree.compareDoubles(STRtree.centreY(o1.getBounds()), STRtree.centreY(o2.getBounds()));\n\t}\n};\nSTRtree.intersectsOp = {\n\tinterfaces_: function interfaces_() {\n\t\treturn [IntersectsOp];\n\t},\n\tintersects: function intersects(aBounds, bBounds) {\n\t\treturn aBounds.intersects(bBounds);\n\t}\n};\nSTRtree.DEFAULT_NODE_CAPACITY = 10;\n\n\n\nvar strtree = Object.freeze({\n\tSTRtree: STRtree\n});\n\n\n\nvar index = Object.freeze({\n\tkdtree: kdtree,\n\tquadtree: quadtree,\n\tstrtree: strtree\n});\n\nvar geometryTypes = ['Point', 'MultiPoint', 'LineString', 'MultiLineString', 'Polygon', 'MultiPolygon'];\n\n/**\n * Class for reading and writing Well-Known Text.Create a new parser for GeoJSON\n * NOTE: Adapted from OpenLayers 2.11 implementation.\n */\n\n/**\n * Create a new parser for GeoJSON\n *\n * @param {GeometryFactory} geometryFactory\n * @return An instance of GeoJsonParser.\n * @constructor\n * @private\n */\nfunction GeoJSONParser(geometryFactory) {\n  this.geometryFactory = geometryFactory || new GeometryFactory();\n}\n\nextend(GeoJSONParser.prototype, {\n  /**\n   * Deserialize a GeoJSON object and return the Geometry or Feature(Collection) with JSTS Geometries\n   *\n   * @param {}\n   *          A GeoJSON object.\n   * @return {} A Geometry instance or object representing a Feature(Collection) with Geometry instances.\n   * @private\n   */\n  read: function read(json) {\n    var obj = void 0;\n    if (typeof json === 'string') obj = JSON.parse(json);else obj = json;\n\n    var type = obj.type;\n\n    if (!parse$1[type]) throw new Error('Unknown GeoJSON type: ' + obj.type);\n\n    if (geometryTypes.indexOf(type) !== -1) return parse$1[type].call(this, obj.coordinates);else if (type === 'GeometryCollection') return parse$1[type].call(this, obj.geometries);\n\n    // feature or feature collection\n    return parse$1[type].call(this, obj);\n  },\n\n\n  /**\n   * Serialize a Geometry object into GeoJSON\n   *\n   * @param {Geometry}\n   *          geometry A Geometry or array of Geometries.\n   * @return {Object} A GeoJSON object represting the input Geometry/Geometries.\n   * @private\n   */\n  write: function write(geometry) {\n    var type = geometry.getGeometryType();\n\n    if (!extract$1[type]) throw new Error('Geometry is not supported');\n\n    return extract$1[type].call(this, geometry);\n  }\n});\n\nvar parse$1 = {\n  /**\n   * Parse a GeoJSON Feature object\n   *\n   * @param {Object}\n   *          obj Object to parse.\n   *\n   * @return {Object} Feature with geometry/bbox converted to JSTS Geometries.\n   */\n  Feature: function Feature(obj) {\n    var feature = {};\n\n    for (var key in obj) {\n      feature[key] = obj[key];\n    }if (obj.geometry) {\n      var type = obj.geometry.type;\n      if (!parse$1[type]) throw new Error('Unknown GeoJSON type: ' + obj.type);\n      feature.geometry = this.read(obj.geometry);\n    }\n\n    if (obj.bbox) feature.bbox = parse$1.bbox.call(this, obj.bbox);\n\n    return feature;\n  },\n\n  /**\n   * Parse a GeoJSON FeatureCollection object\n   *\n   * @param {Object}\n   *          obj Object to parse.\n   *\n   * @return {Object} FeatureCollection with geometry/bbox converted to JSTS Geometries.\n   */\n  FeatureCollection: function FeatureCollection(obj) {\n    var featureCollection = {};\n\n    if (obj.features) {\n      featureCollection.features = [];\n\n      for (var i = 0; i < obj.features.length; ++i) {\n        featureCollection.features.push(this.read(obj.features[i]));\n      }\n    }\n\n    if (obj.bbox) featureCollection.bbox = this.parse.bbox.call(this, obj.bbox);\n\n    return featureCollection;\n  },\n\n  /**\n   * Convert the ordinates in an array to an array of Coordinates\n   *\n   * @param {Array}\n   *          array Array with {Number}s.\n   *\n   * @return {Array} Array with Coordinates.\n   */\n  coordinates: function coordinates(array) {\n    var coordinates = [];\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i];\n      coordinates.push(new Coordinate(sub[0], sub[1]));\n    }\n    return coordinates;\n  },\n\n  /**\n   * Convert the bbox to a LinearRing\n   *\n   * @param {Array}\n   *          array Array with [xMin, yMin, xMax, yMax].\n   *\n   * @return {Array} Array with Coordinates.\n   */\n  bbox: function bbox(array) {\n    return this.geometryFactory.createLinearRing([new Coordinate(array[0], array[1]), new Coordinate(array[2], array[1]), new Coordinate(array[2], array[3]), new Coordinate(array[0], array[3]), new Coordinate(array[0], array[1])]);\n  },\n\n  /**\n   * Convert an Array with ordinates to a Point\n   *\n   * @param {Array}\n   *          array Array with ordinates.\n   *\n   * @return {Point} Point.\n   */\n  Point: function Point(array) {\n    var coordinate = new Coordinate(array[0], array[1]);\n    return this.geometryFactory.createPoint(coordinate);\n  },\n\n  /**\n   * Convert an Array with coordinates to a MultiPoint\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {MultiPoint} MultiPoint.\n   */\n  MultiPoint: function MultiPoint(array) {\n    var points = [];\n    for (var i = 0; i < array.length; ++i) {\n      points.push(parse$1.Point.call(this, array[i]));\n    }return this.geometryFactory.createMultiPoint(points);\n  },\n\n  /**\n   * Convert an Array with coordinates to a LineString\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {LineString} LineString.\n   */\n  LineString: function LineString(array) {\n    var coordinates = parse$1.coordinates.call(this, array);\n    return this.geometryFactory.createLineString(coordinates);\n  },\n\n  /**\n   * Convert an Array with coordinates to a MultiLineString\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {MultiLineString} MultiLineString.\n   */\n  MultiLineString: function MultiLineString(array) {\n    var lineStrings = [];\n    for (var i = 0; i < array.length; ++i) {\n      lineStrings.push(parse$1.LineString.call(this, array[i]));\n    }return this.geometryFactory.createMultiLineString(lineStrings);\n  },\n\n  /**\n   * Convert an Array to a Polygon\n   *\n   * @param {Array}\n   *          array Array with shell and holes.\n   *\n   * @return {Polygon} Polygon.\n   */\n  Polygon: function Polygon(array) {\n    var shellCoordinates = parse$1.coordinates.call(this, array[0]);\n    var shell = this.geometryFactory.createLinearRing(shellCoordinates);\n    var holes = [];\n    for (var i = 1; i < array.length; ++i) {\n      var hole = array[i];\n      var coordinates = parse$1.coordinates.call(this, hole);\n      var linearRing = this.geometryFactory.createLinearRing(coordinates);\n      holes.push(linearRing);\n    }\n    return this.geometryFactory.createPolygon(shell, holes);\n  },\n\n  /**\n   * Convert an Array to a MultiPolygon\n   *\n   * @param {Array}\n   *          array Array of arrays with shell and rings.\n   *\n   * @return {MultiPolygon} MultiPolygon.\n   */\n  MultiPolygon: function MultiPolygon(array) {\n    var polygons = [];\n    for (var i = 0; i < array.length; ++i) {\n      var polygon = array[i];\n      polygons.push(parse$1.Polygon.call(this, polygon));\n    }\n    return this.geometryFactory.createMultiPolygon(polygons);\n  },\n\n  /**\n   * Convert an Array to a GeometryCollection\n   *\n   * @param {Array}\n   *          array Array of GeoJSON geometries.\n   *\n   * @return {GeometryCollection} GeometryCollection.\n   */\n  GeometryCollection: function GeometryCollection(array) {\n    var geometries = [];\n    for (var i = 0; i < array.length; ++i) {\n      var geometry = array[i];\n      geometries.push(this.read(geometry));\n    }\n    return this.geometryFactory.createGeometryCollection(geometries);\n  }\n};\n\nvar extract$1 = {\n  /**\n   * Convert a Coordinate to an Array\n   *\n   * @param {Coordinate}\n   *          coordinate Coordinate to convert.\n   *\n   * @return {Array} Array of ordinates.\n   */\n  coordinate: function coordinate(_coordinate) {\n    return [_coordinate.x, _coordinate.y];\n  },\n\n  /**\n   * Convert a Point to a GeoJSON object\n   *\n   * @param {Point}\n   *          point Point to convert.\n   *\n   * @return {Array} Array of 2 ordinates (paired to a coordinate).\n   */\n  Point: function Point(point) {\n    var array = extract$1.coordinate.call(this, point.getCoordinate());\n    return {\n      type: 'Point',\n      coordinates: array\n    };\n  },\n\n  /**\n   * Convert a MultiPoint to a GeoJSON object\n   *\n   * @param {MultiPoint}\n   *          multipoint MultiPoint to convert.\n   *\n   * @return {Array} Array of coordinates.\n   */\n  MultiPoint: function MultiPoint(multipoint) {\n    var array = [];\n    for (var i = 0; i < multipoint._geometries.length; ++i) {\n      var point = multipoint._geometries[i];\n      var geoJson = extract$1.Point.call(this, point);\n      array.push(geoJson.coordinates);\n    }\n    return {\n      type: 'MultiPoint',\n      coordinates: array\n    };\n  },\n\n  /**\n   * Convert a LineString to a GeoJSON object\n   *\n   * @param {LineString}\n   *          linestring LineString to convert.\n   *\n   * @return {Array} Array of coordinates.\n   */\n  LineString: function LineString(linestring) {\n    var array = [];\n    var coordinates = linestring.getCoordinates();\n    for (var i = 0; i < coordinates.length; ++i) {\n      var coordinate = coordinates[i];\n      array.push(extract$1.coordinate.call(this, coordinate));\n    }\n    return {\n      type: 'LineString',\n      coordinates: array\n    };\n  },\n\n  /**\n   * Convert a MultiLineString to a GeoJSON object\n   *\n   * @param {MultiLineString}\n   *          multilinestring MultiLineString to convert.\n   *\n   * @return {Array} Array of Array of coordinates.\n   */\n  MultiLineString: function MultiLineString(multilinestring) {\n    var array = [];\n    for (var i = 0; i < multilinestring._geometries.length; ++i) {\n      var linestring = multilinestring._geometries[i];\n      var geoJson = extract$1.LineString.call(this, linestring);\n      array.push(geoJson.coordinates);\n    }\n    return {\n      type: 'MultiLineString',\n      coordinates: array\n    };\n  },\n\n  /**\n   * Convert a Polygon to a GeoJSON object\n   *\n   * @param {Polygon}\n   *          polygon Polygon to convert.\n   *\n   * @return {Array} Array with shell, holes.\n   */\n  Polygon: function Polygon(polygon) {\n    var array = [];\n    var shellGeoJson = extract$1.LineString.call(this, polygon._shell);\n    array.push(shellGeoJson.coordinates);\n    for (var i = 0; i < polygon._holes.length; ++i) {\n      var hole = polygon._holes[i];\n      var holeGeoJson = extract$1.LineString.call(this, hole);\n      array.push(holeGeoJson.coordinates);\n    }\n    return {\n      type: 'Polygon',\n      coordinates: array\n    };\n  },\n\n  /**\n   * Convert a MultiPolygon to a GeoJSON object\n   *\n   * @param {MultiPolygon}\n   *          multipolygon MultiPolygon to convert.\n   *\n   * @return {Array} Array of polygons.\n   */\n  MultiPolygon: function MultiPolygon(multipolygon) {\n    var array = [];\n    for (var i = 0; i < multipolygon._geometries.length; ++i) {\n      var polygon = multipolygon._geometries[i];\n      var geoJson = extract$1.Polygon.call(this, polygon);\n      array.push(geoJson.coordinates);\n    }\n    return {\n      type: 'MultiPolygon',\n      coordinates: array\n    };\n  },\n\n  /**\n   * Convert a GeometryCollection to a GeoJSON object\n   *\n   * @param {GeometryCollection}\n   *          collection GeometryCollection to convert.\n   *\n   * @return {Array} Array of geometries.\n   */\n  GeometryCollection: function GeometryCollection(collection) {\n    var array = [];\n    for (var i = 0; i < collection._geometries.length; ++i) {\n      var geometry = collection._geometries[i];\n      var type = geometry.getGeometryType();\n      array.push(extract$1[type].call(this, geometry));\n    }\n    return {\n      type: 'GeometryCollection',\n      geometries: array\n    };\n  }\n};\n\n/**\n * @module org/locationtech/jts/io/GeoJSONReader\n */\n\n/**\n * Converts a geometry in GeoJSON to a {@link Geometry}.\n */\n\n/**\n * A <code>GeoJSONReader</code> is parameterized by a <code>GeometryFactory</code>,\n * to allow it to create <code>Geometry</code> objects of the appropriate\n * implementation. In particular, the <code>GeometryFactory</code> determines\n * the <code>PrecisionModel</code> and <code>SRID</code> that is used.\n *\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nfunction GeoJSONReader(geometryFactory) {\n  this.parser = new GeoJSONParser(geometryFactory || new GeometryFactory());\n}\n\nextend(GeoJSONReader.prototype, {\n  /**\n   * Reads a GeoJSON representation of a {@link Geometry}\n   *\n   * Will also parse GeoJSON Features/FeatureCollections as custom objects.\n   *\n   * @param {Object|String} geoJson a GeoJSON Object or String.\n   * @return {Geometry|Object} a <code>Geometry or Feature/FeatureCollection representation.</code>\n   * @memberof module:org/locationtech/jts/io/GeoJSONReader#\n   */\n  read: function read(geoJson) {\n    var geometry = this.parser.read(geoJson);\n    return geometry;\n  }\n});\n\n/**\n * @module org/locationtech/jts/io/GeoJSONWriter\n */\n\n/**\n * Writes the GeoJSON representation of a {@link Geometry}. The\n * The GeoJSON format is defined <A\n * HREF=\"http://geojson.org/geojson-spec.html\">here</A>.\n */\n\n/**\n * The <code>GeoJSONWriter</code> outputs coordinates rounded to the precision\n * model. Only the maximum number of decimal places necessary to represent the\n * ordinates to the required precision will be output.\n *\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nfunction GeoJSONWriter() {\n  this.parser = new GeoJSONParser(this.geometryFactory);\n}\n\nextend(GeoJSONWriter.prototype, {\n  /**\n   * Converts a <code>Geometry</code> to its GeoJSON representation.\n   *\n   * @param {Geometry}\n   *          geometry a <code>Geometry</code> to process.\n   * @return {Object} The GeoJSON representation of the Geometry.\n   * @memberof module:org/locationtech/jts/io/GeoJSONWriter#\n   */\n  write: function write(geometry) {\n    return this.parser.write(geometry);\n  }\n});\n\n/**\n * @module org/locationtech/jts/io/WKTReader\n */\n\n/**\n * Converts a geometry in Well-Known Text format to a {@link Geometry}.\n * <p>\n * <code>WKTReader</code> supports extracting <code>Geometry</code> objects\n * from either {@link Reader}s or {@link String}s. This allows it to function\n * as a parser to read <code>Geometry</code> objects from text blocks embedded\n * in other data formats (e.g. XML).\n */\n\n/**\n * A <code>WKTReader</code> is parameterized by a <code>GeometryFactory</code>,\n * to allow it to create <code>Geometry</code> objects of the appropriate\n * implementation. In particular, the <code>GeometryFactory</code> determines\n * the <code>PrecisionModel</code> and <code>SRID</code> that is used.\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nfunction WKTReader(geometryFactory) {\n  this.parser = new WKTParser(geometryFactory || new GeometryFactory());\n}\n\nextend(WKTReader.prototype, {\n  /**\n   * Reads a Well-Known Text representation of a {@link Geometry}\n   *\n   * @param {string}\n   *          wkt a <Geometry Tagged Text> string (see the OpenGIS Simple Features\n   *          Specification).\n   * @return {Geometry} a <code>Geometry</code> read from\n   *         <code>string.</code>\n   * @memberof module:org/locationtech/jts/io/WKTReader#\n   */\n  read: function read(wkt) {\n    var geometry = this.parser.read(wkt);\n    return geometry;\n  }\n});\n\n/*eslint-disable no-undef */\n\n/**\n * @module org/locationtech/jts/io/OL3Parser\n */\n\nfunction p2c(p) {\n  return [p.x, p.y];\n}\n\n/**\n * OpenLayers Geometry parser and writer\n * @param {GeometryFactory} geometryFactory\n * @param {ol} olReference \n * @constructor\n */\nfunction OL3Parser(geometryFactory, olReference) {\n  this.geometryFactory = geometryFactory || new GeometryFactory();\n  this.ol = olReference || typeof ol !== 'undefined' && ol;\n}\n\nextend(OL3Parser.prototype, {\n\n  /**\n   * Inject OpenLayers geom classes\n   */\n  inject: function inject(Point, LineString, LinearRing, Polygon, MultiPoint, MultiLineString, MultiPolygon, GeometryCollection) {\n    this.ol = {\n      geom: {\n        Point: Point, LineString: LineString, LinearRing: LinearRing, Polygon: Polygon, MultiPoint: MultiPoint, MultiLineString: MultiLineString, MultiPolygon: MultiPolygon, GeometryCollection: GeometryCollection\n      }\n    };\n  },\n\n\n  /**\n   * @param geometry {ol.geom.Geometry}\n   * @return {Geometry}\n   * @memberof module:org/locationtech/jts/io/OL3Parser#\n   */\n  read: function read(geometry) {\n    var ol = this.ol;\n    if (geometry instanceof ol.geom.Point) {\n      return this.convertFromPoint(geometry);\n    } else if (geometry instanceof ol.geom.LineString) {\n      return this.convertFromLineString(geometry);\n    } else if (geometry instanceof ol.geom.LinearRing) {\n      return this.convertFromLinearRing(geometry);\n    } else if (geometry instanceof ol.geom.Polygon) {\n      return this.convertFromPolygon(geometry);\n    } else if (geometry instanceof ol.geom.MultiPoint) {\n      return this.convertFromMultiPoint(geometry);\n    } else if (geometry instanceof ol.geom.MultiLineString) {\n      return this.convertFromMultiLineString(geometry);\n    } else if (geometry instanceof ol.geom.MultiPolygon) {\n      return this.convertFromMultiPolygon(geometry);\n    } else if (geometry instanceof ol.geom.GeometryCollection) {\n      return this.convertFromCollection(geometry);\n    }\n  },\n  convertFromPoint: function convertFromPoint(point) {\n    var coordinates = point.getCoordinates();\n    return this.geometryFactory.createPoint(new Coordinate(coordinates[0], coordinates[1]));\n  },\n  convertFromLineString: function convertFromLineString(lineString) {\n    return this.geometryFactory.createLineString(lineString.getCoordinates().map(function (coordinates) {\n      return new Coordinate(coordinates[0], coordinates[1]);\n    }));\n  },\n  convertFromLinearRing: function convertFromLinearRing(linearRing) {\n    return this.geometryFactory.createLinearRing(linearRing.getCoordinates().map(function (coordinates) {\n      return new Coordinate(coordinates[0], coordinates[1]);\n    }));\n  },\n  convertFromPolygon: function convertFromPolygon(polygon) {\n    var linearRings = polygon.getLinearRings();\n    var shell = null;\n    var holes = [];\n    for (var i = 0; i < linearRings.length; i++) {\n      var linearRing = this.convertFromLinearRing(linearRings[i]);\n      if (i === 0) {\n        shell = linearRing;\n      } else {\n        holes.push(linearRing);\n      }\n    }\n    return this.geometryFactory.createPolygon(shell, holes);\n  },\n  convertFromMultiPoint: function convertFromMultiPoint(multiPoint) {\n    var points = multiPoint.getPoints().map(function (point) {\n      return this.convertFromPoint(point);\n    }, this);\n    return this.geometryFactory.createMultiPoint(points);\n  },\n  convertFromMultiLineString: function convertFromMultiLineString(multiLineString) {\n    var lineStrings = multiLineString.getLineStrings().map(function (lineString) {\n      return this.convertFromLineString(lineString);\n    }, this);\n    return this.geometryFactory.createMultiLineString(lineStrings);\n  },\n  convertFromMultiPolygon: function convertFromMultiPolygon(multiPolygon) {\n    var polygons = multiPolygon.getPolygons().map(function (polygon) {\n      return this.convertFromPolygon(polygon);\n    }, this);\n    return this.geometryFactory.createMultiPolygon(polygons);\n  },\n  convertFromCollection: function convertFromCollection(collection) {\n    var geometries = collection.getGeometries().map(function (geometry) {\n      return this.read(geometry);\n    }, this);\n    return this.geometryFactory.createGeometryCollection(geometries);\n  },\n\n\n  /**\n   * @param geometry\n   *          {Geometry}\n   * @return {ol.geom.Geometry}\n   * @memberof module:org/locationtech/jts/io/OL3Parser#\n   */\n  write: function write(geometry) {\n    if (geometry.getGeometryType() === 'Point') {\n      return this.convertToPoint(geometry.getCoordinate());\n    } else if (geometry.getGeometryType() === 'LineString') {\n      return this.convertToLineString(geometry);\n    } else if (geometry.getGeometryType() === 'LinearRing') {\n      return this.convertToLinearRing(geometry);\n    } else if (geometry.getGeometryType() === 'Polygon') {\n      return this.convertToPolygon(geometry);\n    } else if (geometry.getGeometryType() === 'MultiPoint') {\n      return this.convertToMultiPoint(geometry);\n    } else if (geometry.getGeometryType() === 'MultiLineString') {\n      return this.convertToMultiLineString(geometry);\n    } else if (geometry.getGeometryType() === 'MultiPolygon') {\n      return this.convertToMultiPolygon(geometry);\n    } else if (geometry.getGeometryType() === 'GeometryCollection') {\n      return this.convertToCollection(geometry);\n    }\n  },\n  convertToPoint: function convertToPoint(coordinate) {\n    return new this.ol.geom.Point([coordinate.x, coordinate.y]);\n  },\n  convertToLineString: function convertToLineString(lineString) {\n    var points = lineString._points._coordinates.map(p2c);\n    return new this.ol.geom.LineString(points);\n  },\n  convertToLinearRing: function convertToLinearRing(linearRing) {\n    var points = linearRing._points._coordinates.map(p2c);\n    return new this.ol.geom.LinearRing(points);\n  },\n  convertToPolygon: function convertToPolygon(polygon) {\n    var rings = [polygon._shell._points._coordinates.map(p2c)];\n    for (var i = 0; i < polygon._holes.length; i++) {\n      rings.push(polygon._holes[i]._points._coordinates.map(p2c));\n    }\n    return new this.ol.geom.Polygon(rings);\n  },\n  convertToMultiPoint: function convertToMultiPoint(multiPoint) {\n    return new this.ol.geom.MultiPoint(multiPoint.getCoordinates().map(p2c));\n  },\n  convertToMultiLineString: function convertToMultiLineString(multiLineString) {\n    var lineStrings = [];\n    for (var i = 0; i < multiLineString._geometries.length; i++) {\n      lineStrings.push(this.convertToLineString(multiLineString._geometries[i]).getCoordinates());\n    }\n    return new this.ol.geom.MultiLineString(lineStrings);\n  },\n  convertToMultiPolygon: function convertToMultiPolygon(multiPolygon) {\n    var polygons = [];\n    for (var i = 0; i < multiPolygon._geometries.length; i++) {\n      polygons.push(this.convertToPolygon(multiPolygon._geometries[i]).getCoordinates());\n    }\n    return new this.ol.geom.MultiPolygon(polygons);\n  },\n  convertToCollection: function convertToCollection(geometryCollection) {\n    var geometries = [];\n    for (var i = 0; i < geometryCollection._geometries.length; i++) {\n      var geometry = geometryCollection._geometries[i];\n      geometries.push(this.write(geometry));\n    }\n    return new this.ol.geom.GeometryCollection(geometries);\n  }\n});\n\n\n\nvar io = Object.freeze({\n\tGeoJSONReader: GeoJSONReader,\n\tGeoJSONWriter: GeoJSONWriter,\n\tOL3Parser: OL3Parser,\n\tWKTReader: WKTReader,\n\tWKTWriter: WKTWriter\n});\n\nfunction SegmentPointComparator() {}\nextend(SegmentPointComparator.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SegmentPointComparator;\n\t}\n});\nSegmentPointComparator.relativeSign = function (x0, x1) {\n\tif (x0 < x1) return -1;\n\tif (x0 > x1) return 1;\n\treturn 0;\n};\nSegmentPointComparator.compare = function (octant, p0, p1) {\n\tif (p0.equals2D(p1)) return 0;\n\tvar xSign = SegmentPointComparator.relativeSign(p0.x, p1.x);\n\tvar ySign = SegmentPointComparator.relativeSign(p0.y, p1.y);\n\tswitch (octant) {\n\t\tcase 0:\n\t\t\treturn SegmentPointComparator.compareValue(xSign, ySign);\n\t\tcase 1:\n\t\t\treturn SegmentPointComparator.compareValue(ySign, xSign);\n\t\tcase 2:\n\t\t\treturn SegmentPointComparator.compareValue(ySign, -xSign);\n\t\tcase 3:\n\t\t\treturn SegmentPointComparator.compareValue(-xSign, ySign);\n\t\tcase 4:\n\t\t\treturn SegmentPointComparator.compareValue(-xSign, -ySign);\n\t\tcase 5:\n\t\t\treturn SegmentPointComparator.compareValue(-ySign, -xSign);\n\t\tcase 6:\n\t\t\treturn SegmentPointComparator.compareValue(-ySign, xSign);\n\t\tcase 7:\n\t\t\treturn SegmentPointComparator.compareValue(xSign, -ySign);\n\t}\n\tAssert.shouldNeverReachHere(\"invalid octant value\");\n\treturn 0;\n};\nSegmentPointComparator.compareValue = function (compareSign0, compareSign1) {\n\tif (compareSign0 < 0) return -1;\n\tif (compareSign0 > 0) return 1;\n\tif (compareSign1 < 0) return -1;\n\tif (compareSign1 > 0) return 1;\n\treturn 0;\n};\n\nfunction SegmentNode() {\n\tthis._segString = null;\n\tthis.coord = null;\n\tthis.segmentIndex = null;\n\tthis._segmentOctant = null;\n\tthis._isInterior = null;\n\tvar segString = arguments[0],\n\t    coord = arguments[1],\n\t    segmentIndex = arguments[2],\n\t    segmentOctant = arguments[3];\n\tthis._segString = segString;\n\tthis.coord = new Coordinate(coord);\n\tthis.segmentIndex = segmentIndex;\n\tthis._segmentOctant = segmentOctant;\n\tthis._isInterior = !coord.equals2D(segString.getCoordinate(segmentIndex));\n}\nextend(SegmentNode.prototype, {\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this.coord;\n\t},\n\tprint: function print(out) {\n\t\tout.print(this.coord);\n\t\tout.print(\" seg # = \" + this.segmentIndex);\n\t},\n\tcompareTo: function compareTo(obj) {\n\t\tvar other = obj;\n\t\tif (this.segmentIndex < other.segmentIndex) return -1;\n\t\tif (this.segmentIndex > other.segmentIndex) return 1;\n\t\tif (this.coord.equals2D(other.coord)) return 0;\n\t\treturn SegmentPointComparator.compare(this._segmentOctant, this.coord, other.coord);\n\t},\n\tisEndPoint: function isEndPoint(maxSegmentIndex) {\n\t\tif (this.segmentIndex === 0 && !this._isInterior) return true;\n\t\tif (this.segmentIndex === maxSegmentIndex) return true;\n\t\treturn false;\n\t},\n\tisInterior: function isInterior() {\n\t\treturn this._isInterior;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SegmentNode;\n\t}\n});\n\nfunction SegmentNodeList() {\n\tthis._nodeMap = new TreeMap();\n\tthis._edge = null;\n\tvar edge = arguments[0];\n\tthis._edge = edge;\n}\nextend(SegmentNodeList.prototype, {\n\tgetSplitCoordinates: function getSplitCoordinates() {\n\t\tvar coordList = new CoordinateList();\n\t\tthis.addEndpoints();\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tthis.addEdgeCoordinates(eiPrev, ei, coordList);\n\t\t\teiPrev = ei;\n\t\t}\n\t\treturn coordList.toCoordinateArray();\n\t},\n\taddCollapsedNodes: function addCollapsedNodes() {\n\t\tvar collapsedVertexIndexes = new ArrayList();\n\t\tthis.findCollapsesFromInsertedNodes(collapsedVertexIndexes);\n\t\tthis.findCollapsesFromExistingVertices(collapsedVertexIndexes);\n\t\tfor (var it = collapsedVertexIndexes.iterator(); it.hasNext();) {\n\t\t\tvar vertexIndex = it.next().intValue();\n\t\t\tthis.add(this._edge.getCoordinate(vertexIndex), vertexIndex);\n\t\t}\n\t},\n\tprint: function print(out) {\n\t\tout.println(\"Intersections:\");\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar ei = it.next();\n\t\t\tei.print(out);\n\t\t}\n\t},\n\tfindCollapsesFromExistingVertices: function findCollapsesFromExistingVertices(collapsedVertexIndexes) {\n\t\tfor (var i = 0; i < this._edge.size() - 2; i++) {\n\t\t\tvar p0 = this._edge.getCoordinate(i);\n\t\t\tvar p1 = this._edge.getCoordinate(i + 1);\n\t\t\tvar p2 = this._edge.getCoordinate(i + 2);\n\t\t\tif (p0.equals2D(p2)) {\n\t\t\t\tcollapsedVertexIndexes.add(new Integer(i + 1));\n\t\t\t}\n\t\t}\n\t},\n\taddEdgeCoordinates: function addEdgeCoordinates(ei0, ei1, coordList) {\n\t\tvar npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\t\tvar lastSegStartPt = this._edge.getCoordinate(ei1.segmentIndex);\n\t\tvar useIntPt1 = ei1.isInterior() || !ei1.coord.equals2D(lastSegStartPt);\n\t\tif (!useIntPt1) {\n\t\t\tnpts--;\n\t\t}\n\t\tcoordList.add(new Coordinate(ei0.coord), false);\n\t\tfor (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n\t\t\tcoordList.add(this._edge.getCoordinate(i));\n\t\t}\n\t\tif (useIntPt1) {\n\t\t\tcoordList.add(new Coordinate(ei1.coord));\n\t\t}\n\t},\n\titerator: function iterator() {\n\t\treturn this._nodeMap.values().iterator();\n\t},\n\taddSplitEdges: function addSplitEdges(edgeList) {\n\t\tthis.addEndpoints();\n\t\tthis.addCollapsedNodes();\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tvar newEdge = this.createSplitEdge(eiPrev, ei);\n\t\t\tedgeList.add(newEdge);\n\t\t\teiPrev = ei;\n\t\t}\n\t},\n\tfindCollapseIndex: function findCollapseIndex(ei0, ei1, collapsedVertexIndex) {\n\t\tif (!ei0.coord.equals2D(ei1.coord)) return false;\n\t\tvar numVerticesBetween = ei1.segmentIndex - ei0.segmentIndex;\n\t\tif (!ei1.isInterior()) {\n\t\t\tnumVerticesBetween--;\n\t\t}\n\t\tif (numVerticesBetween === 1) {\n\t\t\tcollapsedVertexIndex[0] = ei0.segmentIndex + 1;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tfindCollapsesFromInsertedNodes: function findCollapsesFromInsertedNodes(collapsedVertexIndexes) {\n\t\tvar collapsedVertexIndex = new Array(1).fill(null);\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tvar isCollapsed = this.findCollapseIndex(eiPrev, ei, collapsedVertexIndex);\n\t\t\tif (isCollapsed) collapsedVertexIndexes.add(new Integer(collapsedVertexIndex[0]));\n\t\t\teiPrev = ei;\n\t\t}\n\t},\n\tgetEdge: function getEdge() {\n\t\treturn this._edge;\n\t},\n\taddEndpoints: function addEndpoints() {\n\t\tvar maxSegIndex = this._edge.size() - 1;\n\t\tthis.add(this._edge.getCoordinate(0), 0);\n\t\tthis.add(this._edge.getCoordinate(maxSegIndex), maxSegIndex);\n\t},\n\tcreateSplitEdge: function createSplitEdge(ei0, ei1) {\n\t\tvar npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\t\tvar lastSegStartPt = this._edge.getCoordinate(ei1.segmentIndex);\n\t\tvar useIntPt1 = ei1.isInterior() || !ei1.coord.equals2D(lastSegStartPt);\n\t\tif (!useIntPt1) {\n\t\t\tnpts--;\n\t\t}\n\t\tvar pts = new Array(npts).fill(null);\n\t\tvar ipt = 0;\n\t\tpts[ipt++] = new Coordinate(ei0.coord);\n\t\tfor (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n\t\t\tpts[ipt++] = this._edge.getCoordinate(i);\n\t\t}\n\t\tif (useIntPt1) pts[ipt] = new Coordinate(ei1.coord);\n\t\treturn new NodedSegmentString(pts, this._edge.getData());\n\t},\n\tadd: function add(intPt, segmentIndex) {\n\t\tvar eiNew = new SegmentNode(this._edge, intPt, segmentIndex, this._edge.getSegmentOctant(segmentIndex));\n\t\tvar ei = this._nodeMap.get(eiNew);\n\t\tif (ei !== null) {\n\t\t\tAssert.isTrue(ei.coord.equals2D(intPt), \"Found equal nodes with different coordinates\");\n\t\t\treturn ei;\n\t\t}\n\t\tthis._nodeMap.put(eiNew, eiNew);\n\t\treturn eiNew;\n\t},\n\tcheckSplitEdgesCorrectness: function checkSplitEdgesCorrectness(splitEdges) {\n\t\tvar edgePts = this._edge.getCoordinates();\n\t\tvar split0 = splitEdges.get(0);\n\t\tvar pt0 = split0.getCoordinate(0);\n\t\tif (!pt0.equals2D(edgePts[0])) throw new RuntimeException(\"bad split edge start point at \" + pt0);\n\t\tvar splitn = splitEdges.get(splitEdges.size() - 1);\n\t\tvar splitnPts = splitn.getCoordinates();\n\t\tvar ptn = splitnPts[splitnPts.length - 1];\n\t\tif (!ptn.equals2D(edgePts[edgePts.length - 1])) throw new RuntimeException(\"bad split edge end point at \" + ptn);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SegmentNodeList;\n\t}\n});\nfunction NodeVertexIterator() {\n\tthis._nodeList = null;\n\tthis._edge = null;\n\tthis._nodeIt = null;\n\tthis._currNode = null;\n\tthis._nextNode = null;\n\tthis._currSegIndex = 0;\n\tvar nodeList = arguments[0];\n\tthis._nodeList = nodeList;\n\tthis._edge = nodeList.getEdge();\n\tthis._nodeIt = nodeList.iterator();\n\tthis.readNextNode();\n}\nextend(NodeVertexIterator.prototype, {\n\tnext: function next() {\n\t\tif (this._currNode === null) {\n\t\t\tthis._currNode = this._nextNode;\n\t\t\tthis._currSegIndex = this._currNode.segmentIndex;\n\t\t\tthis.readNextNode();\n\t\t\treturn this._currNode;\n\t\t}\n\t\tif (this._nextNode === null) return null;\n\t\tif (this._nextNode.segmentIndex === this._currNode.segmentIndex) {\n\t\t\tthis._currNode = this._nextNode;\n\t\t\tthis._currSegIndex = this._currNode.segmentIndex;\n\t\t\tthis.readNextNode();\n\t\t\treturn this._currNode;\n\t\t}\n\t\tif (this._nextNode.segmentIndex > this._currNode.segmentIndex) {}\n\t\treturn null;\n\t},\n\tremove: function remove() {\n\t\tthrow new UnsupportedOperationException(this.getClass().getName());\n\t},\n\thasNext: function hasNext() {\n\t\tif (this._nextNode === null) return false;\n\t\treturn true;\n\t},\n\treadNextNode: function readNextNode() {\n\t\tif (this._nodeIt.hasNext()) this._nextNode = this._nodeIt.next();else this._nextNode = null;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Iterator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NodeVertexIterator;\n\t}\n});\n\nfunction Octant() {}\nextend(Octant.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Octant;\n\t}\n});\nOctant.octant = function () {\n\tif (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\tvar _dx = arguments[0],\n\t\t    _dy = arguments[1];\n\t\tif (_dx === 0.0 && _dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the octant for point ( \" + _dx + \", \" + _dy + \" )\");\n\t\tvar adx = Math.abs(_dx);\n\t\tvar ady = Math.abs(_dy);\n\t\tif (_dx >= 0) {\n\t\t\tif (_dy >= 0) {\n\t\t\t\tif (adx >= ady) return 0;else return 1;\n\t\t\t} else {\n\t\t\t\tif (adx >= ady) return 7;else return 6;\n\t\t\t}\n\t\t} else {\n\t\t\tif (_dy >= 0) {\n\t\t\t\tif (adx >= ady) return 3;else return 2;\n\t\t\t} else {\n\t\t\t\tif (adx >= ady) return 4;else return 5;\n\t\t\t}\n\t\t}\n\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\tvar p0 = arguments[0],\n\t\t    p1 = arguments[1];\n\t\tvar dx = p1.x - p0.x;\n\t\tvar dy = p1.y - p0.y;\n\t\tif (dx === 0.0 && dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the octant for two identical points \" + p0);\n\t\treturn Octant.octant(dx, dy);\n\t}\n};\n\nfunction SegmentString() {}\nextend(SegmentString.prototype, {\n\tgetCoordinates: function getCoordinates() {},\n\tsize: function size() {},\n\tgetCoordinate: function getCoordinate(i) {},\n\tisClosed: function isClosed() {},\n\tsetData: function setData(data) {},\n\tgetData: function getData() {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SegmentString;\n\t}\n});\n\nfunction NodableSegmentString() {}\nextend(NodableSegmentString.prototype, {\n\taddIntersection: function addIntersection(intPt, segmentIndex) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [SegmentString];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NodableSegmentString;\n\t}\n});\n\nfunction NodedSegmentString() {\n\tthis._nodeList = new SegmentNodeList(this);\n\tthis._pts = null;\n\tthis._data = null;\n\tvar pts = arguments[0],\n\t    data = arguments[1];\n\tthis._pts = pts;\n\tthis._data = data;\n}\nextend(NodedSegmentString.prototype, {\n\tgetCoordinates: function getCoordinates() {\n\t\treturn this._pts;\n\t},\n\tsize: function size() {\n\t\treturn this._pts.length;\n\t},\n\tgetCoordinate: function getCoordinate(i) {\n\t\treturn this._pts[i];\n\t},\n\tisClosed: function isClosed() {\n\t\treturn this._pts[0].equals(this._pts[this._pts.length - 1]);\n\t},\n\tgetSegmentOctant: function getSegmentOctant(index) {\n\t\tif (index === this._pts.length - 1) return -1;\n\t\treturn this.safeOctant(this.getCoordinate(index), this.getCoordinate(index + 1));\n\t},\n\tsetData: function setData(data) {\n\t\tthis._data = data;\n\t},\n\tsafeOctant: function safeOctant(p0, p1) {\n\t\tif (p0.equals2D(p1)) return 0;\n\t\treturn Octant.octant(p0, p1);\n\t},\n\tgetData: function getData() {\n\t\treturn this._data;\n\t},\n\taddIntersection: function addIntersection() {\n\t\tif (arguments.length === 2) {\n\t\t\tvar _intPt = arguments[0],\n\t\t\t    segmentIndex = arguments[1];\n\t\t\tthis.addIntersectionNode(_intPt, segmentIndex);\n\t\t} else if (arguments.length === 4) {\n\t\t\tvar li = arguments[0],\n\t\t\t    _segmentIndex = arguments[1],\n\t\t\t    geomIndex = arguments[2],\n\t\t\t    intIndex = arguments[3];\n\t\t\tvar intPt = new Coordinate(li.getIntersection(intIndex));\n\t\t\tthis.addIntersection(intPt, _segmentIndex);\n\t\t}\n\t},\n\ttoString: function toString() {\n\t\treturn WKTWriter.toLineString(new CoordinateArraySequence(this._pts));\n\t},\n\tgetNodeList: function getNodeList() {\n\t\treturn this._nodeList;\n\t},\n\taddIntersectionNode: function addIntersectionNode(intPt, segmentIndex) {\n\t\tvar normalizedSegmentIndex = segmentIndex;\n\t\tvar nextSegIndex = normalizedSegmentIndex + 1;\n\t\tif (nextSegIndex < this._pts.length) {\n\t\t\tvar nextPt = this._pts[nextSegIndex];\n\t\t\tif (intPt.equals2D(nextPt)) {\n\t\t\t\tnormalizedSegmentIndex = nextSegIndex;\n\t\t\t}\n\t\t}\n\t\tvar ei = this._nodeList.add(intPt, normalizedSegmentIndex);\n\t\treturn ei;\n\t},\n\taddIntersections: function addIntersections(li, segmentIndex, geomIndex) {\n\t\tfor (var i = 0; i < li.getIntersectionNum(); i++) {\n\t\t\tthis.addIntersection(li, segmentIndex, geomIndex, i);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [NodableSegmentString];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NodedSegmentString;\n\t}\n});\nNodedSegmentString.getNodedSubstrings = function () {\n\tif (arguments.length === 1) {\n\t\tvar segStrings = arguments[0];\n\t\tvar resultEdgelist = new ArrayList();\n\t\tNodedSegmentString.getNodedSubstrings(segStrings, resultEdgelist);\n\t\treturn resultEdgelist;\n\t} else if (arguments.length === 2) {\n\t\tvar _segStrings = arguments[0],\n\t\t    _resultEdgelist = arguments[1];\n\t\tfor (var i = _segStrings.iterator(); i.hasNext();) {\n\t\t\tvar ss = i.next();\n\t\t\tss.getNodeList().addSplitEdges(_resultEdgelist);\n\t\t}\n\t}\n};\n\nfunction MonotoneChainOverlapAction() {\n\tthis._overlapSeg1 = new LineSegment();\n\tthis._overlapSeg2 = new LineSegment();\n}\nextend(MonotoneChainOverlapAction.prototype, {\n\toverlap: function overlap() {\n\t\tif (arguments.length === 2) {\n\t\t\t\n\t\t} else if (arguments.length === 4) {\n\t\t\tvar mc1 = arguments[0],\n\t\t\t    start1 = arguments[1],\n\t\t\t    mc2 = arguments[2],\n\t\t\t    start2 = arguments[3];\n\t\t\tmc1.getLineSegment(start1, this._overlapSeg1);\n\t\t\tmc2.getLineSegment(start2, this._overlapSeg2);\n\t\t\tthis.overlap(this._overlapSeg1, this._overlapSeg2);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MonotoneChainOverlapAction;\n\t}\n});\n\nfunction Noder() {}\nextend(Noder.prototype, {\n\tcomputeNodes: function computeNodes(segStrings) {},\n\tgetNodedSubstrings: function getNodedSubstrings() {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Noder;\n\t}\n});\n\nfunction SinglePassNoder() {\n\tthis._segInt = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tvar segInt = arguments[0];\n\t\tthis.setSegmentIntersector(segInt);\n\t}\n}\nextend(SinglePassNoder.prototype, {\n\tsetSegmentIntersector: function setSegmentIntersector(segInt) {\n\t\tthis._segInt = segInt;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Noder];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SinglePassNoder;\n\t}\n});\n\nfunction MCIndexNoder() {\n\tthis._monoChains = new ArrayList();\n\tthis._index = new STRtree();\n\tthis._idCounter = 0;\n\tthis._nodedSegStrings = null;\n\tthis._nOverlaps = 0;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tvar si = arguments[0];\n\t\tSinglePassNoder.call(this, si);\n\t}\n}\ninherits(MCIndexNoder, SinglePassNoder);\nextend(MCIndexNoder.prototype, {\n\tgetMonotoneChains: function getMonotoneChains() {\n\t\treturn this._monoChains;\n\t},\n\tgetNodedSubstrings: function getNodedSubstrings() {\n\t\treturn NodedSegmentString.getNodedSubstrings(this._nodedSegStrings);\n\t},\n\tgetIndex: function getIndex() {\n\t\treturn this._index;\n\t},\n\tadd: function add(segStr) {\n\t\tvar segChains = MonotoneChainBuilder.getChains(segStr.getCoordinates(), segStr);\n\t\tfor (var i = segChains.iterator(); i.hasNext();) {\n\t\t\tvar mc = i.next();\n\t\t\tmc.setId(this._idCounter++);\n\t\t\tthis._index.insert(mc.getEnvelope(), mc);\n\t\t\tthis._monoChains.add(mc);\n\t\t}\n\t},\n\tcomputeNodes: function computeNodes(inputSegStrings) {\n\t\tthis._nodedSegStrings = inputSegStrings;\n\t\tfor (var i = inputSegStrings.iterator(); i.hasNext();) {\n\t\t\tthis.add(i.next());\n\t\t}\n\t\tthis.intersectChains();\n\t},\n\tintersectChains: function intersectChains() {\n\t\tvar overlapAction = new SegmentOverlapAction(this._segInt);\n\t\tfor (var i = this._monoChains.iterator(); i.hasNext();) {\n\t\t\tvar queryChain = i.next();\n\t\t\tvar overlapChains = this._index.query(queryChain.getEnvelope());\n\t\t\tfor (var j = overlapChains.iterator(); j.hasNext();) {\n\t\t\t\tvar testChain = j.next();\n\t\t\t\tif (testChain.getId() > queryChain.getId()) {\n\t\t\t\t\tqueryChain.computeOverlaps(testChain, overlapAction);\n\t\t\t\t\tthis._nOverlaps++;\n\t\t\t\t}\n\t\t\t\tif (this._segInt.isDone()) return null;\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MCIndexNoder;\n\t}\n});\nfunction SegmentOverlapAction() {\n\tMonotoneChainOverlapAction.apply(this);\n\tthis._si = null;\n\tvar si = arguments[0];\n\tthis._si = si;\n}\ninherits(SegmentOverlapAction, MonotoneChainOverlapAction);\nextend(SegmentOverlapAction.prototype, {\n\toverlap: function overlap() {\n\t\tif (arguments.length === 4) {\n\t\t\tvar mc1 = arguments[0],\n\t\t\t    start1 = arguments[1],\n\t\t\t    mc2 = arguments[2],\n\t\t\t    start2 = arguments[3];\n\t\t\tvar ss1 = mc1.getContext();\n\t\t\tvar ss2 = mc2.getContext();\n\t\t\tthis._si.processIntersections(ss1, start1, ss2, start2);\n\t\t} else return MonotoneChainOverlapAction.prototype.overlap.apply(this, arguments);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SegmentOverlapAction;\n\t}\n});\nMCIndexNoder.SegmentOverlapAction = SegmentOverlapAction;\n\nfunction ScaledNoder() {\n\tthis._noder = null;\n\tthis._scaleFactor = null;\n\tthis._offsetX = null;\n\tthis._offsetY = null;\n\tthis._isScaled = false;\n\tif (arguments.length === 2) {\n\t\tvar noder = arguments[0],\n\t\t    scaleFactor = arguments[1];\n\t\tScaledNoder.call(this, noder, scaleFactor, 0, 0);\n\t} else if (arguments.length === 4) {\n\t\tvar _noder = arguments[0],\n\t\t    _scaleFactor = arguments[1];\n\t\tthis._noder = _noder;\n\t\tthis._scaleFactor = _scaleFactor;\n\t\tthis._isScaled = !this.isIntegerPrecision();\n\t}\n}\nextend(ScaledNoder.prototype, {\n\trescale: function rescale() {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tvar segStrings = arguments[0];\n\t\t\tfor (var i = segStrings.iterator(); i.hasNext();) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tthis.rescale(ss.getCoordinates());\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tvar pts = arguments[0];\n\t\t\tvar p0 = null;\n\t\t\tvar p1 = null;\n\t\t\tif (pts.length === 2) {\n\t\t\t\tp0 = new Coordinate(pts[0]);\n\t\t\t\tp1 = new Coordinate(pts[1]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\t\tpts[i].x = pts[i].x / this._scaleFactor + this._offsetX;\n\t\t\t\tpts[i].y = pts[i].y / this._scaleFactor + this._offsetY;\n\t\t\t}\n\t\t\tif (pts.length === 2 && pts[0].equals2D(pts[1])) {\n\t\t\t\tSystem.out.println(pts);\n\t\t\t}\n\t\t}\n\t},\n\tscale: function scale() {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tvar segStrings = arguments[0];\n\t\t\tvar nodedSegmentStrings = new ArrayList(segStrings.size());\n\t\t\tfor (var i = segStrings.iterator(); i.hasNext();) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tnodedSegmentStrings.add(new NodedSegmentString(this.scale(ss.getCoordinates()), ss.getData()));\n\t\t\t}\n\t\t\treturn nodedSegmentStrings;\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tvar pts = arguments[0];\n\t\t\tvar roundPts = new Array(pts.length).fill(null);\n\t\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\t\troundPts[i] = new Coordinate(Math.round((pts[i].x - this._offsetX) * this._scaleFactor), Math.round((pts[i].y - this._offsetY) * this._scaleFactor), pts[i].z);\n\t\t\t}\n\t\t\tvar roundPtsNoDup = CoordinateArrays.removeRepeatedPoints(roundPts);\n\t\t\treturn roundPtsNoDup;\n\t\t}\n\t},\n\tisIntegerPrecision: function isIntegerPrecision() {\n\t\treturn this._scaleFactor === 1.0;\n\t},\n\tgetNodedSubstrings: function getNodedSubstrings() {\n\t\tvar splitSS = this._noder.getNodedSubstrings();\n\t\tif (this._isScaled) this.rescale(splitSS);\n\t\treturn splitSS;\n\t},\n\tcomputeNodes: function computeNodes(inputSegStrings) {\n\t\tvar intSegStrings = inputSegStrings;\n\t\tif (this._isScaled) intSegStrings = this.scale(inputSegStrings);\n\t\tthis._noder.computeNodes(intSegStrings);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Noder];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ScaledNoder;\n\t}\n});\n\n\n\nvar noding = Object.freeze({\n\tMCIndexNoder: MCIndexNoder,\n\tScaledNoder: ScaledNoder,\n\tSegmentString: SegmentString\n});\n\nfunction IsSimpleOp() {\n\tthis._inputGeom = null;\n\tthis._isClosedEndpointsInInterior = true;\n\tthis._nonSimpleLocation = null;\n\tif (arguments.length === 1) {\n\t\tvar geom = arguments[0];\n\t\tthis._inputGeom = geom;\n\t} else if (arguments.length === 2) {\n\t\tvar _geom = arguments[0],\n\t\t    boundaryNodeRule = arguments[1];\n\t\tthis._inputGeom = _geom;\n\t\tthis._isClosedEndpointsInInterior = !boundaryNodeRule.isInBoundary(2);\n\t}\n}\nextend(IsSimpleOp.prototype, {\n\tisSimpleMultiPoint: function isSimpleMultiPoint(mp) {\n\t\tif (mp.isEmpty()) return true;\n\t\tvar points = new TreeSet();\n\t\tfor (var i = 0; i < mp.getNumGeometries(); i++) {\n\t\t\tvar pt = mp.getGeometryN(i);\n\t\t\tvar p = pt.getCoordinate();\n\t\t\tif (points.contains(p)) {\n\t\t\t\tthis._nonSimpleLocation = p;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tpoints.add(p);\n\t\t}\n\t\treturn true;\n\t},\n\tisSimplePolygonal: function isSimplePolygonal(geom) {\n\t\tvar rings = LinearComponentExtracter.getLines(geom);\n\t\tfor (var i = rings.iterator(); i.hasNext();) {\n\t\t\tvar ring = i.next();\n\t\t\tif (!this.isSimpleLinearGeometry(ring)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\thasClosedEndpointIntersection: function hasClosedEndpointIntersection(graph) {\n\t\tvar endPoints = new TreeMap();\n\t\tfor (var i = graph.getEdgeIterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\tvar maxSegmentIndex = e.getMaximumSegmentIndex();\n\t\t\tvar isClosed = e.isClosed();\n\t\t\tvar p0 = e.getCoordinate(0);\n\t\t\tthis.addEndpoint(endPoints, p0, isClosed);\n\t\t\tvar p1 = e.getCoordinate(e.getNumPoints() - 1);\n\t\t\tthis.addEndpoint(endPoints, p1, isClosed);\n\t\t}\n\t\tfor (var i = endPoints.values().iterator(); i.hasNext();) {\n\t\t\tvar eiInfo = i.next();\n\t\t\tif (eiInfo.isClosed && eiInfo.degree !== 2) {\n\t\t\t\tthis._nonSimpleLocation = eiInfo.getCoordinate();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tgetNonSimpleLocation: function getNonSimpleLocation() {\n\t\treturn this._nonSimpleLocation;\n\t},\n\tisSimpleLinearGeometry: function isSimpleLinearGeometry(geom) {\n\t\tif (geom.isEmpty()) return true;\n\t\tvar graph = new GeometryGraph(0, geom);\n\t\tvar li = new RobustLineIntersector();\n\t\tvar si = graph.computeSelfNodes(li, true);\n\t\tif (!si.hasIntersection()) return true;\n\t\tif (si.hasProperIntersection()) {\n\t\t\tthis._nonSimpleLocation = si.getProperIntersectionPoint();\n\t\t\treturn false;\n\t\t}\n\t\tif (this.hasNonEndpointIntersection(graph)) return false;\n\t\tif (this._isClosedEndpointsInInterior) {\n\t\t\tif (this.hasClosedEndpointIntersection(graph)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\thasNonEndpointIntersection: function hasNonEndpointIntersection(graph) {\n\t\tfor (var i = graph.getEdgeIterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\tvar maxSegmentIndex = e.getMaximumSegmentIndex();\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext();) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tif (!ei.isEndPoint(maxSegmentIndex)) {\n\t\t\t\t\tthis._nonSimpleLocation = ei.getCoordinate();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\taddEndpoint: function addEndpoint(endPoints, p, isClosed) {\n\t\tvar eiInfo = endPoints.get(p);\n\t\tif (eiInfo === null) {\n\t\t\teiInfo = new EndpointInfo(p);\n\t\t\tendPoints.put(p, eiInfo);\n\t\t}\n\t\teiInfo.addEndpoint(isClosed);\n\t},\n\tcomputeSimple: function computeSimple(geom) {\n\t\tthis._nonSimpleLocation = null;\n\t\tif (geom.isEmpty()) return true;\n\t\tif (geom instanceof LineString) return this.isSimpleLinearGeometry(geom);\n\t\tif (geom instanceof MultiLineString) return this.isSimpleLinearGeometry(geom);\n\t\tif (geom instanceof MultiPoint) return this.isSimpleMultiPoint(geom);\n\t\tif (hasInterface(geom, Polygonal)) return this.isSimplePolygonal(geom);\n\t\tif (geom instanceof GeometryCollection) return this.isSimpleGeometryCollection(geom);\n\t\treturn true;\n\t},\n\tisSimple: function isSimple() {\n\t\tthis._nonSimpleLocation = null;\n\t\treturn this.computeSimple(this._inputGeom);\n\t},\n\tisSimpleGeometryCollection: function isSimpleGeometryCollection(geom) {\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar comp = geom.getGeometryN(i);\n\t\t\tif (!this.computeSimple(comp)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IsSimpleOp;\n\t}\n});\nIsSimpleOp.isSimple = function () {\n\tif (arguments.length === 1) {\n\t\tvar geom = arguments[0];\n\t\tvar op = new IsSimpleOp(geom);\n\t\treturn op.isSimple();\n\t} else if (arguments.length === 2) {\n\t\tvar _geom2 = arguments[0],\n\t\t    boundaryNodeRule = arguments[1];\n\t\tvar op = new IsSimpleOp(_geom2, boundaryNodeRule);\n\t\treturn op.isSimple();\n\t}\n};\nfunction EndpointInfo() {\n\tthis.pt = null;\n\tthis.isClosed = null;\n\tthis.degree = null;\n\tvar pt = arguments[0];\n\tthis.pt = pt;\n\tthis.isClosed = false;\n\tthis.degree = 0;\n}\nextend(EndpointInfo.prototype, {\n\taddEndpoint: function addEndpoint(isClosed) {\n\t\tthis.degree++;\n\t\tthis.isClosed |= isClosed;\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this.pt;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EndpointInfo;\n\t}\n});\nIsSimpleOp.EndpointInfo = EndpointInfo;\n\nfunction BufferParameters() {\n\tthis._quadrantSegments = BufferParameters.DEFAULT_QUADRANT_SEGMENTS;\n\tthis._endCapStyle = BufferParameters.CAP_ROUND;\n\tthis._joinStyle = BufferParameters.JOIN_ROUND;\n\tthis._mitreLimit = BufferParameters.DEFAULT_MITRE_LIMIT;\n\tthis._isSingleSided = false;\n\tthis._simplifyFactor = BufferParameters.DEFAULT_SIMPLIFY_FACTOR;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tvar quadrantSegments = arguments[0];\n\t\tthis.setQuadrantSegments(quadrantSegments);\n\t} else if (arguments.length === 2) {\n\t\tvar _quadrantSegments = arguments[0],\n\t\t    endCapStyle = arguments[1];\n\t\tthis.setQuadrantSegments(_quadrantSegments);\n\t\tthis.setEndCapStyle(endCapStyle);\n\t} else if (arguments.length === 4) {\n\t\tvar _quadrantSegments2 = arguments[0],\n\t\t    _endCapStyle = arguments[1],\n\t\t    joinStyle = arguments[2],\n\t\t    mitreLimit = arguments[3];\n\t\tthis.setQuadrantSegments(_quadrantSegments2);\n\t\tthis.setEndCapStyle(_endCapStyle);\n\t\tthis.setJoinStyle(joinStyle);\n\t\tthis.setMitreLimit(mitreLimit);\n\t}\n}\nextend(BufferParameters.prototype, {\n\tgetEndCapStyle: function getEndCapStyle() {\n\t\treturn this._endCapStyle;\n\t},\n\tisSingleSided: function isSingleSided() {\n\t\treturn this._isSingleSided;\n\t},\n\tsetQuadrantSegments: function setQuadrantSegments(quadSegs) {\n\t\tthis._quadrantSegments = quadSegs;\n\t\tif (this._quadrantSegments === 0) this._joinStyle = BufferParameters.JOIN_BEVEL;\n\t\tif (this._quadrantSegments < 0) {\n\t\t\tthis._joinStyle = BufferParameters.JOIN_MITRE;\n\t\t\tthis._mitreLimit = Math.abs(this._quadrantSegments);\n\t\t}\n\t\tif (quadSegs <= 0) {\n\t\t\tthis._quadrantSegments = 1;\n\t\t}\n\t\tif (this._joinStyle !== BufferParameters.JOIN_ROUND) {\n\t\t\tthis._quadrantSegments = BufferParameters.DEFAULT_QUADRANT_SEGMENTS;\n\t\t}\n\t},\n\tgetJoinStyle: function getJoinStyle() {\n\t\treturn this._joinStyle;\n\t},\n\tsetJoinStyle: function setJoinStyle(joinStyle) {\n\t\tthis._joinStyle = joinStyle;\n\t},\n\tsetSimplifyFactor: function setSimplifyFactor(simplifyFactor) {\n\t\tthis._simplifyFactor = simplifyFactor < 0 ? 0 : simplifyFactor;\n\t},\n\tgetSimplifyFactor: function getSimplifyFactor() {\n\t\treturn this._simplifyFactor;\n\t},\n\tgetQuadrantSegments: function getQuadrantSegments() {\n\t\treturn this._quadrantSegments;\n\t},\n\tsetEndCapStyle: function setEndCapStyle(endCapStyle) {\n\t\tthis._endCapStyle = endCapStyle;\n\t},\n\tgetMitreLimit: function getMitreLimit() {\n\t\treturn this._mitreLimit;\n\t},\n\tsetMitreLimit: function setMitreLimit(mitreLimit) {\n\t\tthis._mitreLimit = mitreLimit;\n\t},\n\tsetSingleSided: function setSingleSided(isSingleSided) {\n\t\tthis._isSingleSided = isSingleSided;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BufferParameters;\n\t}\n});\nBufferParameters.bufferDistanceError = function (quadSegs) {\n\tvar alpha = Math.PI / 2.0 / quadSegs;\n\treturn 1 - Math.cos(alpha / 2.0);\n};\nBufferParameters.CAP_ROUND = 1;\nBufferParameters.CAP_FLAT = 2;\nBufferParameters.CAP_SQUARE = 3;\nBufferParameters.JOIN_ROUND = 1;\nBufferParameters.JOIN_MITRE = 2;\nBufferParameters.JOIN_BEVEL = 3;\nBufferParameters.DEFAULT_QUADRANT_SEGMENTS = 8;\nBufferParameters.DEFAULT_MITRE_LIMIT = 5.0;\nBufferParameters.DEFAULT_SIMPLIFY_FACTOR = 0.01;\n\nfunction RightmostEdgeFinder() {\n\tthis._minIndex = -1;\n\tthis._minCoord = null;\n\tthis._minDe = null;\n\tthis._orientedDe = null;\n}\nextend(RightmostEdgeFinder.prototype, {\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._minCoord;\n\t},\n\tgetRightmostSide: function getRightmostSide(de, index) {\n\t\tvar side = this.getRightmostSideOfSegment(de, index);\n\t\tif (side < 0) side = this.getRightmostSideOfSegment(de, index - 1);\n\t\tif (side < 0) {\n\t\t\tthis._minCoord = null;\n\t\t\tthis.checkForRightmostCoordinate(de);\n\t\t}\n\t\treturn side;\n\t},\n\tfindRightmostEdgeAtVertex: function findRightmostEdgeAtVertex() {\n\t\tvar pts = this._minDe.getEdge().getCoordinates();\n\t\tAssert.isTrue(this._minIndex > 0 && this._minIndex < pts.length, \"rightmost point expected to be interior vertex of edge\");\n\t\tvar pPrev = pts[this._minIndex - 1];\n\t\tvar pNext = pts[this._minIndex + 1];\n\t\tvar orientation = Orientation.index(this._minCoord, pNext, pPrev);\n\t\tvar usePrev = false;\n\t\tif (pPrev.y < this._minCoord.y && pNext.y < this._minCoord.y && orientation === Orientation.COUNTERCLOCKWISE) {\n\t\t\tusePrev = true;\n\t\t} else if (pPrev.y > this._minCoord.y && pNext.y > this._minCoord.y && orientation === Orientation.CLOCKWISE) {\n\t\t\tusePrev = true;\n\t\t}\n\t\tif (usePrev) {\n\t\t\tthis._minIndex = this._minIndex - 1;\n\t\t}\n\t},\n\tgetRightmostSideOfSegment: function getRightmostSideOfSegment(de, i) {\n\t\tvar e = de.getEdge();\n\t\tvar coord = e.getCoordinates();\n\t\tif (i < 0 || i + 1 >= coord.length) return -1;\n\t\tif (coord[i].y === coord[i + 1].y) return -1;\n\t\tvar pos = Position.LEFT;\n\t\tif (coord[i].y < coord[i + 1].y) pos = Position.RIGHT;\n\t\treturn pos;\n\t},\n\tgetEdge: function getEdge() {\n\t\treturn this._orientedDe;\n\t},\n\tcheckForRightmostCoordinate: function checkForRightmostCoordinate(de) {\n\t\tvar coord = de.getEdge().getCoordinates();\n\t\tfor (var i = 0; i < coord.length - 1; i++) {\n\t\t\tif (this._minCoord === null || coord[i].x > this._minCoord.x) {\n\t\t\t\tthis._minDe = de;\n\t\t\t\tthis._minIndex = i;\n\t\t\t\tthis._minCoord = coord[i];\n\t\t\t}\n\t\t}\n\t},\n\tfindRightmostEdgeAtNode: function findRightmostEdgeAtNode() {\n\t\tvar node = this._minDe.getNode();\n\t\tvar star = node.getEdges();\n\t\tthis._minDe = star.getRightmostEdge();\n\t\tif (!this._minDe.isForward()) {\n\t\t\tthis._minDe = this._minDe.getSym();\n\t\t\tthis._minIndex = this._minDe.getEdge().getCoordinates().length - 1;\n\t\t}\n\t},\n\tfindEdge: function findEdge(dirEdgeList) {\n\t\tfor (var i = dirEdgeList.iterator(); i.hasNext();) {\n\t\t\tvar de = i.next();\n\t\t\tif (!de.isForward()) continue;\n\t\t\tthis.checkForRightmostCoordinate(de);\n\t\t}\n\t\tAssert.isTrue(this._minIndex !== 0 || this._minCoord.equals(this._minDe.getCoordinate()), \"inconsistency in rightmost processing\");\n\t\tif (this._minIndex === 0) {\n\t\t\tthis.findRightmostEdgeAtNode();\n\t\t} else {\n\t\t\tthis.findRightmostEdgeAtVertex();\n\t\t}\n\t\tthis._orientedDe = this._minDe;\n\t\tvar rightmostSide = this.getRightmostSide(this._minDe, this._minIndex);\n\t\tif (rightmostSide === Position.LEFT) {\n\t\t\tthis._orientedDe = this._minDe.getSym();\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RightmostEdgeFinder;\n\t}\n});\n\nfunction LinkedList() {\n  this.array_ = [];\n}\nLinkedList.prototype.addLast = function (e) {\n  this.array_.push(e);\n};\nLinkedList.prototype.removeFirst = function () {\n  return this.array_.shift();\n};\nLinkedList.prototype.isEmpty = function () {\n  return this.array_.length === 0;\n};\n\nfunction BufferSubgraph() {\n\tthis._finder = null;\n\tthis._dirEdgeList = new ArrayList();\n\tthis._nodes = new ArrayList();\n\tthis._rightMostCoord = null;\n\tthis._env = null;\n\tthis._finder = new RightmostEdgeFinder();\n}\nextend(BufferSubgraph.prototype, {\n\tclearVisitedEdges: function clearVisitedEdges() {\n\t\tfor (var it = this._dirEdgeList.iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tde.setVisited(false);\n\t\t}\n\t},\n\tgetRightmostCoordinate: function getRightmostCoordinate() {\n\t\treturn this._rightMostCoord;\n\t},\n\tcomputeNodeDepth: function computeNodeDepth(n) {\n\t\tvar startEdge = null;\n\t\tfor (var i = n.getEdges().iterator(); i.hasNext();) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.isVisited() || de.getSym().isVisited()) {\n\t\t\t\tstartEdge = de;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (startEdge === null) throw new TopologyException(\"unable to find edge to compute depths at \" + n.getCoordinate());\n\t\tn.getEdges().computeDepths(startEdge);\n\t\tfor (var i = n.getEdges().iterator(); i.hasNext();) {\n\t\t\tvar de = i.next();\n\t\t\tde.setVisited(true);\n\t\t\tthis.copySymDepths(de);\n\t\t}\n\t},\n\tcomputeDepth: function computeDepth(outsideDepth) {\n\t\tthis.clearVisitedEdges();\n\t\tvar de = this._finder.getEdge();\n\t\tvar n = de.getNode();\n\t\tvar label = de.getLabel();\n\t\tde.setEdgeDepths(Position.RIGHT, outsideDepth);\n\t\tthis.copySymDepths(de);\n\t\tthis.computeDepths(de);\n\t},\n\tcreate: function create(node) {\n\t\tthis.addReachable(node);\n\t\tthis._finder.findEdge(this._dirEdgeList);\n\t\tthis._rightMostCoord = this._finder.getCoordinate();\n\t},\n\tfindResultEdges: function findResultEdges() {\n\t\tfor (var it = this._dirEdgeList.iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.getDepth(Position.RIGHT) >= 1 && de.getDepth(Position.LEFT) <= 0 && !de.isInteriorAreaEdge()) {\n\t\t\t\tde.setInResult(true);\n\t\t\t}\n\t\t}\n\t},\n\tcomputeDepths: function computeDepths(startEdge) {\n\t\tvar nodesVisited = new HashSet();\n\t\tvar nodeQueue = new LinkedList();\n\t\tvar startNode = startEdge.getNode();\n\t\tnodeQueue.addLast(startNode);\n\t\tnodesVisited.add(startNode);\n\t\tstartEdge.setVisited(true);\n\t\twhile (!nodeQueue.isEmpty()) {\n\t\t\tvar n = nodeQueue.removeFirst();\n\t\t\tnodesVisited.add(n);\n\t\t\tthis.computeNodeDepth(n);\n\t\t\tfor (var i = n.getEdges().iterator(); i.hasNext();) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tvar sym = de.getSym();\n\t\t\t\tif (sym.isVisited()) continue;\n\t\t\t\tvar adjNode = sym.getNode();\n\t\t\t\tif (!nodesVisited.contains(adjNode)) {\n\t\t\t\t\tnodeQueue.addLast(adjNode);\n\t\t\t\t\tnodesVisited.add(adjNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcompareTo: function compareTo(o) {\n\t\tvar graph = o;\n\t\tif (this._rightMostCoord.x < graph._rightMostCoord.x) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (this._rightMostCoord.x > graph._rightMostCoord.x) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t},\n\tgetEnvelope: function getEnvelope() {\n\t\tif (this._env === null) {\n\t\t\tvar edgeEnv = new Envelope();\n\t\t\tfor (var it = this._dirEdgeList.iterator(); it.hasNext();) {\n\t\t\t\tvar dirEdge = it.next();\n\t\t\t\tvar pts = dirEdge.getEdge().getCoordinates();\n\t\t\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\t\t\tedgeEnv.expandToInclude(pts[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._env = edgeEnv;\n\t\t}\n\t\treturn this._env;\n\t},\n\taddReachable: function addReachable(startNode) {\n\t\tvar nodeStack = new Stack();\n\t\tnodeStack.add(startNode);\n\t\twhile (!nodeStack.empty()) {\n\t\t\tvar node = nodeStack.pop();\n\t\t\tthis.add(node, nodeStack);\n\t\t}\n\t},\n\tcopySymDepths: function copySymDepths(de) {\n\t\tvar sym = de.getSym();\n\t\tsym.setDepth(Position.LEFT, de.getDepth(Position.RIGHT));\n\t\tsym.setDepth(Position.RIGHT, de.getDepth(Position.LEFT));\n\t},\n\tadd: function add(node, nodeStack) {\n\t\tnode.setVisited(true);\n\t\tthis._nodes.add(node);\n\t\tfor (var i = node.getEdges().iterator(); i.hasNext();) {\n\t\t\tvar de = i.next();\n\t\t\tthis._dirEdgeList.add(de);\n\t\t\tvar sym = de.getSym();\n\t\t\tvar symNode = sym.getNode();\n\t\t\tif (!symNode.isVisited()) nodeStack.push(symNode);\n\t\t}\n\t},\n\tgetNodes: function getNodes() {\n\t\treturn this._nodes;\n\t},\n\tgetDirectedEdges: function getDirectedEdges() {\n\t\treturn this._dirEdgeList;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BufferSubgraph;\n\t}\n});\n\nfunction EdgeRing() {\n\tthis._startDe = null;\n\tthis._maxNodeDegree = -1;\n\tthis._edges = new ArrayList();\n\tthis._pts = new ArrayList();\n\tthis._label = new Label(Location.NONE);\n\tthis._ring = null;\n\tthis._isHole = null;\n\tthis._shell = null;\n\tthis._holes = new ArrayList();\n\tthis._geometryFactory = null;\n\tvar start = arguments[0],\n\t    geometryFactory = arguments[1];\n\tthis._geometryFactory = geometryFactory;\n\tthis.computePoints(start);\n\tthis.computeRing();\n}\nextend(EdgeRing.prototype, {\n\tcomputeRing: function computeRing() {\n\t\tif (this._ring !== null) return null;\n\t\tvar coord = new Array(this._pts.size()).fill(null);\n\t\tfor (var i = 0; i < this._pts.size(); i++) {\n\t\t\tcoord[i] = this._pts.get(i);\n\t\t}\n\t\tthis._ring = this._geometryFactory.createLinearRing(coord);\n\t\tthis._isHole = Orientation.isCCW(this._ring.getCoordinates());\n\t},\n\tisIsolated: function isIsolated() {\n\t\treturn this._label.getGeometryCount() === 1;\n\t},\n\tcomputePoints: function computePoints(start) {\n\t\tthis._startDe = start;\n\t\tvar de = start;\n\t\tvar isFirstEdge = true;\n\t\tdo {\n\t\t\tif (de === null) throw new TopologyException(\"Found null DirectedEdge\");\n\t\t\tif (de.getEdgeRing() === this) throw new TopologyException(\"Directed Edge visited twice during ring-building at \" + de.getCoordinate());\n\t\t\tthis._edges.add(de);\n\t\t\tvar label = de.getLabel();\n\t\t\tAssert.isTrue(label.isArea());\n\t\t\tthis.mergeLabel(label);\n\t\t\tthis.addPoints(de.getEdge(), de.isForward(), isFirstEdge);\n\t\t\tisFirstEdge = false;\n\t\t\tthis.setEdgeRing(de, this);\n\t\t\tde = this.getNext(de);\n\t\t} while (de !== this._startDe);\n\t},\n\tgetLinearRing: function getLinearRing() {\n\t\treturn this._ring;\n\t},\n\tgetCoordinate: function getCoordinate(i) {\n\t\treturn this._pts.get(i);\n\t},\n\tcomputeMaxNodeDegree: function computeMaxNodeDegree() {\n\t\tthis._maxNodeDegree = 0;\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tvar node = de.getNode();\n\t\t\tvar degree = node.getEdges().getOutgoingDegree(this);\n\t\t\tif (degree > this._maxNodeDegree) this._maxNodeDegree = degree;\n\t\t\tde = this.getNext(de);\n\t\t} while (de !== this._startDe);\n\t\tthis._maxNodeDegree *= 2;\n\t},\n\taddPoints: function addPoints(edge, isForward, isFirstEdge) {\n\t\tvar edgePts = edge.getCoordinates();\n\t\tif (isForward) {\n\t\t\tvar startIndex = 1;\n\t\t\tif (isFirstEdge) startIndex = 0;\n\t\t\tfor (var i = startIndex; i < edgePts.length; i++) {\n\t\t\t\tthis._pts.add(edgePts[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tvar startIndex = edgePts.length - 2;\n\t\t\tif (isFirstEdge) startIndex = edgePts.length - 1;\n\t\t\tfor (var i = startIndex; i >= 0; i--) {\n\t\t\t\tthis._pts.add(edgePts[i]);\n\t\t\t}\n\t\t}\n\t},\n\tisHole: function isHole() {\n\t\treturn this._isHole;\n\t},\n\tsetInResult: function setInResult() {\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tde.getEdge().setInResult(true);\n\t\t\tde = de.getNext();\n\t\t} while (de !== this._startDe);\n\t},\n\tcontainsPoint: function containsPoint(p) {\n\t\tvar shell = this.getLinearRing();\n\t\tvar env = shell.getEnvelopeInternal();\n\t\tif (!env.contains(p)) return false;\n\t\tif (!PointLocation.isInRing(p, shell.getCoordinates())) return false;\n\t\tfor (var i = this._holes.iterator(); i.hasNext();) {\n\t\t\tvar hole = i.next();\n\t\t\tif (hole.containsPoint(p)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\taddHole: function addHole(ring) {\n\t\tthis._holes.add(ring);\n\t},\n\tisShell: function isShell() {\n\t\treturn this._shell === null;\n\t},\n\tgetLabel: function getLabel() {\n\t\treturn this._label;\n\t},\n\tgetEdges: function getEdges() {\n\t\treturn this._edges;\n\t},\n\tgetMaxNodeDegree: function getMaxNodeDegree() {\n\t\tif (this._maxNodeDegree < 0) this.computeMaxNodeDegree();\n\t\treturn this._maxNodeDegree;\n\t},\n\tgetShell: function getShell() {\n\t\treturn this._shell;\n\t},\n\tmergeLabel: function mergeLabel() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar deLabel = arguments[0];\n\t\t\tthis.mergeLabel(deLabel, 0);\n\t\t\tthis.mergeLabel(deLabel, 1);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _deLabel = arguments[0],\n\t\t\t    geomIndex = arguments[1];\n\t\t\tvar loc = _deLabel.getLocation(geomIndex, Position.RIGHT);\n\t\t\tif (loc === Location.NONE) return null;\n\t\t\tif (this._label.getLocation(geomIndex) === Location.NONE) {\n\t\t\t\tthis._label.setLocation(geomIndex, loc);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tsetShell: function setShell(shell) {\n\t\tthis._shell = shell;\n\t\tif (shell !== null) shell.addHole(this);\n\t},\n\ttoPolygon: function toPolygon(geometryFactory) {\n\t\tvar holeLR = new Array(this._holes.size()).fill(null);\n\t\tfor (var i = 0; i < this._holes.size(); i++) {\n\t\t\tholeLR[i] = this._holes.get(i).getLinearRing();\n\t\t}\n\t\tvar poly = geometryFactory.createPolygon(this.getLinearRing(), holeLR);\n\t\treturn poly;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeRing;\n\t}\n});\n\nfunction MinimalEdgeRing() {\n\tvar start = arguments[0],\n\t    geometryFactory = arguments[1];\n\tEdgeRing.call(this, start, geometryFactory);\n}\ninherits(MinimalEdgeRing, EdgeRing);\nextend(MinimalEdgeRing.prototype, {\n\tsetEdgeRing: function setEdgeRing(de, er) {\n\t\tde.setMinEdgeRing(er);\n\t},\n\tgetNext: function getNext(de) {\n\t\treturn de.getNextMin();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MinimalEdgeRing;\n\t}\n});\n\nfunction MaximalEdgeRing() {\n\tvar start = arguments[0],\n\t    geometryFactory = arguments[1];\n\tEdgeRing.call(this, start, geometryFactory);\n}\ninherits(MaximalEdgeRing, EdgeRing);\nextend(MaximalEdgeRing.prototype, {\n\tbuildMinimalRings: function buildMinimalRings() {\n\t\tvar minEdgeRings = new ArrayList();\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tif (de.getMinEdgeRing() === null) {\n\t\t\t\tvar minEr = new MinimalEdgeRing(de, this._geometryFactory);\n\t\t\t\tminEdgeRings.add(minEr);\n\t\t\t}\n\t\t\tde = de.getNext();\n\t\t} while (de !== this._startDe);\n\t\treturn minEdgeRings;\n\t},\n\tsetEdgeRing: function setEdgeRing(de, er) {\n\t\tde.setEdgeRing(er);\n\t},\n\tlinkDirectedEdgesForMinimalEdgeRings: function linkDirectedEdgesForMinimalEdgeRings() {\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tvar node = de.getNode();\n\t\t\tnode.getEdges().linkMinimalDirectedEdges(this);\n\t\t\tde = de.getNext();\n\t\t} while (de !== this._startDe);\n\t},\n\tgetNext: function getNext(de) {\n\t\treturn de.getNext();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MaximalEdgeRing;\n\t}\n});\n\nfunction PolygonBuilder() {\n\tthis._geometryFactory = null;\n\tthis._shellList = new ArrayList();\n\tvar geometryFactory = arguments[0];\n\tthis._geometryFactory = geometryFactory;\n}\nextend(PolygonBuilder.prototype, {\n\tsortShellsAndHoles: function sortShellsAndHoles(edgeRings, shellList, freeHoleList) {\n\t\tfor (var it = edgeRings.iterator(); it.hasNext();) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.isHole()) {\n\t\t\t\tfreeHoleList.add(er);\n\t\t\t} else {\n\t\t\t\tshellList.add(er);\n\t\t\t}\n\t\t}\n\t},\n\tcomputePolygons: function computePolygons(shellList) {\n\t\tvar resultPolyList = new ArrayList();\n\t\tfor (var it = shellList.iterator(); it.hasNext();) {\n\t\t\tvar er = it.next();\n\t\t\tvar poly = er.toPolygon(this._geometryFactory);\n\t\t\tresultPolyList.add(poly);\n\t\t}\n\t\treturn resultPolyList;\n\t},\n\tplaceFreeHoles: function placeFreeHoles(shellList, freeHoleList) {\n\t\tfor (var it = freeHoleList.iterator(); it.hasNext();) {\n\t\t\tvar hole = it.next();\n\t\t\tif (hole.getShell() === null) {\n\t\t\t\tvar shell = this.findEdgeRingContaining(hole, shellList);\n\t\t\t\tif (shell === null) throw new TopologyException(\"unable to assign hole to a shell\", hole.getCoordinate(0));\n\t\t\t\thole.setShell(shell);\n\t\t\t}\n\t\t}\n\t},\n\tbuildMinimalEdgeRings: function buildMinimalEdgeRings(maxEdgeRings, shellList, freeHoleList) {\n\t\tvar edgeRings = new ArrayList();\n\t\tfor (var it = maxEdgeRings.iterator(); it.hasNext();) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.getMaxNodeDegree() > 2) {\n\t\t\t\ter.linkDirectedEdgesForMinimalEdgeRings();\n\t\t\t\tvar minEdgeRings = er.buildMinimalRings();\n\t\t\t\tvar shell = this.findShell(minEdgeRings);\n\t\t\t\tif (shell !== null) {\n\t\t\t\t\tthis.placePolygonHoles(shell, minEdgeRings);\n\t\t\t\t\tshellList.add(shell);\n\t\t\t\t} else {\n\t\t\t\t\tfreeHoleList.addAll(minEdgeRings);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tedgeRings.add(er);\n\t\t\t}\n\t\t}\n\t\treturn edgeRings;\n\t},\n\tcontainsPoint: function containsPoint(p) {\n\t\tfor (var it = this._shellList.iterator(); it.hasNext();) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.containsPoint(p)) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tbuildMaximalEdgeRings: function buildMaximalEdgeRings(dirEdges) {\n\t\tvar maxEdgeRings = new ArrayList();\n\t\tfor (var it = dirEdges.iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.isInResult() && de.getLabel().isArea()) {\n\t\t\t\tif (de.getEdgeRing() === null) {\n\t\t\t\t\tvar er = new MaximalEdgeRing(de, this._geometryFactory);\n\t\t\t\t\tmaxEdgeRings.add(er);\n\t\t\t\t\ter.setInResult();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn maxEdgeRings;\n\t},\n\tplacePolygonHoles: function placePolygonHoles(shell, minEdgeRings) {\n\t\tfor (var it = minEdgeRings.iterator(); it.hasNext();) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.isHole()) {\n\t\t\t\ter.setShell(shell);\n\t\t\t}\n\t\t}\n\t},\n\tgetPolygons: function getPolygons() {\n\t\tvar resultPolyList = this.computePolygons(this._shellList);\n\t\treturn resultPolyList;\n\t},\n\tfindEdgeRingContaining: function findEdgeRingContaining(testEr, shellList) {\n\t\tvar testRing = testEr.getLinearRing();\n\t\tvar testEnv = testRing.getEnvelopeInternal();\n\t\tvar testPt = testRing.getCoordinateN(0);\n\t\tvar minShell = null;\n\t\tvar minEnv = null;\n\t\tfor (var it = shellList.iterator(); it.hasNext();) {\n\t\t\tvar tryShell = it.next();\n\t\t\tvar tryRing = tryShell.getLinearRing();\n\t\t\tvar tryEnv = tryRing.getEnvelopeInternal();\n\t\t\tif (minShell !== null) minEnv = minShell.getLinearRing().getEnvelopeInternal();\n\t\t\tvar isContained = false;\n\t\t\tif (tryEnv.contains(testEnv) && PointLocation.isInRing(testPt, tryRing.getCoordinates())) isContained = true;\n\t\t\tif (isContained) {\n\t\t\t\tif (minShell === null || minEnv.contains(tryEnv)) {\n\t\t\t\t\tminShell = tryShell;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn minShell;\n\t},\n\tfindShell: function findShell(minEdgeRings) {\n\t\tvar shellCount = 0;\n\t\tvar shell = null;\n\t\tfor (var it = minEdgeRings.iterator(); it.hasNext();) {\n\t\t\tvar er = it.next();\n\t\t\tif (!er.isHole()) {\n\t\t\t\tshell = er;\n\t\t\t\tshellCount++;\n\t\t\t}\n\t\t}\n\t\tAssert.isTrue(shellCount <= 1, \"found two shells in MinimalEdgeRing list\");\n\t\treturn shell;\n\t},\n\tadd: function add() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar graph = arguments[0];\n\t\t\tthis.add(graph.getEdgeEnds(), graph.getNodes());\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar dirEdges = arguments[0],\n\t\t\t    nodes = arguments[1];\n\t\t\tPlanarGraph.linkResultDirectedEdges(nodes);\n\t\t\tvar maxEdgeRings = this.buildMaximalEdgeRings(dirEdges);\n\t\t\tvar freeHoleList = new ArrayList();\n\t\t\tvar edgeRings = this.buildMinimalEdgeRings(maxEdgeRings, this._shellList, freeHoleList);\n\t\t\tthis.sortShellsAndHoles(edgeRings, this._shellList, freeHoleList);\n\t\t\tthis.placeFreeHoles(this._shellList, freeHoleList);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PolygonBuilder;\n\t}\n});\n\nfunction BufferInputLineSimplifier() {\n\tthis._inputLine = null;\n\tthis._distanceTol = null;\n\tthis._isDeleted = null;\n\tthis._angleOrientation = Orientation.COUNTERCLOCKWISE;\n\tvar inputLine = arguments[0];\n\tthis._inputLine = inputLine;\n}\nextend(BufferInputLineSimplifier.prototype, {\n\tisDeletable: function isDeletable(i0, i1, i2, distanceTol) {\n\t\tvar p0 = this._inputLine[i0];\n\t\tvar p1 = this._inputLine[i1];\n\t\tvar p2 = this._inputLine[i2];\n\t\tif (!this.isConcave(p0, p1, p2)) return false;\n\t\tif (!this.isShallow(p0, p1, p2, distanceTol)) return false;\n\t\treturn this.isShallowSampled(p0, p1, i0, i2, distanceTol);\n\t},\n\tdeleteShallowConcavities: function deleteShallowConcavities() {\n\t\tvar index = 1;\n\t\tvar maxIndex = this._inputLine.length - 1;\n\t\tvar midIndex = this.findNextNonDeletedIndex(index);\n\t\tvar lastIndex = this.findNextNonDeletedIndex(midIndex);\n\t\tvar isChanged = false;\n\t\twhile (lastIndex < this._inputLine.length) {\n\t\t\tvar isMiddleVertexDeleted = false;\n\t\t\tif (this.isDeletable(index, midIndex, lastIndex, this._distanceTol)) {\n\t\t\t\tthis._isDeleted[midIndex] = BufferInputLineSimplifier.DELETE;\n\t\t\t\tisMiddleVertexDeleted = true;\n\t\t\t\tisChanged = true;\n\t\t\t}\n\t\t\tif (isMiddleVertexDeleted) index = lastIndex;else index = midIndex;\n\t\t\tmidIndex = this.findNextNonDeletedIndex(index);\n\t\t\tlastIndex = this.findNextNonDeletedIndex(midIndex);\n\t\t}\n\t\treturn isChanged;\n\t},\n\tisShallowConcavity: function isShallowConcavity(p0, p1, p2, distanceTol) {\n\t\tvar orientation = Orientation.index(p0, p1, p2);\n\t\tvar isAngleToSimplify = orientation === this._angleOrientation;\n\t\tif (!isAngleToSimplify) return false;\n\t\tvar dist = Distance.pointToSegment(p1, p0, p2);\n\t\treturn dist < distanceTol;\n\t},\n\tisShallowSampled: function isShallowSampled(p0, p2, i0, i2, distanceTol) {\n\t\tvar inc = Math.trunc((i2 - i0) / BufferInputLineSimplifier.NUM_PTS_TO_CHECK);\n\t\tif (inc <= 0) inc = 1;\n\t\tfor (var i = i0; i < i2; i += inc) {\n\t\t\tif (!this.isShallow(p0, p2, this._inputLine[i], distanceTol)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tisConcave: function isConcave(p0, p1, p2) {\n\t\tvar orientation = Orientation.index(p0, p1, p2);\n\t\tvar isConcave = orientation === this._angleOrientation;\n\t\treturn isConcave;\n\t},\n\tsimplify: function simplify(distanceTol) {\n\t\tthis._distanceTol = Math.abs(distanceTol);\n\t\tif (distanceTol < 0) this._angleOrientation = Orientation.CLOCKWISE;\n\t\tthis._isDeleted = new Array(this._inputLine.length).fill(null);\n\t\tvar isChanged = false;\n\t\tdo {\n\t\t\tisChanged = this.deleteShallowConcavities();\n\t\t} while (isChanged);\n\t\treturn this.collapseLine();\n\t},\n\tfindNextNonDeletedIndex: function findNextNonDeletedIndex(index) {\n\t\tvar next = index + 1;\n\t\twhile (next < this._inputLine.length && this._isDeleted[next] === BufferInputLineSimplifier.DELETE) {\n\t\t\tnext++;\n\t\t}return next;\n\t},\n\tisShallow: function isShallow(p0, p1, p2, distanceTol) {\n\t\tvar dist = Distance.pointToSegment(p1, p0, p2);\n\t\treturn dist < distanceTol;\n\t},\n\tcollapseLine: function collapseLine() {\n\t\tvar coordList = new CoordinateList();\n\t\tfor (var i = 0; i < this._inputLine.length; i++) {\n\t\t\tif (this._isDeleted[i] !== BufferInputLineSimplifier.DELETE) coordList.add(this._inputLine[i]);\n\t\t}\n\t\treturn coordList.toCoordinateArray();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BufferInputLineSimplifier;\n\t}\n});\nBufferInputLineSimplifier.simplify = function (inputLine, distanceTol) {\n\tvar simp = new BufferInputLineSimplifier(inputLine);\n\treturn simp.simplify(distanceTol);\n};\nBufferInputLineSimplifier.INIT = 0;\nBufferInputLineSimplifier.DELETE = 1;\nBufferInputLineSimplifier.KEEP = 1;\nBufferInputLineSimplifier.NUM_PTS_TO_CHECK = 10;\n\nfunction OffsetSegmentString() {\n\tthis._ptList = null;\n\tthis._precisionModel = null;\n\tthis._minimimVertexDistance = 0.0;\n\tthis._ptList = new ArrayList();\n}\nextend(OffsetSegmentString.prototype, {\n\tgetCoordinates: function getCoordinates() {\n\t\tvar coord = this._ptList.toArray(OffsetSegmentString.COORDINATE_ARRAY_TYPE);\n\t\treturn coord;\n\t},\n\tsetPrecisionModel: function setPrecisionModel(precisionModel) {\n\t\tthis._precisionModel = precisionModel;\n\t},\n\taddPt: function addPt(pt) {\n\t\tvar bufPt = new Coordinate(pt);\n\t\tthis._precisionModel.makePrecise(bufPt);\n\t\tif (this.isRedundant(bufPt)) return null;\n\t\tthis._ptList.add(bufPt);\n\t},\n\treverse: function reverse() {},\n\taddPts: function addPts(pt, isForward) {\n\t\tif (isForward) {\n\t\t\tfor (var i = 0; i < pt.length; i++) {\n\t\t\t\tthis.addPt(pt[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = pt.length - 1; i >= 0; i--) {\n\t\t\t\tthis.addPt(pt[i]);\n\t\t\t}\n\t\t}\n\t},\n\tisRedundant: function isRedundant(pt) {\n\t\tif (this._ptList.size() < 1) return false;\n\t\tvar lastPt = this._ptList.get(this._ptList.size() - 1);\n\t\tvar ptDist = pt.distance(lastPt);\n\t\tif (ptDist < this._minimimVertexDistance) return true;\n\t\treturn false;\n\t},\n\ttoString: function toString() {\n\t\tvar fact = new GeometryFactory();\n\t\tvar line = fact.createLineString(this.getCoordinates());\n\t\treturn line.toString();\n\t},\n\tcloseRing: function closeRing() {\n\t\tif (this._ptList.size() < 1) return null;\n\t\tvar startPt = new Coordinate(this._ptList.get(0));\n\t\tvar lastPt = this._ptList.get(this._ptList.size() - 1);\n\t\tvar last2Pt = null;\n\t\tif (this._ptList.size() >= 2) last2Pt = this._ptList.get(this._ptList.size() - 2);\n\t\tif (startPt.equals(lastPt)) return null;\n\t\tthis._ptList.add(startPt);\n\t},\n\tsetMinimumVertexDistance: function setMinimumVertexDistance(minimimVertexDistance) {\n\t\tthis._minimimVertexDistance = minimimVertexDistance;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn OffsetSegmentString;\n\t}\n});\nOffsetSegmentString.COORDINATE_ARRAY_TYPE = new Array(0).fill(null);\n\nfunction OffsetSegmentGenerator() {\n\tthis._maxCurveSegmentError = 0.0;\n\tthis._filletAngleQuantum = null;\n\tthis._closingSegLengthFactor = 1;\n\tthis._segList = null;\n\tthis._distance = 0.0;\n\tthis._precisionModel = null;\n\tthis._bufParams = null;\n\tthis._li = null;\n\tthis._s0 = null;\n\tthis._s1 = null;\n\tthis._s2 = null;\n\tthis._seg0 = new LineSegment();\n\tthis._seg1 = new LineSegment();\n\tthis._offset0 = new LineSegment();\n\tthis._offset1 = new LineSegment();\n\tthis._side = 0;\n\tthis._hasNarrowConcaveAngle = false;\n\tvar precisionModel = arguments[0],\n\t    bufParams = arguments[1],\n\t    distance = arguments[2];\n\tthis._precisionModel = precisionModel;\n\tthis._bufParams = bufParams;\n\tthis._li = new RobustLineIntersector();\n\tthis._filletAngleQuantum = Math.PI / 2.0 / bufParams.getQuadrantSegments();\n\tif (bufParams.getQuadrantSegments() >= 8 && bufParams.getJoinStyle() === BufferParameters.JOIN_ROUND) this._closingSegLengthFactor = OffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR;\n\tthis.init(distance);\n}\nextend(OffsetSegmentGenerator.prototype, {\n\taddNextSegment: function addNextSegment(p, addStartPoint) {\n\t\tthis._s0 = this._s1;\n\t\tthis._s1 = this._s2;\n\t\tthis._s2 = p;\n\t\tthis._seg0.setCoordinates(this._s0, this._s1);\n\t\tthis.computeOffsetSegment(this._seg0, this._side, this._distance, this._offset0);\n\t\tthis._seg1.setCoordinates(this._s1, this._s2);\n\t\tthis.computeOffsetSegment(this._seg1, this._side, this._distance, this._offset1);\n\t\tif (this._s1.equals(this._s2)) return null;\n\t\tvar orientation = Orientation.index(this._s0, this._s1, this._s2);\n\t\tvar outsideTurn = orientation === Orientation.CLOCKWISE && this._side === Position.LEFT || orientation === Orientation.COUNTERCLOCKWISE && this._side === Position.RIGHT;\n\t\tif (orientation === 0) {\n\t\t\tthis.addCollinear(addStartPoint);\n\t\t} else if (outsideTurn) {\n\t\t\tthis.addOutsideTurn(orientation, addStartPoint);\n\t\t} else {\n\t\t\tthis.addInsideTurn(orientation, addStartPoint);\n\t\t}\n\t},\n\taddLineEndCap: function addLineEndCap(p0, p1) {\n\t\tvar seg = new LineSegment(p0, p1);\n\t\tvar offsetL = new LineSegment();\n\t\tthis.computeOffsetSegment(seg, Position.LEFT, this._distance, offsetL);\n\t\tvar offsetR = new LineSegment();\n\t\tthis.computeOffsetSegment(seg, Position.RIGHT, this._distance, offsetR);\n\t\tvar dx = p1.x - p0.x;\n\t\tvar dy = p1.y - p0.y;\n\t\tvar angle = Math.atan2(dy, dx);\n\t\tswitch (this._bufParams.getEndCapStyle()) {\n\t\t\tcase BufferParameters.CAP_ROUND:\n\t\t\t\tthis._segList.addPt(offsetL.p1);\n\t\t\t\tthis.addDirectedFillet(p1, angle + Math.PI / 2, angle - Math.PI / 2, Orientation.CLOCKWISE, this._distance);\n\t\t\t\tthis._segList.addPt(offsetR.p1);\n\t\t\t\tbreak;\n\t\t\tcase BufferParameters.CAP_FLAT:\n\t\t\t\tthis._segList.addPt(offsetL.p1);\n\t\t\t\tthis._segList.addPt(offsetR.p1);\n\t\t\t\tbreak;\n\t\t\tcase BufferParameters.CAP_SQUARE:\n\t\t\t\tvar squareCapSideOffset = new Coordinate();\n\t\t\t\tsquareCapSideOffset.x = Math.abs(this._distance) * Math.cos(angle);\n\t\t\t\tsquareCapSideOffset.y = Math.abs(this._distance) * Math.sin(angle);\n\t\t\t\tvar squareCapLOffset = new Coordinate(offsetL.p1.x + squareCapSideOffset.x, offsetL.p1.y + squareCapSideOffset.y);\n\t\t\t\tvar squareCapROffset = new Coordinate(offsetR.p1.x + squareCapSideOffset.x, offsetR.p1.y + squareCapSideOffset.y);\n\t\t\t\tthis._segList.addPt(squareCapLOffset);\n\t\t\t\tthis._segList.addPt(squareCapROffset);\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tgetCoordinates: function getCoordinates() {\n\t\tvar pts = this._segList.getCoordinates();\n\t\treturn pts;\n\t},\n\taddMitreJoin: function addMitreJoin(p, offset0, offset1, distance) {\n\t\tvar isMitreWithinLimit = true;\n\t\tvar intPt = null;\n\t\ttry {\n\t\t\tintPt = HCoordinate.intersection(offset0.p0, offset0.p1, offset1.p0, offset1.p1);\n\t\t\tvar mitreRatio = distance <= 0.0 ? 1.0 : intPt.distance(p) / Math.abs(distance);\n\t\t\tif (mitreRatio > this._bufParams.getMitreLimit()) isMitreWithinLimit = false;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof NotRepresentableException) {\n\t\t\t\tintPt = new Coordinate(0, 0);\n\t\t\t\tisMitreWithinLimit = false;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\tif (isMitreWithinLimit) {\n\t\t\tthis._segList.addPt(intPt);\n\t\t} else {\n\t\t\tthis.addLimitedMitreJoin(offset0, offset1, distance, this._bufParams.getMitreLimit());\n\t\t}\n\t},\n\taddOutsideTurn: function addOutsideTurn(orientation, addStartPoint) {\n\t\tif (this._offset0.p1.distance(this._offset1.p0) < this._distance * OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR) {\n\t\t\tthis._segList.addPt(this._offset0.p1);\n\t\t\treturn null;\n\t\t}\n\t\tif (this._bufParams.getJoinStyle() === BufferParameters.JOIN_MITRE) {\n\t\t\tthis.addMitreJoin(this._s1, this._offset0, this._offset1, this._distance);\n\t\t} else if (this._bufParams.getJoinStyle() === BufferParameters.JOIN_BEVEL) {\n\t\t\tthis.addBevelJoin(this._offset0, this._offset1);\n\t\t} else {\n\t\t\tif (addStartPoint) this._segList.addPt(this._offset0.p1);\n\t\t\tthis.addCornerFillet(this._s1, this._offset0.p1, this._offset1.p0, orientation, this._distance);\n\t\t\tthis._segList.addPt(this._offset1.p0);\n\t\t}\n\t},\n\tcreateSquare: function createSquare(p) {\n\t\tthis._segList.addPt(new Coordinate(p.x + this._distance, p.y + this._distance));\n\t\tthis._segList.addPt(new Coordinate(p.x + this._distance, p.y - this._distance));\n\t\tthis._segList.addPt(new Coordinate(p.x - this._distance, p.y - this._distance));\n\t\tthis._segList.addPt(new Coordinate(p.x - this._distance, p.y + this._distance));\n\t\tthis._segList.closeRing();\n\t},\n\taddSegments: function addSegments(pt, isForward) {\n\t\tthis._segList.addPts(pt, isForward);\n\t},\n\taddFirstSegment: function addFirstSegment() {\n\t\tthis._segList.addPt(this._offset1.p0);\n\t},\n\taddCornerFillet: function addCornerFillet(p, p0, p1, direction, radius) {\n\t\tvar dx0 = p0.x - p.x;\n\t\tvar dy0 = p0.y - p.y;\n\t\tvar startAngle = Math.atan2(dy0, dx0);\n\t\tvar dx1 = p1.x - p.x;\n\t\tvar dy1 = p1.y - p.y;\n\t\tvar endAngle = Math.atan2(dy1, dx1);\n\t\tif (direction === Orientation.CLOCKWISE) {\n\t\t\tif (startAngle <= endAngle) startAngle += 2.0 * Math.PI;\n\t\t} else {\n\t\t\tif (startAngle >= endAngle) startAngle -= 2.0 * Math.PI;\n\t\t}\n\t\tthis._segList.addPt(p0);\n\t\tthis.addDirectedFillet(p, startAngle, endAngle, direction, radius);\n\t\tthis._segList.addPt(p1);\n\t},\n\taddLastSegment: function addLastSegment() {\n\t\tthis._segList.addPt(this._offset1.p1);\n\t},\n\tinitSideSegments: function initSideSegments(s1, s2, side) {\n\t\tthis._s1 = s1;\n\t\tthis._s2 = s2;\n\t\tthis._side = side;\n\t\tthis._seg1.setCoordinates(s1, s2);\n\t\tthis.computeOffsetSegment(this._seg1, side, this._distance, this._offset1);\n\t},\n\taddLimitedMitreJoin: function addLimitedMitreJoin(offset0, offset1, distance, mitreLimit) {\n\t\tvar basePt = this._seg0.p1;\n\t\tvar ang0 = Angle.angle(basePt, this._seg0.p0);\n\t\tvar ang1 = Angle.angle(basePt, this._seg1.p1);\n\t\tvar angDiff = Angle.angleBetweenOriented(this._seg0.p0, basePt, this._seg1.p1);\n\t\tvar angDiffHalf = angDiff / 2;\n\t\tvar midAng = Angle.normalize(ang0 + angDiffHalf);\n\t\tvar mitreMidAng = Angle.normalize(midAng + Math.PI);\n\t\tvar mitreDist = mitreLimit * distance;\n\t\tvar bevelDelta = mitreDist * Math.abs(Math.sin(angDiffHalf));\n\t\tvar bevelHalfLen = distance - bevelDelta;\n\t\tvar bevelMidX = basePt.x + mitreDist * Math.cos(mitreMidAng);\n\t\tvar bevelMidY = basePt.y + mitreDist * Math.sin(mitreMidAng);\n\t\tvar bevelMidPt = new Coordinate(bevelMidX, bevelMidY);\n\t\tvar mitreMidLine = new LineSegment(basePt, bevelMidPt);\n\t\tvar bevelEndLeft = mitreMidLine.pointAlongOffset(1.0, bevelHalfLen);\n\t\tvar bevelEndRight = mitreMidLine.pointAlongOffset(1.0, -bevelHalfLen);\n\t\tif (this._side === Position.LEFT) {\n\t\t\tthis._segList.addPt(bevelEndLeft);\n\t\t\tthis._segList.addPt(bevelEndRight);\n\t\t} else {\n\t\t\tthis._segList.addPt(bevelEndRight);\n\t\t\tthis._segList.addPt(bevelEndLeft);\n\t\t}\n\t},\n\taddDirectedFillet: function addDirectedFillet(p, startAngle, endAngle, direction, radius) {\n\t\tvar directionFactor = direction === Orientation.CLOCKWISE ? -1 : 1;\n\t\tvar totalAngle = Math.abs(startAngle - endAngle);\n\t\tvar nSegs = Math.trunc(totalAngle / this._filletAngleQuantum + 0.5);\n\t\tif (nSegs < 1) return null;\n\t\tvar initAngle = null,\n\t\t    currAngleInc = null;\n\t\tinitAngle = 0.0;\n\t\tcurrAngleInc = totalAngle / nSegs;\n\t\tvar currAngle = initAngle;\n\t\tvar pt = new Coordinate();\n\t\twhile (currAngle < totalAngle) {\n\t\t\tvar angle = startAngle + directionFactor * currAngle;\n\t\t\tpt.x = p.x + radius * Math.cos(angle);\n\t\t\tpt.y = p.y + radius * Math.sin(angle);\n\t\t\tthis._segList.addPt(pt);\n\t\t\tcurrAngle += currAngleInc;\n\t\t}\n\t},\n\tcomputeOffsetSegment: function computeOffsetSegment(seg, side, distance, offset) {\n\t\tvar sideSign = side === Position.LEFT ? 1 : -1;\n\t\tvar dx = seg.p1.x - seg.p0.x;\n\t\tvar dy = seg.p1.y - seg.p0.y;\n\t\tvar len = Math.sqrt(dx * dx + dy * dy);\n\t\tvar ux = sideSign * distance * dx / len;\n\t\tvar uy = sideSign * distance * dy / len;\n\t\toffset.p0.x = seg.p0.x - uy;\n\t\toffset.p0.y = seg.p0.y + ux;\n\t\toffset.p1.x = seg.p1.x - uy;\n\t\toffset.p1.y = seg.p1.y + ux;\n\t},\n\taddInsideTurn: function addInsideTurn(orientation, addStartPoint) {\n\t\tthis._li.computeIntersection(this._offset0.p0, this._offset0.p1, this._offset1.p0, this._offset1.p1);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tthis._segList.addPt(this._li.getIntersection(0));\n\t\t} else {\n\t\t\tthis._hasNarrowConcaveAngle = true;\n\t\t\tif (this._offset0.p1.distance(this._offset1.p0) < this._distance * OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR) {\n\t\t\t\tthis._segList.addPt(this._offset0.p1);\n\t\t\t} else {\n\t\t\t\tthis._segList.addPt(this._offset0.p1);\n\t\t\t\tif (this._closingSegLengthFactor > 0) {\n\t\t\t\t\tvar mid0 = new Coordinate((this._closingSegLengthFactor * this._offset0.p1.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset0.p1.y + this._s1.y) / (this._closingSegLengthFactor + 1));\n\t\t\t\t\tthis._segList.addPt(mid0);\n\t\t\t\t\tvar mid1 = new Coordinate((this._closingSegLengthFactor * this._offset1.p0.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset1.p0.y + this._s1.y) / (this._closingSegLengthFactor + 1));\n\t\t\t\t\tthis._segList.addPt(mid1);\n\t\t\t\t} else {\n\t\t\t\t\tthis._segList.addPt(this._s1);\n\t\t\t\t}\n\t\t\t\tthis._segList.addPt(this._offset1.p0);\n\t\t\t}\n\t\t}\n\t},\n\tcreateCircle: function createCircle(p) {\n\t\tvar pt = new Coordinate(p.x + this._distance, p.y);\n\t\tthis._segList.addPt(pt);\n\t\tthis.addDirectedFillet(p, 0.0, 2.0 * Math.PI, -1, this._distance);\n\t\tthis._segList.closeRing();\n\t},\n\taddBevelJoin: function addBevelJoin(offset0, offset1) {\n\t\tthis._segList.addPt(offset0.p1);\n\t\tthis._segList.addPt(offset1.p0);\n\t},\n\tinit: function init(distance) {\n\t\tthis._distance = distance;\n\t\tthis._maxCurveSegmentError = distance * (1 - Math.cos(this._filletAngleQuantum / 2.0));\n\t\tthis._segList = new OffsetSegmentString();\n\t\tthis._segList.setPrecisionModel(this._precisionModel);\n\t\tthis._segList.setMinimumVertexDistance(distance * OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR);\n\t},\n\taddCollinear: function addCollinear(addStartPoint) {\n\t\tthis._li.computeIntersection(this._s0, this._s1, this._s1, this._s2);\n\t\tvar numInt = this._li.getIntersectionNum();\n\t\tif (numInt >= 2) {\n\t\t\tif (this._bufParams.getJoinStyle() === BufferParameters.JOIN_BEVEL || this._bufParams.getJoinStyle() === BufferParameters.JOIN_MITRE) {\n\t\t\t\tif (addStartPoint) this._segList.addPt(this._offset0.p1);\n\t\t\t\tthis._segList.addPt(this._offset1.p0);\n\t\t\t} else {\n\t\t\t\tthis.addCornerFillet(this._s1, this._offset0.p1, this._offset1.p0, Orientation.CLOCKWISE, this._distance);\n\t\t\t}\n\t\t}\n\t},\n\tcloseRing: function closeRing() {\n\t\tthis._segList.closeRing();\n\t},\n\thasNarrowConcaveAngle: function hasNarrowConcaveAngle() {\n\t\treturn this._hasNarrowConcaveAngle;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn OffsetSegmentGenerator;\n\t}\n});\nOffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR = 1.0E-3;\nOffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR = 1.0E-3;\nOffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR = 1.0E-6;\nOffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR = 80;\n\nfunction OffsetCurveBuilder() {\n\tthis._distance = 0.0;\n\tthis._precisionModel = null;\n\tthis._bufParams = null;\n\tvar precisionModel = arguments[0],\n\t    bufParams = arguments[1];\n\tthis._precisionModel = precisionModel;\n\tthis._bufParams = bufParams;\n}\nextend(OffsetCurveBuilder.prototype, {\n\tgetOffsetCurve: function getOffsetCurve(inputPts, distance) {\n\t\tthis._distance = distance;\n\t\tif (distance === 0.0) return null;\n\t\tvar isRightSide = distance < 0.0;\n\t\tvar posDistance = Math.abs(distance);\n\t\tvar segGen = this.getSegGen(posDistance);\n\t\tif (inputPts.length <= 1) {\n\t\t\tthis.computePointCurve(inputPts[0], segGen);\n\t\t} else {\n\t\t\tthis.computeOffsetCurve(inputPts, isRightSide, segGen);\n\t\t}\n\t\tvar curvePts = segGen.getCoordinates();\n\t\tif (isRightSide) CoordinateArrays.reverse(curvePts);\n\t\treturn curvePts;\n\t},\n\tcomputeSingleSidedBufferCurve: function computeSingleSidedBufferCurve(inputPts, isRightSide, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tif (isRightSide) {\n\t\t\tsegGen.addSegments(inputPts, true);\n\t\t\tvar simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n\t\t\tvar n2 = simp2.length - 1;\n\t\t\tsegGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = n2 - 2; i >= 0; i--) {\n\t\t\t\tsegGen.addNextSegment(simp2[i], true);\n\t\t\t}\n\t\t} else {\n\t\t\tsegGen.addSegments(inputPts, false);\n\t\t\tvar simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\t\tvar n1 = simp1.length - 1;\n\t\t\tsegGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = 2; i <= n1; i++) {\n\t\t\t\tsegGen.addNextSegment(simp1[i], true);\n\t\t\t}\n\t\t}\n\t\tsegGen.addLastSegment();\n\t\tsegGen.closeRing();\n\t},\n\tcomputeRingBufferCurve: function computeRingBufferCurve(inputPts, side, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tif (side === Position.RIGHT) distTol = -distTol;\n\t\tvar simp = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\tvar n = simp.length - 1;\n\t\tsegGen.initSideSegments(simp[n - 1], simp[0], side);\n\t\tfor (var i = 1; i <= n; i++) {\n\t\t\tvar addStartPoint = i !== 1;\n\t\t\tsegGen.addNextSegment(simp[i], addStartPoint);\n\t\t}\n\t\tsegGen.closeRing();\n\t},\n\tcomputeLineBufferCurve: function computeLineBufferCurve(inputPts, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tvar simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\tvar n1 = simp1.length - 1;\n\t\tsegGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n\t\tfor (var i = 2; i <= n1; i++) {\n\t\t\tsegGen.addNextSegment(simp1[i], true);\n\t\t}\n\t\tsegGen.addLastSegment();\n\t\tsegGen.addLineEndCap(simp1[n1 - 1], simp1[n1]);\n\t\tvar simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n\t\tvar n2 = simp2.length - 1;\n\t\tsegGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n\t\tfor (var i = n2 - 2; i >= 0; i--) {\n\t\t\tsegGen.addNextSegment(simp2[i], true);\n\t\t}\n\t\tsegGen.addLastSegment();\n\t\tsegGen.addLineEndCap(simp2[1], simp2[0]);\n\t\tsegGen.closeRing();\n\t},\n\tcomputePointCurve: function computePointCurve(pt, segGen) {\n\t\tswitch (this._bufParams.getEndCapStyle()) {\n\t\t\tcase BufferParameters.CAP_ROUND:\n\t\t\t\tsegGen.createCircle(pt);\n\t\t\t\tbreak;\n\t\t\tcase BufferParameters.CAP_SQUARE:\n\t\t\t\tsegGen.createSquare(pt);\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tgetLineCurve: function getLineCurve(inputPts, distance) {\n\t\tthis._distance = distance;\n\t\tif (distance < 0.0 && !this._bufParams.isSingleSided()) return null;\n\t\tif (distance === 0.0) return null;\n\t\tvar posDistance = Math.abs(distance);\n\t\tvar segGen = this.getSegGen(posDistance);\n\t\tif (inputPts.length <= 1) {\n\t\t\tthis.computePointCurve(inputPts[0], segGen);\n\t\t} else {\n\t\t\tif (this._bufParams.isSingleSided()) {\n\t\t\t\tvar isRightSide = distance < 0.0;\n\t\t\t\tthis.computeSingleSidedBufferCurve(inputPts, isRightSide, segGen);\n\t\t\t} else this.computeLineBufferCurve(inputPts, segGen);\n\t\t}\n\t\tvar lineCoord = segGen.getCoordinates();\n\t\treturn lineCoord;\n\t},\n\tgetBufferParameters: function getBufferParameters() {\n\t\treturn this._bufParams;\n\t},\n\tsimplifyTolerance: function simplifyTolerance(bufDistance) {\n\t\treturn bufDistance * this._bufParams.getSimplifyFactor();\n\t},\n\tgetRingCurve: function getRingCurve(inputPts, side, distance) {\n\t\tthis._distance = distance;\n\t\tif (inputPts.length <= 2) return this.getLineCurve(inputPts, distance);\n\t\tif (distance === 0.0) {\n\t\t\treturn OffsetCurveBuilder.copyCoordinates(inputPts);\n\t\t}\n\t\tvar segGen = this.getSegGen(distance);\n\t\tthis.computeRingBufferCurve(inputPts, side, segGen);\n\t\treturn segGen.getCoordinates();\n\t},\n\tcomputeOffsetCurve: function computeOffsetCurve(inputPts, isRightSide, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tif (isRightSide) {\n\t\t\tvar simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n\t\t\tvar n2 = simp2.length - 1;\n\t\t\tsegGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = n2 - 2; i >= 0; i--) {\n\t\t\t\tsegGen.addNextSegment(simp2[i], true);\n\t\t\t}\n\t\t} else {\n\t\t\tvar simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\t\tvar n1 = simp1.length - 1;\n\t\t\tsegGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = 2; i <= n1; i++) {\n\t\t\t\tsegGen.addNextSegment(simp1[i], true);\n\t\t\t}\n\t\t}\n\t\tsegGen.addLastSegment();\n\t},\n\tgetSegGen: function getSegGen(distance) {\n\t\treturn new OffsetSegmentGenerator(this._precisionModel, this._bufParams, distance);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn OffsetCurveBuilder;\n\t}\n});\nOffsetCurveBuilder.copyCoordinates = function (pts) {\n\tvar copy = new Array(pts.length).fill(null);\n\tfor (var i = 0; i < copy.length; i++) {\n\t\tcopy[i] = new Coordinate(pts[i]);\n\t}\n\treturn copy;\n};\n\nfunction SubgraphDepthLocater() {\n\tthis._subgraphs = null;\n\tthis._seg = new LineSegment();\n\tvar subgraphs = arguments[0];\n\tthis._subgraphs = subgraphs;\n}\nextend(SubgraphDepthLocater.prototype, {\n\tfindStabbedSegments: function findStabbedSegments() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar stabbingRayLeftPt = arguments[0];\n\t\t\tvar stabbedSegments = new ArrayList();\n\t\t\tfor (var i = this._subgraphs.iterator(); i.hasNext();) {\n\t\t\t\tvar bsg = i.next();\n\t\t\t\tvar env = bsg.getEnvelope();\n\t\t\t\tif (stabbingRayLeftPt.y < env.getMinY() || stabbingRayLeftPt.y > env.getMaxY()) continue;\n\t\t\t\tthis.findStabbedSegments(stabbingRayLeftPt, bsg.getDirectedEdges(), stabbedSegments);\n\t\t\t}\n\t\t\treturn stabbedSegments;\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (hasInterface(arguments[2], List) && arguments[0] instanceof Coordinate && arguments[1] instanceof DirectedEdge) {\n\t\t\t\tvar _stabbingRayLeftPt = arguments[0],\n\t\t\t\t    dirEdge = arguments[1],\n\t\t\t\t    _stabbedSegments = arguments[2];\n\t\t\t\tvar pts = dirEdge.getEdge().getCoordinates();\n\t\t\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\t\t\tthis._seg.p0 = pts[i];\n\t\t\t\t\tthis._seg.p1 = pts[i + 1];\n\t\t\t\t\tif (this._seg.p0.y > this._seg.p1.y) this._seg.reverse();\n\t\t\t\t\tvar maxx = Math.max(this._seg.p0.x, this._seg.p1.x);\n\t\t\t\t\tif (maxx < _stabbingRayLeftPt.x) continue;\n\t\t\t\t\tif (this._seg.isHorizontal()) continue;\n\t\t\t\t\tif (_stabbingRayLeftPt.y < this._seg.p0.y || _stabbingRayLeftPt.y > this._seg.p1.y) continue;\n\t\t\t\t\tif (Orientation.index(this._seg.p0, this._seg.p1, _stabbingRayLeftPt) === Orientation.RIGHT) continue;\n\t\t\t\t\tvar depth = dirEdge.getDepth(Position.LEFT);\n\t\t\t\t\tif (!this._seg.p0.equals(pts[i])) depth = dirEdge.getDepth(Position.RIGHT);\n\t\t\t\t\tvar ds = new DepthSegment(this._seg, depth);\n\t\t\t\t\t_stabbedSegments.add(ds);\n\t\t\t\t}\n\t\t\t} else if (hasInterface(arguments[2], List) && arguments[0] instanceof Coordinate && hasInterface(arguments[1], List)) {\n\t\t\t\tvar _stabbingRayLeftPt2 = arguments[0],\n\t\t\t\t    dirEdges = arguments[1],\n\t\t\t\t    _stabbedSegments2 = arguments[2];\n\t\t\t\tfor (var i = dirEdges.iterator(); i.hasNext();) {\n\t\t\t\t\tvar de = i.next();\n\t\t\t\t\tif (!de.isForward()) continue;\n\t\t\t\t\tthis.findStabbedSegments(_stabbingRayLeftPt2, de, _stabbedSegments2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetDepth: function getDepth(p) {\n\t\tvar stabbedSegments = this.findStabbedSegments(p);\n\t\tif (stabbedSegments.size() === 0) return 0;\n\t\tvar ds = Collections.min(stabbedSegments);\n\t\treturn ds._leftDepth;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SubgraphDepthLocater;\n\t}\n});\nfunction DepthSegment() {\n\tthis._upwardSeg = null;\n\tthis._leftDepth = null;\n\tvar seg = arguments[0],\n\t    depth = arguments[1];\n\tthis._upwardSeg = new LineSegment(seg);\n\tthis._leftDepth = depth;\n}\nextend(DepthSegment.prototype, {\n\tcompareTo: function compareTo(obj) {\n\t\tvar other = obj;\n\t\tif (this._upwardSeg.minX() >= other._upwardSeg.maxX()) return 1;\n\t\tif (this._upwardSeg.maxX() <= other._upwardSeg.minX()) return -1;\n\t\tvar orientIndex = this._upwardSeg.orientationIndex(other._upwardSeg);\n\t\tif (orientIndex !== 0) return orientIndex;\n\t\torientIndex = -1 * other._upwardSeg.orientationIndex(this._upwardSeg);\n\t\tif (orientIndex !== 0) return orientIndex;\n\t\treturn this._upwardSeg.compareTo(other._upwardSeg);\n\t},\n\tcompareX: function compareX(seg0, seg1) {\n\t\tvar compare0 = seg0.p0.compareTo(seg1.p0);\n\t\tif (compare0 !== 0) return compare0;\n\t\treturn seg0.p1.compareTo(seg1.p1);\n\t},\n\ttoString: function toString() {\n\t\treturn this._upwardSeg.toString();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DepthSegment;\n\t}\n});\nSubgraphDepthLocater.DepthSegment = DepthSegment;\n\nfunction OffsetCurveSetBuilder() {\n\tthis._inputGeom = null;\n\tthis._distance = null;\n\tthis._curveBuilder = null;\n\tthis._curveList = new ArrayList();\n\tvar inputGeom = arguments[0],\n\t    distance = arguments[1],\n\t    curveBuilder = arguments[2];\n\tthis._inputGeom = inputGeom;\n\tthis._distance = distance;\n\tthis._curveBuilder = curveBuilder;\n}\nextend(OffsetCurveSetBuilder.prototype, {\n\taddPoint: function addPoint(p) {\n\t\tif (this._distance <= 0.0) return null;\n\t\tvar coord = p.getCoordinates();\n\t\tvar curve = this._curveBuilder.getLineCurve(coord, this._distance);\n\t\tthis.addCurve(curve, Location.EXTERIOR, Location.INTERIOR);\n\t},\n\taddPolygon: function addPolygon(p) {\n\t\tvar offsetDistance = this._distance;\n\t\tvar offsetSide = Position.LEFT;\n\t\tif (this._distance < 0.0) {\n\t\t\toffsetDistance = -this._distance;\n\t\t\toffsetSide = Position.RIGHT;\n\t\t}\n\t\tvar shell = p.getExteriorRing();\n\t\tvar shellCoord = CoordinateArrays.removeRepeatedPoints(shell.getCoordinates());\n\t\tif (this._distance < 0.0 && this.isErodedCompletely(shell, this._distance)) return null;\n\t\tif (this._distance <= 0.0 && shellCoord.length < 3) return null;\n\t\tthis.addPolygonRing(shellCoord, offsetDistance, offsetSide, Location.EXTERIOR, Location.INTERIOR);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tvar holeCoord = CoordinateArrays.removeRepeatedPoints(hole.getCoordinates());\n\t\t\tif (this._distance > 0.0 && this.isErodedCompletely(hole, -this._distance)) continue;\n\t\t\tthis.addPolygonRing(holeCoord, offsetDistance, Position.opposite(offsetSide), Location.INTERIOR, Location.EXTERIOR);\n\t\t}\n\t},\n\tisTriangleErodedCompletely: function isTriangleErodedCompletely(triangleCoord, bufferDistance) {\n\t\tvar tri = new Triangle(triangleCoord[0], triangleCoord[1], triangleCoord[2]);\n\t\tvar inCentre = tri.inCentre();\n\t\tvar distToCentre = Distance.pointToSegment(inCentre, tri.p0, tri.p1);\n\t\treturn distToCentre < Math.abs(bufferDistance);\n\t},\n\taddLineString: function addLineString(line) {\n\t\tif (this._distance <= 0.0 && !this._curveBuilder.getBufferParameters().isSingleSided()) return null;\n\t\tvar coord = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\t\tvar curve = this._curveBuilder.getLineCurve(coord, this._distance);\n\t\tthis.addCurve(curve, Location.EXTERIOR, Location.INTERIOR);\n\t},\n\taddCurve: function addCurve(coord, leftLoc, rightLoc) {\n\t\tif (coord === null || coord.length < 2) return null;\n\t\tvar e = new NodedSegmentString(coord, new Label(0, Location.BOUNDARY, leftLoc, rightLoc));\n\t\tthis._curveList.add(e);\n\t},\n\tgetCurves: function getCurves() {\n\t\tthis.add(this._inputGeom);\n\t\treturn this._curveList;\n\t},\n\taddPolygonRing: function addPolygonRing(coord, offsetDistance, side, cwLeftLoc, cwRightLoc) {\n\t\tif (offsetDistance === 0.0 && coord.length < LinearRing.MINIMUM_VALID_SIZE) return null;\n\t\tvar leftLoc = cwLeftLoc;\n\t\tvar rightLoc = cwRightLoc;\n\t\tif (coord.length >= LinearRing.MINIMUM_VALID_SIZE && Orientation.isCCW(coord)) {\n\t\t\tleftLoc = cwRightLoc;\n\t\t\trightLoc = cwLeftLoc;\n\t\t\tside = Position.opposite(side);\n\t\t}\n\t\tvar curve = this._curveBuilder.getRingCurve(coord, side, offsetDistance);\n\t\tthis.addCurve(curve, leftLoc, rightLoc);\n\t},\n\tadd: function add(g) {\n\t\tif (g.isEmpty()) return null;\n\t\tif (g instanceof Polygon) this.addPolygon(g);else if (g instanceof LineString) this.addLineString(g);else if (g instanceof Point) this.addPoint(g);else if (g instanceof MultiPoint) this.addCollection(g);else if (g instanceof MultiLineString) this.addCollection(g);else if (g instanceof MultiPolygon) this.addCollection(g);else if (g instanceof GeometryCollection) this.addCollection(g);else throw new UnsupportedOperationException(g.getClass().getName());\n\t},\n\tisErodedCompletely: function isErodedCompletely(ring, bufferDistance) {\n\t\tvar ringCoord = ring.getCoordinates();\n\t\tif (ringCoord.length < 4) return bufferDistance < 0;\n\t\tif (ringCoord.length === 4) return this.isTriangleErodedCompletely(ringCoord, bufferDistance);\n\t\tvar env = ring.getEnvelopeInternal();\n\t\tvar envMinDimension = Math.min(env.getHeight(), env.getWidth());\n\t\tif (bufferDistance < 0.0 && 2 * Math.abs(bufferDistance) > envMinDimension) return true;\n\t\treturn false;\n\t},\n\taddCollection: function addCollection(gc) {\n\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\tvar g = gc.getGeometryN(i);\n\t\t\tthis.add(g);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn OffsetCurveSetBuilder;\n\t}\n});\n\nfunction EdgeEndStar() {\n\tthis._edgeMap = new TreeMap();\n\tthis._edgeList = null;\n\tthis._ptInAreaLocation = [Location.NONE, Location.NONE];\n}\nextend(EdgeEndStar.prototype, {\n\tgetNextCW: function getNextCW(ee) {\n\t\tthis.getEdges();\n\t\tvar i = this._edgeList.indexOf(ee);\n\t\tvar iNextCW = i - 1;\n\t\tif (i === 0) iNextCW = this._edgeList.size() - 1;\n\t\treturn this._edgeList.get(iNextCW);\n\t},\n\tpropagateSideLabels: function propagateSideLabels(geomIndex) {\n\t\tvar startLoc = Location.NONE;\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tif (label.isArea(geomIndex) && label.getLocation(geomIndex, Position.LEFT) !== Location.NONE) startLoc = label.getLocation(geomIndex, Position.LEFT);\n\t\t}\n\t\tif (startLoc === Location.NONE) return null;\n\t\tvar currLoc = startLoc;\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tif (label.getLocation(geomIndex, Position.ON) === Location.NONE) label.setLocation(geomIndex, Position.ON, currLoc);\n\t\t\tif (label.isArea(geomIndex)) {\n\t\t\t\tvar leftLoc = label.getLocation(geomIndex, Position.LEFT);\n\t\t\t\tvar rightLoc = label.getLocation(geomIndex, Position.RIGHT);\n\t\t\t\tif (rightLoc !== Location.NONE) {\n\t\t\t\t\tif (rightLoc !== currLoc) throw new TopologyException(\"side location conflict\", e.getCoordinate());\n\t\t\t\t\tif (leftLoc === Location.NONE) {\n\t\t\t\t\t\tAssert.shouldNeverReachHere(\"found single null side (at \" + e.getCoordinate() + \")\");\n\t\t\t\t\t}\n\t\t\t\t\tcurrLoc = leftLoc;\n\t\t\t\t} else {\n\t\t\t\t\tAssert.isTrue(label.getLocation(geomIndex, Position.LEFT) === Location.NONE, \"found single null side\");\n\t\t\t\t\tlabel.setLocation(geomIndex, Position.RIGHT, currLoc);\n\t\t\t\t\tlabel.setLocation(geomIndex, Position.LEFT, currLoc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\tvar it = this.iterator();\n\t\tif (!it.hasNext()) return null;\n\t\tvar e = it.next();\n\t\treturn e.getCoordinate();\n\t},\n\tprint: function print(out) {\n\t\tSystem.out.println(\"EdgeEndStar:   \" + this.getCoordinate());\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\te.print(out);\n\t\t}\n\t},\n\tisAreaLabelsConsistent: function isAreaLabelsConsistent(geomGraph) {\n\t\tthis.computeEdgeEndLabels(geomGraph.getBoundaryNodeRule());\n\t\treturn this.checkAreaLabelsConsistent(0);\n\t},\n\tcheckAreaLabelsConsistent: function checkAreaLabelsConsistent(geomIndex) {\n\t\tvar edges = this.getEdges();\n\t\tif (edges.size() <= 0) return true;\n\t\tvar lastEdgeIndex = edges.size() - 1;\n\t\tvar startLabel = edges.get(lastEdgeIndex).getLabel();\n\t\tvar startLoc = startLabel.getLocation(geomIndex, Position.LEFT);\n\t\tAssert.isTrue(startLoc !== Location.NONE, \"Found unlabelled area edge\");\n\t\tvar currLoc = startLoc;\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tAssert.isTrue(label.isArea(geomIndex), \"Found non-area edge\");\n\t\t\tvar leftLoc = label.getLocation(geomIndex, Position.LEFT);\n\t\t\tvar rightLoc = label.getLocation(geomIndex, Position.RIGHT);\n\t\t\tif (leftLoc === rightLoc) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (rightLoc !== currLoc) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcurrLoc = leftLoc;\n\t\t}\n\t\treturn true;\n\t},\n\tfindIndex: function findIndex(eSearch) {\n\t\tthis.iterator();\n\t\tfor (var i = 0; i < this._edgeList.size(); i++) {\n\t\t\tvar e = this._edgeList.get(i);\n\t\t\tif (e === eSearch) return i;\n\t\t}\n\t\treturn -1;\n\t},\n\titerator: function iterator() {\n\t\treturn this.getEdges().iterator();\n\t},\n\tgetEdges: function getEdges() {\n\t\tif (this._edgeList === null) {\n\t\t\tthis._edgeList = new ArrayList(this._edgeMap.values());\n\t\t}\n\t\treturn this._edgeList;\n\t},\n\tgetLocation: function getLocation(geomIndex, p, geom) {\n\t\tif (this._ptInAreaLocation[geomIndex] === Location.NONE) {\n\t\t\tthis._ptInAreaLocation[geomIndex] = SimplePointInAreaLocator.locate(p, geom[geomIndex].getGeometry());\n\t\t}\n\t\treturn this._ptInAreaLocation[geomIndex];\n\t},\n\ttoString: function toString() {\n\t\tvar buf = new StringBuffer();\n\t\tbuf.append(\"EdgeEndStar:   \" + this.getCoordinate());\n\t\tbuf.append(\"\\n\");\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tbuf.append(e);\n\t\t\tbuf.append(\"\\n\");\n\t\t}\n\t\treturn buf.toString();\n\t},\n\tcomputeEdgeEndLabels: function computeEdgeEndLabels(boundaryNodeRule) {\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar ee = it.next();\n\t\t\tee.computeLabel(boundaryNodeRule);\n\t\t}\n\t},\n\tcomputeLabelling: function computeLabelling(geomGraph) {\n\t\tthis.computeEdgeEndLabels(geomGraph[0].getBoundaryNodeRule());\n\t\tthis.propagateSideLabels(0);\n\t\tthis.propagateSideLabels(1);\n\t\tvar hasDimensionalCollapseEdge = [false, false];\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tfor (var geomi = 0; geomi < 2; geomi++) {\n\t\t\t\tif (label.isLine(geomi) && label.getLocation(geomi) === Location.BOUNDARY) hasDimensionalCollapseEdge[geomi] = true;\n\t\t\t}\n\t\t}\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tfor (var geomi = 0; geomi < 2; geomi++) {\n\t\t\t\tif (label.isAnyNull(geomi)) {\n\t\t\t\t\tvar loc = Location.NONE;\n\t\t\t\t\tif (hasDimensionalCollapseEdge[geomi]) {\n\t\t\t\t\t\tloc = Location.EXTERIOR;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar p = e.getCoordinate();\n\t\t\t\t\t\tloc = this.getLocation(geomi, p, geomGraph);\n\t\t\t\t\t}\n\t\t\t\t\tlabel.setAllLocationsIfNull(geomi, loc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetDegree: function getDegree() {\n\t\treturn this._edgeMap.size();\n\t},\n\tinsertEdgeEnd: function insertEdgeEnd(e, obj) {\n\t\tthis._edgeMap.put(e, obj);\n\t\tthis._edgeList = null;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeEndStar;\n\t}\n});\n\nfunction DirectedEdgeStar() {\n\tEdgeEndStar.apply(this);\n\tthis._resultAreaEdgeList = null;\n\tthis._label = null;\n\tthis._SCANNING_FOR_INCOMING = 1;\n\tthis._LINKING_TO_OUTGOING = 2;\n}\ninherits(DirectedEdgeStar, EdgeEndStar);\nextend(DirectedEdgeStar.prototype, {\n\tlinkResultDirectedEdges: function linkResultDirectedEdges() {\n\t\tthis.getResultAreaEdges();\n\t\tvar firstOut = null;\n\t\tvar incoming = null;\n\t\tvar state = this._SCANNING_FOR_INCOMING;\n\t\tfor (var i = 0; i < this._resultAreaEdgeList.size(); i++) {\n\t\t\tvar nextOut = this._resultAreaEdgeList.get(i);\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (!nextOut.getLabel().isArea()) continue;\n\t\t\tif (firstOut === null && nextOut.isInResult()) firstOut = nextOut;\n\t\t\tswitch (state) {\n\t\t\t\tcase this._SCANNING_FOR_INCOMING:\n\t\t\t\t\tif (!nextIn.isInResult()) continue;\n\t\t\t\t\tincoming = nextIn;\n\t\t\t\t\tstate = this._LINKING_TO_OUTGOING;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._LINKING_TO_OUTGOING:\n\t\t\t\t\tif (!nextOut.isInResult()) continue;\n\t\t\t\t\tincoming.setNext(nextOut);\n\t\t\t\t\tstate = this._SCANNING_FOR_INCOMING;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (state === this._LINKING_TO_OUTGOING) {\n\t\t\tif (firstOut === null) throw new TopologyException(\"no outgoing dirEdge found\", this.getCoordinate());\n\t\t\tAssert.isTrue(firstOut.isInResult(), \"unable to link last incoming dirEdge\");\n\t\t\tincoming.setNext(firstOut);\n\t\t}\n\t},\n\tinsert: function insert(ee) {\n\t\tvar de = ee;\n\t\tthis.insertEdgeEnd(de, de);\n\t},\n\tgetRightmostEdge: function getRightmostEdge() {\n\t\tvar edges = this.getEdges();\n\t\tvar size = edges.size();\n\t\tif (size < 1) return null;\n\t\tvar de0 = edges.get(0);\n\t\tif (size === 1) return de0;\n\t\tvar deLast = edges.get(size - 1);\n\t\tvar quad0 = de0.getQuadrant();\n\t\tvar quad1 = deLast.getQuadrant();\n\t\tif (Quadrant.isNorthern(quad0) && Quadrant.isNorthern(quad1)) return de0;else if (!Quadrant.isNorthern(quad0) && !Quadrant.isNorthern(quad1)) return deLast;else {\n\t\t\tif (de0.getDy() !== 0) return de0;else if (deLast.getDy() !== 0) return deLast;\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"found two horizontal edges incident on node\");\n\t\treturn null;\n\t},\n\tprint: function print(out) {\n\t\tSystem.out.println(\"DirectedEdgeStar: \" + this.getCoordinate());\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tout.print(\"out \");\n\t\t\tde.print(out);\n\t\t\tout.println();\n\t\t\tout.print(\"in \");\n\t\t\tde.getSym().print(out);\n\t\t\tout.println();\n\t\t}\n\t},\n\tgetResultAreaEdges: function getResultAreaEdges() {\n\t\tif (this._resultAreaEdgeList !== null) return this._resultAreaEdgeList;\n\t\tthis._resultAreaEdgeList = new ArrayList();\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.isInResult() || de.getSym().isInResult()) this._resultAreaEdgeList.add(de);\n\t\t}\n\t\treturn this._resultAreaEdgeList;\n\t},\n\tupdateLabelling: function updateLabelling(nodeLabel) {\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tlabel.setAllLocationsIfNull(0, nodeLabel.getLocation(0));\n\t\t\tlabel.setAllLocationsIfNull(1, nodeLabel.getLocation(1));\n\t\t}\n\t},\n\tlinkAllDirectedEdges: function linkAllDirectedEdges() {\n\t\tthis.getEdges();\n\t\tvar prevOut = null;\n\t\tvar firstIn = null;\n\t\tfor (var i = this._edgeList.size() - 1; i >= 0; i--) {\n\t\t\tvar nextOut = this._edgeList.get(i);\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (firstIn === null) firstIn = nextIn;\n\t\t\tif (prevOut !== null) nextIn.setNext(prevOut);\n\t\t\tprevOut = nextOut;\n\t\t}\n\t\tfirstIn.setNext(prevOut);\n\t},\n\tcomputeDepths: function computeDepths() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar de = arguments[0];\n\t\t\tvar edgeIndex = this.findIndex(de);\n\t\t\tvar label = de.getLabel();\n\t\t\tvar startDepth = de.getDepth(Position.LEFT);\n\t\t\tvar targetLastDepth = de.getDepth(Position.RIGHT);\n\t\t\tvar nextDepth = this.computeDepths(edgeIndex + 1, this._edgeList.size(), startDepth);\n\t\t\tvar lastDepth = this.computeDepths(0, edgeIndex, nextDepth);\n\t\t\tif (lastDepth !== targetLastDepth) throw new TopologyException(\"depth mismatch at \" + de.getCoordinate());\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar startIndex = arguments[0],\n\t\t\t    endIndex = arguments[1],\n\t\t\t    _startDepth = arguments[2];\n\t\t\tvar currDepth = _startDepth;\n\t\t\tfor (var i = startIndex; i < endIndex; i++) {\n\t\t\t\tvar nextDe = this._edgeList.get(i);\n\t\t\t\tvar label = nextDe.getLabel();\n\t\t\t\tnextDe.setEdgeDepths(Position.RIGHT, currDepth);\n\t\t\t\tcurrDepth = nextDe.getDepth(Position.LEFT);\n\t\t\t}\n\t\t\treturn currDepth;\n\t\t}\n\t},\n\tmergeSymLabels: function mergeSymLabels() {\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tlabel.merge(de.getSym().getLabel());\n\t\t}\n\t},\n\tlinkMinimalDirectedEdges: function linkMinimalDirectedEdges(er) {\n\t\tvar firstOut = null;\n\t\tvar incoming = null;\n\t\tvar state = this._SCANNING_FOR_INCOMING;\n\t\tfor (var i = this._resultAreaEdgeList.size() - 1; i >= 0; i--) {\n\t\t\tvar nextOut = this._resultAreaEdgeList.get(i);\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (firstOut === null && nextOut.getEdgeRing() === er) firstOut = nextOut;\n\t\t\tswitch (state) {\n\t\t\t\tcase this._SCANNING_FOR_INCOMING:\n\t\t\t\t\tif (nextIn.getEdgeRing() !== er) continue;\n\t\t\t\t\tincoming = nextIn;\n\t\t\t\t\tstate = this._LINKING_TO_OUTGOING;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._LINKING_TO_OUTGOING:\n\t\t\t\t\tif (nextOut.getEdgeRing() !== er) continue;\n\t\t\t\t\tincoming.setNextMin(nextOut);\n\t\t\t\t\tstate = this._SCANNING_FOR_INCOMING;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (state === this._LINKING_TO_OUTGOING) {\n\t\t\tAssert.isTrue(firstOut !== null, \"found null for first outgoing dirEdge\");\n\t\t\tAssert.isTrue(firstOut.getEdgeRing() === er, \"unable to link last incoming dirEdge\");\n\t\t\tincoming.setNextMin(firstOut);\n\t\t}\n\t},\n\tgetOutgoingDegree: function getOutgoingDegree() {\n\t\tif (arguments.length === 0) {\n\t\t\tvar degree = 0;\n\t\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\t\tvar de = it.next();\n\t\t\t\tif (de.isInResult()) degree++;\n\t\t\t}\n\t\t\treturn degree;\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar er = arguments[0];\n\t\t\tvar degree = 0;\n\t\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\t\tvar de = it.next();\n\t\t\t\tif (de.getEdgeRing() === er) degree++;\n\t\t\t}\n\t\t\treturn degree;\n\t\t}\n\t},\n\tgetLabel: function getLabel() {\n\t\treturn this._label;\n\t},\n\tfindCoveredLineEdges: function findCoveredLineEdges() {\n\t\tvar startLoc = Location.NONE;\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar nextOut = it.next();\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (!nextOut.isLineEdge()) {\n\t\t\t\tif (nextOut.isInResult()) {\n\t\t\t\t\tstartLoc = Location.INTERIOR;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (nextIn.isInResult()) {\n\t\t\t\t\tstartLoc = Location.EXTERIOR;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (startLoc === Location.NONE) return null;\n\t\tvar currLoc = startLoc;\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar nextOut = it.next();\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (nextOut.isLineEdge()) {\n\t\t\t\tnextOut.getEdge().setCovered(currLoc === Location.INTERIOR);\n\t\t\t} else {\n\t\t\t\tif (nextOut.isInResult()) currLoc = Location.EXTERIOR;\n\t\t\t\tif (nextIn.isInResult()) currLoc = Location.INTERIOR;\n\t\t\t}\n\t\t}\n\t},\n\tcomputeLabelling: function computeLabelling(geom) {\n\t\tEdgeEndStar.prototype.computeLabelling.call(this, geom);\n\t\tthis._label = new Label(Location.NONE);\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar ee = it.next();\n\t\t\tvar e = ee.getEdge();\n\t\t\tvar eLabel = e.getLabel();\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tvar eLoc = eLabel.getLocation(i);\n\t\t\t\tif (eLoc === Location.INTERIOR || eLoc === Location.BOUNDARY) this._label.setLocation(i, Location.INTERIOR);\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DirectedEdgeStar;\n\t}\n});\n\nfunction OverlayNodeFactory() {\n\tNodeFactory.apply(this);\n}\ninherits(OverlayNodeFactory, NodeFactory);\nextend(OverlayNodeFactory.prototype, {\n\tcreateNode: function createNode(coord) {\n\t\treturn new Node$1(coord, new DirectedEdgeStar());\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn OverlayNodeFactory;\n\t}\n});\n\nfunction OrientedCoordinateArray() {\n\tthis._pts = null;\n\tthis._orientation = null;\n\tvar pts = arguments[0];\n\tthis._pts = pts;\n\tthis._orientation = OrientedCoordinateArray.orientation(pts);\n}\nextend(OrientedCoordinateArray.prototype, {\n\tcompareTo: function compareTo(o1) {\n\t\tvar oca = o1;\n\t\tvar comp = OrientedCoordinateArray.compareOriented(this._pts, this._orientation, oca._pts, oca._orientation);\n\t\treturn comp;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn OrientedCoordinateArray;\n\t}\n});\nOrientedCoordinateArray.orientation = function (pts) {\n\treturn CoordinateArrays.increasingDirection(pts) === 1;\n};\nOrientedCoordinateArray.compareOriented = function (pts1, orientation1, pts2, orientation2) {\n\tvar dir1 = orientation1 ? 1 : -1;\n\tvar dir2 = orientation2 ? 1 : -1;\n\tvar limit1 = orientation1 ? pts1.length : -1;\n\tvar limit2 = orientation2 ? pts2.length : -1;\n\tvar i1 = orientation1 ? 0 : pts1.length - 1;\n\tvar i2 = orientation2 ? 0 : pts2.length - 1;\n\twhile (true) {\n\t\tvar compPt = pts1[i1].compareTo(pts2[i2]);\n\t\tif (compPt !== 0) return compPt;\n\t\ti1 += dir1;\n\t\ti2 += dir2;\n\t\tvar done1 = i1 === limit1;\n\t\tvar done2 = i2 === limit2;\n\t\tif (done1 && !done2) return -1;\n\t\tif (!done1 && done2) return 1;\n\t\tif (done1 && done2) return 0;\n\t}\n};\n\nfunction EdgeList() {\n\tthis._edges = new ArrayList();\n\tthis._ocaMap = new TreeMap();\n}\nextend(EdgeList.prototype, {\n\tprint: function print(out) {\n\t\tout.print(\"MULTILINESTRING ( \");\n\t\tfor (var j = 0; j < this._edges.size(); j++) {\n\t\t\tvar e = this._edges.get(j);\n\t\t\tif (j > 0) out.print(\",\");\n\t\t\tout.print(\"(\");\n\t\t\tvar pts = e.getCoordinates();\n\t\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\t\tif (i > 0) out.print(\",\");\n\t\t\t\tout.print(pts[i].x + \" \" + pts[i].y);\n\t\t\t}\n\t\t\tout.println(\")\");\n\t\t}\n\t\tout.print(\")  \");\n\t},\n\taddAll: function addAll(edgeColl) {\n\t\tfor (var i = edgeColl.iterator(); i.hasNext();) {\n\t\t\tthis.add(i.next());\n\t\t}\n\t},\n\tfindEdgeIndex: function findEdgeIndex(e) {\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tif (this._edges.get(i).equals(e)) return i;\n\t\t}\n\t\treturn -1;\n\t},\n\titerator: function iterator() {\n\t\treturn this._edges.iterator();\n\t},\n\tgetEdges: function getEdges() {\n\t\treturn this._edges;\n\t},\n\tget: function get(i) {\n\t\treturn this._edges.get(i);\n\t},\n\tfindEqualEdge: function findEqualEdge(e) {\n\t\tvar oca = new OrientedCoordinateArray(e.getCoordinates());\n\t\tvar matchEdge = this._ocaMap.get(oca);\n\t\treturn matchEdge;\n\t},\n\tadd: function add(e) {\n\t\tthis._edges.add(e);\n\t\tvar oca = new OrientedCoordinateArray(e.getCoordinates());\n\t\tthis._ocaMap.put(oca, e);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeList;\n\t}\n});\n\nfunction SegmentIntersector$1() {}\nextend(SegmentIntersector$1.prototype, {\n\tprocessIntersections: function processIntersections(e0, segIndex0, e1, segIndex1) {},\n\tisDone: function isDone() {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SegmentIntersector$1;\n\t}\n});\n\nfunction IntersectionAdder() {\n\tthis._hasIntersection = false;\n\tthis._hasProper = false;\n\tthis._hasProperInterior = false;\n\tthis._hasInterior = false;\n\tthis._properIntersectionPoint = null;\n\tthis._li = null;\n\tthis._isSelfIntersection = null;\n\tthis.numIntersections = 0;\n\tthis.numInteriorIntersections = 0;\n\tthis.numProperIntersections = 0;\n\tthis.numTests = 0;\n\tvar li = arguments[0];\n\tthis._li = li;\n}\nextend(IntersectionAdder.prototype, {\n\tisTrivialIntersection: function isTrivialIntersection(e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1) {\n\t\t\tif (this._li.getIntersectionNum() === 1) {\n\t\t\t\tif (IntersectionAdder.isAdjacentSegments(segIndex0, segIndex1)) return true;\n\t\t\t\tif (e0.isClosed()) {\n\t\t\t\t\tvar maxSegIndex = e0.size() - 1;\n\t\t\t\t\tif (segIndex0 === 0 && segIndex1 === maxSegIndex || segIndex1 === 0 && segIndex0 === maxSegIndex) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tgetProperIntersectionPoint: function getProperIntersectionPoint() {\n\t\treturn this._properIntersectionPoint;\n\t},\n\thasProperInteriorIntersection: function hasProperInteriorIntersection() {\n\t\treturn this._hasProperInterior;\n\t},\n\tgetLineIntersector: function getLineIntersector() {\n\t\treturn this._li;\n\t},\n\thasProperIntersection: function hasProperIntersection() {\n\t\treturn this._hasProper;\n\t},\n\tprocessIntersections: function processIntersections(e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tthis.numTests++;\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tthis.numIntersections++;\n\t\t\tif (this._li.isInteriorIntersection()) {\n\t\t\t\tthis.numInteriorIntersections++;\n\t\t\t\tthis._hasInterior = true;\n\t\t\t}\n\t\t\tif (!this.isTrivialIntersection(e0, segIndex0, e1, segIndex1)) {\n\t\t\t\tthis._hasIntersection = true;\n\t\t\t\te0.addIntersections(this._li, segIndex0, 0);\n\t\t\t\te1.addIntersections(this._li, segIndex1, 1);\n\t\t\t\tif (this._li.isProper()) {\n\t\t\t\t\tthis.numProperIntersections++;\n\t\t\t\t\tthis._hasProper = true;\n\t\t\t\t\tthis._hasProperInterior = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\thasIntersection: function hasIntersection() {\n\t\treturn this._hasIntersection;\n\t},\n\tisDone: function isDone() {\n\t\treturn false;\n\t},\n\thasInteriorIntersection: function hasInteriorIntersection() {\n\t\treturn this._hasInterior;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [SegmentIntersector$1];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IntersectionAdder;\n\t}\n});\nIntersectionAdder.isAdjacentSegments = function (i1, i2) {\n\treturn Math.abs(i1 - i2) === 1;\n};\n\nfunction BufferBuilder() {\n\tthis._bufParams = null;\n\tthis._workingPrecisionModel = null;\n\tthis._workingNoder = null;\n\tthis._geomFact = null;\n\tthis._graph = null;\n\tthis._edgeList = new EdgeList();\n\tvar bufParams = arguments[0];\n\tthis._bufParams = bufParams;\n}\nextend(BufferBuilder.prototype, {\n\tsetWorkingPrecisionModel: function setWorkingPrecisionModel(pm) {\n\t\tthis._workingPrecisionModel = pm;\n\t},\n\tinsertUniqueEdge: function insertUniqueEdge(e) {\n\t\tvar existingEdge = this._edgeList.findEqualEdge(e);\n\t\tif (existingEdge !== null) {\n\t\t\tvar existingLabel = existingEdge.getLabel();\n\t\t\tvar labelToMerge = e.getLabel();\n\t\t\tif (!existingEdge.isPointwiseEqual(e)) {\n\t\t\t\tlabelToMerge = new Label(e.getLabel());\n\t\t\t\tlabelToMerge.flip();\n\t\t\t}\n\t\t\texistingLabel.merge(labelToMerge);\n\t\t\tvar mergeDelta = BufferBuilder.depthDelta(labelToMerge);\n\t\t\tvar existingDelta = existingEdge.getDepthDelta();\n\t\t\tvar newDelta = existingDelta + mergeDelta;\n\t\t\texistingEdge.setDepthDelta(newDelta);\n\t\t} else {\n\t\t\tthis._edgeList.add(e);\n\t\t\te.setDepthDelta(BufferBuilder.depthDelta(e.getLabel()));\n\t\t}\n\t},\n\tbuildSubgraphs: function buildSubgraphs(subgraphList, polyBuilder) {\n\t\tvar processedGraphs = new ArrayList();\n\t\tfor (var i = subgraphList.iterator(); i.hasNext();) {\n\t\t\tvar subgraph = i.next();\n\t\t\tvar p = subgraph.getRightmostCoordinate();\n\t\t\tvar locater = new SubgraphDepthLocater(processedGraphs);\n\t\t\tvar outsideDepth = locater.getDepth(p);\n\t\t\tsubgraph.computeDepth(outsideDepth);\n\t\t\tsubgraph.findResultEdges();\n\t\t\tprocessedGraphs.add(subgraph);\n\t\t\tpolyBuilder.add(subgraph.getDirectedEdges(), subgraph.getNodes());\n\t\t}\n\t},\n\tcreateSubgraphs: function createSubgraphs(graph) {\n\t\tvar subgraphList = new ArrayList();\n\t\tfor (var i = graph.getNodes().iterator(); i.hasNext();) {\n\t\t\tvar node = i.next();\n\t\t\tif (!node.isVisited()) {\n\t\t\t\tvar subgraph = new BufferSubgraph();\n\t\t\t\tsubgraph.create(node);\n\t\t\t\tsubgraphList.add(subgraph);\n\t\t\t}\n\t\t}\n\t\tCollections.sort(subgraphList, Collections.reverseOrder());\n\t\treturn subgraphList;\n\t},\n\tcreateEmptyResultGeometry: function createEmptyResultGeometry() {\n\t\tvar emptyGeom = this._geomFact.createPolygon();\n\t\treturn emptyGeom;\n\t},\n\tgetNoder: function getNoder(precisionModel) {\n\t\tif (this._workingNoder !== null) return this._workingNoder;\n\t\tvar noder = new MCIndexNoder();\n\t\tvar li = new RobustLineIntersector();\n\t\tli.setPrecisionModel(precisionModel);\n\t\tnoder.setSegmentIntersector(new IntersectionAdder(li));\n\t\treturn noder;\n\t},\n\tbuffer: function buffer(g, distance) {\n\t\tvar precisionModel = this._workingPrecisionModel;\n\t\tif (precisionModel === null) precisionModel = g.getPrecisionModel();\n\t\tthis._geomFact = g.getFactory();\n\t\tvar curveBuilder = new OffsetCurveBuilder(precisionModel, this._bufParams);\n\t\tvar curveSetBuilder = new OffsetCurveSetBuilder(g, distance, curveBuilder);\n\t\tvar bufferSegStrList = curveSetBuilder.getCurves();\n\t\tif (bufferSegStrList.size() <= 0) {\n\t\t\treturn this.createEmptyResultGeometry();\n\t\t}\n\t\tthis.computeNodedEdges(bufferSegStrList, precisionModel);\n\t\tthis._graph = new PlanarGraph(new OverlayNodeFactory());\n\t\tthis._graph.addEdges(this._edgeList.getEdges());\n\t\tvar subgraphList = this.createSubgraphs(this._graph);\n\t\tvar polyBuilder = new PolygonBuilder(this._geomFact);\n\t\tthis.buildSubgraphs(subgraphList, polyBuilder);\n\t\tvar resultPolyList = polyBuilder.getPolygons();\n\t\tif (resultPolyList.size() <= 0) {\n\t\t\treturn this.createEmptyResultGeometry();\n\t\t}\n\t\tvar resultGeom = this._geomFact.buildGeometry(resultPolyList);\n\t\treturn resultGeom;\n\t},\n\tcomputeNodedEdges: function computeNodedEdges(bufferSegStrList, precisionModel) {\n\t\tvar noder = this.getNoder(precisionModel);\n\t\tnoder.computeNodes(bufferSegStrList);\n\t\tvar nodedSegStrings = noder.getNodedSubstrings();\n\t\tfor (var i = nodedSegStrings.iterator(); i.hasNext();) {\n\t\t\tvar segStr = i.next();\n\t\t\tvar pts = segStr.getCoordinates();\n\t\t\tif (pts.length === 2 && pts[0].equals2D(pts[1])) continue;\n\t\t\tvar oldLabel = segStr.getData();\n\t\t\tvar edge = new Edge(segStr.getCoordinates(), new Label(oldLabel));\n\t\t\tthis.insertUniqueEdge(edge);\n\t\t}\n\t},\n\tsetNoder: function setNoder(noder) {\n\t\tthis._workingNoder = noder;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BufferBuilder;\n\t}\n});\nBufferBuilder.depthDelta = function (label) {\n\tvar lLoc = label.getLocation(0, Position.LEFT);\n\tvar rLoc = label.getLocation(0, Position.RIGHT);\n\tif (lLoc === Location.INTERIOR && rLoc === Location.EXTERIOR) return 1;else if (lLoc === Location.EXTERIOR && rLoc === Location.INTERIOR) return -1;\n\treturn 0;\n};\nBufferBuilder.convertSegStrings = function (it) {\n\tvar fact = new GeometryFactory();\n\tvar lines = new ArrayList();\n\twhile (it.hasNext()) {\n\t\tvar ss = it.next();\n\t\tvar line = fact.createLineString(ss.getCoordinates());\n\t\tlines.add(line);\n\t}\n\treturn fact.buildGeometry(lines);\n};\n\nfunction NodingValidator() {\n\tthis._li = new RobustLineIntersector();\n\tthis._segStrings = null;\n\tvar segStrings = arguments[0];\n\tthis._segStrings = segStrings;\n}\nextend(NodingValidator.prototype, {\n\tcheckEndPtVertexIntersections: function checkEndPtVertexIntersections() {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = this._segStrings.iterator(); i.hasNext();) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tvar pts = ss.getCoordinates();\n\t\t\t\tthis.checkEndPtVertexIntersections(pts[0], this._segStrings);\n\t\t\t\tthis.checkEndPtVertexIntersections(pts[pts.length - 1], this._segStrings);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar testPt = arguments[0],\n\t\t\t    segStrings = arguments[1];\n\t\t\tfor (var i = segStrings.iterator(); i.hasNext();) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tvar pts = ss.getCoordinates();\n\t\t\t\tfor (var j = 1; j < pts.length - 1; j++) {\n\t\t\t\t\tif (pts[j].equals(testPt)) throw new RuntimeException(\"found endpt/interior pt intersection at index \" + j + \" :pt \" + testPt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcheckInteriorIntersections: function checkInteriorIntersections() {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = this._segStrings.iterator(); i.hasNext();) {\n\t\t\t\tvar ss0 = i.next();\n\t\t\t\tfor (var j = this._segStrings.iterator(); j.hasNext();) {\n\t\t\t\t\tvar ss1 = j.next();\n\t\t\t\t\tthis.checkInteriorIntersections(ss0, ss1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _ss = arguments[0],\n\t\t\t    _ss2 = arguments[1];\n\t\t\tvar pts0 = _ss.getCoordinates();\n\t\t\tvar pts1 = _ss2.getCoordinates();\n\t\t\tfor (var i0 = 0; i0 < pts0.length - 1; i0++) {\n\t\t\t\tfor (var i1 = 0; i1 < pts1.length - 1; i1++) {\n\t\t\t\t\tthis.checkInteriorIntersections(_ss, i0, _ss2, i1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 4) {\n\t\t\tvar e0 = arguments[0],\n\t\t\t    segIndex0 = arguments[1],\n\t\t\t    e1 = arguments[2],\n\t\t\t    segIndex1 = arguments[3];\n\t\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\t\tif (this._li.hasIntersection()) {\n\t\t\t\tif (this._li.isProper() || this.hasInteriorIntersection(this._li, p00, p01) || this.hasInteriorIntersection(this._li, p10, p11)) {\n\t\t\t\t\tthrow new RuntimeException(\"found non-noded intersection at \" + p00 + \"-\" + p01 + \" and \" + p10 + \"-\" + p11);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcheckValid: function checkValid() {\n\t\tthis.checkEndPtVertexIntersections();\n\t\tthis.checkInteriorIntersections();\n\t\tthis.checkCollapses();\n\t},\n\tcheckCollapses: function checkCollapses() {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = this._segStrings.iterator(); i.hasNext();) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tthis.checkCollapses(ss);\n\t\t\t}\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar _ss3 = arguments[0];\n\t\t\tvar pts = _ss3.getCoordinates();\n\t\t\tfor (var i = 0; i < pts.length - 2; i++) {\n\t\t\t\tthis.checkCollapse(pts[i], pts[i + 1], pts[i + 2]);\n\t\t\t}\n\t\t}\n\t},\n\thasInteriorIntersection: function hasInteriorIntersection(li, p0, p1) {\n\t\tfor (var i = 0; i < li.getIntersectionNum(); i++) {\n\t\t\tvar intPt = li.getIntersection(i);\n\t\t\tif (!(intPt.equals(p0) || intPt.equals(p1))) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tcheckCollapse: function checkCollapse(p0, p1, p2) {\n\t\tif (p0.equals(p2)) throw new RuntimeException(\"found non-noded collapse at \" + NodingValidator.fact.createLineString([p0, p1, p2]));\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NodingValidator;\n\t}\n});\nNodingValidator.fact = new GeometryFactory();\n\nfunction HotPixel() {\n\tthis._li = null;\n\tthis._pt = null;\n\tthis._originalPt = null;\n\tthis._ptScaled = null;\n\tthis._p0Scaled = null;\n\tthis._p1Scaled = null;\n\tthis._scaleFactor = null;\n\tthis._minx = null;\n\tthis._maxx = null;\n\tthis._miny = null;\n\tthis._maxy = null;\n\tthis._corner = new Array(4).fill(null);\n\tthis._safeEnv = null;\n\tvar pt = arguments[0],\n\t    scaleFactor = arguments[1],\n\t    li = arguments[2];\n\tthis._originalPt = pt;\n\tthis._pt = pt;\n\tthis._scaleFactor = scaleFactor;\n\tthis._li = li;\n\tif (scaleFactor <= 0) throw new IllegalArgumentException(\"Scale factor must be non-zero\");\n\tif (scaleFactor !== 1.0) {\n\t\tthis._pt = new Coordinate(this.scale(pt.x), this.scale(pt.y));\n\t\tthis._p0Scaled = new Coordinate();\n\t\tthis._p1Scaled = new Coordinate();\n\t}\n\tthis.initCorners(this._pt);\n}\nextend(HotPixel.prototype, {\n\tintersectsScaled: function intersectsScaled(p0, p1) {\n\t\tvar segMinx = Math.min(p0.x, p1.x);\n\t\tvar segMaxx = Math.max(p0.x, p1.x);\n\t\tvar segMiny = Math.min(p0.y, p1.y);\n\t\tvar segMaxy = Math.max(p0.y, p1.y);\n\t\tvar isOutsidePixelEnv = this._maxx < segMinx || this._minx > segMaxx || this._maxy < segMiny || this._miny > segMaxy;\n\t\tif (isOutsidePixelEnv) return false;\n\t\tvar intersects = this.intersectsToleranceSquare(p0, p1);\n\t\tAssert.isTrue(!(isOutsidePixelEnv && intersects), \"Found bad envelope test\");\n\t\treturn intersects;\n\t},\n\tinitCorners: function initCorners(pt) {\n\t\tvar tolerance = 0.5;\n\t\tthis._minx = pt.x - tolerance;\n\t\tthis._maxx = pt.x + tolerance;\n\t\tthis._miny = pt.y - tolerance;\n\t\tthis._maxy = pt.y + tolerance;\n\t\tthis._corner[0] = new Coordinate(this._maxx, this._maxy);\n\t\tthis._corner[1] = new Coordinate(this._minx, this._maxy);\n\t\tthis._corner[2] = new Coordinate(this._minx, this._miny);\n\t\tthis._corner[3] = new Coordinate(this._maxx, this._miny);\n\t},\n\tintersects: function intersects(p0, p1) {\n\t\tif (this._scaleFactor === 1.0) return this.intersectsScaled(p0, p1);\n\t\tthis.copyScaled(p0, this._p0Scaled);\n\t\tthis.copyScaled(p1, this._p1Scaled);\n\t\treturn this.intersectsScaled(this._p0Scaled, this._p1Scaled);\n\t},\n\tscale: function scale(val) {\n\t\treturn Math.round(val * this._scaleFactor);\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._originalPt;\n\t},\n\tcopyScaled: function copyScaled(p, pScaled) {\n\t\tpScaled.x = this.scale(p.x);\n\t\tpScaled.y = this.scale(p.y);\n\t},\n\tgetSafeEnvelope: function getSafeEnvelope() {\n\t\tif (this._safeEnv === null) {\n\t\t\tvar safeTolerance = HotPixel.SAFE_ENV_EXPANSION_FACTOR / this._scaleFactor;\n\t\t\tthis._safeEnv = new Envelope(this._originalPt.x - safeTolerance, this._originalPt.x + safeTolerance, this._originalPt.y - safeTolerance, this._originalPt.y + safeTolerance);\n\t\t}\n\t\treturn this._safeEnv;\n\t},\n\tintersectsPixelClosure: function intersectsPixelClosure(p0, p1) {\n\t\tthis._li.computeIntersection(p0, p1, this._corner[0], this._corner[1]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[1], this._corner[2]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[2], this._corner[3]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[3], this._corner[0]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\treturn false;\n\t},\n\tintersectsToleranceSquare: function intersectsToleranceSquare(p0, p1) {\n\t\tvar intersectsLeft = false;\n\t\tvar intersectsBottom = false;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[0], this._corner[1]);\n\t\tif (this._li.isProper()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[1], this._corner[2]);\n\t\tif (this._li.isProper()) return true;\n\t\tif (this._li.hasIntersection()) intersectsLeft = true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[2], this._corner[3]);\n\t\tif (this._li.isProper()) return true;\n\t\tif (this._li.hasIntersection()) intersectsBottom = true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[3], this._corner[0]);\n\t\tif (this._li.isProper()) return true;\n\t\tif (intersectsLeft && intersectsBottom) return true;\n\t\tif (p0.equals(this._pt)) return true;\n\t\tif (p1.equals(this._pt)) return true;\n\t\treturn false;\n\t},\n\taddSnappedNode: function addSnappedNode(segStr, segIndex) {\n\t\tvar p0 = segStr.getCoordinate(segIndex);\n\t\tvar p1 = segStr.getCoordinate(segIndex + 1);\n\t\tif (this.intersects(p0, p1)) {\n\t\t\tsegStr.addIntersection(this.getCoordinate(), segIndex);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn HotPixel;\n\t}\n});\nHotPixel.SAFE_ENV_EXPANSION_FACTOR = 0.75;\n\nfunction MCIndexPointSnapper() {\n\tthis._index = null;\n\tvar index = arguments[0];\n\tthis._index = index;\n}\nextend(MCIndexPointSnapper.prototype, {\n\tsnap: function snap() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar hotPixel = arguments[0];\n\t\t\treturn this.snap(hotPixel, null, -1);\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _hotPixel = arguments[0],\n\t\t\t    parentEdge = arguments[1],\n\t\t\t    hotPixelVertexIndex = arguments[2];\n\t\t\tvar pixelEnv = _hotPixel.getSafeEnvelope();\n\t\t\tvar hotPixelSnapAction = new HotPixelSnapAction(_hotPixel, parentEdge, hotPixelVertexIndex);\n\t\t\tthis._index.query(pixelEnv, {\n\t\t\t\tinterfaces_: function interfaces_() {\n\t\t\t\t\treturn [ItemVisitor];\n\t\t\t\t},\n\t\t\t\tvisitItem: function visitItem(item) {\n\t\t\t\t\tvar testChain = item;\n\t\t\t\t\ttestChain.select(pixelEnv, hotPixelSnapAction);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn hotPixelSnapAction.isNodeAdded();\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MCIndexPointSnapper;\n\t}\n});\nfunction HotPixelSnapAction() {\n\tMonotoneChainSelectAction.apply(this);\n\tthis._hotPixel = null;\n\tthis._parentEdge = null;\n\tthis._hotPixelVertexIndex = null;\n\tthis._isNodeAdded = false;\n\tvar hotPixel = arguments[0],\n\t    parentEdge = arguments[1],\n\t    hotPixelVertexIndex = arguments[2];\n\tthis._hotPixel = hotPixel;\n\tthis._parentEdge = parentEdge;\n\tthis._hotPixelVertexIndex = hotPixelVertexIndex;\n}\ninherits(HotPixelSnapAction, MonotoneChainSelectAction);\nextend(HotPixelSnapAction.prototype, {\n\tisNodeAdded: function isNodeAdded() {\n\t\treturn this._isNodeAdded;\n\t},\n\tselect: function select() {\n\t\tif (arguments.length === 2 && Number.isInteger(arguments[1]) && arguments[0] instanceof MonotoneChain) {\n\t\t\tvar mc = arguments[0],\n\t\t\t    startIndex = arguments[1];\n\t\t\tvar ss = mc.getContext();\n\t\t\tif (this._parentEdge !== null) {\n\t\t\t\tif (ss === this._parentEdge && startIndex === this._hotPixelVertexIndex) return null;\n\t\t\t}\n\t\t\tthis._isNodeAdded = this._hotPixel.addSnappedNode(ss, startIndex);\n\t\t} else return MonotoneChainSelectAction.prototype.select.apply(this, arguments);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn HotPixelSnapAction;\n\t}\n});\nMCIndexPointSnapper.HotPixelSnapAction = HotPixelSnapAction;\n\nfunction InteriorIntersectionFinderAdder() {\n\tthis._li = null;\n\tthis._interiorIntersections = null;\n\tvar li = arguments[0];\n\tthis._li = li;\n\tthis._interiorIntersections = new ArrayList();\n}\nextend(InteriorIntersectionFinderAdder.prototype, {\n\tprocessIntersections: function processIntersections(e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tif (this._li.isInteriorIntersection()) {\n\t\t\t\tfor (var intIndex = 0; intIndex < this._li.getIntersectionNum(); intIndex++) {\n\t\t\t\t\tthis._interiorIntersections.add(this._li.getIntersection(intIndex));\n\t\t\t\t}\n\t\t\t\te0.addIntersections(this._li, segIndex0, 0);\n\t\t\t\te1.addIntersections(this._li, segIndex1, 1);\n\t\t\t}\n\t\t}\n\t},\n\tisDone: function isDone() {\n\t\treturn false;\n\t},\n\tgetInteriorIntersections: function getInteriorIntersections() {\n\t\treturn this._interiorIntersections;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [SegmentIntersector$1];\n\t},\n\tgetClass: function getClass() {\n\t\treturn InteriorIntersectionFinderAdder;\n\t}\n});\n\nfunction MCIndexSnapRounder() {\n\tthis._pm = null;\n\tthis._li = null;\n\tthis._scaleFactor = null;\n\tthis._noder = null;\n\tthis._pointSnapper = null;\n\tthis._nodedSegStrings = null;\n\tvar pm = arguments[0];\n\tthis._pm = pm;\n\tthis._li = new RobustLineIntersector();\n\tthis._li.setPrecisionModel(pm);\n\tthis._scaleFactor = pm.getScale();\n}\nextend(MCIndexSnapRounder.prototype, {\n\tcheckCorrectness: function checkCorrectness(inputSegmentStrings) {\n\t\tvar resultSegStrings = NodedSegmentString.getNodedSubstrings(inputSegmentStrings);\n\t\tvar nv = new NodingValidator(resultSegStrings);\n\t\ttry {\n\t\t\tnv.checkValid();\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof Exception) {\n\t\t\t\tex.printStackTrace();\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t},\n\tgetNodedSubstrings: function getNodedSubstrings() {\n\t\treturn NodedSegmentString.getNodedSubstrings(this._nodedSegStrings);\n\t},\n\tsnapRound: function snapRound(segStrings, li) {\n\t\tvar intersections = this.findInteriorIntersections(segStrings, li);\n\t\tthis.computeIntersectionSnaps(intersections);\n\t\tthis.computeVertexSnaps(segStrings);\n\t},\n\tfindInteriorIntersections: function findInteriorIntersections(segStrings, li) {\n\t\tvar intFinderAdder = new InteriorIntersectionFinderAdder(li);\n\t\tthis._noder.setSegmentIntersector(intFinderAdder);\n\t\tthis._noder.computeNodes(segStrings);\n\t\treturn intFinderAdder.getInteriorIntersections();\n\t},\n\tcomputeVertexSnaps: function computeVertexSnaps() {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tvar edges = arguments[0];\n\t\t\tfor (var i0 = edges.iterator(); i0.hasNext();) {\n\t\t\t\tvar edge0 = i0.next();\n\t\t\t\tthis.computeVertexSnaps(edge0);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof NodedSegmentString) {\n\t\t\tvar e = arguments[0];\n\t\t\tvar pts0 = e.getCoordinates();\n\t\t\tfor (var i = 0; i < pts0.length; i++) {\n\t\t\t\tvar hotPixel = new HotPixel(pts0[i], this._scaleFactor, this._li);\n\t\t\t\tvar isNodeAdded = this._pointSnapper.snap(hotPixel, e, i);\n\t\t\t\tif (isNodeAdded) {\n\t\t\t\t\te.addIntersection(pts0[i], i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputeNodes: function computeNodes(inputSegmentStrings) {\n\t\tthis._nodedSegStrings = inputSegmentStrings;\n\t\tthis._noder = new MCIndexNoder();\n\t\tthis._pointSnapper = new MCIndexPointSnapper(this._noder.getIndex());\n\t\tthis.snapRound(inputSegmentStrings, this._li);\n\t},\n\tcomputeIntersectionSnaps: function computeIntersectionSnaps(snapPts) {\n\t\tfor (var it = snapPts.iterator(); it.hasNext();) {\n\t\t\tvar snapPt = it.next();\n\t\t\tvar hotPixel = new HotPixel(snapPt, this._scaleFactor, this._li);\n\t\t\tthis._pointSnapper.snap(hotPixel);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Noder];\n\t},\n\tgetClass: function getClass() {\n\t\treturn MCIndexSnapRounder;\n\t}\n});\n\nfunction BufferOp() {\n\tthis._argGeom = null;\n\tthis._distance = null;\n\tthis._bufParams = new BufferParameters();\n\tthis._resultGeometry = null;\n\tthis._saveException = null;\n\tif (arguments.length === 1) {\n\t\tvar g = arguments[0];\n\t\tthis._argGeom = g;\n\t} else if (arguments.length === 2) {\n\t\tvar _g = arguments[0],\n\t\t    bufParams = arguments[1];\n\t\tthis._argGeom = _g;\n\t\tthis._bufParams = bufParams;\n\t}\n}\nextend(BufferOp.prototype, {\n\tbufferFixedPrecision: function bufferFixedPrecision(fixedPM) {\n\t\tvar noder = new ScaledNoder(new MCIndexSnapRounder(new PrecisionModel(1.0)), fixedPM.getScale());\n\t\tvar bufBuilder = new BufferBuilder(this._bufParams);\n\t\tbufBuilder.setWorkingPrecisionModel(fixedPM);\n\t\tbufBuilder.setNoder(noder);\n\t\tthis._resultGeometry = bufBuilder.buffer(this._argGeom, this._distance);\n\t},\n\tbufferReducedPrecision: function bufferReducedPrecision() {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var precDigits = BufferOp.MAX_PRECISION_DIGITS; precDigits >= 0; precDigits--) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.bufferReducedPrecision(precDigits);\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tif (ex instanceof TopologyException) {\n\t\t\t\t\t\tthis._saveException = ex;\n\t\t\t\t\t} else throw ex;\n\t\t\t\t} finally {}\n\t\t\t\tif (this._resultGeometry !== null) return null;\n\t\t\t}\n\t\t\tthrow this._saveException;\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar precisionDigits = arguments[0];\n\t\t\tvar sizeBasedScaleFactor = BufferOp.precisionScaleFactor(this._argGeom, this._distance, precisionDigits);\n\t\t\tvar fixedPM = new PrecisionModel(sizeBasedScaleFactor);\n\t\t\tthis.bufferFixedPrecision(fixedPM);\n\t\t}\n\t},\n\tcomputeGeometry: function computeGeometry() {\n\t\tthis.bufferOriginalPrecision();\n\t\tif (this._resultGeometry !== null) return null;\n\t\tvar argPM = this._argGeom.getFactory().getPrecisionModel();\n\t\tif (argPM.getType() === PrecisionModel.FIXED) this.bufferFixedPrecision(argPM);else this.bufferReducedPrecision();\n\t},\n\tsetQuadrantSegments: function setQuadrantSegments(quadrantSegments) {\n\t\tthis._bufParams.setQuadrantSegments(quadrantSegments);\n\t},\n\tbufferOriginalPrecision: function bufferOriginalPrecision() {\n\t\ttry {\n\t\t\tvar bufBuilder = new BufferBuilder(this._bufParams);\n\t\t\tthis._resultGeometry = bufBuilder.buffer(this._argGeom, this._distance);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof RuntimeException) {\n\t\t\t\tthis._saveException = ex;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t},\n\tgetResultGeometry: function getResultGeometry(distance) {\n\t\tthis._distance = distance;\n\t\tthis.computeGeometry();\n\t\treturn this._resultGeometry;\n\t},\n\tsetEndCapStyle: function setEndCapStyle(endCapStyle) {\n\t\tthis._bufParams.setEndCapStyle(endCapStyle);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BufferOp;\n\t}\n});\nBufferOp.bufferOp = function () {\n\tif (arguments.length === 2) {\n\t\tvar g = arguments[0],\n\t\t    distance = arguments[1];\n\t\tvar gBuf = new BufferOp(g);\n\t\tvar geomBuf = gBuf.getResultGeometry(distance);\n\t\treturn geomBuf;\n\t} else if (arguments.length === 3) {\n\t\tif (Number.isInteger(arguments[2]) && arguments[0] instanceof Geometry && typeof arguments[1] === \"number\") {\n\t\t\tvar _g2 = arguments[0],\n\t\t\t    _distance = arguments[1],\n\t\t\t    quadrantSegments = arguments[2];\n\t\t\tvar bufOp = new BufferOp(_g2);\n\t\t\tbufOp.setQuadrantSegments(quadrantSegments);\n\t\t\tvar geomBuf = bufOp.getResultGeometry(_distance);\n\t\t\treturn geomBuf;\n\t\t} else if (arguments[2] instanceof BufferParameters && arguments[0] instanceof Geometry && typeof arguments[1] === \"number\") {\n\t\t\tvar _g3 = arguments[0],\n\t\t\t    _distance2 = arguments[1],\n\t\t\t    params = arguments[2];\n\t\t\tvar bufOp = new BufferOp(_g3, params);\n\t\t\tvar geomBuf = bufOp.getResultGeometry(_distance2);\n\t\t\treturn geomBuf;\n\t\t}\n\t} else if (arguments.length === 4) {\n\t\tvar _g4 = arguments[0],\n\t\t    _distance3 = arguments[1],\n\t\t    _quadrantSegments = arguments[2],\n\t\t    endCapStyle = arguments[3];\n\t\tvar bufOp = new BufferOp(_g4);\n\t\tbufOp.setQuadrantSegments(_quadrantSegments);\n\t\tbufOp.setEndCapStyle(endCapStyle);\n\t\tvar geomBuf = bufOp.getResultGeometry(_distance3);\n\t\treturn geomBuf;\n\t}\n};\nBufferOp.precisionScaleFactor = function (g, distance, maxPrecisionDigits) {\n\tvar env = g.getEnvelopeInternal();\n\tvar envMax = MathUtil.max(Math.abs(env.getMaxX()), Math.abs(env.getMaxY()), Math.abs(env.getMinX()), Math.abs(env.getMinY()));\n\tvar expandByDistance = distance > 0.0 ? distance : 0.0;\n\tvar bufEnvMax = envMax + 2 * expandByDistance;\n\tvar bufEnvPrecisionDigits = Math.trunc(Math.log(bufEnvMax) / Math.log(10) + 1.0);\n\tvar minUnitLog10 = maxPrecisionDigits - bufEnvPrecisionDigits;\n\tvar scaleFactor = Math.pow(10.0, minUnitLog10);\n\treturn scaleFactor;\n};\nBufferOp.CAP_ROUND = BufferParameters.CAP_ROUND;\nBufferOp.CAP_BUTT = BufferParameters.CAP_FLAT;\nBufferOp.CAP_FLAT = BufferParameters.CAP_FLAT;\nBufferOp.CAP_SQUARE = BufferParameters.CAP_SQUARE;\nBufferOp.MAX_PRECISION_DIGITS = 12;\n\n\n\nvar buffer = Object.freeze({\n\tBufferOp: BufferOp,\n\tBufferParameters: BufferParameters\n});\n\nfunction PolygonExtracter() {\n\tthis._comps = null;\n\tvar comps = arguments[0];\n\tthis._comps = comps;\n}\nextend(PolygonExtracter.prototype, {\n\tfilter: function filter(geom) {\n\t\tif (geom instanceof Polygon) this._comps.add(geom);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PolygonExtracter;\n\t}\n});\nPolygonExtracter.getPolygons = function () {\n\tif (arguments.length === 1) {\n\t\tvar geom = arguments[0];\n\t\treturn PolygonExtracter.getPolygons(geom, new ArrayList());\n\t} else if (arguments.length === 2) {\n\t\tvar _geom = arguments[0],\n\t\t    list = arguments[1];\n\t\tif (_geom instanceof Polygon) {\n\t\t\tlist.add(_geom);\n\t\t} else if (_geom instanceof GeometryCollection) {\n\t\t\t_geom.apply(new PolygonExtracter(list));\n\t\t}\n\t\treturn list;\n\t}\n};\n\nfunction GeometryLocation() {\n\tthis._component = null;\n\tthis._segIndex = null;\n\tthis._pt = null;\n\tif (arguments.length === 2) {\n\t\tvar component = arguments[0],\n\t\t    pt = arguments[1];\n\t\tGeometryLocation.call(this, component, GeometryLocation.INSIDE_AREA, pt);\n\t} else if (arguments.length === 3) {\n\t\tvar _component = arguments[0],\n\t\t    segIndex = arguments[1],\n\t\t    _pt = arguments[2];\n\t\tthis._component = _component;\n\t\tthis._segIndex = segIndex;\n\t\tthis._pt = _pt;\n\t}\n}\nextend(GeometryLocation.prototype, {\n\tisInsideArea: function isInsideArea() {\n\t\treturn this._segIndex === GeometryLocation.INSIDE_AREA;\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._pt;\n\t},\n\tgetGeometryComponent: function getGeometryComponent() {\n\t\treturn this._component;\n\t},\n\tgetSegmentIndex: function getSegmentIndex() {\n\t\treturn this._segIndex;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryLocation;\n\t}\n});\nGeometryLocation.INSIDE_AREA = -1;\n\nfunction PointExtracter() {\n\tthis._pts = null;\n\tvar pts = arguments[0];\n\tthis._pts = pts;\n}\nextend(PointExtracter.prototype, {\n\tfilter: function filter(geom) {\n\t\tif (geom instanceof Point) this._pts.add(geom);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PointExtracter;\n\t}\n});\nPointExtracter.getPoints = function () {\n\tif (arguments.length === 1) {\n\t\tvar geom = arguments[0];\n\t\tif (geom instanceof Point) {\n\t\t\treturn Collections.singletonList(geom);\n\t\t}\n\t\treturn PointExtracter.getPoints(geom, new ArrayList());\n\t} else if (arguments.length === 2) {\n\t\tvar _geom = arguments[0],\n\t\t    list = arguments[1];\n\t\tif (_geom instanceof Point) {\n\t\t\tlist.add(_geom);\n\t\t} else if (_geom instanceof GeometryCollection) {\n\t\t\t_geom.apply(new PointExtracter(list));\n\t\t}\n\t\treturn list;\n\t}\n};\n\nfunction ConnectedElementLocationFilter() {\n\tthis._locations = null;\n\tvar locations = arguments[0];\n\tthis._locations = locations;\n}\nextend(ConnectedElementLocationFilter.prototype, {\n\tfilter: function filter(geom) {\n\t\tif (geom instanceof Point || geom instanceof LineString || geom instanceof Polygon) this._locations.add(new GeometryLocation(geom, 0, geom.getCoordinate()));\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ConnectedElementLocationFilter;\n\t}\n});\nConnectedElementLocationFilter.getLocations = function (geom) {\n\tvar locations = new ArrayList();\n\tgeom.apply(new ConnectedElementLocationFilter(locations));\n\treturn locations;\n};\n\nfunction DistanceOp() {\n\tthis._geom = null;\n\tthis._terminateDistance = 0.0;\n\tthis._ptLocator = new PointLocator();\n\tthis._minDistanceLocation = null;\n\tthis._minDistance = Double.MAX_VALUE;\n\tif (arguments.length === 2) {\n\t\tvar g0 = arguments[0],\n\t\t    g1 = arguments[1];\n\t\tDistanceOp.call(this, g0, g1, 0.0);\n\t} else if (arguments.length === 3) {\n\t\tvar _g = arguments[0],\n\t\t    _g2 = arguments[1],\n\t\t    terminateDistance = arguments[2];\n\t\tthis._geom = new Array(2).fill(null);\n\t\tthis._geom[0] = _g;\n\t\tthis._geom[1] = _g2;\n\t\tthis._terminateDistance = terminateDistance;\n\t}\n}\nextend(DistanceOp.prototype, {\n\tcomputeContainmentDistance: function computeContainmentDistance() {\n\t\tif (arguments.length === 0) {\n\t\t\tvar locPtPoly = new Array(2).fill(null);\n\t\t\tthis.computeContainmentDistance(0, locPtPoly);\n\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\tthis.computeContainmentDistance(1, locPtPoly);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar polyGeomIndex = arguments[0],\n\t\t\t    _locPtPoly = arguments[1];\n\t\t\tvar polyGeom = this._geom[polyGeomIndex];\n\t\t\tif (polyGeom.getDimension() < 2) return null;\n\t\t\tvar locationsIndex = 1 - polyGeomIndex;\n\t\t\tvar polys = PolygonExtracter.getPolygons(polyGeom);\n\t\t\tif (polys.size() > 0) {\n\t\t\t\tvar insideLocs = ConnectedElementLocationFilter.getLocations(this._geom[locationsIndex]);\n\t\t\t\tthis.computeContainmentDistance(insideLocs, polys, _locPtPoly);\n\t\t\t\tif (this._minDistance <= this._terminateDistance) {\n\t\t\t\t\tthis._minDistanceLocation[locationsIndex] = _locPtPoly[0];\n\t\t\t\t\tthis._minDistanceLocation[polyGeomIndex] = _locPtPoly[1];\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (arguments[2] instanceof Array && hasInterface(arguments[0], List) && hasInterface(arguments[1], List)) {\n\t\t\t\tvar locs = arguments[0],\n\t\t\t\t    _polys = arguments[1],\n\t\t\t\t    _locPtPoly2 = arguments[2];\n\t\t\t\tfor (var i = 0; i < locs.size(); i++) {\n\t\t\t\t\tvar loc = locs.get(i);\n\t\t\t\t\tfor (var j = 0; j < _polys.size(); j++) {\n\t\t\t\t\t\tthis.computeContainmentDistance(loc, _polys.get(j), _locPtPoly2);\n\t\t\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (arguments[2] instanceof Array && arguments[0] instanceof GeometryLocation && arguments[1] instanceof Polygon) {\n\t\t\t\tvar ptLoc = arguments[0],\n\t\t\t\t    poly = arguments[1],\n\t\t\t\t    _locPtPoly3 = arguments[2];\n\t\t\t\tvar pt = ptLoc.getCoordinate();\n\t\t\t\tif (Location.EXTERIOR !== this._ptLocator.locate(pt, poly)) {\n\t\t\t\t\tthis._minDistance = 0.0;\n\t\t\t\t\t_locPtPoly3[0] = ptLoc;\n\t\t\t\t\t_locPtPoly3[1] = new GeometryLocation(poly, pt);\n\t\t\t\t\t\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputeMinDistanceLinesPoints: function computeMinDistanceLinesPoints(lines, points, locGeom) {\n\t\tfor (var i = 0; i < lines.size(); i++) {\n\t\t\tvar line = lines.get(i);\n\t\t\tfor (var j = 0; j < points.size(); j++) {\n\t\t\t\tvar pt = points.get(j);\n\t\t\t\tthis.computeMinDistance(line, pt, locGeom);\n\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t}\n\t\t}\n\t},\n\tcomputeFacetDistance: function computeFacetDistance() {\n\t\tvar locGeom = new Array(2).fill(null);\n\t\tvar lines0 = LinearComponentExtracter.getLines(this._geom[0]);\n\t\tvar lines1 = LinearComponentExtracter.getLines(this._geom[1]);\n\t\tvar pts0 = PointExtracter.getPoints(this._geom[0]);\n\t\tvar pts1 = PointExtracter.getPoints(this._geom[1]);\n\t\tthis.computeMinDistanceLines(lines0, lines1, locGeom);\n\t\tthis.updateMinDistance(locGeom, false);\n\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\tlocGeom[0] = null;\n\t\tlocGeom[1] = null;\n\t\tthis.computeMinDistanceLinesPoints(lines0, pts1, locGeom);\n\t\tthis.updateMinDistance(locGeom, false);\n\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\tlocGeom[0] = null;\n\t\tlocGeom[1] = null;\n\t\tthis.computeMinDistanceLinesPoints(lines1, pts0, locGeom);\n\t\tthis.updateMinDistance(locGeom, true);\n\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\tlocGeom[0] = null;\n\t\tlocGeom[1] = null;\n\t\tthis.computeMinDistancePoints(pts0, pts1, locGeom);\n\t\tthis.updateMinDistance(locGeom, false);\n\t},\n\tnearestLocations: function nearestLocations() {\n\t\tthis.computeMinDistance();\n\t\treturn this._minDistanceLocation;\n\t},\n\tupdateMinDistance: function updateMinDistance(locGeom, flip) {\n\t\tif (locGeom[0] === null) return null;\n\t\tif (flip) {\n\t\t\tthis._minDistanceLocation[0] = locGeom[1];\n\t\t\tthis._minDistanceLocation[1] = locGeom[0];\n\t\t} else {\n\t\t\tthis._minDistanceLocation[0] = locGeom[0];\n\t\t\tthis._minDistanceLocation[1] = locGeom[1];\n\t\t}\n\t},\n\tnearestPoints: function nearestPoints() {\n\t\tthis.computeMinDistance();\n\t\tvar nearestPts = [this._minDistanceLocation[0].getCoordinate(), this._minDistanceLocation[1].getCoordinate()];\n\t\treturn nearestPts;\n\t},\n\tcomputeMinDistance: function computeMinDistance() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this._minDistanceLocation !== null) return null;\n\t\t\tthis._minDistanceLocation = new Array(2).fill(null);\n\t\t\tthis.computeContainmentDistance();\n\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\tthis.computeFacetDistance();\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (arguments[2] instanceof Array && arguments[0] instanceof LineString && arguments[1] instanceof Point) {\n\t\t\t\tvar line = arguments[0],\n\t\t\t\t    pt = arguments[1],\n\t\t\t\t    locGeom = arguments[2];\n\t\t\t\tif (line.getEnvelopeInternal().distance(pt.getEnvelopeInternal()) > this._minDistance) return null;\n\t\t\t\tvar coord0 = line.getCoordinates();\n\t\t\t\tvar coord = pt.getCoordinate();\n\t\t\t\tfor (var i = 0; i < coord0.length - 1; i++) {\n\t\t\t\t\tvar dist = Distance.pointToSegment(coord, coord0[i], coord0[i + 1]);\n\t\t\t\t\tif (dist < this._minDistance) {\n\t\t\t\t\t\tthis._minDistance = dist;\n\t\t\t\t\t\tvar seg = new LineSegment(coord0[i], coord0[i + 1]);\n\t\t\t\t\t\tvar segClosestPoint = seg.closestPoint(coord);\n\t\t\t\t\t\tlocGeom[0] = new GeometryLocation(line, i, segClosestPoint);\n\t\t\t\t\t\tlocGeom[1] = new GeometryLocation(pt, 0, coord);\n\t\t\t\t\t}\n\t\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t\t}\n\t\t\t} else if (arguments[2] instanceof Array && arguments[0] instanceof LineString && arguments[1] instanceof LineString) {\n\t\t\t\tvar line0 = arguments[0],\n\t\t\t\t    line1 = arguments[1],\n\t\t\t\t    _locGeom = arguments[2];\n\t\t\t\tif (line0.getEnvelopeInternal().distance(line1.getEnvelopeInternal()) > this._minDistance) return null;\n\t\t\t\tvar coord0 = line0.getCoordinates();\n\t\t\t\tvar coord1 = line1.getCoordinates();\n\t\t\t\tfor (var i = 0; i < coord0.length - 1; i++) {\n\t\t\t\t\tfor (var j = 0; j < coord1.length - 1; j++) {\n\t\t\t\t\t\tvar dist = Distance.segmentToSegment(coord0[i], coord0[i + 1], coord1[j], coord1[j + 1]);\n\t\t\t\t\t\tif (dist < this._minDistance) {\n\t\t\t\t\t\t\tthis._minDistance = dist;\n\t\t\t\t\t\t\tvar seg0 = new LineSegment(coord0[i], coord0[i + 1]);\n\t\t\t\t\t\t\tvar seg1 = new LineSegment(coord1[j], coord1[j + 1]);\n\t\t\t\t\t\t\tvar closestPt = seg0.closestPoints(seg1);\n\t\t\t\t\t\t\t_locGeom[0] = new GeometryLocation(line0, i, closestPt[0]);\n\t\t\t\t\t\t\t_locGeom[1] = new GeometryLocation(line1, j, closestPt[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputeMinDistancePoints: function computeMinDistancePoints(points0, points1, locGeom) {\n\t\tfor (var i = 0; i < points0.size(); i++) {\n\t\t\tvar pt0 = points0.get(i);\n\t\t\tfor (var j = 0; j < points1.size(); j++) {\n\t\t\t\tvar pt1 = points1.get(j);\n\t\t\t\tvar dist = pt0.getCoordinate().distance(pt1.getCoordinate());\n\t\t\t\tif (dist < this._minDistance) {\n\t\t\t\t\tthis._minDistance = dist;\n\t\t\t\t\tlocGeom[0] = new GeometryLocation(pt0, 0, pt0.getCoordinate());\n\t\t\t\t\tlocGeom[1] = new GeometryLocation(pt1, 0, pt1.getCoordinate());\n\t\t\t\t}\n\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t}\n\t\t}\n\t},\n\tdistance: function distance() {\n\t\tif (this._geom[0] === null || this._geom[1] === null) throw new IllegalArgumentException(\"null geometries are not supported\");\n\t\tif (this._geom[0].isEmpty() || this._geom[1].isEmpty()) return 0.0;\n\t\tthis.computeMinDistance();\n\t\treturn this._minDistance;\n\t},\n\tcomputeMinDistanceLines: function computeMinDistanceLines(lines0, lines1, locGeom) {\n\t\tfor (var i = 0; i < lines0.size(); i++) {\n\t\t\tvar line0 = lines0.get(i);\n\t\t\tfor (var j = 0; j < lines1.size(); j++) {\n\t\t\t\tvar line1 = lines1.get(j);\n\t\t\t\tthis.computeMinDistance(line0, line1, locGeom);\n\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DistanceOp;\n\t}\n});\nDistanceOp.distance = function (g0, g1) {\n\tvar distOp = new DistanceOp(g0, g1);\n\treturn distOp.distance();\n};\nDistanceOp.isWithinDistance = function (g0, g1, distance) {\n\tvar envDist = g0.getEnvelopeInternal().distance(g1.getEnvelopeInternal());\n\tif (envDist > distance) return false;\n\tvar distOp = new DistanceOp(g0, g1, distance);\n\treturn distOp.distance() <= distance;\n};\nDistanceOp.nearestPoints = function (g0, g1) {\n\tvar distOp = new DistanceOp(g0, g1);\n\treturn distOp.nearestPoints();\n};\n\n\n\nvar distance = Object.freeze({\n\tDistanceOp: DistanceOp\n});\n\nfunction EdgeString() {\n\tthis._factory = null;\n\tthis._directedEdges = new ArrayList();\n\tthis._coordinates = null;\n\tvar factory = arguments[0];\n\tthis._factory = factory;\n}\nextend(EdgeString.prototype, {\n\tgetCoordinates: function getCoordinates() {\n\t\tif (this._coordinates === null) {\n\t\t\tvar forwardDirectedEdges = 0;\n\t\t\tvar reverseDirectedEdges = 0;\n\t\t\tvar coordinateList = new CoordinateList();\n\t\t\tfor (var i = this._directedEdges.iterator(); i.hasNext();) {\n\t\t\t\tvar directedEdge = i.next();\n\t\t\t\tif (directedEdge.getEdgeDirection()) {\n\t\t\t\t\tforwardDirectedEdges++;\n\t\t\t\t} else {\n\t\t\t\t\treverseDirectedEdges++;\n\t\t\t\t}\n\t\t\t\tcoordinateList.add(directedEdge.getEdge().getLine().getCoordinates(), false, directedEdge.getEdgeDirection());\n\t\t\t}\n\t\t\tthis._coordinates = coordinateList.toCoordinateArray();\n\t\t\tif (reverseDirectedEdges > forwardDirectedEdges) {\n\t\t\t\tCoordinateArrays.reverse(this._coordinates);\n\t\t\t}\n\t\t}\n\t\treturn this._coordinates;\n\t},\n\ttoLineString: function toLineString() {\n\t\treturn this._factory.createLineString(this.getCoordinates());\n\t},\n\tadd: function add(directedEdge) {\n\t\tthis._directedEdges.add(directedEdge);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeString;\n\t}\n});\n\nfunction GraphComponent$1() {\n\tthis._isMarked = false;\n\tthis._isVisited = false;\n\tthis._data = null;\n}\nextend(GraphComponent$1.prototype, {\n\tsetVisited: function setVisited(isVisited) {\n\t\tthis._isVisited = isVisited;\n\t},\n\tisMarked: function isMarked() {\n\t\treturn this._isMarked;\n\t},\n\tsetData: function setData(data) {\n\t\tthis._data = data;\n\t},\n\tgetData: function getData() {\n\t\treturn this._data;\n\t},\n\tsetMarked: function setMarked(isMarked) {\n\t\tthis._isMarked = isMarked;\n\t},\n\tgetContext: function getContext() {\n\t\treturn this._data;\n\t},\n\tisVisited: function isVisited() {\n\t\treturn this._isVisited;\n\t},\n\tsetContext: function setContext(data) {\n\t\tthis._data = data;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GraphComponent$1;\n\t}\n});\nGraphComponent$1.getComponentWithVisitedState = function (i, visitedState) {\n\twhile (i.hasNext()) {\n\t\tvar comp = i.next();\n\t\tif (comp.isVisited() === visitedState) return comp;\n\t}\n\treturn null;\n};\nGraphComponent$1.setVisited = function (i, visited) {\n\twhile (i.hasNext()) {\n\t\tvar comp = i.next();\n\t\tcomp.setVisited(visited);\n\t}\n};\nGraphComponent$1.setMarked = function (i, marked) {\n\twhile (i.hasNext()) {\n\t\tvar comp = i.next();\n\t\tcomp.setMarked(marked);\n\t}\n};\n\nfunction DirectedEdge$1() {\n\tGraphComponent$1.apply(this);\n\tthis._parentEdge = null;\n\tthis._from = null;\n\tthis._to = null;\n\tthis._p0 = null;\n\tthis._p1 = null;\n\tthis._sym = null;\n\tthis._edgeDirection = null;\n\tthis._quadrant = null;\n\tthis._angle = null;\n\tvar from = arguments[0],\n\t    to = arguments[1],\n\t    directionPt = arguments[2],\n\t    edgeDirection = arguments[3];\n\tthis._from = from;\n\tthis._to = to;\n\tthis._edgeDirection = edgeDirection;\n\tthis._p0 = from.getCoordinate();\n\tthis._p1 = directionPt;\n\tvar dx = this._p1.x - this._p0.x;\n\tvar dy = this._p1.y - this._p0.y;\n\tthis._quadrant = Quadrant.quadrant(dx, dy);\n\tthis._angle = Math.atan2(dy, dx);\n}\ninherits(DirectedEdge$1, GraphComponent$1);\nextend(DirectedEdge$1.prototype, {\n\tisRemoved: function isRemoved() {\n\t\treturn this._parentEdge === null;\n\t},\n\tcompareDirection: function compareDirection(e) {\n\t\tif (this._quadrant > e._quadrant) return 1;\n\t\tif (this._quadrant < e._quadrant) return -1;\n\t\treturn Orientation.index(e._p0, e._p1, this._p1);\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._from.getCoordinate();\n\t},\n\tprint: function print(out) {\n\t\tvar className = this.getClass().getName();\n\t\tvar lastDotPos = className.lastIndexOf('.');\n\t\tvar name = className.substring(lastDotPos + 1);\n\t\tout.print(\"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + this._angle);\n\t},\n\tgetDirectionPt: function getDirectionPt() {\n\t\treturn this._p1;\n\t},\n\tgetAngle: function getAngle() {\n\t\treturn this._angle;\n\t},\n\tcompareTo: function compareTo(obj) {\n\t\tvar de = obj;\n\t\treturn this.compareDirection(de);\n\t},\n\tgetFromNode: function getFromNode() {\n\t\treturn this._from;\n\t},\n\tgetSym: function getSym() {\n\t\treturn this._sym;\n\t},\n\tsetEdge: function setEdge(parentEdge) {\n\t\tthis._parentEdge = parentEdge;\n\t},\n\tremove: function remove() {\n\t\tthis._sym = null;\n\t\tthis._parentEdge = null;\n\t},\n\tgetEdge: function getEdge() {\n\t\treturn this._parentEdge;\n\t},\n\tgetQuadrant: function getQuadrant() {\n\t\treturn this._quadrant;\n\t},\n\tsetSym: function setSym(sym) {\n\t\tthis._sym = sym;\n\t},\n\tgetToNode: function getToNode() {\n\t\treturn this._to;\n\t},\n\tgetEdgeDirection: function getEdgeDirection() {\n\t\treturn this._edgeDirection;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DirectedEdge$1;\n\t}\n});\nDirectedEdge$1.toEdges = function (dirEdges) {\n\tvar edges = new ArrayList();\n\tfor (var i = dirEdges.iterator(); i.hasNext();) {\n\t\tedges.add(i.next()._parentEdge);\n\t}\n\treturn edges;\n};\n\nfunction LineMergeDirectedEdge() {\n\tvar from = arguments[0],\n\t    to = arguments[1],\n\t    directionPt = arguments[2],\n\t    edgeDirection = arguments[3];\n\tDirectedEdge$1.call(this, from, to, directionPt, edgeDirection);\n}\ninherits(LineMergeDirectedEdge, DirectedEdge$1);\nextend(LineMergeDirectedEdge.prototype, {\n\tgetNext: function getNext() {\n\t\tif (this.getToNode().getDegree() !== 2) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.getToNode().getOutEdges().getEdges().get(0) === this.getSym()) {\n\t\t\treturn this.getToNode().getOutEdges().getEdges().get(1);\n\t\t}\n\t\tAssert.isTrue(this.getToNode().getOutEdges().getEdges().get(1) === this.getSym());\n\t\treturn this.getToNode().getOutEdges().getEdges().get(0);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineMergeDirectedEdge;\n\t}\n});\n\nfunction Edge$1() {\n\tGraphComponent$1.apply(this);\n\tthis._dirEdge = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 2) {\n\t\tvar de0 = arguments[0],\n\t\t    de1 = arguments[1];\n\t\tthis.setDirectedEdges(de0, de1);\n\t}\n}\ninherits(Edge$1, GraphComponent$1);\nextend(Edge$1.prototype, {\n\tisRemoved: function isRemoved() {\n\t\treturn this._dirEdge === null;\n\t},\n\tsetDirectedEdges: function setDirectedEdges(de0, de1) {\n\t\tthis._dirEdge = [de0, de1];\n\t\tde0.setEdge(this);\n\t\tde1.setEdge(this);\n\t\tde0.setSym(de1);\n\t\tde1.setSym(de0);\n\t\tde0.getFromNode().addOutEdge(de0);\n\t\tde1.getFromNode().addOutEdge(de1);\n\t},\n\tgetDirEdge: function getDirEdge() {\n\t\tif (Number.isInteger(arguments[0])) {\n\t\t\tvar i = arguments[0];\n\t\t\treturn this._dirEdge[i];\n\t\t} else if (arguments[0] instanceof Node$3) {\n\t\t\tvar fromNode = arguments[0];\n\t\t\tif (this._dirEdge[0].getFromNode() === fromNode) return this._dirEdge[0];\n\t\t\tif (this._dirEdge[1].getFromNode() === fromNode) return this._dirEdge[1];\n\t\t\treturn null;\n\t\t}\n\t},\n\tremove: function remove() {\n\t\tthis._dirEdge = null;\n\t},\n\tgetOppositeNode: function getOppositeNode(node) {\n\t\tif (this._dirEdge[0].getFromNode() === node) return this._dirEdge[0].getToNode();\n\t\tif (this._dirEdge[1].getFromNode() === node) return this._dirEdge[1].getToNode();\n\t\treturn null;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Edge$1;\n\t}\n});\n\nfunction DirectedEdgeStar$1() {\n\tthis._outEdges = new ArrayList();\n\tthis._sorted = false;\n}\nextend(DirectedEdgeStar$1.prototype, {\n\tgetNextEdge: function getNextEdge(dirEdge) {\n\t\tvar i = this.getIndex(dirEdge);\n\t\treturn this._outEdges.get(this.getIndex(i + 1));\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\tvar it = this.iterator();\n\t\tif (!it.hasNext()) return null;\n\t\tvar e = it.next();\n\t\treturn e.getCoordinate();\n\t},\n\titerator: function iterator() {\n\t\tthis.sortEdges();\n\t\treturn this._outEdges.iterator();\n\t},\n\tsortEdges: function sortEdges() {\n\t\tif (!this._sorted) {\n\t\t\tCollections.sort(this._outEdges);\n\t\t\tthis._sorted = true;\n\t\t}\n\t},\n\tremove: function remove(de) {\n\t\tthis._outEdges.remove(de);\n\t},\n\tgetEdges: function getEdges() {\n\t\tthis.sortEdges();\n\t\treturn this._outEdges;\n\t},\n\tgetNextCWEdge: function getNextCWEdge(dirEdge) {\n\t\tvar i = this.getIndex(dirEdge);\n\t\treturn this._outEdges.get(this.getIndex(i - 1));\n\t},\n\tgetIndex: function getIndex() {\n\t\tif (arguments[0] instanceof Edge$1) {\n\t\t\tvar edge = arguments[0];\n\t\t\tthis.sortEdges();\n\t\t\tfor (var i = 0; i < this._outEdges.size(); i++) {\n\t\t\t\tvar de = this._outEdges.get(i);\n\t\t\t\tif (de.getEdge() === edge) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t} else if (arguments[0] instanceof DirectedEdge$1) {\n\t\t\tvar dirEdge = arguments[0];\n\t\t\tthis.sortEdges();\n\t\t\tfor (var i = 0; i < this._outEdges.size(); i++) {\n\t\t\t\tvar de = this._outEdges.get(i);\n\t\t\t\tif (de === dirEdge) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t} else if (Number.isInteger(arguments[0])) {\n\t\t\tvar _i = arguments[0];\n\t\t\tvar modi = _i % this._outEdges.size();\n\t\t\tif (modi < 0) modi += this._outEdges.size();\n\t\t\treturn modi;\n\t\t}\n\t},\n\tadd: function add(de) {\n\t\tthis._outEdges.add(de);\n\t\tthis._sorted = false;\n\t},\n\tgetDegree: function getDegree() {\n\t\treturn this._outEdges.size();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DirectedEdgeStar$1;\n\t}\n});\n\nfunction Node$3() {\n\tGraphComponent$1.apply(this);\n\tthis._pt = null;\n\tthis._deStar = null;\n\tif (arguments.length === 1) {\n\t\tvar pt = arguments[0];\n\t\tNode$3.call(this, pt, new DirectedEdgeStar$1());\n\t} else if (arguments.length === 2) {\n\t\tvar _pt = arguments[0],\n\t\t    deStar = arguments[1];\n\t\tthis._pt = _pt;\n\t\tthis._deStar = deStar;\n\t}\n}\ninherits(Node$3, GraphComponent$1);\nextend(Node$3.prototype, {\n\tisRemoved: function isRemoved() {\n\t\treturn this._pt === null;\n\t},\n\taddOutEdge: function addOutEdge(de) {\n\t\tthis._deStar.add(de);\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._pt;\n\t},\n\tgetOutEdges: function getOutEdges() {\n\t\treturn this._deStar;\n\t},\n\tremove: function remove() {\n\t\tif (arguments.length === 0) {\n\t\t\tthis._pt = null;\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar de = arguments[0];\n\t\t\tthis._deStar.remove(de);\n\t\t}\n\t},\n\tgetIndex: function getIndex(edge) {\n\t\treturn this._deStar.getIndex(edge);\n\t},\n\tgetDegree: function getDegree() {\n\t\treturn this._deStar.getDegree();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Node$3;\n\t}\n});\nNode$3.getEdgesBetween = function (node0, node1) {\n\tvar edges0 = DirectedEdge$1.toEdges(node0.getOutEdges().getEdges());\n\tvar commonEdges = new HashSet(edges0);\n\tvar edges1 = DirectedEdge$1.toEdges(node1.getOutEdges().getEdges());\n\tcommonEdges.retainAll(edges1);\n\treturn commonEdges;\n};\n\nfunction LineMergeEdge() {\n\tEdge$1.apply(this);\n\tthis._line = null;\n\tvar line = arguments[0];\n\tthis._line = line;\n}\ninherits(LineMergeEdge, Edge$1);\nextend(LineMergeEdge.prototype, {\n\tgetLine: function getLine() {\n\t\treturn this._line;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineMergeEdge;\n\t}\n});\n\nfunction NodeMap$1() {\n\tthis._nodeMap = new TreeMap();\n}\nextend(NodeMap$1.prototype, {\n\tfind: function find(coord) {\n\t\treturn this._nodeMap.get(coord);\n\t},\n\titerator: function iterator() {\n\t\treturn this._nodeMap.values().iterator();\n\t},\n\tremove: function remove(pt) {\n\t\treturn this._nodeMap.remove(pt);\n\t},\n\tvalues: function values() {\n\t\treturn this._nodeMap.values();\n\t},\n\tadd: function add(n) {\n\t\tthis._nodeMap.put(n.getCoordinate(), n);\n\t\treturn n;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NodeMap$1;\n\t}\n});\n\nfunction PlanarGraph$1() {\n\tthis._edges = new HashSet();\n\tthis._dirEdges = new HashSet();\n\tthis._nodeMap = new NodeMap$1();\n}\nextend(PlanarGraph$1.prototype, {\n\tfindNodesOfDegree: function findNodesOfDegree(degree) {\n\t\tvar nodesFound = new ArrayList();\n\t\tfor (var i = this.nodeIterator(); i.hasNext();) {\n\t\t\tvar node = i.next();\n\t\t\tif (node.getDegree() === degree) nodesFound.add(node);\n\t\t}\n\t\treturn nodesFound;\n\t},\n\tdirEdgeIterator: function dirEdgeIterator() {\n\t\treturn this._dirEdges.iterator();\n\t},\n\tedgeIterator: function edgeIterator() {\n\t\treturn this._edges.iterator();\n\t},\n\tremove: function remove() {\n\t\tif (arguments[0] instanceof Edge$1) {\n\t\t\tvar _edge = arguments[0];\n\t\t\tthis.remove(_edge.getDirEdge(0));\n\t\t\tthis.remove(_edge.getDirEdge(1));\n\t\t\tthis._edges.remove(_edge);\n\t\t\t_edge.remove();\n\t\t} else if (arguments[0] instanceof DirectedEdge$1) {\n\t\t\tvar _de = arguments[0];\n\t\t\tvar sym = _de.getSym();\n\t\t\tif (sym !== null) sym.setSym(null);\n\t\t\t_de.getFromNode().remove(_de);\n\t\t\t_de.remove();\n\t\t\tthis._dirEdges.remove(_de);\n\t\t} else if (arguments[0] instanceof Node$3) {\n\t\t\tvar node = arguments[0];\n\t\t\tvar outEdges = node.getOutEdges().getEdges();\n\t\t\tfor (var i = outEdges.iterator(); i.hasNext();) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tvar sym = de.getSym();\n\t\t\t\tif (sym !== null) this.remove(sym);\n\t\t\t\tthis._dirEdges.remove(de);\n\t\t\t\tvar edge = de.getEdge();\n\t\t\t\tif (edge !== null) {\n\t\t\t\t\tthis._edges.remove(edge);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._nodeMap.remove(node.getCoordinate());\n\t\t\tnode.remove();\n\t\t}\n\t},\n\tfindNode: function findNode(pt) {\n\t\treturn this._nodeMap.find(pt);\n\t},\n\tgetEdges: function getEdges() {\n\t\treturn this._edges;\n\t},\n\tnodeIterator: function nodeIterator() {\n\t\treturn this._nodeMap.iterator();\n\t},\n\tcontains: function contains() {\n\t\tif (arguments[0] instanceof Edge$1) {\n\t\t\tvar e = arguments[0];\n\t\t\treturn this._edges.contains(e);\n\t\t} else if (arguments[0] instanceof DirectedEdge$1) {\n\t\t\tvar de = arguments[0];\n\t\t\treturn this._dirEdges.contains(de);\n\t\t}\n\t},\n\tadd: function add() {\n\t\tif (arguments[0] instanceof Node$3) {\n\t\t\tvar node = arguments[0];\n\t\t\tthis._nodeMap.add(node);\n\t\t} else if (arguments[0] instanceof Edge$1) {\n\t\t\tvar edge = arguments[0];\n\t\t\tthis._edges.add(edge);\n\t\t\tthis.add(edge.getDirEdge(0));\n\t\t\tthis.add(edge.getDirEdge(1));\n\t\t} else if (arguments[0] instanceof DirectedEdge$1) {\n\t\t\tvar dirEdge = arguments[0];\n\t\t\tthis._dirEdges.add(dirEdge);\n\t\t}\n\t},\n\tgetNodes: function getNodes() {\n\t\treturn this._nodeMap.values();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PlanarGraph$1;\n\t}\n});\n\nfunction LineMergeGraph() {\n\tPlanarGraph$1.apply(this);\n}\ninherits(LineMergeGraph, PlanarGraph$1);\nextend(LineMergeGraph.prototype, {\n\taddEdge: function addEdge(lineString) {\n\t\tif (lineString.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\tvar coordinates = CoordinateArrays.removeRepeatedPoints(lineString.getCoordinates());\n\t\tif (coordinates.length <= 1) return null;\n\t\tvar startCoordinate = coordinates[0];\n\t\tvar endCoordinate = coordinates[coordinates.length - 1];\n\t\tvar startNode = this.getNode(startCoordinate);\n\t\tvar endNode = this.getNode(endCoordinate);\n\t\tvar directedEdge0 = new LineMergeDirectedEdge(startNode, endNode, coordinates[1], true);\n\t\tvar directedEdge1 = new LineMergeDirectedEdge(endNode, startNode, coordinates[coordinates.length - 2], false);\n\t\tvar edge = new LineMergeEdge(lineString);\n\t\tedge.setDirectedEdges(directedEdge0, directedEdge1);\n\t\tthis.add(edge);\n\t},\n\tgetNode: function getNode(coordinate) {\n\t\tvar node = this.findNode(coordinate);\n\t\tif (node === null) {\n\t\t\tnode = new Node$3(coordinate);\n\t\t\tthis.add(node);\n\t\t}\n\t\treturn node;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineMergeGraph;\n\t}\n});\n\nfunction LineMerger() {\n\tthis._graph = new LineMergeGraph();\n\tthis._mergedLineStrings = null;\n\tthis._factory = null;\n\tthis._edgeStrings = null;\n}\nextend(LineMerger.prototype, {\n\tbuildEdgeStringsForUnprocessedNodes: function buildEdgeStringsForUnprocessedNodes() {\n\t\tfor (var i = this._graph.getNodes().iterator(); i.hasNext();) {\n\t\t\tvar node = i.next();\n\t\t\tif (!node.isMarked()) {\n\t\t\t\tAssert.isTrue(node.getDegree() === 2);\n\t\t\t\tthis.buildEdgeStringsStartingAt(node);\n\t\t\t\tnode.setMarked(true);\n\t\t\t}\n\t\t}\n\t},\n\tbuildEdgeStringsForNonDegree2Nodes: function buildEdgeStringsForNonDegree2Nodes() {\n\t\tfor (var i = this._graph.getNodes().iterator(); i.hasNext();) {\n\t\t\tvar node = i.next();\n\t\t\tif (node.getDegree() !== 2) {\n\t\t\t\tthis.buildEdgeStringsStartingAt(node);\n\t\t\t\tnode.setMarked(true);\n\t\t\t}\n\t\t}\n\t},\n\tbuildEdgeStringsForObviousStartNodes: function buildEdgeStringsForObviousStartNodes() {\n\t\tthis.buildEdgeStringsForNonDegree2Nodes();\n\t},\n\tgetMergedLineStrings: function getMergedLineStrings() {\n\t\tthis.merge();\n\t\treturn this._mergedLineStrings;\n\t},\n\tbuildEdgeStringsStartingAt: function buildEdgeStringsStartingAt(node) {\n\t\tfor (var i = node.getOutEdges().iterator(); i.hasNext();) {\n\t\t\tvar directedEdge = i.next();\n\t\t\tif (directedEdge.getEdge().isMarked()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._edgeStrings.add(this.buildEdgeStringStartingWith(directedEdge));\n\t\t}\n\t},\n\tmerge: function merge() {\n\t\tif (this._mergedLineStrings !== null) {\n\t\t\treturn null;\n\t\t}\n\t\tGraphComponent$1.setMarked(this._graph.nodeIterator(), false);\n\t\tGraphComponent$1.setMarked(this._graph.edgeIterator(), false);\n\t\tthis._edgeStrings = new ArrayList();\n\t\tthis.buildEdgeStringsForObviousStartNodes();\n\t\tthis.buildEdgeStringsForIsolatedLoops();\n\t\tthis._mergedLineStrings = new ArrayList();\n\t\tfor (var i = this._edgeStrings.iterator(); i.hasNext();) {\n\t\t\tvar edgeString = i.next();\n\t\t\tthis._mergedLineStrings.add(edgeString.toLineString());\n\t\t}\n\t},\n\tbuildEdgeStringStartingWith: function buildEdgeStringStartingWith(start) {\n\t\tvar edgeString = new EdgeString(this._factory);\n\t\tvar current = start;\n\t\tdo {\n\t\t\tedgeString.add(current);\n\t\t\tcurrent.getEdge().setMarked(true);\n\t\t\tcurrent = current.getNext();\n\t\t} while (current !== null && current !== start);\n\t\treturn edgeString;\n\t},\n\tadd: function add() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tvar _geometry = arguments[0];\n\t\t\t_geometry.apply({\n\t\t\t\tinterfaces_: function interfaces_() {\n\t\t\t\t\treturn [GeometryComponentFilter];\n\t\t\t\t},\n\t\t\t\tfilter: function filter(component) {\n\t\t\t\t\tif (component instanceof LineString) {\n\t\t\t\t\t\tthis.add(component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tvar geometries = arguments[0];\n\t\t\tthis._mergedLineStrings = null;\n\t\t\tfor (var i = geometries.iterator(); i.hasNext();) {\n\t\t\t\tvar geometry = i.next();\n\t\t\t\tthis.add(geometry);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tvar lineString = arguments[0];\n\t\t\tif (this._factory === null) {\n\t\t\t\tthis._factory = lineString.getFactory();\n\t\t\t}\n\t\t\tthis._graph.addEdge(lineString);\n\t\t}\n\t},\n\tbuildEdgeStringsForIsolatedLoops: function buildEdgeStringsForIsolatedLoops() {\n\t\tthis.buildEdgeStringsForUnprocessedNodes();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineMerger;\n\t}\n});\n\n\n\nvar linemerge = Object.freeze({\n\tLineMerger: LineMerger\n});\n\nfunction BasicSegmentString() {\n\tthis._pts = null;\n\tthis._data = null;\n\tvar pts = arguments[0],\n\t    data = arguments[1];\n\tthis._pts = pts;\n\tthis._data = data;\n}\nextend(BasicSegmentString.prototype, {\n\tgetCoordinates: function getCoordinates() {\n\t\treturn this._pts;\n\t},\n\tsize: function size() {\n\t\treturn this._pts.length;\n\t},\n\tgetCoordinate: function getCoordinate(i) {\n\t\treturn this._pts[i];\n\t},\n\tisClosed: function isClosed() {\n\t\treturn this._pts[0].equals(this._pts[this._pts.length - 1]);\n\t},\n\tgetSegmentOctant: function getSegmentOctant(index) {\n\t\tif (index === this._pts.length - 1) return -1;\n\t\treturn Octant.octant(this.getCoordinate(index), this.getCoordinate(index + 1));\n\t},\n\tsetData: function setData(data) {\n\t\tthis._data = data;\n\t},\n\tgetData: function getData() {\n\t\treturn this._data;\n\t},\n\ttoString: function toString() {\n\t\treturn WKTWriter.toLineString(new CoordinateArraySequence(this._pts));\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [SegmentString];\n\t},\n\tgetClass: function getClass() {\n\t\treturn BasicSegmentString;\n\t}\n});\n\nfunction InteriorIntersectionFinder() {\n\tthis._findAllIntersections = false;\n\tthis._isCheckEndSegmentsOnly = false;\n\tthis._li = null;\n\tthis._interiorIntersection = null;\n\tthis._intSegments = null;\n\tthis._intersections = new ArrayList();\n\tthis._intersectionCount = 0;\n\tthis._keepIntersections = true;\n\tvar li = arguments[0];\n\tthis._li = li;\n\tthis._interiorIntersection = null;\n}\nextend(InteriorIntersectionFinder.prototype, {\n\tgetInteriorIntersection: function getInteriorIntersection() {\n\t\treturn this._interiorIntersection;\n\t},\n\tsetCheckEndSegmentsOnly: function setCheckEndSegmentsOnly(isCheckEndSegmentsOnly) {\n\t\tthis._isCheckEndSegmentsOnly = isCheckEndSegmentsOnly;\n\t},\n\tgetIntersectionSegments: function getIntersectionSegments() {\n\t\treturn this._intSegments;\n\t},\n\tcount: function count() {\n\t\treturn this._intersectionCount;\n\t},\n\tgetIntersections: function getIntersections() {\n\t\treturn this._intersections;\n\t},\n\tsetFindAllIntersections: function setFindAllIntersections(findAllIntersections) {\n\t\tthis._findAllIntersections = findAllIntersections;\n\t},\n\tsetKeepIntersections: function setKeepIntersections(keepIntersections) {\n\t\tthis._keepIntersections = keepIntersections;\n\t},\n\tprocessIntersections: function processIntersections(e0, segIndex0, e1, segIndex1) {\n\t\tif (!this._findAllIntersections && this.hasIntersection()) return null;\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tif (this._isCheckEndSegmentsOnly) {\n\t\t\tvar isEndSegPresent = this.isEndSegment(e0, segIndex0) || this.isEndSegment(e1, segIndex1);\n\t\t\tif (!isEndSegPresent) return null;\n\t\t}\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tif (this._li.isInteriorIntersection()) {\n\t\t\t\tthis._intSegments = new Array(4).fill(null);\n\t\t\t\tthis._intSegments[0] = p00;\n\t\t\t\tthis._intSegments[1] = p01;\n\t\t\t\tthis._intSegments[2] = p10;\n\t\t\t\tthis._intSegments[3] = p11;\n\t\t\t\tthis._interiorIntersection = this._li.getIntersection(0);\n\t\t\t\tif (this._keepIntersections) this._intersections.add(this._interiorIntersection);\n\t\t\t\tthis._intersectionCount++;\n\t\t\t}\n\t\t}\n\t},\n\tisEndSegment: function isEndSegment(segStr, index) {\n\t\tif (index === 0) return true;\n\t\tif (index >= segStr.size() - 2) return true;\n\t\treturn false;\n\t},\n\thasIntersection: function hasIntersection() {\n\t\treturn this._interiorIntersection !== null;\n\t},\n\tisDone: function isDone() {\n\t\tif (this._findAllIntersections) return false;\n\t\treturn this._interiorIntersection !== null;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [SegmentIntersector$1];\n\t},\n\tgetClass: function getClass() {\n\t\treturn InteriorIntersectionFinder;\n\t}\n});\nInteriorIntersectionFinder.createAllIntersectionsFinder = function (li) {\n\tvar finder = new InteriorIntersectionFinder(li);\n\tfinder.setFindAllIntersections(true);\n\treturn finder;\n};\nInteriorIntersectionFinder.createAnyIntersectionFinder = function (li) {\n\treturn new InteriorIntersectionFinder(li);\n};\nInteriorIntersectionFinder.createIntersectionCounter = function (li) {\n\tvar finder = new InteriorIntersectionFinder(li);\n\tfinder.setFindAllIntersections(true);\n\tfinder.setKeepIntersections(false);\n\treturn finder;\n};\n\nfunction FastNodingValidator() {\n\tthis._li = new RobustLineIntersector();\n\tthis._segStrings = null;\n\tthis._findAllIntersections = false;\n\tthis._segInt = null;\n\tthis._isValid = true;\n\tvar segStrings = arguments[0];\n\tthis._segStrings = segStrings;\n}\nextend(FastNodingValidator.prototype, {\n\texecute: function execute() {\n\t\tif (this._segInt !== null) return null;\n\t\tthis.checkInteriorIntersections();\n\t},\n\tgetIntersections: function getIntersections() {\n\t\treturn this._segInt.getIntersections();\n\t},\n\tisValid: function isValid() {\n\t\tthis.execute();\n\t\treturn this._isValid;\n\t},\n\tsetFindAllIntersections: function setFindAllIntersections(findAllIntersections) {\n\t\tthis._findAllIntersections = findAllIntersections;\n\t},\n\tcheckInteriorIntersections: function checkInteriorIntersections() {\n\t\tthis._isValid = true;\n\t\tthis._segInt = new InteriorIntersectionFinder(this._li);\n\t\tthis._segInt.setFindAllIntersections(this._findAllIntersections);\n\t\tvar noder = new MCIndexNoder();\n\t\tnoder.setSegmentIntersector(this._segInt);\n\t\tnoder.computeNodes(this._segStrings);\n\t\tif (this._segInt.hasIntersection()) {\n\t\t\tthis._isValid = false;\n\t\t\treturn null;\n\t\t}\n\t},\n\tcheckValid: function checkValid() {\n\t\tthis.execute();\n\t\tif (!this._isValid) throw new TopologyException(this.getErrorMessage(), this._segInt.getInteriorIntersection());\n\t},\n\tgetErrorMessage: function getErrorMessage() {\n\t\tif (this._isValid) return \"no intersections found\";\n\t\tvar intSegs = this._segInt.getIntersectionSegments();\n\t\treturn \"found non-noded intersection between \" + WKTWriter.toLineString(intSegs[0], intSegs[1]) + \" and \" + WKTWriter.toLineString(intSegs[2], intSegs[3]);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn FastNodingValidator;\n\t}\n});\nFastNodingValidator.computeIntersections = function (segStrings) {\n\tvar nv = new FastNodingValidator(segStrings);\n\tnv.setFindAllIntersections(true);\n\tnv.isValid();\n\treturn nv.getIntersections();\n};\n\nfunction EdgeNodingValidator() {\n\tthis._nv = null;\n\tvar edges = arguments[0];\n\tthis._nv = new FastNodingValidator(EdgeNodingValidator.toSegmentStrings(edges));\n}\nextend(EdgeNodingValidator.prototype, {\n\tcheckValid: function checkValid() {\n\t\tthis._nv.checkValid();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeNodingValidator;\n\t}\n});\nEdgeNodingValidator.toSegmentStrings = function (edges) {\n\tvar segStrings = new ArrayList();\n\tfor (var i = edges.iterator(); i.hasNext();) {\n\t\tvar e = i.next();\n\t\tsegStrings.add(new BasicSegmentString(e.getCoordinates(), e));\n\t}\n\treturn segStrings;\n};\nEdgeNodingValidator.checkValid = function (edges) {\n\tvar validator = new EdgeNodingValidator(edges);\n\tvalidator.checkValid();\n};\n\nfunction GeometryCollectionMapper() {\n\tthis._mapOp = null;\n\tvar mapOp = arguments[0];\n\tthis._mapOp = mapOp;\n}\nextend(GeometryCollectionMapper.prototype, {\n\tmap: function map(gc) {\n\t\tvar mapped = new ArrayList();\n\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\tvar g = this._mapOp.map(gc.getGeometryN(i));\n\t\t\tif (!g.isEmpty()) mapped.add(g);\n\t\t}\n\t\treturn gc.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(mapped));\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryCollectionMapper;\n\t}\n});\nGeometryCollectionMapper.map = function (gc, op) {\n\tvar mapper = new GeometryCollectionMapper(op);\n\treturn mapper.map(gc);\n};\n\nfunction LineBuilder() {\n\tthis._op = null;\n\tthis._geometryFactory = null;\n\tthis._ptLocator = null;\n\tthis._lineEdgesList = new ArrayList();\n\tthis._resultLineList = new ArrayList();\n\tvar op = arguments[0],\n\t    geometryFactory = arguments[1],\n\t    ptLocator = arguments[2];\n\tthis._op = op;\n\tthis._geometryFactory = geometryFactory;\n\tthis._ptLocator = ptLocator;\n}\nextend(LineBuilder.prototype, {\n\tcollectLines: function collectLines(opCode) {\n\t\tfor (var it = this._op.getGraph().getEdgeEnds().iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tthis.collectLineEdge(de, opCode, this._lineEdgesList);\n\t\t\tthis.collectBoundaryTouchEdge(de, opCode, this._lineEdgesList);\n\t\t}\n\t},\n\tlabelIsolatedLine: function labelIsolatedLine(e, targetIndex) {\n\t\tvar loc = this._ptLocator.locate(e.getCoordinate(), this._op.getArgGeometry(targetIndex));\n\t\te.getLabel().setLocation(targetIndex, loc);\n\t},\n\tbuild: function build(opCode) {\n\t\tthis.findCoveredLineEdges();\n\t\tthis.collectLines(opCode);\n\t\tthis.buildLines(opCode);\n\t\treturn this._resultLineList;\n\t},\n\tcollectLineEdge: function collectLineEdge(de, opCode, edges) {\n\t\tvar label = de.getLabel();\n\t\tvar e = de.getEdge();\n\t\tif (de.isLineEdge()) {\n\t\t\tif (!de.isVisited() && OverlayOp.isResultOfOp(label, opCode) && !e.isCovered()) {\n\t\t\t\tedges.add(e);\n\t\t\t\tde.setVisitedEdge(true);\n\t\t\t}\n\t\t}\n\t},\n\tfindCoveredLineEdges: function findCoveredLineEdges() {\n\t\tfor (var nodeit = this._op.getGraph().getNodes().iterator(); nodeit.hasNext();) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().findCoveredLineEdges();\n\t\t}\n\t\tfor (var it = this._op.getGraph().getEdgeEnds().iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tvar e = de.getEdge();\n\t\t\tif (de.isLineEdge() && !e.isCoveredSet()) {\n\t\t\t\tvar isCovered = this._op.isCoveredByA(de.getCoordinate());\n\t\t\t\te.setCovered(isCovered);\n\t\t\t}\n\t\t}\n\t},\n\tlabelIsolatedLines: function labelIsolatedLines(edgesList) {\n\t\tfor (var it = edgesList.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tif (e.isIsolated()) {\n\t\t\t\tif (label.isNull(0)) this.labelIsolatedLine(e, 0);else this.labelIsolatedLine(e, 1);\n\t\t\t}\n\t\t}\n\t},\n\tbuildLines: function buildLines(opCode) {\n\t\tfor (var it = this._lineEdgesList.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tvar line = this._geometryFactory.createLineString(e.getCoordinates());\n\t\t\tthis._resultLineList.add(line);\n\t\t\te.setInResult(true);\n\t\t}\n\t},\n\tcollectBoundaryTouchEdge: function collectBoundaryTouchEdge(de, opCode, edges) {\n\t\tvar label = de.getLabel();\n\t\tif (de.isLineEdge()) return null;\n\t\tif (de.isVisited()) return null;\n\t\tif (de.isInteriorAreaEdge()) return null;\n\t\tif (de.getEdge().isInResult()) return null;\n\t\tAssert.isTrue(!(de.isInResult() || de.getSym().isInResult()) || !de.getEdge().isInResult());\n\t\tif (OverlayOp.isResultOfOp(label, opCode) && opCode === OverlayOp.INTERSECTION) {\n\t\t\tedges.add(de.getEdge());\n\t\t\tde.setVisitedEdge(true);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineBuilder;\n\t}\n});\n\nfunction PointBuilder() {\n\tthis._op = null;\n\tthis._geometryFactory = null;\n\tthis._resultPointList = new ArrayList();\n\tvar op = arguments[0],\n\t    geometryFactory = arguments[1];\n\tthis._op = op;\n\tthis._geometryFactory = geometryFactory;\n}\nextend(PointBuilder.prototype, {\n\tfilterCoveredNodeToPoint: function filterCoveredNodeToPoint(n) {\n\t\tvar coord = n.getCoordinate();\n\t\tif (!this._op.isCoveredByLA(coord)) {\n\t\t\tvar pt = this._geometryFactory.createPoint(coord);\n\t\t\tthis._resultPointList.add(pt);\n\t\t}\n\t},\n\textractNonCoveredResultNodes: function extractNonCoveredResultNodes(opCode) {\n\t\tfor (var nodeit = this._op.getGraph().getNodes().iterator(); nodeit.hasNext();) {\n\t\t\tvar n = nodeit.next();\n\t\t\tif (n.isInResult()) continue;\n\t\t\tif (n.isIncidentEdgeInResult()) continue;\n\t\t\tif (n.getEdges().getDegree() === 0 || opCode === OverlayOp.INTERSECTION) {\n\t\t\t\tvar label = n.getLabel();\n\t\t\t\tif (OverlayOp.isResultOfOp(label, opCode)) {\n\t\t\t\t\tthis.filterCoveredNodeToPoint(n);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tbuild: function build(opCode) {\n\t\tthis.extractNonCoveredResultNodes(opCode);\n\t\treturn this._resultPointList;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PointBuilder;\n\t}\n});\n\nfunction LineStringSnapper() {\n\tthis._snapTolerance = 0.0;\n\tthis._srcPts = null;\n\tthis._seg = new LineSegment();\n\tthis._allowSnappingToSourceVertices = false;\n\tthis._isClosed = false;\n\tif (arguments[0] instanceof LineString && typeof arguments[1] === \"number\") {\n\t\tvar srcLine = arguments[0],\n\t\t    snapTolerance = arguments[1];\n\t\tLineStringSnapper.call(this, srcLine.getCoordinates(), snapTolerance);\n\t} else if (arguments[0] instanceof Array && typeof arguments[1] === \"number\") {\n\t\tvar srcPts = arguments[0],\n\t\t    _snapTolerance = arguments[1];\n\t\tthis._srcPts = srcPts;\n\t\tthis._isClosed = LineStringSnapper.isClosed(srcPts);\n\t\tthis._snapTolerance = _snapTolerance;\n\t}\n}\nextend(LineStringSnapper.prototype, {\n\tsnapVertices: function snapVertices(srcCoords, snapPts) {\n\t\tvar end = this._isClosed ? srcCoords.size() - 1 : srcCoords.size();\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar srcPt = srcCoords.get(i);\n\t\t\tvar snapVert = this.findSnapForVertex(srcPt, snapPts);\n\t\t\tif (snapVert !== null) {\n\t\t\t\tsrcCoords.set(i, new Coordinate(snapVert));\n\t\t\t\tif (i === 0 && this._isClosed) srcCoords.set(srcCoords.size() - 1, new Coordinate(snapVert));\n\t\t\t}\n\t\t}\n\t},\n\tfindSnapForVertex: function findSnapForVertex(pt, snapPts) {\n\t\tfor (var i = 0; i < snapPts.length; i++) {\n\t\t\tif (pt.equals2D(snapPts[i])) return null;\n\t\t\tif (pt.distance(snapPts[i]) < this._snapTolerance) return snapPts[i];\n\t\t}\n\t\treturn null;\n\t},\n\tsnapTo: function snapTo(snapPts) {\n\t\tvar coordList = new CoordinateList(this._srcPts);\n\t\tthis.snapVertices(coordList, snapPts);\n\t\tthis.snapSegments(coordList, snapPts);\n\t\tvar newPts = coordList.toCoordinateArray();\n\t\treturn newPts;\n\t},\n\tsnapSegments: function snapSegments(srcCoords, snapPts) {\n\t\tif (snapPts.length === 0) return null;\n\t\tvar distinctPtCount = snapPts.length;\n\t\tif (snapPts[0].equals2D(snapPts[snapPts.length - 1])) distinctPtCount = snapPts.length - 1;\n\t\tfor (var i = 0; i < distinctPtCount; i++) {\n\t\t\tvar snapPt = snapPts[i];\n\t\t\tvar index = this.findSegmentIndexToSnap(snapPt, srcCoords);\n\t\t\tif (index >= 0) {\n\t\t\t\tsrcCoords.add(index + 1, new Coordinate(snapPt), false);\n\t\t\t}\n\t\t}\n\t},\n\tfindSegmentIndexToSnap: function findSegmentIndexToSnap(snapPt, srcCoords) {\n\t\tvar minDist = Double.MAX_VALUE;\n\t\tvar snapIndex = -1;\n\t\tfor (var i = 0; i < srcCoords.size() - 1; i++) {\n\t\t\tthis._seg.p0 = srcCoords.get(i);\n\t\t\tthis._seg.p1 = srcCoords.get(i + 1);\n\t\t\tif (this._seg.p0.equals2D(snapPt) || this._seg.p1.equals2D(snapPt)) {\n\t\t\t\tif (this._allowSnappingToSourceVertices) continue;else return -1;\n\t\t\t}\n\t\t\tvar dist = this._seg.distance(snapPt);\n\t\t\tif (dist < this._snapTolerance && dist < minDist) {\n\t\t\t\tminDist = dist;\n\t\t\t\tsnapIndex = i;\n\t\t\t}\n\t\t}\n\t\treturn snapIndex;\n\t},\n\tsetAllowSnappingToSourceVertices: function setAllowSnappingToSourceVertices(allowSnappingToSourceVertices) {\n\t\tthis._allowSnappingToSourceVertices = allowSnappingToSourceVertices;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineStringSnapper;\n\t}\n});\nLineStringSnapper.isClosed = function (pts) {\n\tif (pts.length <= 1) return false;\n\treturn pts[0].equals2D(pts[pts.length - 1]);\n};\n\nfunction GeometrySnapper() {\n\tthis._srcGeom = null;\n\tvar srcGeom = arguments[0];\n\tthis._srcGeom = srcGeom;\n}\nextend(GeometrySnapper.prototype, {\n\tsnapTo: function snapTo(snapGeom, snapTolerance) {\n\t\tvar snapPts = this.extractTargetCoordinates(snapGeom);\n\t\tvar snapTrans = new SnapTransformer(snapTolerance, snapPts);\n\t\treturn snapTrans.transform(this._srcGeom);\n\t},\n\tsnapToSelf: function snapToSelf(snapTolerance, cleanResult) {\n\t\tvar snapPts = this.extractTargetCoordinates(this._srcGeom);\n\t\tvar snapTrans = new SnapTransformer(snapTolerance, snapPts, true);\n\t\tvar snappedGeom = snapTrans.transform(this._srcGeom);\n\t\tvar result = snappedGeom;\n\t\tif (cleanResult && hasInterface(result, Polygonal)) {\n\t\t\tresult = snappedGeom.buffer(0);\n\t\t}\n\t\treturn result;\n\t},\n\tcomputeSnapTolerance: function computeSnapTolerance(ringPts) {\n\t\tvar minSegLen = this.computeMinimumSegmentLength(ringPts);\n\t\tvar snapTol = minSegLen / 10;\n\t\treturn snapTol;\n\t},\n\textractTargetCoordinates: function extractTargetCoordinates(g) {\n\t\tvar ptSet = new TreeSet();\n\t\tvar pts = g.getCoordinates();\n\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\tptSet.add(pts[i]);\n\t\t}\n\t\treturn ptSet.toArray(new Array(0).fill(null));\n\t},\n\tcomputeMinimumSegmentLength: function computeMinimumSegmentLength(pts) {\n\t\tvar minSegLen = Double.MAX_VALUE;\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tvar segLen = pts[i].distance(pts[i + 1]);\n\t\t\tif (segLen < minSegLen) minSegLen = segLen;\n\t\t}\n\t\treturn minSegLen;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometrySnapper;\n\t}\n});\nGeometrySnapper.snap = function (g0, g1, snapTolerance) {\n\tvar snapGeom = new Array(2).fill(null);\n\tvar snapper0 = new GeometrySnapper(g0);\n\tsnapGeom[0] = snapper0.snapTo(g1, snapTolerance);\n\tvar snapper1 = new GeometrySnapper(g1);\n\tsnapGeom[1] = snapper1.snapTo(snapGeom[0], snapTolerance);\n\treturn snapGeom;\n};\nGeometrySnapper.computeOverlaySnapTolerance = function () {\n\tif (arguments.length === 1) {\n\t\tvar g = arguments[0];\n\t\tvar snapTolerance = GeometrySnapper.computeSizeBasedSnapTolerance(g);\n\t\tvar pm = g.getPrecisionModel();\n\t\tif (pm.getType() === PrecisionModel.FIXED) {\n\t\t\tvar fixedSnapTol = 1 / pm.getScale() * 2 / 1.415;\n\t\t\tif (fixedSnapTol > snapTolerance) snapTolerance = fixedSnapTol;\n\t\t}\n\t\treturn snapTolerance;\n\t} else if (arguments.length === 2) {\n\t\tvar g0 = arguments[0],\n\t\t    g1 = arguments[1];\n\t\treturn Math.min(GeometrySnapper.computeOverlaySnapTolerance(g0), GeometrySnapper.computeOverlaySnapTolerance(g1));\n\t}\n};\nGeometrySnapper.computeSizeBasedSnapTolerance = function (g) {\n\tvar env = g.getEnvelopeInternal();\n\tvar minDimension = Math.min(env.getHeight(), env.getWidth());\n\tvar snapTol = minDimension * GeometrySnapper.SNAP_PRECISION_FACTOR;\n\treturn snapTol;\n};\nGeometrySnapper.snapToSelf = function (geom, snapTolerance, cleanResult) {\n\tvar snapper0 = new GeometrySnapper(geom);\n\treturn snapper0.snapToSelf(snapTolerance, cleanResult);\n};\nGeometrySnapper.SNAP_PRECISION_FACTOR = 1e-9;\nfunction SnapTransformer() {\n\tGeometryTransformer.apply(this);\n\tthis._snapTolerance = null;\n\tthis._snapPts = null;\n\tthis._isSelfSnap = false;\n\tif (arguments.length === 2) {\n\t\tvar snapTolerance = arguments[0],\n\t\t    snapPts = arguments[1];\n\t\tthis._snapTolerance = snapTolerance;\n\t\tthis._snapPts = snapPts;\n\t} else if (arguments.length === 3) {\n\t\tvar _snapTolerance = arguments[0],\n\t\t    _snapPts = arguments[1],\n\t\t    isSelfSnap = arguments[2];\n\t\tthis._snapTolerance = _snapTolerance;\n\t\tthis._snapPts = _snapPts;\n\t\tthis._isSelfSnap = isSelfSnap;\n\t}\n}\ninherits(SnapTransformer, GeometryTransformer);\nextend(SnapTransformer.prototype, {\n\tsnapLine: function snapLine(srcPts, snapPts) {\n\t\tvar snapper = new LineStringSnapper(srcPts, this._snapTolerance);\n\t\tsnapper.setAllowSnappingToSourceVertices(this._isSelfSnap);\n\t\treturn snapper.snapTo(snapPts);\n\t},\n\ttransformCoordinates: function transformCoordinates(coords, parent) {\n\t\tvar srcPts = coords.toCoordinateArray();\n\t\tvar newPts = this.snapLine(srcPts, this._snapPts);\n\t\treturn this._factory.getCoordinateSequenceFactory().create(newPts);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SnapTransformer;\n\t}\n});\n\nfunction CommonBits() {\n\tthis._isFirst = true;\n\tthis._commonMantissaBitsCount = 53;\n\tthis._commonBits = new Long();\n\tthis._commonSignExp = null;\n}\nextend(CommonBits.prototype, {\n\tgetCommon: function getCommon() {\n\t\treturn Double.longBitsToDouble(this._commonBits);\n\t},\n\tadd: function add(num) {\n\t\tvar numBits = Double.doubleToLongBits(num);\n\t\tif (this._isFirst) {\n\t\t\tthis._commonBits = numBits;\n\t\t\tthis._commonSignExp = CommonBits.signExpBits(this._commonBits);\n\t\t\tthis._isFirst = false;\n\t\t\treturn null;\n\t\t}\n\t\tvar numSignExp = CommonBits.signExpBits(numBits);\n\t\tif (numSignExp !== this._commonSignExp) {\n\t\t\tthis._commonBits.high = 0 | 0;\n\t\t\tthis._commonBits.low = 0 | 0;\n\t\t\treturn null;\n\t\t}\n\t\tthis._commonMantissaBitsCount = CommonBits.numCommonMostSigMantissaBits(this._commonBits, numBits);\n\t\tthis._commonBits = CommonBits.zeroLowerBits(this._commonBits, 64 - (12 + this._commonMantissaBitsCount));\n\t},\n\ttoString: function toString() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar bits = arguments[0];\n\t\t\tvar x = Double.longBitsToDouble(bits);\n\t\t\tvar numStr = Long.toBinaryString(bits);\n\t\t\tvar padStr = \"0000000000000000000000000000000000000000000000000000000000000000\" + numStr;\n\t\t\tvar bitStr = padStr.substring(padStr.length - 64);\n\t\t\tvar str = bitStr.substring(0, 1) + \"  \" + bitStr.substring(1, 12) + \"(exp) \" + bitStr.substring(12) + \" [ \" + x + \" ]\";\n\t\t\treturn str;\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CommonBits;\n\t}\n});\nCommonBits.getBit = function (bits, i) {\n\tvar mask = 1 << i % 32;\n\tif (i < 32) {\n\t\treturn (bits.low & mask) != 0 ? 1 : 0;\n\t}\n\treturn (bits.high & mask) != 0 ? 1 : 0;\n};\nCommonBits.signExpBits = function (num) {\n\treturn num.high >>> 20;\n};\nCommonBits.zeroLowerBits = function (bits, nBits) {\n\tvar prop = 'low';\n\tif (nBits > 32) {\n\t\tbits.low = 0 | 0;\n\t\tnBits %= 32;\n\t\tprop = 'high';\n\t}\n\tif (nBits > 0) {\n\t\tvar mask = nBits < 32 ? ~((1 << nBits) - 1) : 0;\n\t\tbits[prop] &= mask;\n\t}\n\treturn bits;\n};\nCommonBits.numCommonMostSigMantissaBits = function (num1, num2) {\n\tvar count = 0;\n\tfor (var i = 52; i >= 0; i--) {\n\t\tif (CommonBits.getBit(num1, i) !== CommonBits.getBit(num2, i)) return count;\n\t\tcount++;\n\t}\n\treturn 52;\n};\n\nfunction CommonBitsRemover() {\n\tthis._commonCoord = null;\n\tthis._ccFilter = new CommonCoordinateFilter();\n}\nextend(CommonBitsRemover.prototype, {\n\taddCommonBits: function addCommonBits(geom) {\n\t\tvar trans = new Translater(this._commonCoord);\n\t\tgeom.apply(trans);\n\t\tgeom.geometryChanged();\n\t},\n\tremoveCommonBits: function removeCommonBits(geom) {\n\t\tif (this._commonCoord.x === 0.0 && this._commonCoord.y === 0.0) return geom;\n\t\tvar invCoord = new Coordinate(this._commonCoord);\n\t\tinvCoord.x = -invCoord.x;\n\t\tinvCoord.y = -invCoord.y;\n\t\tvar trans = new Translater(invCoord);\n\t\tgeom.apply(trans);\n\t\tgeom.geometryChanged();\n\t\treturn geom;\n\t},\n\tgetCommonCoordinate: function getCommonCoordinate() {\n\t\treturn this._commonCoord;\n\t},\n\tadd: function add(geom) {\n\t\tgeom.apply(this._ccFilter);\n\t\tthis._commonCoord = this._ccFilter.getCommonCoordinate();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CommonBitsRemover;\n\t}\n});\nfunction CommonCoordinateFilter() {\n\tthis._commonBitsX = new CommonBits();\n\tthis._commonBitsY = new CommonBits();\n}\nextend(CommonCoordinateFilter.prototype, {\n\tfilter: function filter(coord) {\n\t\tthis._commonBitsX.add(coord.x);\n\t\tthis._commonBitsY.add(coord.y);\n\t},\n\tgetCommonCoordinate: function getCommonCoordinate() {\n\t\treturn new Coordinate(this._commonBitsX.getCommon(), this._commonBitsY.getCommon());\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [CoordinateFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CommonCoordinateFilter;\n\t}\n});\nfunction Translater() {\n\tthis.trans = null;\n\tvar trans = arguments[0];\n\tthis.trans = trans;\n}\nextend(Translater.prototype, {\n\tfilter: function filter(seq, i) {\n\t\tvar xp = seq.getOrdinate(i, 0) + this.trans.x;\n\t\tvar yp = seq.getOrdinate(i, 1) + this.trans.y;\n\t\tseq.setOrdinate(i, 0, xp);\n\t\tseq.setOrdinate(i, 1, yp);\n\t},\n\tisDone: function isDone() {\n\t\treturn false;\n\t},\n\tisGeometryChanged: function isGeometryChanged() {\n\t\treturn true;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [CoordinateSequenceFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Translater;\n\t}\n});\nCommonBitsRemover.CommonCoordinateFilter = CommonCoordinateFilter;\nCommonBitsRemover.Translater = Translater;\n\nfunction SnapOverlayOp() {\n\tthis._geom = new Array(2).fill(null);\n\tthis._snapTolerance = null;\n\tthis._cbr = null;\n\tvar g1 = arguments[0],\n\t    g2 = arguments[1];\n\tthis._geom[0] = g1;\n\tthis._geom[1] = g2;\n\tthis.computeSnapTolerance();\n}\nextend(SnapOverlayOp.prototype, {\n\tselfSnap: function selfSnap(geom) {\n\t\tvar snapper0 = new GeometrySnapper(geom);\n\t\tvar snapGeom = snapper0.snapTo(geom, this._snapTolerance);\n\t\treturn snapGeom;\n\t},\n\tremoveCommonBits: function removeCommonBits(geom) {\n\t\tthis._cbr = new CommonBitsRemover();\n\t\tthis._cbr.add(geom[0]);\n\t\tthis._cbr.add(geom[1]);\n\t\tvar remGeom = new Array(2).fill(null);\n\t\tremGeom[0] = this._cbr.removeCommonBits(geom[0].copy());\n\t\tremGeom[1] = this._cbr.removeCommonBits(geom[1].copy());\n\t\treturn remGeom;\n\t},\n\tprepareResult: function prepareResult(geom) {\n\t\tthis._cbr.addCommonBits(geom);\n\t\treturn geom;\n\t},\n\tgetResultGeometry: function getResultGeometry(opCode) {\n\t\tvar prepGeom = this.snap(this._geom);\n\t\tvar result = OverlayOp.overlayOp(prepGeom[0], prepGeom[1], opCode);\n\t\treturn this.prepareResult(result);\n\t},\n\tcheckValid: function checkValid(g) {\n\t\tif (!g.isValid()) {\n\t\t\tSystem.out.println(\"Snapped geometry is invalid\");\n\t\t}\n\t},\n\tcomputeSnapTolerance: function computeSnapTolerance() {\n\t\tthis._snapTolerance = GeometrySnapper.computeOverlaySnapTolerance(this._geom[0], this._geom[1]);\n\t},\n\tsnap: function snap(geom) {\n\t\tvar remGeom = this.removeCommonBits(geom);\n\t\tvar snapGeom = GeometrySnapper.snap(remGeom[0], remGeom[1], this._snapTolerance);\n\t\treturn snapGeom;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SnapOverlayOp;\n\t}\n});\nSnapOverlayOp.overlayOp = function (g0, g1, opCode) {\n\tvar op = new SnapOverlayOp(g0, g1);\n\treturn op.getResultGeometry(opCode);\n};\nSnapOverlayOp.union = function (g0, g1) {\n\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.UNION);\n};\nSnapOverlayOp.intersection = function (g0, g1) {\n\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.INTERSECTION);\n};\nSnapOverlayOp.symDifference = function (g0, g1) {\n\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.SYMDIFFERENCE);\n};\nSnapOverlayOp.difference = function (g0, g1) {\n\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.DIFFERENCE);\n};\n\nfunction SnapIfNeededOverlayOp() {\n\tthis._geom = new Array(2).fill(null);\n\tvar g1 = arguments[0],\n\t    g2 = arguments[1];\n\tthis._geom[0] = g1;\n\tthis._geom[1] = g2;\n}\nextend(SnapIfNeededOverlayOp.prototype, {\n\tgetResultGeometry: function getResultGeometry(opCode) {\n\t\tvar result = null;\n\t\tvar isSuccess = false;\n\t\tvar savedException = null;\n\t\ttry {\n\t\t\tresult = OverlayOp.overlayOp(this._geom[0], this._geom[1], opCode);\n\t\t\tvar isValid = true;\n\t\t\tif (isValid) isSuccess = true;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof RuntimeException) {\n\t\t\t\tsavedException = ex;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\tif (!isSuccess) {\n\t\t\ttry {\n\t\t\t\tresult = SnapOverlayOp.overlayOp(this._geom[0], this._geom[1], opCode);\n\t\t\t} catch (ex) {\n\t\t\t\tif (ex instanceof RuntimeException) {\n\t\t\t\t\tthrow savedException;\n\t\t\t\t} else throw ex;\n\t\t\t} finally {}\n\t\t}\n\t\treturn result;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SnapIfNeededOverlayOp;\n\t}\n});\nSnapIfNeededOverlayOp.overlayOp = function (g0, g1, opCode) {\n\tvar op = new SnapIfNeededOverlayOp(g0, g1);\n\treturn op.getResultGeometry(opCode);\n};\nSnapIfNeededOverlayOp.union = function (g0, g1) {\n\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.UNION);\n};\nSnapIfNeededOverlayOp.intersection = function (g0, g1) {\n\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.INTERSECTION);\n};\nSnapIfNeededOverlayOp.symDifference = function (g0, g1) {\n\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.SYMDIFFERENCE);\n};\nSnapIfNeededOverlayOp.difference = function (g0, g1) {\n\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.DIFFERENCE);\n};\n\nfunction GeometryGraphOperation() {\n\tthis._li = new RobustLineIntersector();\n\tthis._resultPrecisionModel = null;\n\tthis._arg = null;\n\tif (arguments.length === 1) {\n\t\tvar g0 = arguments[0];\n\t\tthis.setComputationPrecision(g0.getPrecisionModel());\n\t\tthis._arg = new Array(1).fill(null);\n\t\tthis._arg[0] = new GeometryGraph(0, g0);\n\t\t\n\t} else if (arguments.length === 2) {\n\t\tvar _g = arguments[0],\n\t\t    g1 = arguments[1];\n\t\tGeometryGraphOperation.call(this, _g, g1, BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE);\n\t} else if (arguments.length === 3) {\n\t\tvar _g2 = arguments[0],\n\t\t    _g3 = arguments[1],\n\t\t    boundaryNodeRule = arguments[2];\n\t\tif (_g2.getPrecisionModel().compareTo(_g3.getPrecisionModel()) >= 0) this.setComputationPrecision(_g2.getPrecisionModel());else this.setComputationPrecision(_g3.getPrecisionModel());\n\t\tthis._arg = new Array(2).fill(null);\n\t\tthis._arg[0] = new GeometryGraph(0, _g2, boundaryNodeRule);\n\t\tthis._arg[1] = new GeometryGraph(1, _g3, boundaryNodeRule);\n\t}\n}\nextend(GeometryGraphOperation.prototype, {\n\tgetArgGeometry: function getArgGeometry(i) {\n\t\treturn this._arg[i].getGeometry();\n\t},\n\tsetComputationPrecision: function setComputationPrecision(pm) {\n\t\tthis._resultPrecisionModel = pm;\n\t\tthis._li.setPrecisionModel(this._resultPrecisionModel);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryGraphOperation;\n\t}\n});\n\nfunction OverlayOp() {\n\tthis._ptLocator = new PointLocator();\n\tthis._geomFact = null;\n\tthis._resultGeom = null;\n\tthis._graph = null;\n\tthis._edgeList = new EdgeList();\n\tthis._resultPolyList = new ArrayList();\n\tthis._resultLineList = new ArrayList();\n\tthis._resultPointList = new ArrayList();\n\tvar g0 = arguments[0],\n\t    g1 = arguments[1];\n\tGeometryGraphOperation.call(this, g0, g1);\n\tthis._graph = new PlanarGraph(new OverlayNodeFactory());\n\tthis._geomFact = g0.getFactory();\n}\ninherits(OverlayOp, GeometryGraphOperation);\nextend(OverlayOp.prototype, {\n\tinsertUniqueEdge: function insertUniqueEdge(e) {\n\t\tvar existingEdge = this._edgeList.findEqualEdge(e);\n\t\tif (existingEdge !== null) {\n\t\t\tvar existingLabel = existingEdge.getLabel();\n\t\t\tvar labelToMerge = e.getLabel();\n\t\t\tif (!existingEdge.isPointwiseEqual(e)) {\n\t\t\t\tlabelToMerge = new Label(e.getLabel());\n\t\t\t\tlabelToMerge.flip();\n\t\t\t}\n\t\t\tvar depth = existingEdge.getDepth();\n\t\t\tif (depth.isNull()) {\n\t\t\t\tdepth.add(existingLabel);\n\t\t\t}\n\t\t\tdepth.add(labelToMerge);\n\t\t\texistingLabel.merge(labelToMerge);\n\t\t} else {\n\t\t\tthis._edgeList.add(e);\n\t\t}\n\t},\n\tgetGraph: function getGraph() {\n\t\treturn this._graph;\n\t},\n\tcancelDuplicateResultEdges: function cancelDuplicateResultEdges() {\n\t\tfor (var it = this._graph.getEdgeEnds().iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tvar sym = de.getSym();\n\t\t\tif (de.isInResult() && sym.isInResult()) {\n\t\t\t\tde.setInResult(false);\n\t\t\t\tsym.setInResult(false);\n\t\t\t}\n\t\t}\n\t},\n\tisCoveredByLA: function isCoveredByLA(coord) {\n\t\tif (this.isCovered(coord, this._resultLineList)) return true;\n\t\tif (this.isCovered(coord, this._resultPolyList)) return true;\n\t\treturn false;\n\t},\n\tcomputeGeometry: function computeGeometry(resultPointList, resultLineList, resultPolyList, opcode) {\n\t\tvar geomList = new ArrayList();\n\t\tgeomList.addAll(resultPointList);\n\t\tgeomList.addAll(resultLineList);\n\t\tgeomList.addAll(resultPolyList);\n\t\tif (geomList.isEmpty()) return OverlayOp.createEmptyResult(opcode, this._arg[0].getGeometry(), this._arg[1].getGeometry(), this._geomFact);\n\t\treturn this._geomFact.buildGeometry(geomList);\n\t},\n\tmergeSymLabels: function mergeSymLabels() {\n\t\tfor (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext();) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().mergeSymLabels();\n\t\t}\n\t},\n\tisCovered: function isCovered(coord, geomList) {\n\t\tfor (var it = geomList.iterator(); it.hasNext();) {\n\t\t\tvar geom = it.next();\n\t\t\tvar loc = this._ptLocator.locate(coord, geom);\n\t\t\tif (loc !== Location.EXTERIOR) return true;\n\t\t}\n\t\treturn false;\n\t},\n\treplaceCollapsedEdges: function replaceCollapsedEdges() {\n\t\tvar newEdges = new ArrayList();\n\t\tfor (var it = this._edgeList.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tif (e.isCollapsed()) {\n\t\t\t\tit.remove();\n\t\t\t\tnewEdges.add(e.getCollapsedEdge());\n\t\t\t}\n\t\t}\n\t\tthis._edgeList.addAll(newEdges);\n\t},\n\tupdateNodeLabelling: function updateNodeLabelling() {\n\t\tfor (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext();) {\n\t\t\tvar node = nodeit.next();\n\t\t\tvar lbl = node.getEdges().getLabel();\n\t\t\tnode.getLabel().merge(lbl);\n\t\t}\n\t},\n\tgetResultGeometry: function getResultGeometry(overlayOpCode) {\n\t\tthis.computeOverlay(overlayOpCode);\n\t\treturn this._resultGeom;\n\t},\n\tinsertUniqueEdges: function insertUniqueEdges(edges) {\n\t\tfor (var i = edges.iterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\tthis.insertUniqueEdge(e);\n\t\t}\n\t},\n\tcomputeOverlay: function computeOverlay(opCode) {\n\t\tthis.copyPoints(0);\n\t\tthis.copyPoints(1);\n\t\tthis._arg[0].computeSelfNodes(this._li, false);\n\t\tthis._arg[1].computeSelfNodes(this._li, false);\n\t\tthis._arg[0].computeEdgeIntersections(this._arg[1], this._li, true);\n\t\tvar baseSplitEdges = new ArrayList();\n\t\tthis._arg[0].computeSplitEdges(baseSplitEdges);\n\t\tthis._arg[1].computeSplitEdges(baseSplitEdges);\n\t\tthis.insertUniqueEdges(baseSplitEdges);\n\t\tthis.computeLabelsFromDepths();\n\t\tthis.replaceCollapsedEdges();\n\t\tEdgeNodingValidator.checkValid(this._edgeList.getEdges());\n\t\tthis._graph.addEdges(this._edgeList.getEdges());\n\t\tthis.computeLabelling();\n\t\tthis.labelIncompleteNodes();\n\t\tthis.findResultAreaEdges(opCode);\n\t\tthis.cancelDuplicateResultEdges();\n\t\tvar polyBuilder = new PolygonBuilder(this._geomFact);\n\t\tpolyBuilder.add(this._graph);\n\t\tthis._resultPolyList = polyBuilder.getPolygons();\n\t\tvar lineBuilder = new LineBuilder(this, this._geomFact, this._ptLocator);\n\t\tthis._resultLineList = lineBuilder.build(opCode);\n\t\tvar pointBuilder = new PointBuilder(this, this._geomFact, this._ptLocator);\n\t\tthis._resultPointList = pointBuilder.build(opCode);\n\t\tthis._resultGeom = this.computeGeometry(this._resultPointList, this._resultLineList, this._resultPolyList, opCode);\n\t},\n\tlabelIncompleteNode: function labelIncompleteNode(n, targetIndex) {\n\t\tvar loc = this._ptLocator.locate(n.getCoordinate(), this._arg[targetIndex].getGeometry());\n\t\tn.getLabel().setLocation(targetIndex, loc);\n\t},\n\tcopyPoints: function copyPoints(argIndex) {\n\t\tfor (var i = this._arg[argIndex].getNodeIterator(); i.hasNext();) {\n\t\t\tvar graphNode = i.next();\n\t\t\tvar newNode = this._graph.addNode(graphNode.getCoordinate());\n\t\t\tnewNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n\t\t}\n\t},\n\tfindResultAreaEdges: function findResultAreaEdges(opCode) {\n\t\tfor (var it = this._graph.getEdgeEnds().iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tif (label.isArea() && !de.isInteriorAreaEdge() && OverlayOp.isResultOfOp(label.getLocation(0, Position.RIGHT), label.getLocation(1, Position.RIGHT), opCode)) {\n\t\t\t\tde.setInResult(true);\n\t\t\t}\n\t\t}\n\t},\n\tcomputeLabelsFromDepths: function computeLabelsFromDepths() {\n\t\tfor (var it = this._edgeList.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tvar lbl = e.getLabel();\n\t\t\tvar depth = e.getDepth();\n\t\t\tif (!depth.isNull()) {\n\t\t\t\tdepth.normalize();\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tif (!lbl.isNull(i) && lbl.isArea() && !depth.isNull(i)) {\n\t\t\t\t\t\tif (depth.getDelta(i) === 0) {\n\t\t\t\t\t\t\tlbl.toLine(i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tAssert.isTrue(!depth.isNull(i, Position.LEFT), \"depth of LEFT side has not been initialized\");\n\t\t\t\t\t\t\tlbl.setLocation(i, Position.LEFT, depth.getLocation(i, Position.LEFT));\n\t\t\t\t\t\t\tAssert.isTrue(!depth.isNull(i, Position.RIGHT), \"depth of RIGHT side has not been initialized\");\n\t\t\t\t\t\t\tlbl.setLocation(i, Position.RIGHT, depth.getLocation(i, Position.RIGHT));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputeLabelling: function computeLabelling() {\n\t\tfor (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext();) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().computeLabelling(this._arg);\n\t\t}\n\t\tthis.mergeSymLabels();\n\t\tthis.updateNodeLabelling();\n\t},\n\tlabelIncompleteNodes: function labelIncompleteNodes() {\n\t\tfor (var ni = this._graph.getNodes().iterator(); ni.hasNext();) {\n\t\t\tvar n = ni.next();\n\t\t\tvar label = n.getLabel();\n\t\t\tif (n.isIsolated()) {\n\t\t\t\tif (label.isNull(0)) this.labelIncompleteNode(n, 0);else this.labelIncompleteNode(n, 1);\n\t\t\t}\n\t\t\tn.getEdges().updateLabelling(label);\n\t\t}\n\t},\n\tisCoveredByA: function isCoveredByA(coord) {\n\t\tif (this.isCovered(coord, this._resultPolyList)) return true;\n\t\treturn false;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn OverlayOp;\n\t}\n});\nOverlayOp.overlayOp = function (geom0, geom1, opCode) {\n\tvar gov = new OverlayOp(geom0, geom1);\n\tvar geomOv = gov.getResultGeometry(opCode);\n\treturn geomOv;\n};\nOverlayOp.union = function (geom, other) {\n\tif (geom.isEmpty() || other.isEmpty()) {\n\t\tif (geom.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.UNION, geom, other, geom.getFactory());\n\t\tif (geom.isEmpty()) return other.copy();\n\t\tif (other.isEmpty()) return geom.copy();\n\t}\n\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.UNION);\n};\nOverlayOp.intersection = function (geom, other) {\n\tif (geom.isEmpty() || other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.INTERSECTION, geom, other, geom.getFactory());\n\tif (geom.isGeometryCollection()) {\n\t\tvar g2 = other;\n\t\treturn GeometryCollectionMapper.map(geom, {\n\t\t\tinterfaces_: function interfaces_() {\n\t\t\t\treturn [MapOp];\n\t\t\t},\n\t\t\tmap: function map(g) {\n\t\t\t\treturn g.intersection(g2);\n\t\t\t}\n\t\t});\n\t}\n\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.INTERSECTION);\n};\nOverlayOp.symDifference = function (geom, other) {\n\tif (geom.isEmpty() || other.isEmpty()) {\n\t\tif (geom.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.SYMDIFFERENCE, geom, other, geom.getFactory());\n\t\tif (geom.isEmpty()) return other.copy();\n\t\tif (other.isEmpty()) return geom.copy();\n\t}\n\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.SYMDIFFERENCE);\n};\nOverlayOp.resultDimension = function (opCode, g0, g1) {\n\tvar dim0 = g0.getDimension();\n\tvar dim1 = g1.getDimension();\n\tvar resultDimension = -1;\n\tswitch (opCode) {\n\t\tcase OverlayOp.INTERSECTION:\n\t\t\tresultDimension = Math.min(dim0, dim1);\n\t\t\tbreak;\n\t\tcase OverlayOp.UNION:\n\t\t\tresultDimension = Math.max(dim0, dim1);\n\t\t\tbreak;\n\t\tcase OverlayOp.DIFFERENCE:\n\t\t\tresultDimension = dim0;\n\t\t\tbreak;\n\t\tcase OverlayOp.SYMDIFFERENCE:\n\t\t\tresultDimension = Math.max(dim0, dim1);\n\t\t\tbreak;\n\t}\n\treturn resultDimension;\n};\nOverlayOp.createEmptyResult = function (overlayOpCode, a, b, geomFact) {\n\tvar result = null;\n\tswitch (OverlayOp.resultDimension(overlayOpCode, a, b)) {\n\t\tcase -1:\n\t\t\tresult = geomFact.createGeometryCollection();\n\t\t\tbreak;\n\t\tcase 0:\n\t\t\tresult = geomFact.createPoint();\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tresult = geomFact.createLineString();\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tresult = geomFact.createPolygon();\n\t\t\tbreak;\n\t}\n\treturn result;\n};\nOverlayOp.difference = function (geom, other) {\n\tif (geom.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.DIFFERENCE, geom, other, geom.getFactory());\n\tif (other.isEmpty()) return geom.copy();\n\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.DIFFERENCE);\n};\nOverlayOp.isResultOfOp = function () {\n\tif (arguments.length === 2) {\n\t\tvar label = arguments[0],\n\t\t    opCode = arguments[1];\n\t\tvar loc0 = label.getLocation(0);\n\t\tvar loc1 = label.getLocation(1);\n\t\treturn OverlayOp.isResultOfOp(loc0, loc1, opCode);\n\t} else if (arguments.length === 3) {\n\t\tvar _loc = arguments[0],\n\t\t    _loc2 = arguments[1],\n\t\t    overlayOpCode = arguments[2];\n\t\tif (_loc === Location.BOUNDARY) _loc = Location.INTERIOR;\n\t\tif (_loc2 === Location.BOUNDARY) _loc2 = Location.INTERIOR;\n\t\tswitch (overlayOpCode) {\n\t\t\tcase OverlayOp.INTERSECTION:\n\t\t\t\treturn _loc === Location.INTERIOR && _loc2 === Location.INTERIOR;\n\t\t\tcase OverlayOp.UNION:\n\t\t\t\treturn _loc === Location.INTERIOR || _loc2 === Location.INTERIOR;\n\t\t\tcase OverlayOp.DIFFERENCE:\n\t\t\t\treturn _loc === Location.INTERIOR && _loc2 !== Location.INTERIOR;\n\t\t\tcase OverlayOp.SYMDIFFERENCE:\n\t\t\t\treturn _loc === Location.INTERIOR && _loc2 !== Location.INTERIOR || _loc !== Location.INTERIOR && _loc2 === Location.INTERIOR;\n\t\t}\n\t\treturn false;\n\t}\n};\nOverlayOp.INTERSECTION = 1;\nOverlayOp.UNION = 2;\nOverlayOp.DIFFERENCE = 3;\nOverlayOp.SYMDIFFERENCE = 4;\n\n\n\nvar overlay = Object.freeze({\n\tOverlayOp: OverlayOp\n});\n\nfunction PolygonizeDirectedEdge() {\n\tthis._edgeRing = null;\n\tthis._next = null;\n\tthis._label = -1;\n\tvar from = arguments[0],\n\t    to = arguments[1],\n\t    directionPt = arguments[2],\n\t    edgeDirection = arguments[3];\n\tDirectedEdge$1.call(this, from, to, directionPt, edgeDirection);\n}\ninherits(PolygonizeDirectedEdge, DirectedEdge$1);\nextend(PolygonizeDirectedEdge.prototype, {\n\tgetNext: function getNext() {\n\t\treturn this._next;\n\t},\n\tisInRing: function isInRing() {\n\t\treturn this._edgeRing !== null;\n\t},\n\tsetRing: function setRing(edgeRing) {\n\t\tthis._edgeRing = edgeRing;\n\t},\n\tsetLabel: function setLabel(label) {\n\t\tthis._label = label;\n\t},\n\tgetLabel: function getLabel() {\n\t\treturn this._label;\n\t},\n\tsetNext: function setNext(next) {\n\t\tthis._next = next;\n\t},\n\tgetRing: function getRing() {\n\t\treturn this._edgeRing;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PolygonizeDirectedEdge;\n\t}\n});\n\nfunction PolygonizeEdge() {\n\tEdge$1.apply(this);\n\tthis._line = null;\n\tvar line = arguments[0];\n\tthis._line = line;\n}\ninherits(PolygonizeEdge, Edge$1);\nextend(PolygonizeEdge.prototype, {\n\tgetLine: function getLine() {\n\t\treturn this._line;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PolygonizeEdge;\n\t}\n});\n\nfunction EdgeRing$1() {\n\tthis._factory = null;\n\tthis._deList = new ArrayList();\n\tthis._lowestEdge = null;\n\tthis._ring = null;\n\tthis._ringPts = null;\n\tthis._holes = null;\n\tthis._shell = null;\n\tthis._isHole = null;\n\tthis._isProcessed = false;\n\tthis._isIncludedSet = false;\n\tthis._isIncluded = false;\n\tvar factory = arguments[0];\n\tthis._factory = factory;\n}\nextend(EdgeRing$1.prototype, {\n\tisIncluded: function isIncluded() {\n\t\treturn this._isIncluded;\n\t},\n\tgetCoordinates: function getCoordinates() {\n\t\tif (this._ringPts === null) {\n\t\t\tvar coordList = new CoordinateList();\n\t\t\tfor (var i = this._deList.iterator(); i.hasNext();) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tvar edge = de.getEdge();\n\t\t\t\tEdgeRing$1.addEdge(edge.getLine().getCoordinates(), de.getEdgeDirection(), coordList);\n\t\t\t}\n\t\t\tthis._ringPts = coordList.toCoordinateArray();\n\t\t}\n\t\treturn this._ringPts;\n\t},\n\tisIncludedSet: function isIncludedSet() {\n\t\treturn this._isIncludedSet;\n\t},\n\tisValid: function isValid() {\n\t\tthis.getCoordinates();\n\t\tif (this._ringPts.length <= 3) return false;\n\t\tthis.getRing();\n\t\treturn this._ring.isValid();\n\t},\n\tbuild: function build(startDE) {\n\t\tvar de = startDE;\n\t\tdo {\n\t\t\tthis.add(de);\n\t\t\tde.setRing(this);\n\t\t\tde = de.getNext();\n\t\t\tAssert.isTrue(de !== null, \"found null DE in ring\");\n\t\t\tAssert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n\t\t} while (de !== startDE);\n\t},\n\tisOuterHole: function isOuterHole() {\n\t\tif (!this._isHole) return false;\n\t\treturn !this.hasShell();\n\t},\n\tgetPolygon: function getPolygon() {\n\t\tvar holeLR = null;\n\t\tif (this._holes !== null) {\n\t\t\tholeLR = new Array(this._holes.size()).fill(null);\n\t\t\tfor (var i = 0; i < this._holes.size(); i++) {\n\t\t\t\tholeLR[i] = this._holes.get(i);\n\t\t\t}\n\t\t}\n\t\tvar poly = this._factory.createPolygon(this._ring, holeLR);\n\t\treturn poly;\n\t},\n\tisHole: function isHole() {\n\t\treturn this._isHole;\n\t},\n\tisProcessed: function isProcessed() {\n\t\treturn this._isProcessed;\n\t},\n\taddHole: function addHole() {\n\t\tif (arguments[0] instanceof LinearRing) {\n\t\t\tvar _hole = arguments[0];\n\t\t\tif (this._holes === null) this._holes = new ArrayList();\n\t\t\tthis._holes.add(_hole);\n\t\t} else if (arguments[0] instanceof EdgeRing$1) {\n\t\t\tvar holeER = arguments[0];\n\t\t\tholeER.setShell(this);\n\t\t\tvar hole = holeER.getRing();\n\t\t\tif (this._holes === null) this._holes = new ArrayList();\n\t\t\tthis._holes.add(hole);\n\t\t}\n\t},\n\tsetIncluded: function setIncluded(isIncluded) {\n\t\tthis._isIncluded = isIncluded;\n\t\tthis._isIncludedSet = true;\n\t},\n\tgetOuterHole: function getOuterHole() {\n\t\tif (this.isHole()) return null;\n\t\tfor (var i = 0; i < this._deList.size(); i++) {\n\t\t\tvar de = this._deList.get(i);\n\t\t\tvar adjRing = de.getSym().getRing();\n\t\t\tif (adjRing.isOuterHole()) return adjRing;\n\t\t}\n\t\treturn null;\n\t},\n\tcomputeHole: function computeHole() {\n\t\tvar ring = this.getRing();\n\t\tthis._isHole = Orientation.isCCW(ring.getCoordinates());\n\t},\n\thasShell: function hasShell() {\n\t\treturn this._shell !== null;\n\t},\n\tisOuterShell: function isOuterShell() {\n\t\treturn this.getOuterHole() !== null;\n\t},\n\tgetLineString: function getLineString() {\n\t\tthis.getCoordinates();\n\t\treturn this._factory.createLineString(this._ringPts);\n\t},\n\ttoString: function toString() {\n\t\treturn WKTWriter.toLineString(new CoordinateArraySequence(this.getCoordinates()));\n\t},\n\tgetShell: function getShell() {\n\t\tif (this.isHole()) return this._shell;\n\t\treturn this;\n\t},\n\tadd: function add(de) {\n\t\tthis._deList.add(de);\n\t},\n\tgetRing: function getRing() {\n\t\tif (this._ring !== null) return this._ring;\n\t\tthis.getCoordinates();\n\t\tif (this._ringPts.length < 3) System.out.println(this._ringPts);\n\t\ttry {\n\t\t\tthis._ring = this._factory.createLinearRing(this._ringPts);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof Exception) {\n\t\t\t\tSystem.out.println(this._ringPts);\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\treturn this._ring;\n\t},\n\tupdateIncluded: function updateIncluded() {\n\t\tif (this.isHole()) return null;\n\t\tfor (var i = 0; i < this._deList.size(); i++) {\n\t\t\tvar de = this._deList.get(i);\n\t\t\tvar adjShell = de.getSym().getRing().getShell();\n\t\t\tif (adjShell !== null && adjShell.isIncludedSet()) {\n\t\t\t\tthis.setIncluded(!adjShell.isIncluded());\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tsetShell: function setShell(shell) {\n\t\tthis._shell = shell;\n\t},\n\tsetProcessed: function setProcessed(isProcessed) {\n\t\tthis._isProcessed = isProcessed;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeRing$1;\n\t}\n});\nEdgeRing$1.findDirEdgesInRing = function (startDE) {\n\tvar de = startDE;\n\tvar edges = new ArrayList();\n\tdo {\n\t\tedges.add(de);\n\t\tde = de.getNext();\n\t\tAssert.isTrue(de !== null, \"found null DE in ring\");\n\t\tAssert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n\t} while (de !== startDE);\n\treturn edges;\n};\nEdgeRing$1.addEdge = function (coords, isForward, coordList) {\n\tif (isForward) {\n\t\tfor (var i = 0; i < coords.length; i++) {\n\t\t\tcoordList.add(coords[i], false);\n\t\t}\n\t} else {\n\t\tfor (var i = coords.length - 1; i >= 0; i--) {\n\t\t\tcoordList.add(coords[i], false);\n\t\t}\n\t}\n};\nEdgeRing$1.findEdgeRingContaining = function (testEr, shellList) {\n\tvar testRing = testEr.getRing();\n\tvar testEnv = testRing.getEnvelopeInternal();\n\tvar testPt = testRing.getCoordinateN(0);\n\tvar minShell = null;\n\tvar minShellEnv = null;\n\tfor (var it = shellList.iterator(); it.hasNext();) {\n\t\tvar tryShell = it.next();\n\t\tvar tryShellRing = tryShell.getRing();\n\t\tvar tryShellEnv = tryShellRing.getEnvelopeInternal();\n\t\tif (tryShellEnv.equals(testEnv)) continue;\n\t\tif (!tryShellEnv.contains(testEnv)) continue;\n\t\ttestPt = CoordinateArrays.ptNotInList(testRing.getCoordinates(), tryShellRing.getCoordinates());\n\t\tvar isContained = false;\n\t\tif (PointLocation.isInRing(testPt, tryShellRing.getCoordinates())) isContained = true;\n\t\tif (isContained) {\n\t\t\tif (minShell === null || minShellEnv.contains(tryShellEnv)) {\n\t\t\t\tminShell = tryShell;\n\t\t\t\tminShellEnv = minShell.getRing().getEnvelopeInternal();\n\t\t\t}\n\t\t}\n\t}\n\treturn minShell;\n};\nfunction EnvelopeComparator() {}\nextend(EnvelopeComparator.prototype, {\n\tcompare: function compare(obj0, obj1) {\n\t\tvar r0 = obj0;\n\t\tvar r1 = obj1;\n\t\treturn r0.getRing().getEnvelope().compareTo(r1.getRing().getEnvelope());\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EnvelopeComparator;\n\t}\n});\nEdgeRing$1.EnvelopeComparator = EnvelopeComparator;\n\nfunction PolygonizeGraph() {\n\tPlanarGraph$1.apply(this);\n\tthis._factory = null;\n\tvar factory = arguments[0];\n\tthis._factory = factory;\n}\ninherits(PolygonizeGraph, PlanarGraph$1);\nextend(PolygonizeGraph.prototype, {\n\tfindEdgeRing: function findEdgeRing(startDE) {\n\t\tvar er = new EdgeRing$1(this._factory);\n\t\ter.build(startDE);\n\t\treturn er;\n\t},\n\tcomputeDepthParity: function computeDepthParity() {\n\t\tif (arguments.length === 0) {\n\t\t\twhile (true) {\n\t\t\t\tvar de = null;\n\t\t\t\tif (de === null) return null;\n\t\t\t\tthis.computeDepthParity(de);\n\t\t\t}\n\t\t} else if (arguments.length === 1) {\n\t\t\t\n\t\t}\n\t},\n\tcomputeNextCWEdges: function computeNextCWEdges() {\n\t\tfor (var iNode = this.nodeIterator(); iNode.hasNext();) {\n\t\t\tvar node = iNode.next();\n\t\t\tPolygonizeGraph.computeNextCWEdges(node);\n\t\t}\n\t},\n\taddEdge: function addEdge(line) {\n\t\tif (line.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\tvar linePts = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\t\tif (linePts.length < 2) {\n\t\t\treturn null;\n\t\t}\n\t\tvar startPt = linePts[0];\n\t\tvar endPt = linePts[linePts.length - 1];\n\t\tvar nStart = this.getNode(startPt);\n\t\tvar nEnd = this.getNode(endPt);\n\t\tvar de0 = new PolygonizeDirectedEdge(nStart, nEnd, linePts[1], true);\n\t\tvar de1 = new PolygonizeDirectedEdge(nEnd, nStart, linePts[linePts.length - 2], false);\n\t\tvar edge = new PolygonizeEdge(line);\n\t\tedge.setDirectedEdges(de0, de1);\n\t\tthis.add(edge);\n\t},\n\tdeleteCutEdges: function deleteCutEdges() {\n\t\tthis.computeNextCWEdges();\n\t\tPolygonizeGraph.findLabeledEdgeRings(this._dirEdges);\n\t\tvar cutLines = new ArrayList();\n\t\tfor (var i = this._dirEdges.iterator(); i.hasNext();) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.isMarked()) continue;\n\t\t\tvar sym = de.getSym();\n\t\t\tif (de.getLabel() === sym.getLabel()) {\n\t\t\t\tde.setMarked(true);\n\t\t\t\tsym.setMarked(true);\n\t\t\t\tvar e = de.getEdge();\n\t\t\t\tcutLines.add(e.getLine());\n\t\t\t}\n\t\t}\n\t\treturn cutLines;\n\t},\n\tgetEdgeRings: function getEdgeRings() {\n\t\tthis.computeNextCWEdges();\n\t\tPolygonizeGraph.label(this._dirEdges, -1);\n\t\tvar maximalRings = PolygonizeGraph.findLabeledEdgeRings(this._dirEdges);\n\t\tthis.convertMaximalToMinimalEdgeRings(maximalRings);\n\t\tvar edgeRingList = new ArrayList();\n\t\tfor (var i = this._dirEdges.iterator(); i.hasNext();) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.isMarked()) continue;\n\t\t\tif (de.isInRing()) continue;\n\t\t\tvar er = this.findEdgeRing(de);\n\t\t\tedgeRingList.add(er);\n\t\t}\n\t\treturn edgeRingList;\n\t},\n\tgetNode: function getNode(pt) {\n\t\tvar node = this.findNode(pt);\n\t\tif (node === null) {\n\t\t\tnode = new Node$3(pt);\n\t\t\tthis.add(node);\n\t\t}\n\t\treturn node;\n\t},\n\tconvertMaximalToMinimalEdgeRings: function convertMaximalToMinimalEdgeRings(ringEdges) {\n\t\tfor (var i = ringEdges.iterator(); i.hasNext();) {\n\t\t\tvar de = i.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tvar intNodes = PolygonizeGraph.findIntersectionNodes(de, label);\n\t\t\tif (intNodes === null) continue;\n\t\t\tfor (var iNode = intNodes.iterator(); iNode.hasNext();) {\n\t\t\t\tvar node = iNode.next();\n\t\t\t\tPolygonizeGraph.computeNextCCWEdges(node, label);\n\t\t\t}\n\t\t}\n\t},\n\tdeleteDangles: function deleteDangles() {\n\t\tvar nodesToRemove = this.findNodesOfDegree(1);\n\t\tvar dangleLines = new HashSet();\n\t\tvar nodeStack = new Stack();\n\t\tfor (var i = nodesToRemove.iterator(); i.hasNext();) {\n\t\t\tnodeStack.push(i.next());\n\t\t}\n\t\twhile (!nodeStack.isEmpty()) {\n\t\t\tvar node = nodeStack.pop();\n\t\t\tPolygonizeGraph.deleteAllEdges(node);\n\t\t\tvar nodeOutEdges = node.getOutEdges().getEdges();\n\t\t\tfor (var i = nodeOutEdges.iterator(); i.hasNext();) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tde.setMarked(true);\n\t\t\t\tvar sym = de.getSym();\n\t\t\t\tif (sym !== null) sym.setMarked(true);\n\t\t\t\tvar e = de.getEdge();\n\t\t\t\tdangleLines.add(e.getLine());\n\t\t\t\tvar toNode = de.getToNode();\n\t\t\t\tif (PolygonizeGraph.getDegreeNonDeleted(toNode) === 1) nodeStack.push(toNode);\n\t\t\t}\n\t\t}\n\t\treturn dangleLines;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PolygonizeGraph;\n\t}\n});\nPolygonizeGraph.findLabeledEdgeRings = function (dirEdges) {\n\tvar edgeRingStarts = new ArrayList();\n\tvar currLabel = 1;\n\tfor (var i = dirEdges.iterator(); i.hasNext();) {\n\t\tvar de = i.next();\n\t\tif (de.isMarked()) continue;\n\t\tif (de.getLabel() >= 0) continue;\n\t\tedgeRingStarts.add(de);\n\t\tvar edges = EdgeRing$1.findDirEdgesInRing(de);\n\t\tPolygonizeGraph.label(edges, currLabel);\n\t\tcurrLabel++;\n\t}\n\treturn edgeRingStarts;\n};\nPolygonizeGraph.getDegreeNonDeleted = function (node) {\n\tvar edges = node.getOutEdges().getEdges();\n\tvar degree = 0;\n\tfor (var i = edges.iterator(); i.hasNext();) {\n\t\tvar de = i.next();\n\t\tif (!de.isMarked()) degree++;\n\t}\n\treturn degree;\n};\nPolygonizeGraph.deleteAllEdges = function (node) {\n\tvar edges = node.getOutEdges().getEdges();\n\tfor (var i = edges.iterator(); i.hasNext();) {\n\t\tvar de = i.next();\n\t\tde.setMarked(true);\n\t\tvar sym = de.getSym();\n\t\tif (sym !== null) sym.setMarked(true);\n\t}\n};\nPolygonizeGraph.label = function (dirEdges, label) {\n\tfor (var i = dirEdges.iterator(); i.hasNext();) {\n\t\tvar de = i.next();\n\t\tde.setLabel(label);\n\t}\n};\nPolygonizeGraph.computeNextCWEdges = function (node) {\n\tvar deStar = node.getOutEdges();\n\tvar startDE = null;\n\tvar prevDE = null;\n\tfor (var i = deStar.getEdges().iterator(); i.hasNext();) {\n\t\tvar outDE = i.next();\n\t\tif (outDE.isMarked()) continue;\n\t\tif (startDE === null) startDE = outDE;\n\t\tif (prevDE !== null) {\n\t\t\tvar sym = prevDE.getSym();\n\t\t\tsym.setNext(outDE);\n\t\t}\n\t\tprevDE = outDE;\n\t}\n\tif (prevDE !== null) {\n\t\tvar sym = prevDE.getSym();\n\t\tsym.setNext(startDE);\n\t}\n};\nPolygonizeGraph.computeNextCCWEdges = function (node, label) {\n\tvar deStar = node.getOutEdges();\n\tvar firstOutDE = null;\n\tvar prevInDE = null;\n\tvar edges = deStar.getEdges();\n\tfor (var i = edges.size() - 1; i >= 0; i--) {\n\t\tvar de = edges.get(i);\n\t\tvar sym = de.getSym();\n\t\tvar outDE = null;\n\t\tif (de.getLabel() === label) outDE = de;\n\t\tvar inDE = null;\n\t\tif (sym.getLabel() === label) inDE = sym;\n\t\tif (outDE === null && inDE === null) continue;\n\t\tif (inDE !== null) {\n\t\t\tprevInDE = inDE;\n\t\t}\n\t\tif (outDE !== null) {\n\t\t\tif (prevInDE !== null) {\n\t\t\t\tprevInDE.setNext(outDE);\n\t\t\t\tprevInDE = null;\n\t\t\t}\n\t\t\tif (firstOutDE === null) firstOutDE = outDE;\n\t\t}\n\t}\n\tif (prevInDE !== null) {\n\t\tAssert.isTrue(firstOutDE !== null);\n\t\tprevInDE.setNext(firstOutDE);\n\t}\n};\nPolygonizeGraph.getDegree = function (node, label) {\n\tvar edges = node.getOutEdges().getEdges();\n\tvar degree = 0;\n\tfor (var i = edges.iterator(); i.hasNext();) {\n\t\tvar de = i.next();\n\t\tif (de.getLabel() === label) degree++;\n\t}\n\treturn degree;\n};\nPolygonizeGraph.findIntersectionNodes = function (startDE, label) {\n\tvar de = startDE;\n\tvar intNodes = null;\n\tdo {\n\t\tvar node = de.getFromNode();\n\t\tif (PolygonizeGraph.getDegree(node, label) > 1) {\n\t\t\tif (intNodes === null) intNodes = new ArrayList();\n\t\t\tintNodes.add(node);\n\t\t}\n\t\tde = de.getNext();\n\t\tAssert.isTrue(de !== null, \"found null DE in ring\");\n\t\tAssert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n\t} while (de !== startDE);\n\treturn intNodes;\n};\n\nfunction Polygonizer() {\n\tthis._lineStringAdder = new LineStringAdder(this);\n\tthis._graph = null;\n\tthis._dangles = new ArrayList();\n\tthis._cutEdges = new ArrayList();\n\tthis._invalidRingLines = new ArrayList();\n\tthis._holeList = null;\n\tthis._shellList = null;\n\tthis._polyList = null;\n\tthis._isCheckingRingsValid = true;\n\tthis._extractOnlyPolygonal = null;\n\tthis._geomFactory = null;\n\tif (arguments.length === 0) {\n\t\tPolygonizer.call(this, false);\n\t} else if (arguments.length === 1) {\n\t\tvar extractOnlyPolygonal = arguments[0];\n\t\tthis._extractOnlyPolygonal = extractOnlyPolygonal;\n\t}\n}\nextend(Polygonizer.prototype, {\n\tgetGeometry: function getGeometry() {\n\t\tif (this._geomFactory === null) this._geomFactory = new GeometryFactory();\n\t\tthis.polygonize();\n\t\tif (this._extractOnlyPolygonal) {\n\t\t\treturn this._geomFactory.buildGeometry(this._polyList);\n\t\t}\n\t\treturn this._geomFactory.createGeometryCollection(GeometryFactory.toGeometryArray(this._polyList));\n\t},\n\tgetInvalidRingLines: function getInvalidRingLines() {\n\t\tthis.polygonize();\n\t\treturn this._invalidRingLines;\n\t},\n\tfindValidRings: function findValidRings(edgeRingList, validEdgeRingList, invalidRingList) {\n\t\tfor (var i = edgeRingList.iterator(); i.hasNext();) {\n\t\t\tvar er = i.next();\n\t\t\tif (er.isValid()) validEdgeRingList.add(er);else invalidRingList.add(er.getLineString());\n\t\t}\n\t},\n\tpolygonize: function polygonize() {\n\t\tif (this._polyList !== null) return null;\n\t\tthis._polyList = new ArrayList();\n\t\tif (this._graph === null) return null;\n\t\tthis._dangles = this._graph.deleteDangles();\n\t\tthis._cutEdges = this._graph.deleteCutEdges();\n\t\tvar edgeRingList = this._graph.getEdgeRings();\n\t\tvar validEdgeRingList = new ArrayList();\n\t\tthis._invalidRingLines = new ArrayList();\n\t\tif (this._isCheckingRingsValid) {\n\t\t\tthis.findValidRings(edgeRingList, validEdgeRingList, this._invalidRingLines);\n\t\t} else {\n\t\t\tvalidEdgeRingList = edgeRingList;\n\t\t}\n\t\tthis.findShellsAndHoles(validEdgeRingList);\n\t\tPolygonizer.assignHolesToShells(this._holeList, this._shellList);\n\t\tCollections.sort(this._shellList, new EdgeRing$1.EnvelopeComparator());\n\t\tvar includeAll = true;\n\t\tif (this._extractOnlyPolygonal) {\n\t\t\tPolygonizer.findDisjointShells(this._shellList);\n\t\t\tincludeAll = false;\n\t\t}\n\t\tthis._polyList = Polygonizer.extractPolygons(this._shellList, includeAll);\n\t},\n\tgetDangles: function getDangles() {\n\t\tthis.polygonize();\n\t\treturn this._dangles;\n\t},\n\tgetCutEdges: function getCutEdges() {\n\t\tthis.polygonize();\n\t\treturn this._cutEdges;\n\t},\n\tgetPolygons: function getPolygons() {\n\t\tthis.polygonize();\n\t\treturn this._polyList;\n\t},\n\tadd: function add() {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tvar geomList = arguments[0];\n\t\t\tfor (var i = geomList.iterator(); i.hasNext();) {\n\t\t\t\tvar geometry = i.next();\n\t\t\t\tthis.add(geometry);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tvar line = arguments[0];\n\t\t\tthis._geomFactory = line.getFactory();\n\t\t\tif (this._graph === null) this._graph = new PolygonizeGraph(this._geomFactory);\n\t\t\tthis._graph.addEdge(line);\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tvar g = arguments[0];\n\t\t\tg.apply(this._lineStringAdder);\n\t\t}\n\t},\n\tsetCheckRingsValid: function setCheckRingsValid(isCheckingRingsValid) {\n\t\tthis._isCheckingRingsValid = isCheckingRingsValid;\n\t},\n\tfindShellsAndHoles: function findShellsAndHoles(edgeRingList) {\n\t\tthis._holeList = new ArrayList();\n\t\tthis._shellList = new ArrayList();\n\t\tfor (var i = edgeRingList.iterator(); i.hasNext();) {\n\t\t\tvar er = i.next();\n\t\t\ter.computeHole();\n\t\t\tif (er.isHole()) this._holeList.add(er);else this._shellList.add(er);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Polygonizer;\n\t}\n});\nPolygonizer.findOuterShells = function (shellList) {\n\tfor (var i = shellList.iterator(); i.hasNext();) {\n\t\tvar er = i.next();\n\t\tvar outerHoleER = er.getOuterHole();\n\t\tif (outerHoleER !== null && !outerHoleER.isProcessed()) {\n\t\t\ter.setIncluded(true);\n\t\t\touterHoleER.setProcessed(true);\n\t\t}\n\t}\n};\nPolygonizer.extractPolygons = function (shellList, includeAll) {\n\tvar polyList = new ArrayList();\n\tfor (var i = shellList.iterator(); i.hasNext();) {\n\t\tvar er = i.next();\n\t\tif (includeAll || er.isIncluded()) {\n\t\t\tpolyList.add(er.getPolygon());\n\t\t}\n\t}\n\treturn polyList;\n};\nPolygonizer.assignHolesToShells = function (holeList, shellList) {\n\tfor (var i = holeList.iterator(); i.hasNext();) {\n\t\tvar holeER = i.next();\n\t\tPolygonizer.assignHoleToShell(holeER, shellList);\n\t}\n};\nPolygonizer.assignHoleToShell = function (holeER, shellList) {\n\tvar shell = EdgeRing$1.findEdgeRingContaining(holeER, shellList);\n\tif (shell !== null) {\n\t\tshell.addHole(holeER);\n\t}\n};\nPolygonizer.findDisjointShells = function (shellList) {\n\tPolygonizer.findOuterShells(shellList);\n\tvar isMoreToScan = null;\n\tdo {\n\t\tisMoreToScan = false;\n\t\tfor (var i = shellList.iterator(); i.hasNext();) {\n\t\t\tvar er = i.next();\n\t\t\tif (er.isIncludedSet()) continue;\n\t\t\ter.updateIncluded();\n\t\t\tif (!er.isIncludedSet()) {\n\t\t\t\tisMoreToScan = true;\n\t\t\t}\n\t\t}\n\t} while (isMoreToScan);\n};\nfunction LineStringAdder() {\n\tthis.p = null;\n\tvar p = arguments[0];\n\tthis.p = p;\n}\nextend(LineStringAdder.prototype, {\n\tfilter: function filter(g) {\n\t\tif (g instanceof LineString) this.p.add(g);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryComponentFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineStringAdder;\n\t}\n});\nPolygonizer.LineStringAdder = LineStringAdder;\n\n\n\nvar polygonize = Object.freeze({\n\tPolygonizer: Polygonizer\n});\n\nfunction EdgeEndBuilder() {}\nextend(EdgeEndBuilder.prototype, {\n\tcreateEdgeEndForNext: function createEdgeEndForNext(edge, l, eiCurr, eiNext) {\n\t\tvar iNext = eiCurr.segmentIndex + 1;\n\t\tif (iNext >= edge.getNumPoints() && eiNext === null) return null;\n\t\tvar pNext = edge.getCoordinate(iNext);\n\t\tif (eiNext !== null && eiNext.segmentIndex === eiCurr.segmentIndex) pNext = eiNext.coord;\n\t\tvar e = new EdgeEnd(edge, eiCurr.coord, pNext, new Label(edge.getLabel()));\n\t\tl.add(e);\n\t},\n\tcreateEdgeEndForPrev: function createEdgeEndForPrev(edge, l, eiCurr, eiPrev) {\n\t\tvar iPrev = eiCurr.segmentIndex;\n\t\tif (eiCurr.dist === 0.0) {\n\t\t\tif (iPrev === 0) return null;\n\t\t\tiPrev--;\n\t\t}\n\t\tvar pPrev = edge.getCoordinate(iPrev);\n\t\tif (eiPrev !== null && eiPrev.segmentIndex >= iPrev) pPrev = eiPrev.coord;\n\t\tvar label = new Label(edge.getLabel());\n\t\tlabel.flip();\n\t\tvar e = new EdgeEnd(edge, eiCurr.coord, pPrev, label);\n\t\tl.add(e);\n\t},\n\tcomputeEdgeEnds: function computeEdgeEnds() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar edges = arguments[0];\n\t\t\tvar l = new ArrayList();\n\t\t\tfor (var i = edges; i.hasNext();) {\n\t\t\t\tvar e = i.next();\n\t\t\t\tthis.computeEdgeEnds(e, l);\n\t\t\t}\n\t\t\treturn l;\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar edge = arguments[0],\n\t\t\t    _l = arguments[1];\n\t\t\tvar eiList = edge.getEdgeIntersectionList();\n\t\t\teiList.addEndpoints();\n\t\t\tvar it = eiList.iterator();\n\t\t\tvar eiPrev = null;\n\t\t\tvar eiCurr = null;\n\t\t\tif (!it.hasNext()) return null;\n\t\t\tvar eiNext = it.next();\n\t\t\tdo {\n\t\t\t\teiPrev = eiCurr;\n\t\t\t\teiCurr = eiNext;\n\t\t\t\teiNext = null;\n\t\t\t\tif (it.hasNext()) eiNext = it.next();\n\t\t\t\tif (eiCurr !== null) {\n\t\t\t\t\tthis.createEdgeEndForPrev(edge, _l, eiCurr, eiPrev);\n\t\t\t\t\tthis.createEdgeEndForNext(edge, _l, eiCurr, eiNext);\n\t\t\t\t}\n\t\t\t} while (eiCurr !== null);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeEndBuilder;\n\t}\n});\n\nfunction EdgeEndBundle() {\n\tthis._edgeEnds = new ArrayList();\n\tif (arguments.length === 1) {\n\t\tvar e = arguments[0];\n\t\tEdgeEndBundle.call(this, null, e);\n\t} else if (arguments.length === 2) {\n\t\tvar boundaryNodeRule = arguments[0],\n\t\t    _e = arguments[1];\n\t\tEdgeEnd.call(this, _e.getEdge(), _e.getCoordinate(), _e.getDirectedCoordinate(), new Label(_e.getLabel()));\n\t\tthis.insert(_e);\n\t}\n}\ninherits(EdgeEndBundle, EdgeEnd);\nextend(EdgeEndBundle.prototype, {\n\tinsert: function insert(e) {\n\t\tthis._edgeEnds.add(e);\n\t},\n\tprint: function print(out) {\n\t\tout.println(\"EdgeEndBundle--> Label: \" + this._label);\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar ee = it.next();\n\t\t\tee.print(out);\n\t\t\tout.println();\n\t\t}\n\t},\n\titerator: function iterator() {\n\t\treturn this._edgeEnds.iterator();\n\t},\n\tgetEdgeEnds: function getEdgeEnds() {\n\t\treturn this._edgeEnds;\n\t},\n\tcomputeLabelOn: function computeLabelOn(geomIndex, boundaryNodeRule) {\n\t\tvar boundaryCount = 0;\n\t\tvar foundInterior = false;\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tvar loc = e.getLabel().getLocation(geomIndex);\n\t\t\tif (loc === Location.BOUNDARY) boundaryCount++;\n\t\t\tif (loc === Location.INTERIOR) foundInterior = true;\n\t\t}\n\t\tvar loc = Location.NONE;\n\t\tif (foundInterior) loc = Location.INTERIOR;\n\t\tif (boundaryCount > 0) {\n\t\t\tloc = GeometryGraph.determineBoundary(boundaryNodeRule, boundaryCount);\n\t\t}\n\t\tthis._label.setLocation(geomIndex, loc);\n\t},\n\tcomputeLabelSide: function computeLabelSide(geomIndex, side) {\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tif (e.getLabel().isArea()) {\n\t\t\t\tvar loc = e.getLabel().getLocation(geomIndex, side);\n\t\t\t\tif (loc === Location.INTERIOR) {\n\t\t\t\t\tthis._label.setLocation(geomIndex, side, Location.INTERIOR);\n\t\t\t\t\treturn null;\n\t\t\t\t} else if (loc === Location.EXTERIOR) this._label.setLocation(geomIndex, side, Location.EXTERIOR);\n\t\t\t}\n\t\t}\n\t},\n\tgetLabel: function getLabel() {\n\t\treturn this._label;\n\t},\n\tcomputeLabelSides: function computeLabelSides(geomIndex) {\n\t\tthis.computeLabelSide(geomIndex, Position.LEFT);\n\t\tthis.computeLabelSide(geomIndex, Position.RIGHT);\n\t},\n\tupdateIM: function updateIM(im) {\n\t\tEdge.updateIM(this._label, im);\n\t},\n\tcomputeLabel: function computeLabel(boundaryNodeRule) {\n\t\tvar isArea = false;\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar e = it.next();\n\t\t\tif (e.getLabel().isArea()) isArea = true;\n\t\t}\n\t\tif (isArea) this._label = new Label(Location.NONE, Location.NONE, Location.NONE);else this._label = new Label(Location.NONE);\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tthis.computeLabelOn(i, boundaryNodeRule);\n\t\t\tif (isArea) this.computeLabelSides(i);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeEndBundle;\n\t}\n});\n\nfunction EdgeEndBundleStar() {\n\tEdgeEndStar.apply(this);\n}\ninherits(EdgeEndBundleStar, EdgeEndStar);\nextend(EdgeEndBundleStar.prototype, {\n\tupdateIM: function updateIM(im) {\n\t\tfor (var it = this.iterator(); it.hasNext();) {\n\t\t\tvar esb = it.next();\n\t\t\tesb.updateIM(im);\n\t\t}\n\t},\n\tinsert: function insert(e) {\n\t\tvar eb = this._edgeMap.get(e);\n\t\tif (eb === null) {\n\t\t\teb = new EdgeEndBundle(e);\n\t\t\tthis.insertEdgeEnd(e, eb);\n\t\t} else {\n\t\t\teb.insert(e);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EdgeEndBundleStar;\n\t}\n});\n\nfunction RelateNode() {\n\tvar coord = arguments[0],\n\t    edges = arguments[1];\n\tNode$1.call(this, coord, edges);\n}\ninherits(RelateNode, Node$1);\nextend(RelateNode.prototype, {\n\tupdateIMFromEdges: function updateIMFromEdges(im) {\n\t\tthis._edges.updateIM(im);\n\t},\n\tcomputeIM: function computeIM(im) {\n\t\tim.setAtLeastIfValid(this._label.getLocation(0), this._label.getLocation(1), 0);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RelateNode;\n\t}\n});\n\nfunction RelateNodeFactory() {\n\tNodeFactory.apply(this);\n}\ninherits(RelateNodeFactory, NodeFactory);\nextend(RelateNodeFactory.prototype, {\n\tcreateNode: function createNode(coord) {\n\t\treturn new RelateNode(coord, new EdgeEndBundleStar());\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RelateNodeFactory;\n\t}\n});\n\nfunction RelateComputer() {\n\tthis._li = new RobustLineIntersector();\n\tthis._ptLocator = new PointLocator();\n\tthis._arg = null;\n\tthis._nodes = new NodeMap(new RelateNodeFactory());\n\tthis._im = null;\n\tthis._isolatedEdges = new ArrayList();\n\tthis._invalidPoint = null;\n\tvar arg = arguments[0];\n\tthis._arg = arg;\n}\nextend(RelateComputer.prototype, {\n\tinsertEdgeEnds: function insertEdgeEnds(ee) {\n\t\tfor (var i = ee.iterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\tthis._nodes.add(e);\n\t\t}\n\t},\n\tcomputeProperIntersectionIM: function computeProperIntersectionIM(intersector, im) {\n\t\tvar dimA = this._arg[0].getGeometry().getDimension();\n\t\tvar dimB = this._arg[1].getGeometry().getDimension();\n\t\tvar hasProper = intersector.hasProperIntersection();\n\t\tvar hasProperInterior = intersector.hasProperInteriorIntersection();\n\t\tif (dimA === 2 && dimB === 2) {\n\t\t\tif (hasProper) im.setAtLeast(\"212101212\");\n\t\t} else if (dimA === 2 && dimB === 1) {\n\t\t\tif (hasProper) im.setAtLeast(\"FFF0FFFF2\");\n\t\t\tif (hasProperInterior) im.setAtLeast(\"1FFFFF1FF\");\n\t\t} else if (dimA === 1 && dimB === 2) {\n\t\t\tif (hasProper) im.setAtLeast(\"F0FFFFFF2\");\n\t\t\tif (hasProperInterior) im.setAtLeast(\"1F1FFFFFF\");\n\t\t} else if (dimA === 1 && dimB === 1) {\n\t\t\tif (hasProperInterior) im.setAtLeast(\"0FFFFFFFF\");\n\t\t}\n\t},\n\tlabelIsolatedEdges: function labelIsolatedEdges(thisIndex, targetIndex) {\n\t\tfor (var ei = this._arg[thisIndex].getEdgeIterator(); ei.hasNext();) {\n\t\t\tvar e = ei.next();\n\t\t\tif (e.isIsolated()) {\n\t\t\t\tthis.labelIsolatedEdge(e, targetIndex, this._arg[targetIndex].getGeometry());\n\t\t\t\tthis._isolatedEdges.add(e);\n\t\t\t}\n\t\t}\n\t},\n\tlabelIsolatedEdge: function labelIsolatedEdge(e, targetIndex, target) {\n\t\tif (target.getDimension() > 0) {\n\t\t\tvar loc = this._ptLocator.locate(e.getCoordinate(), target);\n\t\t\te.getLabel().setAllLocations(targetIndex, loc);\n\t\t} else {\n\t\t\te.getLabel().setAllLocations(targetIndex, Location.EXTERIOR);\n\t\t}\n\t},\n\tcomputeIM: function computeIM() {\n\t\tvar im = new IntersectionMatrix();\n\t\tim.set(Location.EXTERIOR, Location.EXTERIOR, 2);\n\t\tif (!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal())) {\n\t\t\tthis.computeDisjointIM(im);\n\t\t\treturn im;\n\t\t}\n\t\tthis._arg[0].computeSelfNodes(this._li, false);\n\t\tthis._arg[1].computeSelfNodes(this._li, false);\n\t\tvar intersector = this._arg[0].computeEdgeIntersections(this._arg[1], this._li, false);\n\t\tthis.computeIntersectionNodes(0);\n\t\tthis.computeIntersectionNodes(1);\n\t\tthis.copyNodesAndLabels(0);\n\t\tthis.copyNodesAndLabels(1);\n\t\tthis.labelIsolatedNodes();\n\t\tthis.computeProperIntersectionIM(intersector, im);\n\t\tvar eeBuilder = new EdgeEndBuilder();\n\t\tvar ee0 = eeBuilder.computeEdgeEnds(this._arg[0].getEdgeIterator());\n\t\tthis.insertEdgeEnds(ee0);\n\t\tvar ee1 = eeBuilder.computeEdgeEnds(this._arg[1].getEdgeIterator());\n\t\tthis.insertEdgeEnds(ee1);\n\t\tthis.labelNodeEdges();\n\t\tthis.labelIsolatedEdges(0, 1);\n\t\tthis.labelIsolatedEdges(1, 0);\n\t\tthis.updateIM(im);\n\t\treturn im;\n\t},\n\tlabelNodeEdges: function labelNodeEdges() {\n\t\tfor (var ni = this._nodes.iterator(); ni.hasNext();) {\n\t\t\tvar node = ni.next();\n\t\t\tnode.getEdges().computeLabelling(this._arg);\n\t\t}\n\t},\n\tcopyNodesAndLabels: function copyNodesAndLabels(argIndex) {\n\t\tfor (var i = this._arg[argIndex].getNodeIterator(); i.hasNext();) {\n\t\t\tvar graphNode = i.next();\n\t\t\tvar newNode = this._nodes.addNode(graphNode.getCoordinate());\n\t\t\tnewNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n\t\t}\n\t},\n\tlabelIntersectionNodes: function labelIntersectionNodes(argIndex) {\n\t\tfor (var i = this._arg[argIndex].getEdgeIterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext();) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tvar n = this._nodes.find(ei.coord);\n\t\t\t\tif (n.getLabel().isNull(argIndex)) {\n\t\t\t\t\tif (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex);else n.setLabel(argIndex, Location.INTERIOR);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tlabelIsolatedNode: function labelIsolatedNode(n, targetIndex) {\n\t\tvar loc = this._ptLocator.locate(n.getCoordinate(), this._arg[targetIndex].getGeometry());\n\t\tn.getLabel().setAllLocations(targetIndex, loc);\n\t},\n\tcomputeIntersectionNodes: function computeIntersectionNodes(argIndex) {\n\t\tfor (var i = this._arg[argIndex].getEdgeIterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext();) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tvar n = this._nodes.addNode(ei.coord);\n\t\t\t\tif (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex);else {\n\t\t\t\t\tif (n.getLabel().isNull(argIndex)) n.setLabel(argIndex, Location.INTERIOR);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tlabelIsolatedNodes: function labelIsolatedNodes() {\n\t\tfor (var ni = this._nodes.iterator(); ni.hasNext();) {\n\t\t\tvar n = ni.next();\n\t\t\tvar label = n.getLabel();\n\t\t\tAssert.isTrue(label.getGeometryCount() > 0, \"node with empty label found\");\n\t\t\tif (n.isIsolated()) {\n\t\t\t\tif (label.isNull(0)) this.labelIsolatedNode(n, 0);else this.labelIsolatedNode(n, 1);\n\t\t\t}\n\t\t}\n\t},\n\tupdateIM: function updateIM(im) {\n\t\tfor (var ei = this._isolatedEdges.iterator(); ei.hasNext();) {\n\t\t\tvar e = ei.next();\n\t\t\te.updateIM(im);\n\t\t}\n\t\tfor (var ni = this._nodes.iterator(); ni.hasNext();) {\n\t\t\tvar node = ni.next();\n\t\t\tnode.updateIM(im);\n\t\t\tnode.updateIMFromEdges(im);\n\t\t}\n\t},\n\tcomputeDisjointIM: function computeDisjointIM(im) {\n\t\tvar ga = this._arg[0].getGeometry();\n\t\tif (!ga.isEmpty()) {\n\t\t\tim.set(Location.INTERIOR, Location.EXTERIOR, ga.getDimension());\n\t\t\tim.set(Location.BOUNDARY, Location.EXTERIOR, ga.getBoundaryDimension());\n\t\t}\n\t\tvar gb = this._arg[1].getGeometry();\n\t\tif (!gb.isEmpty()) {\n\t\t\tim.set(Location.EXTERIOR, Location.INTERIOR, gb.getDimension());\n\t\t\tim.set(Location.EXTERIOR, Location.BOUNDARY, gb.getBoundaryDimension());\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RelateComputer;\n\t}\n});\n\nfunction RectangleContains() {\n\tthis._rectEnv = null;\n\tvar rectangle = arguments[0];\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n}\nextend(RectangleContains.prototype, {\n\tisContainedInBoundary: function isContainedInBoundary(geom) {\n\t\tif (geom instanceof Polygon) return false;\n\t\tif (geom instanceof Point) return this.isPointContainedInBoundary(geom);\n\t\tif (geom instanceof LineString) return this.isLineStringContainedInBoundary(geom);\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar comp = geom.getGeometryN(i);\n\t\t\tif (!this.isContainedInBoundary(comp)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tisLineSegmentContainedInBoundary: function isLineSegmentContainedInBoundary(p0, p1) {\n\t\tif (p0.equals(p1)) return this.isPointContainedInBoundary(p0);\n\t\tif (p0.x === p1.x) {\n\t\t\tif (p0.x === this._rectEnv.getMinX() || p0.x === this._rectEnv.getMaxX()) return true;\n\t\t} else if (p0.y === p1.y) {\n\t\t\tif (p0.y === this._rectEnv.getMinY() || p0.y === this._rectEnv.getMaxY()) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tisLineStringContainedInBoundary: function isLineStringContainedInBoundary(line) {\n\t\tvar seq = line.getCoordinateSequence();\n\t\tvar p0 = new Coordinate();\n\t\tvar p1 = new Coordinate();\n\t\tfor (var i = 0; i < seq.size() - 1; i++) {\n\t\t\tseq.getCoordinate(i, p0);\n\t\t\tseq.getCoordinate(i + 1, p1);\n\t\t\tif (!this.isLineSegmentContainedInBoundary(p0, p1)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tisPointContainedInBoundary: function isPointContainedInBoundary() {\n\t\tif (arguments[0] instanceof Point) {\n\t\t\tvar point = arguments[0];\n\t\t\treturn this.isPointContainedInBoundary(point.getCoordinate());\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tvar pt = arguments[0];\n\t\t\treturn pt.x === this._rectEnv.getMinX() || pt.x === this._rectEnv.getMaxX() || pt.y === this._rectEnv.getMinY() || pt.y === this._rectEnv.getMaxY();\n\t\t}\n\t},\n\tcontains: function contains(geom) {\n\t\tif (!this._rectEnv.contains(geom.getEnvelopeInternal())) return false;\n\t\tif (this.isContainedInBoundary(geom)) return false;\n\t\treturn true;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RectangleContains;\n\t}\n});\nRectangleContains.contains = function (rectangle, b) {\n\tvar rc = new RectangleContains(rectangle);\n\treturn rc.contains(b);\n};\n\nfunction RectangleLineIntersector() {\n\tthis._li = new RobustLineIntersector();\n\tthis._rectEnv = null;\n\tthis._diagUp0 = null;\n\tthis._diagUp1 = null;\n\tthis._diagDown0 = null;\n\tthis._diagDown1 = null;\n\tvar rectEnv = arguments[0];\n\tthis._rectEnv = rectEnv;\n\tthis._diagUp0 = new Coordinate(rectEnv.getMinX(), rectEnv.getMinY());\n\tthis._diagUp1 = new Coordinate(rectEnv.getMaxX(), rectEnv.getMaxY());\n\tthis._diagDown0 = new Coordinate(rectEnv.getMinX(), rectEnv.getMaxY());\n\tthis._diagDown1 = new Coordinate(rectEnv.getMaxX(), rectEnv.getMinY());\n}\nextend(RectangleLineIntersector.prototype, {\n\tintersects: function intersects(p0, p1) {\n\t\tvar segEnv = new Envelope(p0, p1);\n\t\tif (!this._rectEnv.intersects(segEnv)) return false;\n\t\tif (this._rectEnv.intersects(p0)) return true;\n\t\tif (this._rectEnv.intersects(p1)) return true;\n\t\tif (p0.compareTo(p1) > 0) {\n\t\t\tvar tmp = p0;\n\t\t\tp0 = p1;\n\t\t\tp1 = tmp;\n\t\t}\n\t\tvar isSegUpwards = false;\n\t\tif (p1.y > p0.y) isSegUpwards = true;\n\t\tif (isSegUpwards) {\n\t\t\tthis._li.computeIntersection(p0, p1, this._diagDown0, this._diagDown1);\n\t\t} else {\n\t\t\tthis._li.computeIntersection(p0, p1, this._diagUp0, this._diagUp1);\n\t\t}\n\t\tif (this._li.hasIntersection()) return true;\n\t\treturn false;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RectangleLineIntersector;\n\t}\n});\n\nfunction ShortCircuitedGeometryVisitor() {\n\tthis._isDone = false;\n}\nextend(ShortCircuitedGeometryVisitor.prototype, {\n\tapplyTo: function applyTo(geom) {\n\t\tfor (var i = 0; i < geom.getNumGeometries() && !this._isDone; i++) {\n\t\t\tvar element = geom.getGeometryN(i);\n\t\t\tif (!(element instanceof GeometryCollection)) {\n\t\t\t\tthis.visit(element);\n\t\t\t\tif (this.isDone()) {\n\t\t\t\t\tthis._isDone = true;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else this.applyTo(element);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ShortCircuitedGeometryVisitor;\n\t}\n});\n\nfunction RectangleIntersects() {\n\tthis._rectangle = null;\n\tthis._rectEnv = null;\n\tvar rectangle = arguments[0];\n\tthis._rectangle = rectangle;\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n}\nextend(RectangleIntersects.prototype, {\n\tintersects: function intersects(geom) {\n\t\tif (!this._rectEnv.intersects(geom.getEnvelopeInternal())) return false;\n\t\tvar visitor = new EnvelopeIntersectsVisitor(this._rectEnv);\n\t\tvisitor.applyTo(geom);\n\t\tif (visitor.intersects()) return true;\n\t\tvar ecpVisitor = new GeometryContainsPointVisitor(this._rectangle);\n\t\tecpVisitor.applyTo(geom);\n\t\tif (ecpVisitor.containsPoint()) return true;\n\t\tvar riVisitor = new RectangleIntersectsSegmentVisitor(this._rectangle);\n\t\triVisitor.applyTo(geom);\n\t\tif (riVisitor.intersects()) return true;\n\t\treturn false;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RectangleIntersects;\n\t}\n});\nRectangleIntersects.intersects = function (rectangle, b) {\n\tvar rp = new RectangleIntersects(rectangle);\n\treturn rp.intersects(b);\n};\nfunction EnvelopeIntersectsVisitor() {\n\tShortCircuitedGeometryVisitor.apply(this);\n\tthis._rectEnv = null;\n\tthis._intersects = false;\n\tvar rectEnv = arguments[0];\n\tthis._rectEnv = rectEnv;\n}\ninherits(EnvelopeIntersectsVisitor, ShortCircuitedGeometryVisitor);\nextend(EnvelopeIntersectsVisitor.prototype, {\n\tisDone: function isDone() {\n\t\treturn this._intersects === true;\n\t},\n\tvisit: function visit(element) {\n\t\tvar elementEnv = element.getEnvelopeInternal();\n\t\tif (!this._rectEnv.intersects(elementEnv)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._rectEnv.contains(elementEnv)) {\n\t\t\tthis._intersects = true;\n\t\t\treturn null;\n\t\t}\n\t\tif (elementEnv.getMinX() >= this._rectEnv.getMinX() && elementEnv.getMaxX() <= this._rectEnv.getMaxX()) {\n\t\t\tthis._intersects = true;\n\t\t\treturn null;\n\t\t}\n\t\tif (elementEnv.getMinY() >= this._rectEnv.getMinY() && elementEnv.getMaxY() <= this._rectEnv.getMaxY()) {\n\t\t\tthis._intersects = true;\n\t\t\treturn null;\n\t\t}\n\t},\n\tintersects: function intersects() {\n\t\treturn this._intersects;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn EnvelopeIntersectsVisitor;\n\t}\n});\nfunction GeometryContainsPointVisitor() {\n\tShortCircuitedGeometryVisitor.apply(this);\n\tthis._rectSeq = null;\n\tthis._rectEnv = null;\n\tthis._containsPoint = false;\n\tvar rectangle = arguments[0];\n\tthis._rectSeq = rectangle.getExteriorRing().getCoordinateSequence();\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n}\ninherits(GeometryContainsPointVisitor, ShortCircuitedGeometryVisitor);\nextend(GeometryContainsPointVisitor.prototype, {\n\tisDone: function isDone() {\n\t\treturn this._containsPoint === true;\n\t},\n\tvisit: function visit(geom) {\n\t\tif (!(geom instanceof Polygon)) return null;\n\t\tvar elementEnv = geom.getEnvelopeInternal();\n\t\tif (!this._rectEnv.intersects(elementEnv)) return null;\n\t\tvar rectPt = new Coordinate();\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tthis._rectSeq.getCoordinate(i, rectPt);\n\t\t\tif (!elementEnv.contains(rectPt)) continue;\n\t\t\tif (SimplePointInAreaLocator.containsPointInPolygon(rectPt, geom)) {\n\t\t\t\tthis._containsPoint = true;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tcontainsPoint: function containsPoint() {\n\t\treturn this._containsPoint;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryContainsPointVisitor;\n\t}\n});\nfunction RectangleIntersectsSegmentVisitor() {\n\tShortCircuitedGeometryVisitor.apply(this);\n\tthis._rectEnv = null;\n\tthis._rectIntersector = null;\n\tthis._hasIntersection = false;\n\tthis._p0 = new Coordinate();\n\tthis._p1 = new Coordinate();\n\tvar rectangle = arguments[0];\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n\tthis._rectIntersector = new RectangleLineIntersector(this._rectEnv);\n}\ninherits(RectangleIntersectsSegmentVisitor, ShortCircuitedGeometryVisitor);\nextend(RectangleIntersectsSegmentVisitor.prototype, {\n\tintersects: function intersects() {\n\t\treturn this._hasIntersection;\n\t},\n\tisDone: function isDone() {\n\t\treturn this._hasIntersection === true;\n\t},\n\tvisit: function visit(geom) {\n\t\tvar elementEnv = geom.getEnvelopeInternal();\n\t\tif (!this._rectEnv.intersects(elementEnv)) return null;\n\t\tvar lines = LinearComponentExtracter.getLines(geom);\n\t\tthis.checkIntersectionWithLineStrings(lines);\n\t},\n\tcheckIntersectionWithLineStrings: function checkIntersectionWithLineStrings(lines) {\n\t\tfor (var i = lines.iterator(); i.hasNext();) {\n\t\t\tvar testLine = i.next();\n\t\t\tthis.checkIntersectionWithSegments(testLine);\n\t\t\tif (this._hasIntersection) return null;\n\t\t}\n\t},\n\tcheckIntersectionWithSegments: function checkIntersectionWithSegments(testLine) {\n\t\tvar seq1 = testLine.getCoordinateSequence();\n\t\tfor (var j = 1; j < seq1.size(); j++) {\n\t\t\tseq1.getCoordinate(j - 1, this._p0);\n\t\t\tseq1.getCoordinate(j, this._p1);\n\t\t\tif (this._rectIntersector.intersects(this._p0, this._p1)) {\n\t\t\t\tthis._hasIntersection = true;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RectangleIntersectsSegmentVisitor;\n\t}\n});\n\nfunction RelateOp() {\n\tthis._relate = null;\n\tif (arguments.length === 2) {\n\t\tvar g0 = arguments[0],\n\t\t    g1 = arguments[1];\n\t\tGeometryGraphOperation.call(this, g0, g1);\n\t\tthis._relate = new RelateComputer(this._arg);\n\t} else if (arguments.length === 3) {\n\t\tvar _g = arguments[0],\n\t\t    _g2 = arguments[1],\n\t\t    boundaryNodeRule = arguments[2];\n\t\tGeometryGraphOperation.call(this, _g, _g2, boundaryNodeRule);\n\t\tthis._relate = new RelateComputer(this._arg);\n\t}\n}\ninherits(RelateOp, GeometryGraphOperation);\nextend(RelateOp.prototype, {\n\tgetIntersectionMatrix: function getIntersectionMatrix() {\n\t\treturn this._relate.computeIM();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RelateOp;\n\t}\n});\nRelateOp.covers = function (g1, g2) {\n\tif (g2.getDimension() === 2 && g1.getDimension() < 2) {\n\t\treturn false;\n\t}\n\tif (g2.getDimension() === 1 && g1.getDimension() < 1 && g2.getLength() > 0.0) {\n\t\treturn false;\n\t}\n\tif (!g1.getEnvelopeInternal().covers(g2.getEnvelopeInternal())) return false;\n\tif (g1.isRectangle()) {\n\t\treturn true;\n\t}\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isCovers();\n};\nRelateOp.intersects = function (g1, g2) {\n\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\tif (g1.isRectangle()) {\n\t\treturn RectangleIntersects.intersects(g1, g2);\n\t}\n\tif (g2.isRectangle()) {\n\t\treturn RectangleIntersects.intersects(g2, g1);\n\t}\n\tif (g1.isGeometryCollection() || g2.isGeometryCollection()) {\n\t\tfor (var i = 0; i < g1.getNumGeometries(); i++) {\n\t\t\tfor (var j = 0; j < g2.getNumGeometries(); j++) {\n\t\t\t\tif (g1.getGeometryN(i).intersects(g2.getGeometryN(j))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isIntersects();\n};\nRelateOp.touches = function (g1, g2) {\n\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isTouches(g1.getDimension(), g2.getDimension());\n};\nRelateOp.relate = function () {\n\tif (arguments.length === 2) {\n\t\tvar a = arguments[0],\n\t\t    b = arguments[1];\n\t\tvar relOp = new RelateOp(a, b);\n\t\tvar im = relOp.getIntersectionMatrix();\n\t\treturn im;\n\t} else if (arguments.length === 3) {\n\t\tvar _a = arguments[0],\n\t\t    _b = arguments[1],\n\t\t    boundaryNodeRule = arguments[2];\n\t\tvar relOp = new RelateOp(_a, _b, boundaryNodeRule);\n\t\tvar im = relOp.getIntersectionMatrix();\n\t\treturn im;\n\t}\n};\nRelateOp.overlaps = function (g1, g2) {\n\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isOverlaps(g1.getDimension(), g2.getDimension());\n};\nRelateOp.crosses = function (g1, g2) {\n\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isCrosses(g1.getDimension(), g2.getDimension());\n};\nRelateOp.contains = function (g1, g2) {\n\tif (g2.getDimension() === 2 && g1.getDimension() < 2) {\n\t\treturn false;\n\t}\n\tif (g2.getDimension() === 1 && g1.getDimension() < 1 && g2.getLength() > 0.0) {\n\t\treturn false;\n\t}\n\tif (!g1.getEnvelopeInternal().contains(g2.getEnvelopeInternal())) return false;\n\tif (g1.isRectangle()) {\n\t\treturn RectangleContains.contains(g1, g2);\n\t}\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isContains();\n};\n\n\n\nvar relate = Object.freeze({\n\tRelateOp: RelateOp\n});\n\nfunction GeometryCombiner() {\n\tthis._geomFactory = null;\n\tthis._skipEmpty = false;\n\tthis._inputGeoms = null;\n\tvar geoms = arguments[0];\n\tthis._geomFactory = GeometryCombiner.extractFactory(geoms);\n\tthis._inputGeoms = geoms;\n}\nextend(GeometryCombiner.prototype, {\n\textractElements: function extractElements(geom, elems) {\n\t\tif (geom === null) return null;\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar elemGeom = geom.getGeometryN(i);\n\t\t\tif (this._skipEmpty && elemGeom.isEmpty()) continue;\n\t\t\telems.add(elemGeom);\n\t\t}\n\t},\n\tcombine: function combine() {\n\t\tvar elems = new ArrayList();\n\t\tfor (var i = this._inputGeoms.iterator(); i.hasNext();) {\n\t\t\tvar g = i.next();\n\t\t\tthis.extractElements(g, elems);\n\t\t}\n\t\tif (elems.size() === 0) {\n\t\t\tif (this._geomFactory !== null) {\n\t\t\t\treturn this._geomFactory.createGeometryCollection();\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\treturn this._geomFactory.buildGeometry(elems);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryCombiner;\n\t}\n});\nGeometryCombiner.combine = function () {\n\tif (arguments.length === 1) {\n\t\tvar geoms = arguments[0];\n\t\tvar combiner = new GeometryCombiner(geoms);\n\t\treturn combiner.combine();\n\t} else if (arguments.length === 2) {\n\t\tvar g0 = arguments[0],\n\t\t    g1 = arguments[1];\n\t\tvar combiner = new GeometryCombiner(GeometryCombiner.createList(g0, g1));\n\t\treturn combiner.combine();\n\t} else if (arguments.length === 3) {\n\t\tvar _g = arguments[0],\n\t\t    _g2 = arguments[1],\n\t\t    g2 = arguments[2];\n\t\tvar combiner = new GeometryCombiner(GeometryCombiner.createList(_g, _g2, g2));\n\t\treturn combiner.combine();\n\t}\n};\nGeometryCombiner.extractFactory = function (geoms) {\n\tif (geoms.isEmpty()) return null;\n\treturn geoms.iterator().next().getFactory();\n};\nGeometryCombiner.createList = function () {\n\tif (arguments.length === 2) {\n\t\tvar obj0 = arguments[0],\n\t\t    obj1 = arguments[1];\n\t\tvar list = new ArrayList();\n\t\tlist.add(obj0);\n\t\tlist.add(obj1);\n\t\treturn list;\n\t} else if (arguments.length === 3) {\n\t\tvar _obj = arguments[0],\n\t\t    _obj2 = arguments[1],\n\t\t    obj2 = arguments[2];\n\t\tvar list = new ArrayList();\n\t\tlist.add(_obj);\n\t\tlist.add(_obj2);\n\t\tlist.add(obj2);\n\t\treturn list;\n\t}\n};\n\nfunction PointGeometryUnion() {\n\tthis._pointGeom = null;\n\tthis._otherGeom = null;\n\tthis._geomFact = null;\n\tvar pointGeom = arguments[0],\n\t    otherGeom = arguments[1];\n\tthis._pointGeom = pointGeom;\n\tthis._otherGeom = otherGeom;\n\tthis._geomFact = otherGeom.getFactory();\n}\nextend(PointGeometryUnion.prototype, {\n\tunion: function union() {\n\t\tvar locater = new PointLocator();\n\t\tvar exteriorCoords = new TreeSet();\n\t\tfor (var i = 0; i < this._pointGeom.getNumGeometries(); i++) {\n\t\t\tvar point = this._pointGeom.getGeometryN(i);\n\t\t\tvar coord = point.getCoordinate();\n\t\t\tvar loc = locater.locate(coord, this._otherGeom);\n\t\t\tif (loc === Location.EXTERIOR) exteriorCoords.add(coord);\n\t\t}\n\t\tif (exteriorCoords.size() === 0) return this._otherGeom;\n\t\tvar ptComp = null;\n\t\tvar coords = CoordinateArrays.toCoordinateArray(exteriorCoords);\n\t\tif (coords.length === 1) {\n\t\t\tptComp = this._geomFact.createPoint(coords[0]);\n\t\t} else {\n\t\t\tptComp = this._geomFact.createMultiPointFromCoords(coords);\n\t\t}\n\t\treturn GeometryCombiner.combine(ptComp, this._otherGeom);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PointGeometryUnion;\n\t}\n});\nPointGeometryUnion.union = function (pointGeom, otherGeom) {\n\tvar unioner = new PointGeometryUnion(pointGeom, otherGeom);\n\treturn unioner.union();\n};\n\nfunction GeometryExtracter() {\n\tthis._geometryType = null;\n\tthis._comps = null;\n\tvar geometryType = arguments[0],\n\t    comps = arguments[1];\n\tthis._geometryType = geometryType;\n\tthis._comps = comps;\n}\nextend(GeometryExtracter.prototype, {\n\tfilter: function filter(geom) {\n\t\tif (this._geometryType === null || GeometryExtracter.isOfType(geom, this._geometryType)) this._comps.add(geom);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryExtracter;\n\t}\n});\nGeometryExtracter.isOfType = function (geom, geometryType) {\n\tif (geom.getGeometryType() === geometryType) return true;\n\tif (geometryType === Geometry.TYPENAME_LINESTRING && geom.getGeometryType() === Geometry.TYPENAME_LINEARRING) return true;\n\treturn false;\n};\nGeometryExtracter.extract = function () {\n\tif (arguments.length === 2) {\n\t\tvar geom = arguments[0],\n\t\t    geometryType = arguments[1];\n\t\treturn GeometryExtracter.extract(geom, geometryType, new ArrayList());\n\t} else if (arguments.length === 3) {\n\t\tif (hasInterface(arguments[2], List) && arguments[0] instanceof Geometry && typeof arguments[1] === \"string\") {\n\t\t\tvar _geom = arguments[0],\n\t\t\t    _geometryType = arguments[1],\n\t\t\t    list = arguments[2];\n\t\t\tif (_geom.getGeometryType() === _geometryType) {\n\t\t\t\tlist.add(_geom);\n\t\t\t} else if (_geom instanceof GeometryCollection) {\n\t\t\t\t_geom.apply(new GeometryExtracter(_geometryType, list));\n\t\t\t}\n\t\t\treturn list;\n\t\t} else if (hasInterface(arguments[2], List) && arguments[0] instanceof Geometry && arguments[1] instanceof Class) {\n\t\t\tvar _geom2 = arguments[0],\n\t\t\t    clz = arguments[1],\n\t\t\t    _list = arguments[2];\n\t\t\treturn GeometryExtracter.extract(_geom2, GeometryExtracter.toGeometryType(clz), _list);\n\t\t}\n\t}\n};\n\nfunction CascadedPolygonUnion() {\n\tthis._inputPolys = null;\n\tthis._geomFactory = null;\n\tvar polys = arguments[0];\n\tthis._inputPolys = polys;\n\tif (this._inputPolys === null) this._inputPolys = new ArrayList();\n}\nextend(CascadedPolygonUnion.prototype, {\n\treduceToGeometries: function reduceToGeometries(geomTree) {\n\t\tvar geoms = new ArrayList();\n\t\tfor (var i = geomTree.iterator(); i.hasNext();) {\n\t\t\tvar o = i.next();\n\t\t\tvar geom = null;\n\t\t\tif (hasInterface(o, List)) {\n\t\t\t\tgeom = this.unionTree(o);\n\t\t\t} else if (o instanceof Geometry) {\n\t\t\t\tgeom = o;\n\t\t\t}\n\t\t\tgeoms.add(geom);\n\t\t}\n\t\treturn geoms;\n\t},\n\textractByEnvelope: function extractByEnvelope(env, geom, disjointGeoms) {\n\t\tvar intersectingGeoms = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar elem = geom.getGeometryN(i);\n\t\t\tif (elem.getEnvelopeInternal().intersects(env)) intersectingGeoms.add(elem);else disjointGeoms.add(elem);\n\t\t}\n\t\treturn this._geomFactory.buildGeometry(intersectingGeoms);\n\t},\n\tunionOptimized: function unionOptimized(g0, g1) {\n\t\tvar g0Env = g0.getEnvelopeInternal();\n\t\tvar g1Env = g1.getEnvelopeInternal();\n\t\tif (!g0Env.intersects(g1Env)) {\n\t\t\tvar combo = GeometryCombiner.combine(g0, g1);\n\t\t\treturn combo;\n\t\t}\n\t\tif (g0.getNumGeometries() <= 1 && g1.getNumGeometries() <= 1) return this.unionActual(g0, g1);\n\t\tvar commonEnv = g0Env.intersection(g1Env);\n\t\treturn this.unionUsingEnvelopeIntersection(g0, g1, commonEnv);\n\t},\n\tunion: function union() {\n\t\tif (this._inputPolys === null) throw new IllegalStateException(\"union() method cannot be called twice\");\n\t\tif (this._inputPolys.isEmpty()) return null;\n\t\tthis._geomFactory = this._inputPolys.iterator().next().getFactory();\n\t\tvar index = new STRtree(CascadedPolygonUnion.STRTREE_NODE_CAPACITY);\n\t\tfor (var i = this._inputPolys.iterator(); i.hasNext();) {\n\t\t\tvar item = i.next();\n\t\t\tindex.insert(item.getEnvelopeInternal(), item);\n\t\t}\n\t\tthis._inputPolys = null;\n\t\tvar itemTree = index.itemsTree();\n\t\tvar unionAll = this.unionTree(itemTree);\n\t\treturn unionAll;\n\t},\n\tbinaryUnion: function binaryUnion() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar geoms = arguments[0];\n\t\t\treturn this.binaryUnion(geoms, 0, geoms.size());\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _geoms = arguments[0],\n\t\t\t    start = arguments[1],\n\t\t\t    end = arguments[2];\n\t\t\tif (end - start <= 1) {\n\t\t\t\tvar g0 = CascadedPolygonUnion.getGeometry(_geoms, start);\n\t\t\t\treturn this.unionSafe(g0, null);\n\t\t\t} else if (end - start === 2) {\n\t\t\t\treturn this.unionSafe(CascadedPolygonUnion.getGeometry(_geoms, start), CascadedPolygonUnion.getGeometry(_geoms, start + 1));\n\t\t\t} else {\n\t\t\t\tvar mid = Math.trunc((end + start) / 2);\n\t\t\t\tvar g0 = this.binaryUnion(_geoms, start, mid);\n\t\t\t\tvar g1 = this.binaryUnion(_geoms, mid, end);\n\t\t\t\treturn this.unionSafe(g0, g1);\n\t\t\t}\n\t\t}\n\t},\n\trepeatedUnion: function repeatedUnion(geoms) {\n\t\tvar union = null;\n\t\tfor (var i = geoms.iterator(); i.hasNext();) {\n\t\t\tvar g = i.next();\n\t\t\tif (union === null) union = g.copy();else union = union.union(g);\n\t\t}\n\t\treturn union;\n\t},\n\tunionSafe: function unionSafe(g0, g1) {\n\t\tif (g0 === null && g1 === null) return null;\n\t\tif (g0 === null) return g1.copy();\n\t\tif (g1 === null) return g0.copy();\n\t\treturn this.unionOptimized(g0, g1);\n\t},\n\tunionActual: function unionActual(g0, g1) {\n\t\treturn CascadedPolygonUnion.restrictToPolygons(g0.union(g1));\n\t},\n\tunionTree: function unionTree(geomTree) {\n\t\tvar geoms = this.reduceToGeometries(geomTree);\n\t\tvar union = this.binaryUnion(geoms);\n\t\treturn union;\n\t},\n\tunionUsingEnvelopeIntersection: function unionUsingEnvelopeIntersection(g0, g1, common) {\n\t\tvar disjointPolys = new ArrayList();\n\t\tvar g0Int = this.extractByEnvelope(common, g0, disjointPolys);\n\t\tvar g1Int = this.extractByEnvelope(common, g1, disjointPolys);\n\t\tvar union = this.unionActual(g0Int, g1Int);\n\t\tdisjointPolys.add(union);\n\t\tvar overallUnion = GeometryCombiner.combine(disjointPolys);\n\t\treturn overallUnion;\n\t},\n\tbufferUnion: function bufferUnion() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar geoms = arguments[0];\n\t\t\tvar factory = geoms.get(0).getFactory();\n\t\t\tvar gColl = factory.buildGeometry(geoms);\n\t\t\tvar unionAll = gColl.buffer(0.0);\n\t\t\treturn unionAll;\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar g0 = arguments[0],\n\t\t\t    g1 = arguments[1];\n\t\t\tvar factory = g0.getFactory();\n\t\t\tvar gColl = factory.createGeometryCollection([g0, g1]);\n\t\t\tvar unionAll = gColl.buffer(0.0);\n\t\t\treturn unionAll;\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn CascadedPolygonUnion;\n\t}\n});\nCascadedPolygonUnion.restrictToPolygons = function (g) {\n\tif (hasInterface(g, Polygonal)) {\n\t\treturn g;\n\t}\n\tvar polygons = PolygonExtracter.getPolygons(g);\n\tif (polygons.size() === 1) return polygons.get(0);\n\treturn g.getFactory().createMultiPolygon(GeometryFactory.toPolygonArray(polygons));\n};\nCascadedPolygonUnion.getGeometry = function (list, index) {\n\tif (index >= list.size()) return null;\n\treturn list.get(index);\n};\nCascadedPolygonUnion.union = function (polys) {\n\tvar op = new CascadedPolygonUnion(polys);\n\treturn op.union();\n};\nCascadedPolygonUnion.STRTREE_NODE_CAPACITY = 4;\n\nfunction UnaryUnionOp() {\n\tthis._polygons = new ArrayList();\n\tthis._lines = new ArrayList();\n\tthis._points = new ArrayList();\n\tthis._geomFact = null;\n\tif (arguments.length === 1) {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tvar geoms = arguments[0];\n\t\t\tthis.extract(geoms);\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tvar geom = arguments[0];\n\t\t\tthis.extract(geom);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tvar _geoms = arguments[0],\n\t\t    geomFact = arguments[1];\n\t\tthis._geomFact = geomFact;\n\t\tthis.extract(_geoms);\n\t}\n}\nextend(UnaryUnionOp.prototype, {\n\tunionNoOpt: function unionNoOpt(g0) {\n\t\tvar empty = this._geomFact.createPoint();\n\t\treturn SnapIfNeededOverlayOp.overlayOp(g0, empty, OverlayOp.UNION);\n\t},\n\tunionWithNull: function unionWithNull(g0, g1) {\n\t\tif (g0 === null && g1 === null) return null;\n\t\tif (g1 === null) return g0;\n\t\tif (g0 === null) return g1;\n\t\treturn g0.union(g1);\n\t},\n\textract: function extract() {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tvar geoms = arguments[0];\n\t\t\tfor (var i = geoms.iterator(); i.hasNext();) {\n\t\t\t\tvar geom = i.next();\n\t\t\t\tthis.extract(geom);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tvar _geom = arguments[0];\n\t\t\tif (this._geomFact === null) this._geomFact = _geom.getFactory();\n\t\t\tGeometryExtracter.extract(_geom, Geometry.TYPENAME_POLYGON, this._polygons);\n\t\t\tGeometryExtracter.extract(_geom, Geometry.TYPENAME_LINESTRING, this._lines);\n\t\t\tGeometryExtracter.extract(_geom, Geometry.TYPENAME_POINT, this._points);\n\t\t}\n\t},\n\tunion: function union() {\n\t\tif (this._geomFact === null) {\n\t\t\treturn null;\n\t\t}\n\t\tvar unionPoints = null;\n\t\tif (this._points.size() > 0) {\n\t\t\tvar ptGeom = this._geomFact.buildGeometry(this._points);\n\t\t\tunionPoints = this.unionNoOpt(ptGeom);\n\t\t}\n\t\tvar unionLines = null;\n\t\tif (this._lines.size() > 0) {\n\t\t\tvar lineGeom = this._geomFact.buildGeometry(this._lines);\n\t\t\tunionLines = this.unionNoOpt(lineGeom);\n\t\t}\n\t\tvar unionPolygons = null;\n\t\tif (this._polygons.size() > 0) {\n\t\t\tunionPolygons = CascadedPolygonUnion.union(this._polygons);\n\t\t}\n\t\tvar unionLA = this.unionWithNull(unionLines, unionPolygons);\n\t\tvar union = null;\n\t\tif (unionPoints === null) union = unionLA;else if (unionLA === null) union = unionPoints;else union = PointGeometryUnion.union(unionPoints, unionLA);\n\t\tif (union === null) return this._geomFact.createGeometryCollection();\n\t\treturn union;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn UnaryUnionOp;\n\t}\n});\nUnaryUnionOp.union = function () {\n\tif (arguments.length === 1) {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tvar geoms = arguments[0];\n\t\t\tvar op = new UnaryUnionOp(geoms);\n\t\t\treturn op.union();\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tvar geom = arguments[0];\n\t\t\tvar op = new UnaryUnionOp(geom);\n\t\t\treturn op.union();\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tvar _geoms2 = arguments[0],\n\t\t    geomFact = arguments[1];\n\t\tvar op = new UnaryUnionOp(_geoms2, geomFact);\n\t\treturn op.union();\n\t}\n};\n\n\n\nvar union = Object.freeze({\n\tUnaryUnionOp: UnaryUnionOp\n});\n\nfunction ConnectedInteriorTester() {\n\tthis._geometryFactory = new GeometryFactory();\n\tthis._geomGraph = null;\n\tthis._disconnectedRingcoord = null;\n\tvar geomGraph = arguments[0];\n\tthis._geomGraph = geomGraph;\n}\nextend(ConnectedInteriorTester.prototype, {\n\tvisitInteriorRing: function visitInteriorRing(ring, graph) {\n\t\tvar pts = ring.getCoordinates();\n\t\tvar pt0 = pts[0];\n\t\tvar pt1 = ConnectedInteriorTester.findDifferentPoint(pts, pt0);\n\t\tvar e = graph.findEdgeInSameDirection(pt0, pt1);\n\t\tvar de = graph.findEdgeEnd(e);\n\t\tvar intDe = null;\n\t\tif (de.getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n\t\t\tintDe = de;\n\t\t} else if (de.getSym().getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n\t\t\tintDe = de.getSym();\n\t\t}\n\t\tAssert.isTrue(intDe !== null, \"unable to find dirEdge with Interior on RHS\");\n\t\tthis.visitLinkedDirectedEdges(intDe);\n\t},\n\tvisitShellInteriors: function visitShellInteriors(g, graph) {\n\t\tif (g instanceof Polygon) {\n\t\t\tvar p = g;\n\t\t\tthis.visitInteriorRing(p.getExteriorRing(), graph);\n\t\t}\n\t\tif (g instanceof MultiPolygon) {\n\t\t\tvar mp = g;\n\t\t\tfor (var i = 0; i < mp.getNumGeometries(); i++) {\n\t\t\t\tvar p = mp.getGeometryN(i);\n\t\t\t\tthis.visitInteriorRing(p.getExteriorRing(), graph);\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._disconnectedRingcoord;\n\t},\n\tsetInteriorEdgesInResult: function setInteriorEdgesInResult(graph) {\n\t\tfor (var it = graph.getEdgeEnds().iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n\t\t\t\tde.setInResult(true);\n\t\t\t}\n\t\t}\n\t},\n\tvisitLinkedDirectedEdges: function visitLinkedDirectedEdges(start) {\n\t\tvar startDe = start;\n\t\tvar de = start;\n\t\tdo {\n\t\t\tAssert.isTrue(de !== null, \"found null Directed Edge\");\n\t\t\tde.setVisited(true);\n\t\t\tde = de.getNext();\n\t\t} while (de !== startDe);\n\t},\n\tbuildEdgeRings: function buildEdgeRings(dirEdges) {\n\t\tvar edgeRings = new ArrayList();\n\t\tfor (var it = dirEdges.iterator(); it.hasNext();) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.isInResult() && de.getEdgeRing() === null) {\n\t\t\t\tvar er = new MaximalEdgeRing(de, this._geometryFactory);\n\t\t\t\ter.linkDirectedEdgesForMinimalEdgeRings();\n\t\t\t\tvar minEdgeRings = er.buildMinimalRings();\n\t\t\t\tedgeRings.addAll(minEdgeRings);\n\t\t\t}\n\t\t}\n\t\treturn edgeRings;\n\t},\n\thasUnvisitedShellEdge: function hasUnvisitedShellEdge(edgeRings) {\n\t\tfor (var i = 0; i < edgeRings.size(); i++) {\n\t\t\tvar er = edgeRings.get(i);\n\t\t\tif (er.isHole()) continue;\n\t\t\tvar edges = er.getEdges();\n\t\t\tvar de = edges.get(0);\n\t\t\tif (de.getLabel().getLocation(0, Position.RIGHT) !== Location.INTERIOR) continue;\n\t\t\tfor (var j = 0; j < edges.size(); j++) {\n\t\t\t\tde = edges.get(j);\n\t\t\t\tif (!de.isVisited()) {\n\t\t\t\t\tthis._disconnectedRingcoord = de.getCoordinate();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tisInteriorsConnected: function isInteriorsConnected() {\n\t\tvar splitEdges = new ArrayList();\n\t\tthis._geomGraph.computeSplitEdges(splitEdges);\n\t\tvar graph = new PlanarGraph(new OverlayNodeFactory());\n\t\tgraph.addEdges(splitEdges);\n\t\tthis.setInteriorEdgesInResult(graph);\n\t\tgraph.linkResultDirectedEdges();\n\t\tvar edgeRings = this.buildEdgeRings(graph.getEdgeEnds());\n\t\tthis.visitShellInteriors(this._geomGraph.getGeometry(), graph);\n\t\treturn !this.hasUnvisitedShellEdge(edgeRings);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ConnectedInteriorTester;\n\t}\n});\nConnectedInteriorTester.findDifferentPoint = function (coord, pt) {\n\tfor (var i = 0; i < coord.length; i++) {\n\t\tif (!coord[i].equals(pt)) return coord[i];\n\t}\n\treturn null;\n};\n\nfunction RelateNodeGraph() {\n\tthis._nodes = new NodeMap(new RelateNodeFactory());\n}\nextend(RelateNodeGraph.prototype, {\n\tinsertEdgeEnds: function insertEdgeEnds(ee) {\n\t\tfor (var i = ee.iterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\tthis._nodes.add(e);\n\t\t}\n\t},\n\tgetNodeIterator: function getNodeIterator() {\n\t\treturn this._nodes.iterator();\n\t},\n\tcopyNodesAndLabels: function copyNodesAndLabels(geomGraph, argIndex) {\n\t\tfor (var nodeIt = geomGraph.getNodeIterator(); nodeIt.hasNext();) {\n\t\t\tvar graphNode = nodeIt.next();\n\t\t\tvar newNode = this._nodes.addNode(graphNode.getCoordinate());\n\t\t\tnewNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n\t\t}\n\t},\n\tbuild: function build(geomGraph) {\n\t\tthis.computeIntersectionNodes(geomGraph, 0);\n\t\tthis.copyNodesAndLabels(geomGraph, 0);\n\t\tvar eeBuilder = new EdgeEndBuilder();\n\t\tvar eeList = eeBuilder.computeEdgeEnds(geomGraph.getEdgeIterator());\n\t\tthis.insertEdgeEnds(eeList);\n\t},\n\tcomputeIntersectionNodes: function computeIntersectionNodes(geomGraph, argIndex) {\n\t\tfor (var edgeIt = geomGraph.getEdgeIterator(); edgeIt.hasNext();) {\n\t\t\tvar e = edgeIt.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext();) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tvar n = this._nodes.addNode(ei.coord);\n\t\t\t\tif (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex);else {\n\t\t\t\t\tif (n.getLabel().isNull(argIndex)) n.setLabel(argIndex, Location.INTERIOR);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn RelateNodeGraph;\n\t}\n});\n\nfunction ConsistentAreaTester() {\n\tthis._li = new RobustLineIntersector();\n\tthis._geomGraph = null;\n\tthis._nodeGraph = new RelateNodeGraph();\n\tthis._invalidPoint = null;\n\tvar geomGraph = arguments[0];\n\tthis._geomGraph = geomGraph;\n}\nextend(ConsistentAreaTester.prototype, {\n\tisNodeEdgeAreaLabelsConsistent: function isNodeEdgeAreaLabelsConsistent() {\n\t\tfor (var nodeIt = this._nodeGraph.getNodeIterator(); nodeIt.hasNext();) {\n\t\t\tvar node = nodeIt.next();\n\t\t\tif (!node.getEdges().isAreaLabelsConsistent(this._geomGraph)) {\n\t\t\t\tthis._invalidPoint = node.getCoordinate().copy();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tgetInvalidPoint: function getInvalidPoint() {\n\t\treturn this._invalidPoint;\n\t},\n\thasDuplicateRings: function hasDuplicateRings() {\n\t\tfor (var nodeIt = this._nodeGraph.getNodeIterator(); nodeIt.hasNext();) {\n\t\t\tvar node = nodeIt.next();\n\t\t\tfor (var i = node.getEdges().iterator(); i.hasNext();) {\n\t\t\t\tvar eeb = i.next();\n\t\t\t\tif (eeb.getEdgeEnds().size() > 1) {\n\t\t\t\t\tthis._invalidPoint = eeb.getEdge().getCoordinate(0);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tisNodeConsistentArea: function isNodeConsistentArea() {\n\t\tvar intersector = this._geomGraph.computeSelfNodes(this._li, true, true);\n\t\tif (intersector.hasProperIntersection()) {\n\t\t\tthis._invalidPoint = intersector.getProperIntersectionPoint();\n\t\t\treturn false;\n\t\t}\n\t\tthis._nodeGraph.build(this._geomGraph);\n\t\treturn this.isNodeEdgeAreaLabelsConsistent();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ConsistentAreaTester;\n\t}\n});\n\nfunction IndexedNestedRingTester() {\n\tthis._graph = null;\n\tthis._rings = new ArrayList();\n\tthis._totalEnv = new Envelope();\n\tthis._index = null;\n\tthis._nestedPt = null;\n\tvar graph = arguments[0];\n\tthis._graph = graph;\n}\nextend(IndexedNestedRingTester.prototype, {\n\tbuildIndex: function buildIndex() {\n\t\tthis._index = new STRtree();\n\t\tfor (var i = 0; i < this._rings.size(); i++) {\n\t\t\tvar ring = this._rings.get(i);\n\t\t\tvar env = ring.getEnvelopeInternal();\n\t\t\tthis._index.insert(env, ring);\n\t\t}\n\t},\n\tgetNestedPoint: function getNestedPoint() {\n\t\treturn this._nestedPt;\n\t},\n\tisNonNested: function isNonNested() {\n\t\tthis.buildIndex();\n\t\tfor (var i = 0; i < this._rings.size(); i++) {\n\t\t\tvar innerRing = this._rings.get(i);\n\t\t\tvar innerRingPts = innerRing.getCoordinates();\n\t\t\tvar results = this._index.query(innerRing.getEnvelopeInternal());\n\t\t\tfor (var j = 0; j < results.size(); j++) {\n\t\t\t\tvar searchRing = results.get(j);\n\t\t\t\tvar searchRingPts = searchRing.getCoordinates();\n\t\t\t\tif (innerRing === searchRing) continue;\n\t\t\t\tif (!innerRing.getEnvelopeInternal().intersects(searchRing.getEnvelopeInternal())) continue;\n\t\t\t\tvar innerRingPt = IsValidOp.findPtNotNode(innerRingPts, searchRing, this._graph);\n\t\t\t\tif (innerRingPt === null) continue;\n\t\t\t\tvar isInside = PointLocation.isInRing(innerRingPt, searchRingPts);\n\t\t\t\tif (isInside) {\n\t\t\t\t\tthis._nestedPt = innerRingPt;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tadd: function add(ring) {\n\t\tthis._rings.add(ring);\n\t\tthis._totalEnv.expandToInclude(ring.getEnvelopeInternal());\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IndexedNestedRingTester;\n\t}\n});\n\nfunction TopologyValidationError() {\n\tthis._errorType = null;\n\tthis._pt = null;\n\tif (arguments.length === 1) {\n\t\tvar errorType = arguments[0];\n\t\tTopologyValidationError.call(this, errorType, null);\n\t} else if (arguments.length === 2) {\n\t\tvar _errorType = arguments[0],\n\t\t    pt = arguments[1];\n\t\tthis._errorType = _errorType;\n\t\tif (pt !== null) this._pt = pt.copy();\n\t}\n}\nextend(TopologyValidationError.prototype, {\n\tgetErrorType: function getErrorType() {\n\t\treturn this._errorType;\n\t},\n\tgetMessage: function getMessage() {\n\t\treturn TopologyValidationError.errMsg[this._errorType];\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._pt;\n\t},\n\ttoString: function toString() {\n\t\tvar locStr = \"\";\n\t\tif (this._pt !== null) locStr = \" at or near point \" + this._pt;\n\t\treturn this.getMessage() + locStr;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TopologyValidationError;\n\t}\n});\nTopologyValidationError.ERROR = 0;\nTopologyValidationError.REPEATED_POINT = 1;\nTopologyValidationError.HOLE_OUTSIDE_SHELL = 2;\nTopologyValidationError.NESTED_HOLES = 3;\nTopologyValidationError.DISCONNECTED_INTERIOR = 4;\nTopologyValidationError.SELF_INTERSECTION = 5;\nTopologyValidationError.RING_SELF_INTERSECTION = 6;\nTopologyValidationError.NESTED_SHELLS = 7;\nTopologyValidationError.DUPLICATE_RINGS = 8;\nTopologyValidationError.TOO_FEW_POINTS = 9;\nTopologyValidationError.INVALID_COORDINATE = 10;\nTopologyValidationError.RING_NOT_CLOSED = 11;\nTopologyValidationError.errMsg = [\"Topology Validation Error\", \"Repeated Point\", \"Hole lies outside shell\", \"Holes are nested\", \"Interior is disconnected\", \"Self-intersection\", \"Ring Self-intersection\", \"Nested shells\", \"Duplicate Rings\", \"Too few distinct points in geometry component\", \"Invalid Coordinate\", \"Ring is not closed\"];\n\nfunction IsValidOp() {\n\tthis._parentGeometry = null;\n\tthis._isSelfTouchingRingFormingHoleValid = false;\n\tthis._validErr = null;\n\tvar parentGeometry = arguments[0];\n\tthis._parentGeometry = parentGeometry;\n}\nextend(IsValidOp.prototype, {\n\tcheckInvalidCoordinates: function checkInvalidCoordinates() {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tvar coords = arguments[0];\n\t\t\tfor (var i = 0; i < coords.length; i++) {\n\t\t\t\tif (!IsValidOp.isValid(coords[i])) {\n\t\t\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.INVALID_COORDINATE, coords[i]);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Polygon) {\n\t\t\tvar poly = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(poly.getExteriorRing().getCoordinates());\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\t\tthis.checkInvalidCoordinates(poly.getInteriorRingN(i).getCoordinates());\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t}\n\t},\n\tcheckHolesNotNested: function checkHolesNotNested(p, graph) {\n\t\tvar nestedTester = new IndexedNestedRingTester(graph);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar innerHole = p.getInteriorRingN(i);\n\t\t\tnestedTester.add(innerHole);\n\t\t}\n\t\tvar isNonNested = nestedTester.isNonNested();\n\t\tif (!isNonNested) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.NESTED_HOLES, nestedTester.getNestedPoint());\n\t\t}\n\t},\n\tcheckConsistentArea: function checkConsistentArea(graph) {\n\t\tvar cat = new ConsistentAreaTester(graph);\n\t\tvar isValidArea = cat.isNodeConsistentArea();\n\t\tif (!isValidArea) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.SELF_INTERSECTION, cat.getInvalidPoint());\n\t\t\treturn null;\n\t\t}\n\t\tif (cat.hasDuplicateRings()) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.DUPLICATE_RINGS, cat.getInvalidPoint());\n\t\t}\n\t},\n\tisValid: function isValid() {\n\t\tthis.checkValid(this._parentGeometry);\n\t\treturn this._validErr === null;\n\t},\n\tcheckShellInsideHole: function checkShellInsideHole(shell, hole, graph) {\n\t\tvar shellPts = shell.getCoordinates();\n\t\tvar holePts = hole.getCoordinates();\n\t\tvar shellPt = IsValidOp.findPtNotNode(shellPts, hole, graph);\n\t\tif (shellPt !== null) {\n\t\t\tvar insideHole = PointLocation.isInRing(shellPt, holePts);\n\t\t\tif (!insideHole) {\n\t\t\t\treturn shellPt;\n\t\t\t}\n\t\t}\n\t\tvar holePt = IsValidOp.findPtNotNode(holePts, shell, graph);\n\t\tif (holePt !== null) {\n\t\t\tvar insideShell = PointLocation.isInRing(holePt, shellPts);\n\t\t\tif (insideShell) {\n\t\t\t\treturn holePt;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"points in shell and hole appear to be equal\");\n\t\treturn null;\n\t},\n\tcheckNoSelfIntersectingRings: function checkNoSelfIntersectingRings(graph) {\n\t\tfor (var i = graph.getEdgeIterator(); i.hasNext();) {\n\t\t\tvar e = i.next();\n\t\t\tthis.checkNoSelfIntersectingRing(e.getEdgeIntersectionList());\n\t\t\tif (this._validErr !== null) return null;\n\t\t}\n\t},\n\tcheckConnectedInteriors: function checkConnectedInteriors(graph) {\n\t\tvar cit = new ConnectedInteriorTester(graph);\n\t\tif (!cit.isInteriorsConnected()) this._validErr = new TopologyValidationError(TopologyValidationError.DISCONNECTED_INTERIOR, cit.getCoordinate());\n\t},\n\tcheckNoSelfIntersectingRing: function checkNoSelfIntersectingRing(eiList) {\n\t\tvar nodeSet = new TreeSet();\n\t\tvar isFirst = true;\n\t\tfor (var i = eiList.iterator(); i.hasNext();) {\n\t\t\tvar ei = i.next();\n\t\t\tif (isFirst) {\n\t\t\t\tisFirst = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (nodeSet.contains(ei.coord)) {\n\t\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.RING_SELF_INTERSECTION, ei.coord);\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\tnodeSet.add(ei.coord);\n\t\t\t}\n\t\t}\n\t},\n\tcheckHolesInShell: function checkHolesInShell(p, graph) {\n\t\tvar shell = p.getExteriorRing();\n\t\tvar pir = new IndexedPointInAreaLocator(shell);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tvar holePt = IsValidOp.findPtNotNode(hole.getCoordinates(), shell, graph);\n\t\t\tif (holePt === null) return null;\n\t\t\tvar outside = Location.EXTERIOR === pir.locate(holePt);\n\t\t\tif (outside) {\n\t\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.HOLE_OUTSIDE_SHELL, holePt);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tcheckTooFewPoints: function checkTooFewPoints(graph) {\n\t\tif (graph.hasTooFewPoints()) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.TOO_FEW_POINTS, graph.getInvalidPoint());\n\t\t\treturn null;\n\t\t}\n\t},\n\tgetValidationError: function getValidationError() {\n\t\tthis.checkValid(this._parentGeometry);\n\t\treturn this._validErr;\n\t},\n\tcheckValid: function checkValid() {\n\t\tif (arguments[0] instanceof Point) {\n\t\t\tvar _g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(_g.getCoordinates());\n\t\t} else if (arguments[0] instanceof MultiPoint) {\n\t\t\tvar _g2 = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(_g2.getCoordinates());\n\t\t} else if (arguments[0] instanceof LinearRing) {\n\t\t\tvar _g3 = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(_g3.getCoordinates());\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkClosedRing(_g3);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar graph = new GeometryGraph(0, _g3);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar li = new RobustLineIntersector();\n\t\t\tgraph.computeSelfNodes(li, true, true);\n\t\t\tthis.checkNoSelfIntersectingRings(graph);\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tvar _g4 = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(_g4.getCoordinates());\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar graph = new GeometryGraph(0, _g4);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t} else if (arguments[0] instanceof Polygon) {\n\t\t\tvar _g5 = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(_g5);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkClosedRings(_g5);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar graph = new GeometryGraph(0, _g5);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConsistentArea(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tif (!this._isSelfTouchingRingFormingHoleValid) {\n\t\t\t\tthis.checkNoSelfIntersectingRings(graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tthis.checkHolesInShell(_g5, graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkHolesNotNested(_g5, graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConnectedInteriors(graph);\n\t\t} else if (arguments[0] instanceof MultiPolygon) {\n\t\t\tvar _g6 = arguments[0];\n\t\t\tfor (var i = 0; i < _g6.getNumGeometries(); i++) {\n\t\t\t\tvar p = _g6.getGeometryN(i);\n\t\t\t\tthis.checkInvalidCoordinates(p);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t\tthis.checkClosedRings(p);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tvar graph = new GeometryGraph(0, _g6);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConsistentArea(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tif (!this._isSelfTouchingRingFormingHoleValid) {\n\t\t\t\tthis.checkNoSelfIntersectingRings(graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tfor (var i = 0; i < _g6.getNumGeometries(); i++) {\n\t\t\t\tvar p = _g6.getGeometryN(i);\n\t\t\t\tthis.checkHolesInShell(p, graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tfor (var i = 0; i < _g6.getNumGeometries(); i++) {\n\t\t\t\tvar p = _g6.getGeometryN(i);\n\t\t\t\tthis.checkHolesNotNested(p, graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tthis.checkShellsNotNested(_g6, graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConnectedInteriors(graph);\n\t\t} else if (arguments[0] instanceof GeometryCollection) {\n\t\t\tvar gc = arguments[0];\n\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\tvar g = gc.getGeometryN(i);\n\t\t\t\tthis.checkValid(g);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tvar _g7 = arguments[0];\n\t\t\tthis._validErr = null;\n\t\t\tif (_g7.isEmpty()) return null;\n\t\t\tif (_g7 instanceof Point) this.checkValid(_g7);else if (_g7 instanceof MultiPoint) this.checkValid(_g7);else if (_g7 instanceof LinearRing) this.checkValid(_g7);else if (_g7 instanceof LineString) this.checkValid(_g7);else if (_g7 instanceof Polygon) this.checkValid(_g7);else if (_g7 instanceof MultiPolygon) this.checkValid(_g7);else if (_g7 instanceof GeometryCollection) this.checkValid(_g7);else throw new UnsupportedOperationException(_g7.getClass().getName());\n\t\t}\n\t},\n\tsetSelfTouchingRingFormingHoleValid: function setSelfTouchingRingFormingHoleValid(isValid) {\n\t\tthis._isSelfTouchingRingFormingHoleValid = isValid;\n\t},\n\tcheckShellNotNested: function checkShellNotNested(shell, p, graph) {\n\t\tvar shellPts = shell.getCoordinates();\n\t\tvar polyShell = p.getExteriorRing();\n\t\tvar polyPts = polyShell.getCoordinates();\n\t\tvar shellPt = IsValidOp.findPtNotNode(shellPts, polyShell, graph);\n\t\tif (shellPt === null) return null;\n\t\tvar insidePolyShell = PointLocation.isInRing(shellPt, polyPts);\n\t\tif (!insidePolyShell) return null;\n\t\tif (p.getNumInteriorRing() <= 0) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.NESTED_SHELLS, shellPt);\n\t\t\treturn null;\n\t\t}\n\t\tvar badNestedPt = null;\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tbadNestedPt = this.checkShellInsideHole(shell, hole, graph);\n\t\t\tif (badNestedPt === null) return null;\n\t\t}\n\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.NESTED_SHELLS, badNestedPt);\n\t},\n\tcheckClosedRings: function checkClosedRings(poly) {\n\t\tthis.checkClosedRing(poly.getExteriorRing());\n\t\tif (this._validErr !== null) return null;\n\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\tthis.checkClosedRing(poly.getInteriorRingN(i));\n\t\t\tif (this._validErr !== null) return null;\n\t\t}\n\t},\n\tcheckClosedRing: function checkClosedRing(ring) {\n\t\tif (!ring.isClosed()) {\n\t\t\tvar pt = null;\n\t\t\tif (ring.getNumPoints() >= 1) pt = ring.getCoordinateN(0);\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.RING_NOT_CLOSED, pt);\n\t\t}\n\t},\n\tcheckShellsNotNested: function checkShellsNotNested(mp, graph) {\n\t\tfor (var i = 0; i < mp.getNumGeometries(); i++) {\n\t\t\tvar p = mp.getGeometryN(i);\n\t\t\tvar shell = p.getExteriorRing();\n\t\t\tfor (var j = 0; j < mp.getNumGeometries(); j++) {\n\t\t\t\tif (i === j) continue;\n\t\t\t\tvar p2 = mp.getGeometryN(j);\n\t\t\t\tthis.checkShellNotNested(shell, p2, graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IsValidOp;\n\t}\n});\nIsValidOp.findPtNotNode = function (testCoords, searchRing, graph) {\n\tvar searchEdge = graph.findEdge(searchRing);\n\tvar eiList = searchEdge.getEdgeIntersectionList();\n\tfor (var i = 0; i < testCoords.length; i++) {\n\t\tvar pt = testCoords[i];\n\t\tif (!eiList.isIntersection(pt)) return pt;\n\t}\n\treturn null;\n};\nIsValidOp.isValid = function () {\n\tif (arguments[0] instanceof Geometry) {\n\t\tvar geom = arguments[0];\n\t\tvar isValidOp = new IsValidOp(geom);\n\t\treturn isValidOp.isValid();\n\t} else if (arguments[0] instanceof Coordinate) {\n\t\tvar coord = arguments[0];\n\t\tif (Double.isNaN(coord.x)) return false;\n\t\tif (Double.isInfinite(coord.x)) return false;\n\t\tif (Double.isNaN(coord.y)) return false;\n\t\tif (Double.isInfinite(coord.y)) return false;\n\t\treturn true;\n\t}\n};\n\n\n\nvar valid = Object.freeze({\n\tIsValidOp: IsValidOp,\n\tConsistentAreaTester: ConsistentAreaTester\n});\n\n\n\nvar operation = Object.freeze({\n\tBoundaryOp: BoundaryOp,\n\tIsSimpleOp: IsSimpleOp,\n\tbuffer: buffer,\n\tdistance: distance,\n\tlinemerge: linemerge,\n\toverlay: overlay,\n\tpolygonize: polygonize,\n\trelate: relate,\n\tunion: union,\n\tvalid: valid\n});\n\nfunction PrecisionReducerCoordinateOperation() {\n\tGeometryEditor.CoordinateOperation.apply(this);\n\tthis._targetPM = null;\n\tthis._removeCollapsed = true;\n\tvar targetPM = arguments[0],\n\t    removeCollapsed = arguments[1];\n\tthis._targetPM = targetPM;\n\tthis._removeCollapsed = removeCollapsed;\n}\ninherits(PrecisionReducerCoordinateOperation, GeometryEditor.CoordinateOperation);\nextend(PrecisionReducerCoordinateOperation.prototype, {\n\tedit: function edit() {\n\t\tif (arguments.length === 2 && arguments[1] instanceof Geometry && arguments[0] instanceof Array) {\n\t\t\tvar coordinates = arguments[0],\n\t\t\t    geom = arguments[1];\n\t\t\tif (coordinates.length === 0) return null;\n\t\t\tvar reducedCoords = new Array(coordinates.length).fill(null);\n\t\t\tfor (var i = 0; i < coordinates.length; i++) {\n\t\t\t\tvar coord = new Coordinate(coordinates[i]);\n\t\t\t\tthis._targetPM.makePrecise(coord);\n\t\t\t\treducedCoords[i] = coord;\n\t\t\t}\n\t\t\tvar noRepeatedCoordList = new CoordinateList(reducedCoords, false);\n\t\t\tvar noRepeatedCoords = noRepeatedCoordList.toCoordinateArray();\n\t\t\tvar minLength = 0;\n\t\t\tif (geom instanceof LineString) minLength = 2;\n\t\t\tif (geom instanceof LinearRing) minLength = 4;\n\t\t\tvar collapsedCoords = reducedCoords;\n\t\t\tif (this._removeCollapsed) collapsedCoords = null;\n\t\t\tif (noRepeatedCoords.length < minLength) {\n\t\t\t\treturn collapsedCoords;\n\t\t\t}\n\t\t\treturn noRepeatedCoords;\n\t\t} else return GeometryEditor.CoordinateOperation.prototype.edit.apply(this, arguments);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn PrecisionReducerCoordinateOperation;\n\t}\n});\n\nfunction GeometryPrecisionReducer() {\n\tthis._targetPM = null;\n\tthis._removeCollapsed = true;\n\tthis._changePrecisionModel = false;\n\tthis._isPointwise = false;\n\tvar pm = arguments[0];\n\tthis._targetPM = pm;\n}\nextend(GeometryPrecisionReducer.prototype, {\n\tfixPolygonalTopology: function fixPolygonalTopology(geom) {\n\t\tvar geomToBuffer = geom;\n\t\tif (!this._changePrecisionModel) {\n\t\t\tgeomToBuffer = this.changePM(geom, this._targetPM);\n\t\t}\n\t\tvar bufGeom = BufferOp.bufferOp(geomToBuffer, 0);\n\t\tvar finalGeom = bufGeom;\n\t\tif (!this._changePrecisionModel) {\n\t\t\tfinalGeom = bufGeom.copy();\n\t\t\tthis.changePM(finalGeom, geom.getPrecisionModel());\n\t\t}\n\t\treturn finalGeom;\n\t},\n\treducePointwise: function reducePointwise(geom) {\n\t\tvar geomEdit = null;\n\t\tif (this._changePrecisionModel) {\n\t\t\tvar newFactory = this.createFactory(geom.getFactory(), this._targetPM);\n\t\t\tgeomEdit = new GeometryEditor(newFactory);\n\t\t} else geomEdit = new GeometryEditor();\n\t\tvar finalRemoveCollapsed = this._removeCollapsed;\n\t\tif (geom.getDimension() >= 2) finalRemoveCollapsed = true;\n\t\tvar reduceGeom = geomEdit.edit(geom, new PrecisionReducerCoordinateOperation(this._targetPM, finalRemoveCollapsed));\n\t\treturn reduceGeom;\n\t},\n\tchangePM: function changePM(geom, newPM) {\n\t\tvar geomEditor = this.createEditor(geom.getFactory(), newPM);\n\t\treturn geomEditor.edit(geom, new GeometryEditor.NoOpGeometryOperation());\n\t},\n\tsetRemoveCollapsedComponents: function setRemoveCollapsedComponents(removeCollapsed) {\n\t\tthis._removeCollapsed = removeCollapsed;\n\t},\n\tcreateFactory: function createFactory(inputFactory, pm) {\n\t\tvar newFactory = new GeometryFactory(pm, inputFactory.getSRID(), inputFactory.getCoordinateSequenceFactory());\n\t\treturn newFactory;\n\t},\n\tsetChangePrecisionModel: function setChangePrecisionModel(changePrecisionModel) {\n\t\tthis._changePrecisionModel = changePrecisionModel;\n\t},\n\treduce: function reduce(geom) {\n\t\tvar reducePW = this.reducePointwise(geom);\n\t\tif (this._isPointwise) return reducePW;\n\t\tif (!hasInterface(reducePW, Polygonal)) return reducePW;\n\t\tif (IsValidOp.isValid(reducePW)) return reducePW;\n\t\treturn this.fixPolygonalTopology(reducePW);\n\t},\n\tsetPointwise: function setPointwise(isPointwise) {\n\t\tthis._isPointwise = isPointwise;\n\t},\n\tcreateEditor: function createEditor(geomFactory, newPM) {\n\t\tif (geomFactory.getPrecisionModel() === newPM) return new GeometryEditor();\n\t\tvar newFactory = this.createFactory(geomFactory, newPM);\n\t\tvar geomEdit = new GeometryEditor(newFactory);\n\t\treturn geomEdit;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn GeometryPrecisionReducer;\n\t}\n});\nGeometryPrecisionReducer.reduce = function (g, precModel) {\n\tvar reducer = new GeometryPrecisionReducer(precModel);\n\treturn reducer.reduce(g);\n};\nGeometryPrecisionReducer.reducePointwise = function (g, precModel) {\n\tvar reducer = new GeometryPrecisionReducer(precModel);\n\treducer.setPointwise(true);\n\treturn reducer.reduce(g);\n};\n\n\n\nvar precision = Object.freeze({\n\tGeometryPrecisionReducer: GeometryPrecisionReducer\n});\n\nfunction DouglasPeuckerLineSimplifier() {\n\tthis._pts = null;\n\tthis._usePt = null;\n\tthis._distanceTolerance = null;\n\tthis._seg = new LineSegment();\n\tvar pts = arguments[0];\n\tthis._pts = pts;\n}\nextend(DouglasPeuckerLineSimplifier.prototype, {\n\tsimplifySection: function simplifySection(i, j) {\n\t\tif (i + 1 === j) {\n\t\t\treturn null;\n\t\t}\n\t\tthis._seg.p0 = this._pts[i];\n\t\tthis._seg.p1 = this._pts[j];\n\t\tvar maxDistance = -1.0;\n\t\tvar maxIndex = i;\n\t\tfor (var k = i + 1; k < j; k++) {\n\t\t\tvar distance = this._seg.distance(this._pts[k]);\n\t\t\tif (distance > maxDistance) {\n\t\t\t\tmaxDistance = distance;\n\t\t\t\tmaxIndex = k;\n\t\t\t}\n\t\t}\n\t\tif (maxDistance <= this._distanceTolerance) {\n\t\t\tfor (var k = i + 1; k < j; k++) {\n\t\t\t\tthis._usePt[k] = false;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.simplifySection(i, maxIndex);\n\t\t\tthis.simplifySection(maxIndex, j);\n\t\t}\n\t},\n\tsetDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n\t\tthis._distanceTolerance = distanceTolerance;\n\t},\n\tsimplify: function simplify() {\n\t\tthis._usePt = new Array(this._pts.length).fill(null);\n\t\tfor (var i = 0; i < this._pts.length; i++) {\n\t\t\tthis._usePt[i] = true;\n\t\t}\n\t\tthis.simplifySection(0, this._pts.length - 1);\n\t\tvar coordList = new CoordinateList();\n\t\tfor (var i = 0; i < this._pts.length; i++) {\n\t\t\tif (this._usePt[i]) coordList.add(new Coordinate(this._pts[i]));\n\t\t}\n\t\treturn coordList.toCoordinateArray();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DouglasPeuckerLineSimplifier;\n\t}\n});\nDouglasPeuckerLineSimplifier.simplify = function (pts, distanceTolerance) {\n\tvar simp = new DouglasPeuckerLineSimplifier(pts);\n\tsimp.setDistanceTolerance(distanceTolerance);\n\treturn simp.simplify();\n};\n\nfunction DouglasPeuckerSimplifier() {\n\tthis._inputGeom = null;\n\tthis._distanceTolerance = null;\n\tthis._isEnsureValidTopology = true;\n\tvar inputGeom = arguments[0];\n\tthis._inputGeom = inputGeom;\n}\nextend(DouglasPeuckerSimplifier.prototype, {\n\tsetEnsureValid: function setEnsureValid(isEnsureValidTopology) {\n\t\tthis._isEnsureValidTopology = isEnsureValidTopology;\n\t},\n\tgetResultGeometry: function getResultGeometry() {\n\t\tif (this._inputGeom.isEmpty()) return this._inputGeom.copy();\n\t\treturn new DPTransformer(this._isEnsureValidTopology, this._distanceTolerance).transform(this._inputGeom);\n\t},\n\tsetDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n\t\tif (distanceTolerance < 0.0) throw new IllegalArgumentException(\"Tolerance must be non-negative\");\n\t\tthis._distanceTolerance = distanceTolerance;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DouglasPeuckerSimplifier;\n\t}\n});\nDouglasPeuckerSimplifier.simplify = function (geom, distanceTolerance) {\n\tvar tss = new DouglasPeuckerSimplifier(geom);\n\ttss.setDistanceTolerance(distanceTolerance);\n\treturn tss.getResultGeometry();\n};\nfunction DPTransformer() {\n\tGeometryTransformer.apply(this);\n\tthis._isEnsureValidTopology = true;\n\tthis._distanceTolerance = null;\n\tvar isEnsureValidTopology = arguments[0],\n\t    distanceTolerance = arguments[1];\n\tthis._isEnsureValidTopology = isEnsureValidTopology;\n\tthis._distanceTolerance = distanceTolerance;\n}\ninherits(DPTransformer, GeometryTransformer);\nextend(DPTransformer.prototype, {\n\ttransformPolygon: function transformPolygon(geom, parent) {\n\t\tif (geom.isEmpty()) return null;\n\t\tvar rawGeom = GeometryTransformer.prototype.transformPolygon.call(this, geom, parent);\n\t\tif (parent instanceof MultiPolygon) {\n\t\t\treturn rawGeom;\n\t\t}\n\t\treturn this.createValidArea(rawGeom);\n\t},\n\tcreateValidArea: function createValidArea(rawAreaGeom) {\n\t\tif (this._isEnsureValidTopology) return rawAreaGeom.buffer(0.0);\n\t\treturn rawAreaGeom;\n\t},\n\ttransformCoordinates: function transformCoordinates(coords, parent) {\n\t\tvar inputPts = coords.toCoordinateArray();\n\t\tvar newPts = null;\n\t\tif (inputPts.length === 0) {\n\t\t\tnewPts = new Array(0).fill(null);\n\t\t} else {\n\t\t\tnewPts = DouglasPeuckerLineSimplifier.simplify(inputPts, this._distanceTolerance);\n\t\t}\n\t\treturn this._factory.getCoordinateSequenceFactory().create(newPts);\n\t},\n\ttransformMultiPolygon: function transformMultiPolygon(geom, parent) {\n\t\tvar rawGeom = GeometryTransformer.prototype.transformMultiPolygon.call(this, geom, parent);\n\t\treturn this.createValidArea(rawGeom);\n\t},\n\ttransformLinearRing: function transformLinearRing(geom, parent) {\n\t\tvar removeDegenerateRings = parent instanceof Polygon;\n\t\tvar simpResult = GeometryTransformer.prototype.transformLinearRing.call(this, geom, parent);\n\t\tif (removeDegenerateRings && !(simpResult instanceof LinearRing)) return null;\n\t\t\n\t\treturn simpResult;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DPTransformer;\n\t}\n});\nDouglasPeuckerSimplifier.DPTransformer = DPTransformer;\n\nfunction TaggedLineSegment() {\n\tthis._parent = null;\n\tthis._index = null;\n\tif (arguments.length === 2) {\n\t\tvar p0 = arguments[0],\n\t\t    p1 = arguments[1];\n\t\tTaggedLineSegment.call(this, p0, p1, null, -1);\n\t} else if (arguments.length === 4) {\n\t\tvar _p = arguments[0],\n\t\t    _p2 = arguments[1],\n\t\t    parent = arguments[2],\n\t\t    index = arguments[3];\n\t\tLineSegment.call(this, _p, _p2);\n\t\tthis._parent = parent;\n\t\tthis._index = index;\n\t}\n}\ninherits(TaggedLineSegment, LineSegment);\nextend(TaggedLineSegment.prototype, {\n\tgetIndex: function getIndex() {\n\t\treturn this._index;\n\t},\n\tgetParent: function getParent() {\n\t\treturn this._parent;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TaggedLineSegment;\n\t}\n});\n\nfunction TaggedLineString() {\n\tthis._parentLine = null;\n\tthis._segs = null;\n\tthis._resultSegs = new ArrayList();\n\tthis._minimumSize = null;\n\tif (arguments.length === 1) {\n\t\tvar parentLine = arguments[0];\n\t\tTaggedLineString.call(this, parentLine, 2);\n\t} else if (arguments.length === 2) {\n\t\tvar _parentLine = arguments[0],\n\t\t    minimumSize = arguments[1];\n\t\tthis._parentLine = _parentLine;\n\t\tthis._minimumSize = minimumSize;\n\t\tthis.init();\n\t}\n}\nextend(TaggedLineString.prototype, {\n\taddToResult: function addToResult(seg) {\n\t\tthis._resultSegs.add(seg);\n\t},\n\tasLineString: function asLineString() {\n\t\treturn this._parentLine.getFactory().createLineString(TaggedLineString.extractCoordinates(this._resultSegs));\n\t},\n\tgetResultSize: function getResultSize() {\n\t\tvar resultSegsSize = this._resultSegs.size();\n\t\treturn resultSegsSize === 0 ? 0 : resultSegsSize + 1;\n\t},\n\tgetParent: function getParent() {\n\t\treturn this._parentLine;\n\t},\n\tgetSegment: function getSegment(i) {\n\t\treturn this._segs[i];\n\t},\n\tgetParentCoordinates: function getParentCoordinates() {\n\t\treturn this._parentLine.getCoordinates();\n\t},\n\tgetMinimumSize: function getMinimumSize() {\n\t\treturn this._minimumSize;\n\t},\n\tasLinearRing: function asLinearRing() {\n\t\treturn this._parentLine.getFactory().createLinearRing(TaggedLineString.extractCoordinates(this._resultSegs));\n\t},\n\tgetSegments: function getSegments() {\n\t\treturn this._segs;\n\t},\n\tinit: function init() {\n\t\tvar pts = this._parentLine.getCoordinates();\n\t\tthis._segs = new Array(pts.length - 1).fill(null);\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tvar seg = new TaggedLineSegment(pts[i], pts[i + 1], this._parentLine, i);\n\t\t\tthis._segs[i] = seg;\n\t\t}\n\t},\n\tgetResultCoordinates: function getResultCoordinates() {\n\t\treturn TaggedLineString.extractCoordinates(this._resultSegs);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TaggedLineString;\n\t}\n});\nTaggedLineString.extractCoordinates = function (segs) {\n\tvar pts = new Array(segs.size() + 1).fill(null);\n\tvar seg = null;\n\tfor (var i = 0; i < segs.size(); i++) {\n\t\tseg = segs.get(i);\n\t\tpts[i] = seg.p0;\n\t}\n\tpts[pts.length - 1] = seg.p1;\n\treturn pts;\n};\n\nfunction LineSegmentIndex() {\n\tthis._index = new Quadtree();\n}\nextend(LineSegmentIndex.prototype, {\n\tremove: function remove(seg) {\n\t\tthis._index.remove(new Envelope(seg.p0, seg.p1), seg);\n\t},\n\tadd: function add() {\n\t\tif (arguments[0] instanceof TaggedLineString) {\n\t\t\tvar line = arguments[0];\n\t\t\tvar segs = line.getSegments();\n\t\t\tfor (var i = 0; i < segs.length; i++) {\n\t\t\t\tvar seg = segs[i];\n\t\t\t\tthis.add(seg);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineSegment) {\n\t\t\tvar _seg = arguments[0];\n\t\t\tthis._index.insert(new Envelope(_seg.p0, _seg.p1), _seg);\n\t\t}\n\t},\n\tquery: function query(querySeg) {\n\t\tvar env = new Envelope(querySeg.p0, querySeg.p1);\n\t\tvar visitor = new LineSegmentVisitor(querySeg);\n\t\tthis._index.query(env, visitor);\n\t\tvar itemsFound = visitor.getItems();\n\t\treturn itemsFound;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineSegmentIndex;\n\t}\n});\nfunction LineSegmentVisitor() {\n\tthis._querySeg = null;\n\tthis._items = new ArrayList();\n\tvar querySeg = arguments[0];\n\tthis._querySeg = querySeg;\n}\nextend(LineSegmentVisitor.prototype, {\n\tvisitItem: function visitItem(item) {\n\t\tvar seg = item;\n\t\tif (Envelope.intersects(seg.p0, seg.p1, this._querySeg.p0, this._querySeg.p1)) this._items.add(item);\n\t},\n\tgetItems: function getItems() {\n\t\treturn this._items;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [ItemVisitor];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineSegmentVisitor;\n\t}\n});\n\nfunction TaggedLineStringSimplifier() {\n\tthis._li = new RobustLineIntersector();\n\tthis._inputIndex = new LineSegmentIndex();\n\tthis._outputIndex = new LineSegmentIndex();\n\tthis._line = null;\n\tthis._linePts = null;\n\tthis._distanceTolerance = 0.0;\n\tvar inputIndex = arguments[0],\n\t    outputIndex = arguments[1];\n\tthis._inputIndex = inputIndex;\n\tthis._outputIndex = outputIndex;\n}\nextend(TaggedLineStringSimplifier.prototype, {\n\tflatten: function flatten(start, end) {\n\t\tvar p0 = this._linePts[start];\n\t\tvar p1 = this._linePts[end];\n\t\tvar newSeg = new LineSegment(p0, p1);\n\t\tthis.remove(this._line, start, end);\n\t\tthis._outputIndex.add(newSeg);\n\t\treturn newSeg;\n\t},\n\thasBadIntersection: function hasBadIntersection(parentLine, sectionIndex, candidateSeg) {\n\t\tif (this.hasBadOutputIntersection(candidateSeg)) return true;\n\t\tif (this.hasBadInputIntersection(parentLine, sectionIndex, candidateSeg)) return true;\n\t\treturn false;\n\t},\n\tsetDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n\t\tthis._distanceTolerance = distanceTolerance;\n\t},\n\tsimplifySection: function simplifySection(i, j, depth) {\n\t\tdepth += 1;\n\t\tvar sectionIndex = new Array(2).fill(null);\n\t\tif (i + 1 === j) {\n\t\t\tvar newSeg = this._line.getSegment(i);\n\t\t\tthis._line.addToResult(newSeg);\n\t\t\treturn null;\n\t\t}\n\t\tvar isValidToSimplify = true;\n\t\tif (this._line.getResultSize() < this._line.getMinimumSize()) {\n\t\t\tvar worstCaseSize = depth + 1;\n\t\t\tif (worstCaseSize < this._line.getMinimumSize()) isValidToSimplify = false;\n\t\t}\n\t\tvar distance = new Array(1).fill(null);\n\t\tvar furthestPtIndex = this.findFurthestPoint(this._linePts, i, j, distance);\n\t\tif (distance[0] > this._distanceTolerance) isValidToSimplify = false;\n\t\tvar candidateSeg = new LineSegment();\n\t\tcandidateSeg.p0 = this._linePts[i];\n\t\tcandidateSeg.p1 = this._linePts[j];\n\t\tsectionIndex[0] = i;\n\t\tsectionIndex[1] = j;\n\t\tif (this.hasBadIntersection(this._line, sectionIndex, candidateSeg)) isValidToSimplify = false;\n\t\tif (isValidToSimplify) {\n\t\t\tvar newSeg = this.flatten(i, j);\n\t\t\tthis._line.addToResult(newSeg);\n\t\t\treturn null;\n\t\t}\n\t\tthis.simplifySection(i, furthestPtIndex, depth);\n\t\tthis.simplifySection(furthestPtIndex, j, depth);\n\t},\n\thasBadOutputIntersection: function hasBadOutputIntersection(candidateSeg) {\n\t\tvar querySegs = this._outputIndex.query(candidateSeg);\n\t\tfor (var i = querySegs.iterator(); i.hasNext();) {\n\t\t\tvar querySeg = i.next();\n\t\t\tif (this.hasInteriorIntersection(querySeg, candidateSeg)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tfindFurthestPoint: function findFurthestPoint(pts, i, j, maxDistance) {\n\t\tvar seg = new LineSegment();\n\t\tseg.p0 = pts[i];\n\t\tseg.p1 = pts[j];\n\t\tvar maxDist = -1.0;\n\t\tvar maxIndex = i;\n\t\tfor (var k = i + 1; k < j; k++) {\n\t\t\tvar midPt = pts[k];\n\t\t\tvar distance = seg.distance(midPt);\n\t\t\tif (distance > maxDist) {\n\t\t\t\tmaxDist = distance;\n\t\t\t\tmaxIndex = k;\n\t\t\t}\n\t\t}\n\t\tmaxDistance[0] = maxDist;\n\t\treturn maxIndex;\n\t},\n\tsimplify: function simplify(line) {\n\t\tthis._line = line;\n\t\tthis._linePts = line.getParentCoordinates();\n\t\tthis.simplifySection(0, this._linePts.length - 1, 0);\n\t},\n\tremove: function remove(line, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar seg = line.getSegment(i);\n\t\t\tthis._inputIndex.remove(seg);\n\t\t}\n\t},\n\thasInteriorIntersection: function hasInteriorIntersection(seg0, seg1) {\n\t\tthis._li.computeIntersection(seg0.p0, seg0.p1, seg1.p0, seg1.p1);\n\t\treturn this._li.isInteriorIntersection();\n\t},\n\thasBadInputIntersection: function hasBadInputIntersection(parentLine, sectionIndex, candidateSeg) {\n\t\tvar querySegs = this._inputIndex.query(candidateSeg);\n\t\tfor (var i = querySegs.iterator(); i.hasNext();) {\n\t\t\tvar querySeg = i.next();\n\t\t\tif (this.hasInteriorIntersection(querySeg, candidateSeg)) {\n\t\t\t\tif (TaggedLineStringSimplifier.isInLineSection(parentLine, sectionIndex, querySeg)) continue;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TaggedLineStringSimplifier;\n\t}\n});\nTaggedLineStringSimplifier.isInLineSection = function (line, sectionIndex, seg) {\n\tif (seg.getParent() !== line.getParent()) return false;\n\tvar segIndex = seg.getIndex();\n\tif (segIndex >= sectionIndex[0] && segIndex < sectionIndex[1]) return true;\n\treturn false;\n};\n\nfunction TaggedLinesSimplifier() {\n\tthis._inputIndex = new LineSegmentIndex();\n\tthis._outputIndex = new LineSegmentIndex();\n\tthis._distanceTolerance = 0.0;\n}\nextend(TaggedLinesSimplifier.prototype, {\n\tsetDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n\t\tthis._distanceTolerance = distanceTolerance;\n\t},\n\tsimplify: function simplify(taggedLines) {\n\t\tfor (var i = taggedLines.iterator(); i.hasNext();) {\n\t\t\tthis._inputIndex.add(i.next());\n\t\t}\n\t\tfor (var i = taggedLines.iterator(); i.hasNext();) {\n\t\t\tvar tlss = new TaggedLineStringSimplifier(this._inputIndex, this._outputIndex);\n\t\t\ttlss.setDistanceTolerance(this._distanceTolerance);\n\t\t\ttlss.simplify(i.next());\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TaggedLinesSimplifier;\n\t}\n});\n\nfunction TopologyPreservingSimplifier() {\n\tthis._inputGeom = null;\n\tthis._lineSimplifier = new TaggedLinesSimplifier();\n\tthis._linestringMap = null;\n\tvar inputGeom = arguments[0];\n\tthis._inputGeom = inputGeom;\n}\nextend(TopologyPreservingSimplifier.prototype, {\n\tgetResultGeometry: function getResultGeometry() {\n\t\tif (this._inputGeom.isEmpty()) return this._inputGeom.copy();\n\t\tthis._linestringMap = new HashMap();\n\t\tthis._inputGeom.apply(new LineStringMapBuilderFilter(this));\n\t\tthis._lineSimplifier.simplify(this._linestringMap.values());\n\t\tvar result = new LineStringTransformer(this._linestringMap).transform(this._inputGeom);\n\t\treturn result;\n\t},\n\tsetDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n\t\tif (distanceTolerance < 0.0) throw new IllegalArgumentException(\"Tolerance must be non-negative\");\n\t\tthis._lineSimplifier.setDistanceTolerance(distanceTolerance);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TopologyPreservingSimplifier;\n\t}\n});\nTopologyPreservingSimplifier.simplify = function (geom, distanceTolerance) {\n\tvar tss = new TopologyPreservingSimplifier(geom);\n\ttss.setDistanceTolerance(distanceTolerance);\n\treturn tss.getResultGeometry();\n};\nfunction LineStringTransformer() {\n\tGeometryTransformer.apply(this);\n\tthis._linestringMap = null;\n\tvar linestringMap = arguments[0];\n\tthis._linestringMap = linestringMap;\n}\ninherits(LineStringTransformer, GeometryTransformer);\nextend(LineStringTransformer.prototype, {\n\ttransformCoordinates: function transformCoordinates(coords, parent) {\n\t\tif (coords.size() === 0) return null;\n\t\tif (parent instanceof LineString) {\n\t\t\tvar taggedLine = this._linestringMap.get(parent);\n\t\t\treturn this.createCoordinateSequence(taggedLine.getResultCoordinates());\n\t\t}\n\t\treturn GeometryTransformer.prototype.transformCoordinates.call(this, coords, parent);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineStringTransformer;\n\t}\n});\nfunction LineStringMapBuilderFilter() {\n\tthis.tps = null;\n\tvar tps = arguments[0];\n\tthis.tps = tps;\n}\nextend(LineStringMapBuilderFilter.prototype, {\n\tfilter: function filter(geom) {\n\t\tif (geom instanceof LineString) {\n\t\t\tvar line = geom;\n\t\t\tif (line.isEmpty()) return null;\n\t\t\tvar minSize = line.isClosed() ? 4 : 2;\n\t\t\tvar taggedLine = new TaggedLineString(line, minSize);\n\t\t\tthis.tps._linestringMap.put(line, taggedLine);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [GeometryComponentFilter];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LineStringMapBuilderFilter;\n\t}\n});\nTopologyPreservingSimplifier.LineStringTransformer = LineStringTransformer;\nTopologyPreservingSimplifier.LineStringMapBuilderFilter = LineStringMapBuilderFilter;\n\n\n\nvar simplify = Object.freeze({\n\tDouglasPeuckerSimplifier: DouglasPeuckerSimplifier,\n\tTopologyPreservingSimplifier: TopologyPreservingSimplifier\n});\n\nfunction SplitSegment() {\n\tthis._seg = null;\n\tthis._segLen = null;\n\tthis._splitPt = null;\n\tthis._minimumLen = 0.0;\n\tvar seg = arguments[0];\n\tthis._seg = seg;\n\tthis._segLen = seg.getLength();\n}\nextend(SplitSegment.prototype, {\n\tsplitAt: function splitAt() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar pt = arguments[0];\n\t\t\tvar minFrac = this._minimumLen / this._segLen;\n\t\t\tif (pt.distance(this._seg.p0) < this._minimumLen) {\n\t\t\t\tthis._splitPt = this._seg.pointAlong(minFrac);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (pt.distance(this._seg.p1) < this._minimumLen) {\n\t\t\t\tthis._splitPt = SplitSegment.pointAlongReverse(this._seg, minFrac);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._splitPt = pt;\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar length = arguments[0],\n\t\t\t    endPt = arguments[1];\n\t\t\tvar actualLen = this.getConstrainedLength(length);\n\t\t\tvar frac = actualLen / this._segLen;\n\t\t\tif (endPt.equals2D(this._seg.p0)) this._splitPt = this._seg.pointAlong(frac);else this._splitPt = SplitSegment.pointAlongReverse(this._seg, frac);\n\t\t}\n\t},\n\tsetMinimumLength: function setMinimumLength(minLen) {\n\t\tthis._minimumLen = minLen;\n\t},\n\tgetConstrainedLength: function getConstrainedLength(len) {\n\t\tif (len < this._minimumLen) return this._minimumLen;\n\t\treturn len;\n\t},\n\tgetSplitPoint: function getSplitPoint() {\n\t\treturn this._splitPt;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn SplitSegment;\n\t}\n});\nSplitSegment.pointAlongReverse = function (seg, segmentLengthFraction) {\n\tvar coord = new Coordinate();\n\tcoord.x = seg.p1.x - segmentLengthFraction * (seg.p1.x - seg.p0.x);\n\tcoord.y = seg.p1.y - segmentLengthFraction * (seg.p1.y - seg.p0.y);\n\treturn coord;\n};\n\nfunction ConstraintSplitPointFinder() {}\nextend(ConstraintSplitPointFinder.prototype, {\n\tfindSplitPoint: function findSplitPoint(seg, encroachPt) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ConstraintSplitPointFinder;\n\t}\n});\n\nfunction NonEncroachingSplitPointFinder() {}\nextend(NonEncroachingSplitPointFinder.prototype, {\n\tfindSplitPoint: function findSplitPoint(seg, encroachPt) {\n\t\tvar lineSeg = seg.getLineSegment();\n\t\tvar segLen = lineSeg.getLength();\n\t\tvar midPtLen = segLen / 2;\n\t\tvar splitSeg = new SplitSegment(lineSeg);\n\t\tvar projPt = NonEncroachingSplitPointFinder.projectedSplitPoint(seg, encroachPt);\n\t\tvar nonEncroachDiam = projPt.distance(encroachPt) * 2 * 0.8;\n\t\tvar maxSplitLen = nonEncroachDiam;\n\t\tif (maxSplitLen > midPtLen) {\n\t\t\tmaxSplitLen = midPtLen;\n\t\t}\n\t\tsplitSeg.setMinimumLength(maxSplitLen);\n\t\tsplitSeg.splitAt(projPt);\n\t\treturn splitSeg.getSplitPoint();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [ConstraintSplitPointFinder];\n\t},\n\tgetClass: function getClass() {\n\t\treturn NonEncroachingSplitPointFinder;\n\t}\n});\nNonEncroachingSplitPointFinder.projectedSplitPoint = function (seg, encroachPt) {\n\tvar lineSeg = seg.getLineSegment();\n\tvar projPt = lineSeg.project(encroachPt);\n\treturn projPt;\n};\n\nfunction TrianglePredicate() {}\nextend(TrianglePredicate.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TrianglePredicate;\n\t}\n});\nTrianglePredicate.triArea = function (a, b, c) {\n\treturn (b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x);\n};\nTrianglePredicate.isInCircleDDNormalized = function (a, b, c, p) {\n\tvar adx = DD.valueOf(a.x).selfSubtract(p.x);\n\tvar ady = DD.valueOf(a.y).selfSubtract(p.y);\n\tvar bdx = DD.valueOf(b.x).selfSubtract(p.x);\n\tvar bdy = DD.valueOf(b.y).selfSubtract(p.y);\n\tvar cdx = DD.valueOf(c.x).selfSubtract(p.x);\n\tvar cdy = DD.valueOf(c.y).selfSubtract(p.y);\n\tvar abdet = adx.multiply(bdy).selfSubtract(bdx.multiply(ady));\n\tvar bcdet = bdx.multiply(cdy).selfSubtract(cdx.multiply(bdy));\n\tvar cadet = cdx.multiply(ady).selfSubtract(adx.multiply(cdy));\n\tvar alift = adx.multiply(adx).selfAdd(ady.multiply(ady));\n\tvar blift = bdx.multiply(bdx).selfAdd(bdy.multiply(bdy));\n\tvar clift = cdx.multiply(cdx).selfAdd(cdy.multiply(cdy));\n\tvar sum = alift.selfMultiply(bcdet).selfAdd(blift.selfMultiply(cadet)).selfAdd(clift.selfMultiply(abdet));\n\tvar isInCircle = sum.doubleValue() > 0;\n\treturn isInCircle;\n};\nTrianglePredicate.checkRobustInCircle = function (a, b, c, p) {\n\tvar nonRobustInCircle = TrianglePredicate.isInCircleNonRobust(a, b, c, p);\n\tvar isInCircleDD = TrianglePredicate.isInCircleDDSlow(a, b, c, p);\n\tvar isInCircleCC = TrianglePredicate.isInCircleCC(a, b, c, p);\n\tvar circumCentre = Triangle.circumcentre(a, b, c);\n\tSystem.out.println(\"p radius diff a = \" + Math.abs(p.distance(circumCentre) - a.distance(circumCentre)) / a.distance(circumCentre));\n\tif (nonRobustInCircle !== isInCircleDD || nonRobustInCircle !== isInCircleCC) {\n\t\tSystem.out.println(\"inCircle robustness failure (double result = \" + nonRobustInCircle + \", DD result = \" + isInCircleDD + \", CC result = \" + isInCircleCC + \")\");\n\t\tSystem.out.println(WKTWriter.toLineString(new CoordinateArraySequence([a, b, c, p])));\n\t\tSystem.out.println(\"Circumcentre = \" + WKTWriter.toPoint(circumCentre) + \" radius = \" + a.distance(circumCentre));\n\t\tSystem.out.println(\"p radius diff a = \" + Math.abs(p.distance(circumCentre) / a.distance(circumCentre) - 1));\n\t\tSystem.out.println(\"p radius diff b = \" + Math.abs(p.distance(circumCentre) / b.distance(circumCentre) - 1));\n\t\tSystem.out.println(\"p radius diff c = \" + Math.abs(p.distance(circumCentre) / c.distance(circumCentre) - 1));\n\t\tSystem.out.println();\n\t}\n};\nTrianglePredicate.isInCircleDDFast = function (a, b, c, p) {\n\tvar aTerm = DD.sqr(a.x).selfAdd(DD.sqr(a.y)).selfMultiply(TrianglePredicate.triAreaDDFast(b, c, p));\n\tvar bTerm = DD.sqr(b.x).selfAdd(DD.sqr(b.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, c, p));\n\tvar cTerm = DD.sqr(c.x).selfAdd(DD.sqr(c.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, b, p));\n\tvar pTerm = DD.sqr(p.x).selfAdd(DD.sqr(p.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, b, c));\n\tvar sum = aTerm.selfSubtract(bTerm).selfAdd(cTerm).selfSubtract(pTerm);\n\tvar isInCircle = sum.doubleValue() > 0;\n\treturn isInCircle;\n};\nTrianglePredicate.isInCircleCC = function (a, b, c, p) {\n\tvar cc = Triangle.circumcentre(a, b, c);\n\tvar ccRadius = a.distance(cc);\n\tvar pRadiusDiff = p.distance(cc) - ccRadius;\n\treturn pRadiusDiff <= 0;\n};\nTrianglePredicate.isInCircleNormalized = function (a, b, c, p) {\n\tvar adx = a.x - p.x;\n\tvar ady = a.y - p.y;\n\tvar bdx = b.x - p.x;\n\tvar bdy = b.y - p.y;\n\tvar cdx = c.x - p.x;\n\tvar cdy = c.y - p.y;\n\tvar abdet = adx * bdy - bdx * ady;\n\tvar bcdet = bdx * cdy - cdx * bdy;\n\tvar cadet = cdx * ady - adx * cdy;\n\tvar alift = adx * adx + ady * ady;\n\tvar blift = bdx * bdx + bdy * bdy;\n\tvar clift = cdx * cdx + cdy * cdy;\n\tvar disc = alift * bcdet + blift * cadet + clift * abdet;\n\treturn disc > 0;\n};\nTrianglePredicate.isInCircleDDSlow = function (a, b, c, p) {\n\tvar px = DD.valueOf(p.x);\n\tvar py = DD.valueOf(p.y);\n\tvar ax = DD.valueOf(a.x);\n\tvar ay = DD.valueOf(a.y);\n\tvar bx = DD.valueOf(b.x);\n\tvar by = DD.valueOf(b.y);\n\tvar cx = DD.valueOf(c.x);\n\tvar cy = DD.valueOf(c.y);\n\tvar aTerm = ax.multiply(ax).add(ay.multiply(ay)).multiply(TrianglePredicate.triAreaDDSlow(bx, by, cx, cy, px, py));\n\tvar bTerm = bx.multiply(bx).add(by.multiply(by)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, cx, cy, px, py));\n\tvar cTerm = cx.multiply(cx).add(cy.multiply(cy)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, bx, by, px, py));\n\tvar pTerm = px.multiply(px).add(py.multiply(py)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, bx, by, cx, cy));\n\tvar sum = aTerm.subtract(bTerm).add(cTerm).subtract(pTerm);\n\tvar isInCircle = sum.doubleValue() > 0;\n\treturn isInCircle;\n};\nTrianglePredicate.isInCircleNonRobust = function (a, b, c, p) {\n\tvar isInCircle = (a.x * a.x + a.y * a.y) * TrianglePredicate.triArea(b, c, p) - (b.x * b.x + b.y * b.y) * TrianglePredicate.triArea(a, c, p) + (c.x * c.x + c.y * c.y) * TrianglePredicate.triArea(a, b, p) - (p.x * p.x + p.y * p.y) * TrianglePredicate.triArea(a, b, c) > 0;\n\treturn isInCircle;\n};\nTrianglePredicate.isInCircleRobust = function (a, b, c, p) {\n\treturn TrianglePredicate.isInCircleNormalized(a, b, c, p);\n};\nTrianglePredicate.triAreaDDSlow = function (ax, ay, bx, by, cx, cy) {\n\treturn bx.subtract(ax).multiply(cy.subtract(ay)).subtract(by.subtract(ay).multiply(cx.subtract(ax)));\n};\nTrianglePredicate.triAreaDDFast = function (a, b, c) {\n\tvar t1 = DD.valueOf(b.x).selfSubtract(a.x).selfMultiply(DD.valueOf(c.y).selfSubtract(a.y));\n\tvar t2 = DD.valueOf(b.y).selfSubtract(a.y).selfMultiply(DD.valueOf(c.x).selfSubtract(a.x));\n\treturn t1.selfSubtract(t2);\n};\n\nfunction Vertex() {\n\tthis._p = null;\n\tif (arguments.length === 1) {\n\t\tvar _p = arguments[0];\n\t\tthis._p = new Coordinate(_p);\n\t} else if (arguments.length === 2) {\n\t\tvar _x = arguments[0],\n\t\t    _y = arguments[1];\n\t\tthis._p = new Coordinate(_x, _y);\n\t} else if (arguments.length === 3) {\n\t\tvar _x2 = arguments[0],\n\t\t    _y2 = arguments[1],\n\t\t    _z = arguments[2];\n\t\tthis._p = new Coordinate(_x2, _y2, _z);\n\t}\n}\nextend(Vertex.prototype, {\n\tcircleCenter: function circleCenter(b, c) {\n\t\tvar a = new Vertex(this.getX(), this.getY());\n\t\tvar cab = this.bisector(a, b);\n\t\tvar cbc = this.bisector(b, c);\n\t\tvar hcc = new HCoordinate(cab, cbc);\n\t\tvar cc = null;\n\t\ttry {\n\t\t\tcc = new Vertex(hcc.getX(), hcc.getY());\n\t\t} catch (nre) {\n\t\t\tif (nre instanceof NotRepresentableException) {\n\t\t\t\tSystem.err.println(\"a: \" + a + \"  b: \" + b + \"  c: \" + c);\n\t\t\t\tSystem.err.println(nre);\n\t\t\t} else throw nre;\n\t\t} finally {}\n\t\treturn cc;\n\t},\n\tdot: function dot(v) {\n\t\treturn this._p.x * v.getX() + this._p.y * v.getY();\n\t},\n\tmagn: function magn() {\n\t\treturn Math.sqrt(this._p.x * this._p.x + this._p.y * this._p.y);\n\t},\n\tgetZ: function getZ() {\n\t\treturn this._p.z;\n\t},\n\tbisector: function bisector(a, b) {\n\t\tvar dx = b.getX() - a.getX();\n\t\tvar dy = b.getY() - a.getY();\n\t\tvar l1 = new HCoordinate(a.getX() + dx / 2.0, a.getY() + dy / 2.0, 1.0);\n\t\tvar l2 = new HCoordinate(a.getX() - dy + dx / 2.0, a.getY() + dx + dy / 2.0, 1.0);\n\t\treturn new HCoordinate(l1, l2);\n\t},\n\tequals: function equals() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar _x = arguments[0];\n\t\t\tif (this._p.x === _x.getX() && this._p.y === _x.getY()) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _x3 = arguments[0],\n\t\t\t    tolerance = arguments[1];\n\t\t\tif (this._p.distance(_x3.getCoordinate()) < tolerance) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinate: function getCoordinate() {\n\t\treturn this._p;\n\t},\n\tisInCircle: function isInCircle(a, b, c) {\n\t\treturn TrianglePredicate.isInCircleRobust(a._p, b._p, c._p, this._p);\n\t},\n\tinterpolateZValue: function interpolateZValue(v0, v1, v2) {\n\t\tvar x0 = v0.getX();\n\t\tvar y0 = v0.getY();\n\t\tvar a = v1.getX() - x0;\n\t\tvar b = v2.getX() - x0;\n\t\tvar c = v1.getY() - y0;\n\t\tvar d = v2.getY() - y0;\n\t\tvar det = a * d - b * c;\n\t\tvar dx = this.getX() - x0;\n\t\tvar dy = this.getY() - y0;\n\t\tvar t = (d * dx - b * dy) / det;\n\t\tvar u = (-c * dx + a * dy) / det;\n\t\tvar z = v0.getZ() + t * (v1.getZ() - v0.getZ()) + u * (v2.getZ() - v0.getZ());\n\t\treturn z;\n\t},\n\tmidPoint: function midPoint(a) {\n\t\tvar xm = (this._p.x + a.getX()) / 2.0;\n\t\tvar ym = (this._p.y + a.getY()) / 2.0;\n\t\tvar zm = (this._p.z + a.getZ()) / 2.0;\n\t\treturn new Vertex(xm, ym, zm);\n\t},\n\trightOf: function rightOf(e) {\n\t\treturn this.isCCW(e.dest(), e.orig());\n\t},\n\tisCCW: function isCCW(b, c) {\n\t\treturn (b._p.x - this._p.x) * (c._p.y - this._p.y) - (b._p.y - this._p.y) * (c._p.x - this._p.x) > 0;\n\t},\n\tgetX: function getX() {\n\t\treturn this._p.x;\n\t},\n\tcrossProduct: function crossProduct(v) {\n\t\treturn this._p.x * v.getY() - this._p.y * v.getX();\n\t},\n\tsetZ: function setZ(_z) {\n\t\tthis._p.z = _z;\n\t},\n\ttimes: function times(c) {\n\t\treturn new Vertex(c * this._p.x, c * this._p.y);\n\t},\n\tcross: function cross() {\n\t\treturn new Vertex(this._p.y, -this._p.x);\n\t},\n\tleftOf: function leftOf(e) {\n\t\treturn this.isCCW(e.orig(), e.dest());\n\t},\n\ttoString: function toString() {\n\t\treturn \"POINT (\" + this._p.x + \" \" + this._p.y + \")\";\n\t},\n\tsub: function sub(v) {\n\t\treturn new Vertex(this._p.x - v.getX(), this._p.y - v.getY());\n\t},\n\tgetY: function getY() {\n\t\treturn this._p.y;\n\t},\n\tclassify: function classify(p0, p1) {\n\t\tvar p2 = this;\n\t\tvar a = p1.sub(p0);\n\t\tvar b = p2.sub(p0);\n\t\tvar sa = a.crossProduct(b);\n\t\tif (sa > 0.0) return Vertex.LEFT;\n\t\tif (sa < 0.0) return Vertex.RIGHT;\n\t\tif (a.getX() * b.getX() < 0.0 || a.getY() * b.getY() < 0.0) return Vertex.BEHIND;\n\t\tif (a.magn() < b.magn()) return Vertex.BEYOND;\n\t\tif (p0.equals(p2)) return Vertex.ORIGIN;\n\t\tif (p1.equals(p2)) return Vertex.DESTINATION;\n\t\treturn Vertex.BETWEEN;\n\t},\n\tsum: function sum(v) {\n\t\treturn new Vertex(this._p.x + v.getX(), this._p.y + v.getY());\n\t},\n\tdistance: function distance(v1, v2) {\n\t\treturn Math.sqrt(Math.pow(v2.getX() - v1.getX(), 2.0) + Math.pow(v2.getY() - v1.getY(), 2.0));\n\t},\n\tcircumRadiusRatio: function circumRadiusRatio(b, c) {\n\t\tvar x = this.circleCenter(b, c);\n\t\tvar radius = this.distance(x, b);\n\t\tvar edgeLength = this.distance(this, b);\n\t\tvar el = this.distance(b, c);\n\t\tif (el < edgeLength) {\n\t\t\tedgeLength = el;\n\t\t}\n\t\tel = this.distance(c, this);\n\t\tif (el < edgeLength) {\n\t\t\tedgeLength = el;\n\t\t}\n\t\treturn radius / edgeLength;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Vertex;\n\t}\n});\nVertex.interpolateZ = function () {\n\tif (arguments.length === 3) {\n\t\tvar p = arguments[0],\n\t\t    p0 = arguments[1],\n\t\t    p1 = arguments[2];\n\t\tvar segLen = p0.distance(p1);\n\t\tvar ptLen = p.distance(p0);\n\t\tvar dz = p1.z - p0.z;\n\t\tvar pz = p0.z + dz * (ptLen / segLen);\n\t\treturn pz;\n\t} else if (arguments.length === 4) {\n\t\tvar _p2 = arguments[0],\n\t\t    v0 = arguments[1],\n\t\t    v1 = arguments[2],\n\t\t    v2 = arguments[3];\n\t\tvar x0 = v0.x;\n\t\tvar y0 = v0.y;\n\t\tvar a = v1.x - x0;\n\t\tvar b = v2.x - x0;\n\t\tvar c = v1.y - y0;\n\t\tvar d = v2.y - y0;\n\t\tvar det = a * d - b * c;\n\t\tvar dx = _p2.x - x0;\n\t\tvar dy = _p2.y - y0;\n\t\tvar t = (d * dx - b * dy) / det;\n\t\tvar u = (-c * dx + a * dy) / det;\n\t\tvar z = v0.z + t * (v1.z - v0.z) + u * (v2.z - v0.z);\n\t\treturn z;\n\t}\n};\nVertex.LEFT = 0;\nVertex.RIGHT = 1;\nVertex.BEYOND = 2;\nVertex.BEHIND = 3;\nVertex.BETWEEN = 4;\nVertex.ORIGIN = 5;\nVertex.DESTINATION = 6;\n\nfunction ConstraintVertex() {\n\tthis._isOnConstraint = null;\n\tthis._constraint = null;\n\tvar p = arguments[0];\n\tVertex.call(this, p);\n}\ninherits(ConstraintVertex, Vertex);\nextend(ConstraintVertex.prototype, {\n\tgetConstraint: function getConstraint() {\n\t\treturn this._constraint;\n\t},\n\tsetOnConstraint: function setOnConstraint(isOnConstraint) {\n\t\tthis._isOnConstraint = isOnConstraint;\n\t},\n\tmerge: function merge(other) {\n\t\tif (other._isOnConstraint) {\n\t\t\tthis._isOnConstraint = true;\n\t\t\tthis._constraint = other._constraint;\n\t\t}\n\t},\n\tisOnConstraint: function isOnConstraint() {\n\t\treturn this._isOnConstraint;\n\t},\n\tsetConstraint: function setConstraint(constraint) {\n\t\tthis._isOnConstraint = true;\n\t\tthis._constraint = constraint;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ConstraintVertex;\n\t}\n});\n\nfunction QuadEdge() {\n\tthis._rot = null;\n\tthis._vertex = null;\n\tthis._next = null;\n\tthis._data = null;\n}\nextend(QuadEdge.prototype, {\n\tequalsNonOriented: function equalsNonOriented(qe) {\n\t\tif (this.equalsOriented(qe)) return true;\n\t\tif (this.equalsOriented(qe.sym())) return true;\n\t\treturn false;\n\t},\n\ttoLineSegment: function toLineSegment() {\n\t\treturn new LineSegment(this._vertex.getCoordinate(), this.dest().getCoordinate());\n\t},\n\tdest: function dest() {\n\t\treturn this.sym().orig();\n\t},\n\toNext: function oNext() {\n\t\treturn this._next;\n\t},\n\tequalsOriented: function equalsOriented(qe) {\n\t\tif (this.orig().getCoordinate().equals2D(qe.orig().getCoordinate()) && this.dest().getCoordinate().equals2D(qe.dest().getCoordinate())) return true;\n\t\treturn false;\n\t},\n\tdNext: function dNext() {\n\t\treturn this.sym().oNext().sym();\n\t},\n\tlPrev: function lPrev() {\n\t\treturn this._next.sym();\n\t},\n\trPrev: function rPrev() {\n\t\treturn this.sym().oNext();\n\t},\n\trot: function rot() {\n\t\treturn this._rot;\n\t},\n\toPrev: function oPrev() {\n\t\treturn this._rot._next._rot;\n\t},\n\tsym: function sym() {\n\t\treturn this._rot._rot;\n\t},\n\tsetOrig: function setOrig(o) {\n\t\tthis._vertex = o;\n\t},\n\tlNext: function lNext() {\n\t\treturn this.invRot().oNext().rot();\n\t},\n\tgetLength: function getLength() {\n\t\treturn this.orig().getCoordinate().distance(this.dest().getCoordinate());\n\t},\n\tinvRot: function invRot() {\n\t\treturn this._rot.sym();\n\t},\n\tsetDest: function setDest(d) {\n\t\tthis.sym().setOrig(d);\n\t},\n\tsetData: function setData(data) {\n\t\tthis._data = data;\n\t},\n\tgetData: function getData() {\n\t\treturn this._data;\n\t},\n\tdelete: function _delete() {\n\t\tthis._rot = null;\n\t},\n\torig: function orig() {\n\t\treturn this._vertex;\n\t},\n\trNext: function rNext() {\n\t\treturn this._rot._next.invRot();\n\t},\n\ttoString: function toString() {\n\t\tvar p0 = this._vertex.getCoordinate();\n\t\tvar p1 = this.dest().getCoordinate();\n\t\treturn WKTWriter.toLineString(p0, p1);\n\t},\n\tisLive: function isLive() {\n\t\treturn this._rot !== null;\n\t},\n\tgetPrimary: function getPrimary() {\n\t\tif (this.orig().getCoordinate().compareTo(this.dest().getCoordinate()) <= 0) return this;else return this.sym();\n\t},\n\tdPrev: function dPrev() {\n\t\treturn this.invRot().oNext().invRot();\n\t},\n\tsetNext: function setNext(next) {\n\t\tthis._next = next;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn QuadEdge;\n\t}\n});\nQuadEdge.makeEdge = function (o, d) {\n\tvar q0 = new QuadEdge();\n\tvar q1 = new QuadEdge();\n\tvar q2 = new QuadEdge();\n\tvar q3 = new QuadEdge();\n\tq0._rot = q1;\n\tq1._rot = q2;\n\tq2._rot = q3;\n\tq3._rot = q0;\n\tq0.setNext(q0);\n\tq1.setNext(q3);\n\tq2.setNext(q2);\n\tq3.setNext(q1);\n\tvar base = q0;\n\tbase.setOrig(o);\n\tbase.setDest(d);\n\treturn base;\n};\nQuadEdge.swap = function (e) {\n\tvar a = e.oPrev();\n\tvar b = e.sym().oPrev();\n\tQuadEdge.splice(e, a);\n\tQuadEdge.splice(e.sym(), b);\n\tQuadEdge.splice(e, a.lNext());\n\tQuadEdge.splice(e.sym(), b.lNext());\n\te.setOrig(a.dest());\n\te.setDest(b.dest());\n};\nQuadEdge.splice = function (a, b) {\n\tvar alpha = a.oNext().rot();\n\tvar beta = b.oNext().rot();\n\tvar t1 = b.oNext();\n\tvar t2 = a.oNext();\n\tvar t3 = beta.oNext();\n\tvar t4 = alpha.oNext();\n\ta.setNext(t1);\n\tb.setNext(t2);\n\talpha.setNext(t3);\n\tbeta.setNext(t4);\n};\nQuadEdge.connect = function (a, b) {\n\tvar e = QuadEdge.makeEdge(a.dest(), b.orig());\n\tQuadEdge.splice(e, a.lNext());\n\tQuadEdge.splice(e.sym(), b);\n\treturn e;\n};\n\nfunction IncrementalDelaunayTriangulator() {\n\tthis._subdiv = null;\n\tthis._isUsingTolerance = false;\n\tvar subdiv = arguments[0];\n\tthis._subdiv = subdiv;\n\tthis._isUsingTolerance = subdiv.getTolerance() > 0.0;\n}\nextend(IncrementalDelaunayTriangulator.prototype, {\n\tinsertSite: function insertSite(v) {\n\t\tvar e = this._subdiv.locate(v);\n\t\tif (this._subdiv.isVertexOfEdge(e, v)) {\n\t\t\treturn e;\n\t\t} else if (this._subdiv.isOnEdge(e, v.getCoordinate())) {\n\t\t\te = e.oPrev();\n\t\t\tthis._subdiv.delete(e.oNext());\n\t\t}\n\t\tvar base = this._subdiv.makeEdge(e.orig(), v);\n\t\tQuadEdge.splice(base, e);\n\t\tvar startEdge = base;\n\t\tdo {\n\t\t\tbase = this._subdiv.connect(e, base.sym());\n\t\t\te = base.oPrev();\n\t\t} while (e.lNext() !== startEdge);\n\t\tdo {\n\t\t\tvar t = e.oPrev();\n\t\t\tif (t.dest().rightOf(e) && v.isInCircle(e.orig(), t.dest(), e.dest())) {\n\t\t\t\tQuadEdge.swap(e);\n\t\t\t\te = e.oPrev();\n\t\t\t} else if (e.oNext() === startEdge) {\n\t\t\t\treturn base;\n\t\t\t} else {\n\t\t\t\te = e.oNext().lPrev();\n\t\t\t}\n\t\t} while (true);\n\t},\n\tinsertSites: function insertSites(vertices) {\n\t\tfor (var i = vertices.iterator(); i.hasNext();) {\n\t\t\tvar v = i.next();\n\t\t\tthis.insertSite(v);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn IncrementalDelaunayTriangulator;\n\t}\n});\n\nfunction QuadEdgeLocator() {}\nextend(QuadEdgeLocator.prototype, {\n\tlocate: function locate(v) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn QuadEdgeLocator;\n\t}\n});\n\nfunction LastFoundQuadEdgeLocator() {\n\tthis._subdiv = null;\n\tthis._lastEdge = null;\n\tvar subdiv = arguments[0];\n\tthis._subdiv = subdiv;\n\tthis.init();\n}\nextend(LastFoundQuadEdgeLocator.prototype, {\n\tinit: function init() {\n\t\tthis._lastEdge = this.findEdge();\n\t},\n\tlocate: function locate(v) {\n\t\tif (!this._lastEdge.isLive()) {\n\t\t\tthis.init();\n\t\t}\n\t\tvar e = this._subdiv.locateFromEdge(v, this._lastEdge);\n\t\tthis._lastEdge = e;\n\t\treturn e;\n\t},\n\tfindEdge: function findEdge() {\n\t\tvar edges = this._subdiv.getEdges();\n\t\treturn edges.iterator().next();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [QuadEdgeLocator];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LastFoundQuadEdgeLocator;\n\t}\n});\n\nfunction LocateFailureException() {\n\tthis._seg = null;\n\tif (arguments.length === 1) {\n\t\tif (typeof arguments[0] === \"string\") {\n\t\t\tvar msg = arguments[0];\n\t\t\tRuntimeException.call(this, msg);\n\t\t} else if (arguments[0] instanceof LineSegment) {\n\t\t\tvar seg = arguments[0];\n\t\t\tRuntimeException.call(this, \"Locate failed to converge (at edge: \" + seg + \").  Possible causes include invalid Subdivision topology or very close sites\");\n\t\t\tthis._seg = new LineSegment(seg);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tvar _msg = arguments[0],\n\t\t    _seg = arguments[1];\n\t\tRuntimeException.call(this, LocateFailureException.msgWithSpatial(_msg, _seg));\n\t\tthis._seg = new LineSegment(_seg);\n\t}\n}\ninherits(LocateFailureException, RuntimeException);\nextend(LocateFailureException.prototype, {\n\tgetSegment: function getSegment() {\n\t\treturn this._seg;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LocateFailureException;\n\t}\n});\nLocateFailureException.msgWithSpatial = function (msg, seg) {\n\tif (seg !== null) return msg + \" [ \" + seg + \" ]\";\n\treturn msg;\n};\n\nfunction TriangleVisitor() {}\nextend(TriangleVisitor.prototype, {\n\tvisit: function visit(triEdges) {},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TriangleVisitor;\n\t}\n});\n\nfunction QuadEdgeSubdivision() {\n\tthis._visitedKey = 0;\n\tthis._quadEdges = new ArrayList();\n\tthis._startingEdge = null;\n\tthis._tolerance = null;\n\tthis._edgeCoincidenceTolerance = null;\n\tthis._frameVertex = new Array(3).fill(null);\n\tthis._frameEnv = null;\n\tthis._locator = null;\n\tthis._seg = new LineSegment();\n\tthis._triEdges = new Array(3).fill(null);\n\tvar env = arguments[0],\n\t    tolerance = arguments[1];\n\tthis._tolerance = tolerance;\n\tthis._edgeCoincidenceTolerance = tolerance / QuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR;\n\tthis.createFrame(env);\n\tthis._startingEdge = this.initSubdiv();\n\tthis._locator = new LastFoundQuadEdgeLocator(this);\n}\nextend(QuadEdgeSubdivision.prototype, {\n\tgetTriangleVertices: function getTriangleVertices(includeFrame) {\n\t\tvar visitor = new TriangleVertexListVisitor();\n\t\tthis.visitTriangles(visitor, includeFrame);\n\t\treturn visitor.getTriangleVertices();\n\t},\n\tisFrameVertex: function isFrameVertex(v) {\n\t\tif (v.equals(this._frameVertex[0])) return true;\n\t\tif (v.equals(this._frameVertex[1])) return true;\n\t\tif (v.equals(this._frameVertex[2])) return true;\n\t\treturn false;\n\t},\n\tisVertexOfEdge: function isVertexOfEdge(e, v) {\n\t\tif (v.equals(e.orig(), this._tolerance) || v.equals(e.dest(), this._tolerance)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tconnect: function connect(a, b) {\n\t\tvar q = QuadEdge.connect(a, b);\n\t\tthis._quadEdges.add(q);\n\t\treturn q;\n\t},\n\tgetVoronoiCellPolygon: function getVoronoiCellPolygon(qe, geomFact) {\n\t\tvar cellPts = new ArrayList();\n\t\tvar startQE = qe;\n\t\tdo {\n\t\t\tvar cc = qe.rot().orig().getCoordinate();\n\t\t\tcellPts.add(cc);\n\t\t\tqe = qe.oPrev();\n\t\t} while (qe !== startQE);\n\t\tvar coordList = new CoordinateList();\n\t\tcoordList.addAll(cellPts, false);\n\t\tcoordList.closeRing();\n\t\tif (coordList.size() < 4) {\n\t\t\tSystem.out.println(coordList);\n\t\t\tcoordList.add(coordList.get(coordList.size() - 1), true);\n\t\t}\n\t\tvar pts = coordList.toCoordinateArray();\n\t\tvar cellPoly = geomFact.createPolygon(geomFact.createLinearRing(pts));\n\t\tvar v = startQE.orig();\n\t\tcellPoly.setUserData(v.getCoordinate());\n\t\treturn cellPoly;\n\t},\n\tsetLocator: function setLocator(locator) {\n\t\tthis._locator = locator;\n\t},\n\tinitSubdiv: function initSubdiv() {\n\t\tvar ea = this.makeEdge(this._frameVertex[0], this._frameVertex[1]);\n\t\tvar eb = this.makeEdge(this._frameVertex[1], this._frameVertex[2]);\n\t\tQuadEdge.splice(ea.sym(), eb);\n\t\tvar ec = this.makeEdge(this._frameVertex[2], this._frameVertex[0]);\n\t\tQuadEdge.splice(eb.sym(), ec);\n\t\tQuadEdge.splice(ec.sym(), ea);\n\t\treturn ea;\n\t},\n\tisFrameBorderEdge: function isFrameBorderEdge(e) {\n\t\tvar leftTri = new Array(3).fill(null);\n\t\tQuadEdgeSubdivision.getTriangleEdges(e, leftTri);\n\t\tvar rightTri = new Array(3).fill(null);\n\t\tQuadEdgeSubdivision.getTriangleEdges(e.sym(), rightTri);\n\t\tvar vLeftTriOther = e.lNext().dest();\n\t\tif (this.isFrameVertex(vLeftTriOther)) return true;\n\t\tvar vRightTriOther = e.sym().lNext().dest();\n\t\tif (this.isFrameVertex(vRightTriOther)) return true;\n\t\treturn false;\n\t},\n\tmakeEdge: function makeEdge(o, d) {\n\t\tvar q = QuadEdge.makeEdge(o, d);\n\t\tthis._quadEdges.add(q);\n\t\treturn q;\n\t},\n\tvisitTriangles: function visitTriangles(triVisitor, includeFrame) {\n\t\tthis._visitedKey++;\n\t\tvar edgeStack = new Stack();\n\t\tedgeStack.push(this._startingEdge);\n\t\tvar visitedEdges = new HashSet();\n\t\twhile (!edgeStack.empty()) {\n\t\t\tvar edge = edgeStack.pop();\n\t\t\tif (!visitedEdges.contains(edge)) {\n\t\t\t\tvar triEdges = this.fetchTriangleToVisit(edge, edgeStack, includeFrame, visitedEdges);\n\t\t\t\tif (triEdges !== null) triVisitor.visit(triEdges);\n\t\t\t}\n\t\t}\n\t},\n\tisFrameEdge: function isFrameEdge(e) {\n\t\tif (this.isFrameVertex(e.orig()) || this.isFrameVertex(e.dest())) return true;\n\t\treturn false;\n\t},\n\tisOnEdge: function isOnEdge(e, p) {\n\t\tthis._seg.setCoordinates(e.orig().getCoordinate(), e.dest().getCoordinate());\n\t\tvar dist = this._seg.distance(p);\n\t\treturn dist < this._edgeCoincidenceTolerance;\n\t},\n\tgetEnvelope: function getEnvelope() {\n\t\treturn new Envelope(this._frameEnv);\n\t},\n\tcreateFrame: function createFrame(env) {\n\t\tvar deltaX = env.getWidth();\n\t\tvar deltaY = env.getHeight();\n\t\tvar offset = 0.0;\n\t\tif (deltaX > deltaY) {\n\t\t\toffset = deltaX * 10.0;\n\t\t} else {\n\t\t\toffset = deltaY * 10.0;\n\t\t}\n\t\tthis._frameVertex[0] = new Vertex((env.getMaxX() + env.getMinX()) / 2.0, env.getMaxY() + offset);\n\t\tthis._frameVertex[1] = new Vertex(env.getMinX() - offset, env.getMinY() - offset);\n\t\tthis._frameVertex[2] = new Vertex(env.getMaxX() + offset, env.getMinY() - offset);\n\t\tthis._frameEnv = new Envelope(this._frameVertex[0].getCoordinate(), this._frameVertex[1].getCoordinate());\n\t\tthis._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate());\n\t},\n\tgetTriangleCoordinates: function getTriangleCoordinates(includeFrame) {\n\t\tvar visitor = new TriangleCoordinatesVisitor();\n\t\tthis.visitTriangles(visitor, includeFrame);\n\t\treturn visitor.getTriangles();\n\t},\n\tgetVertices: function getVertices(includeFrame) {\n\t\tvar vertices = new HashSet();\n\t\tfor (var i = this._quadEdges.iterator(); i.hasNext();) {\n\t\t\tvar qe = i.next();\n\t\t\tvar v = qe.orig();\n\t\t\tif (includeFrame || !this.isFrameVertex(v)) vertices.add(v);\n\t\t\tvar vd = qe.dest();\n\t\t\tif (includeFrame || !this.isFrameVertex(vd)) vertices.add(vd);\n\t\t}\n\t\treturn vertices;\n\t},\n\tfetchTriangleToVisit: function fetchTriangleToVisit(edge, edgeStack, includeFrame, visitedEdges) {\n\t\tvar curr = edge;\n\t\tvar edgeCount = 0;\n\t\tvar isFrame = false;\n\t\tdo {\n\t\t\tthis._triEdges[edgeCount] = curr;\n\t\t\tif (this.isFrameEdge(curr)) isFrame = true;\n\t\t\tvar sym = curr.sym();\n\t\t\tif (!visitedEdges.contains(sym)) edgeStack.push(sym);\n\t\t\tvisitedEdges.add(curr);\n\t\t\tedgeCount++;\n\t\t\tcurr = curr.lNext();\n\t\t} while (curr !== edge);\n\t\tif (isFrame && !includeFrame) return null;\n\t\treturn this._triEdges;\n\t},\n\tgetEdges: function getEdges() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this._quadEdges;\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar geomFact = arguments[0];\n\t\t\tvar quadEdges = this.getPrimaryEdges(false);\n\t\t\tvar edges = new Array(quadEdges.size()).fill(null);\n\t\t\tvar i = 0;\n\t\t\tfor (var it = quadEdges.iterator(); it.hasNext();) {\n\t\t\t\tvar qe = it.next();\n\t\t\t\tedges[i++] = geomFact.createLineString([qe.orig().getCoordinate(), qe.dest().getCoordinate()]);\n\t\t\t}\n\t\t\treturn geomFact.createMultiLineString(edges);\n\t\t}\n\t},\n\tgetVertexUniqueEdges: function getVertexUniqueEdges(includeFrame) {\n\t\tvar edges = new ArrayList();\n\t\tvar visitedVertices = new HashSet();\n\t\tfor (var i = this._quadEdges.iterator(); i.hasNext();) {\n\t\t\tvar qe = i.next();\n\t\t\tvar v = qe.orig();\n\t\t\tif (!visitedVertices.contains(v)) {\n\t\t\t\tvisitedVertices.add(v);\n\t\t\t\tif (includeFrame || !this.isFrameVertex(v)) {\n\t\t\t\t\tedges.add(qe);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar qd = qe.sym();\n\t\t\tvar vd = qd.orig();\n\t\t\tif (!visitedVertices.contains(vd)) {\n\t\t\t\tvisitedVertices.add(vd);\n\t\t\t\tif (includeFrame || !this.isFrameVertex(vd)) {\n\t\t\t\t\tedges.add(qd);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn edges;\n\t},\n\tgetTriangleEdges: function getTriangleEdges(includeFrame) {\n\t\tvar visitor = new TriangleEdgesListVisitor();\n\t\tthis.visitTriangles(visitor, includeFrame);\n\t\treturn visitor.getTriangleEdges();\n\t},\n\tgetPrimaryEdges: function getPrimaryEdges(includeFrame) {\n\t\tthis._visitedKey++;\n\t\tvar edges = new ArrayList();\n\t\tvar edgeStack = new Stack();\n\t\tedgeStack.push(this._startingEdge);\n\t\tvar visitedEdges = new HashSet();\n\t\twhile (!edgeStack.empty()) {\n\t\t\tvar edge = edgeStack.pop();\n\t\t\tif (!visitedEdges.contains(edge)) {\n\t\t\t\tvar priQE = edge.getPrimary();\n\t\t\t\tif (includeFrame || !this.isFrameEdge(priQE)) edges.add(priQE);\n\t\t\t\tedgeStack.push(edge.oNext());\n\t\t\t\tedgeStack.push(edge.sym().oNext());\n\t\t\t\tvisitedEdges.add(edge);\n\t\t\t\tvisitedEdges.add(edge.sym());\n\t\t\t}\n\t\t}\n\t\treturn edges;\n\t},\n\tdelete: function _delete(e) {\n\t\tQuadEdge.splice(e, e.oPrev());\n\t\tQuadEdge.splice(e.sym(), e.sym().oPrev());\n\t\tvar eSym = e.sym();\n\t\tvar eRot = e.rot();\n\t\tvar eRotSym = e.rot().sym();\n\t\tthis._quadEdges.remove(e);\n\t\tthis._quadEdges.remove(eSym);\n\t\tthis._quadEdges.remove(eRot);\n\t\tthis._quadEdges.remove(eRotSym);\n\t\te.delete();\n\t\teSym.delete();\n\t\teRot.delete();\n\t\teRotSym.delete();\n\t},\n\tlocateFromEdge: function locateFromEdge(v, startEdge) {\n\t\tvar iter = 0;\n\t\tvar maxIter = this._quadEdges.size();\n\t\tvar e = startEdge;\n\t\twhile (true) {\n\t\t\titer++;\n\t\t\tif (iter > maxIter) {\n\t\t\t\tthrow new LocateFailureException(e.toLineSegment());\n\t\t\t}\n\t\t\tif (v.equals(e.orig()) || v.equals(e.dest())) {\n\t\t\t\tbreak;\n\t\t\t} else if (v.rightOf(e)) {\n\t\t\t\te = e.sym();\n\t\t\t} else if (!v.rightOf(e.oNext())) {\n\t\t\t\te = e.oNext();\n\t\t\t} else if (!v.rightOf(e.dPrev())) {\n\t\t\t\te = e.dPrev();\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn e;\n\t},\n\tgetTolerance: function getTolerance() {\n\t\treturn this._tolerance;\n\t},\n\tgetVoronoiCellPolygons: function getVoronoiCellPolygons(geomFact) {\n\t\tthis.visitTriangles(new TriangleCircumcentreVisitor(), true);\n\t\tvar cells = new ArrayList();\n\t\tvar edges = this.getVertexUniqueEdges(false);\n\t\tfor (var i = edges.iterator(); i.hasNext();) {\n\t\t\tvar qe = i.next();\n\t\t\tcells.add(this.getVoronoiCellPolygon(qe, geomFact));\n\t\t}\n\t\treturn cells;\n\t},\n\tgetVoronoiDiagram: function getVoronoiDiagram(geomFact) {\n\t\tvar vorCells = this.getVoronoiCellPolygons(geomFact);\n\t\treturn geomFact.createGeometryCollection(GeometryFactory.toGeometryArray(vorCells));\n\t},\n\tgetTriangles: function getTriangles(geomFact) {\n\t\tvar triPtsList = this.getTriangleCoordinates(false);\n\t\tvar tris = new Array(triPtsList.size()).fill(null);\n\t\tvar i = 0;\n\t\tfor (var it = triPtsList.iterator(); it.hasNext();) {\n\t\t\tvar triPt = it.next();\n\t\t\ttris[i++] = geomFact.createPolygon(geomFact.createLinearRing(triPt));\n\t\t}\n\t\treturn geomFact.createGeometryCollection(tris);\n\t},\n\tinsertSite: function insertSite(v) {\n\t\tvar e = this.locate(v);\n\t\tif (v.equals(e.orig(), this._tolerance) || v.equals(e.dest(), this._tolerance)) {\n\t\t\treturn e;\n\t\t}\n\t\tvar base = this.makeEdge(e.orig(), v);\n\t\tQuadEdge.splice(base, e);\n\t\tvar startEdge = base;\n\t\tdo {\n\t\t\tbase = this.connect(e, base.sym());\n\t\t\te = base.oPrev();\n\t\t} while (e.lNext() !== startEdge);\n\t\treturn startEdge;\n\t},\n\tlocate: function locate() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Vertex) {\n\t\t\t\tvar v = arguments[0];\n\t\t\t\treturn this._locator.locate(v);\n\t\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\t\tvar p = arguments[0];\n\t\t\t\treturn this._locator.locate(new Vertex(p));\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar p0 = arguments[0],\n\t\t\t    p1 = arguments[1];\n\t\t\tvar e = this._locator.locate(new Vertex(p0));\n\t\t\tif (e === null) return null;\n\t\t\tvar base = e;\n\t\t\tif (e.dest().getCoordinate().equals2D(p0)) base = e.sym();\n\t\t\tvar locEdge = base;\n\t\t\tdo {\n\t\t\t\tif (locEdge.dest().getCoordinate().equals2D(p1)) return locEdge;\n\t\t\t\tlocEdge = locEdge.oNext();\n\t\t\t} while (locEdge !== base);\n\t\t\treturn null;\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn QuadEdgeSubdivision;\n\t}\n});\nQuadEdgeSubdivision.getTriangleEdges = function (startQE, triEdge) {\n\ttriEdge[0] = startQE;\n\ttriEdge[1] = triEdge[0].lNext();\n\ttriEdge[2] = triEdge[1].lNext();\n\tif (triEdge[2].lNext() !== triEdge[0]) throw new IllegalArgumentException(\"Edges do not form a triangle\");\n};\nfunction TriangleCircumcentreVisitor() {}\nextend(TriangleCircumcentreVisitor.prototype, {\n\tvisit: function visit(triEdges) {\n\t\tvar a = triEdges[0].orig().getCoordinate();\n\t\tvar b = triEdges[1].orig().getCoordinate();\n\t\tvar c = triEdges[2].orig().getCoordinate();\n\t\tvar cc = Triangle.circumcentre(a, b, c);\n\t\tvar ccVertex = new Vertex(cc);\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\ttriEdges[i].rot().setOrig(ccVertex);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [TriangleVisitor];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TriangleCircumcentreVisitor;\n\t}\n});\nfunction TriangleEdgesListVisitor() {\n\tthis._triList = new ArrayList();\n}\nextend(TriangleEdgesListVisitor.prototype, {\n\tgetTriangleEdges: function getTriangleEdges() {\n\t\treturn this._triList;\n\t},\n\tvisit: function visit(triEdges) {\n\t\tthis._triList.add(triEdges);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [TriangleVisitor];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TriangleEdgesListVisitor;\n\t}\n});\nfunction TriangleVertexListVisitor() {\n\tthis._triList = new ArrayList();\n}\nextend(TriangleVertexListVisitor.prototype, {\n\tvisit: function visit(triEdges) {\n\t\tthis._triList.add([triEdges[0].orig(), triEdges[1].orig(), triEdges[2].orig()]);\n\t},\n\tgetTriangleVertices: function getTriangleVertices() {\n\t\treturn this._triList;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [TriangleVisitor];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TriangleVertexListVisitor;\n\t}\n});\nfunction TriangleCoordinatesVisitor() {\n\tthis._coordList = new CoordinateList();\n\tthis._triCoords = new ArrayList();\n}\nextend(TriangleCoordinatesVisitor.prototype, {\n\tcheckTriangleSize: function checkTriangleSize(pts) {\n\t\tvar loc = \"\";\n\t\tif (pts.length >= 2) loc = WKTWriter.toLineString(pts[0], pts[1]);else {\n\t\t\tif (pts.length >= 1) loc = WKTWriter.toPoint(pts[0]);\n\t\t}\n\t},\n\tvisit: function visit(triEdges) {\n\t\tthis._coordList.clear();\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\tvar v = triEdges[i].orig();\n\t\t\tthis._coordList.add(v.getCoordinate());\n\t\t}\n\t\tif (this._coordList.size() > 0) {\n\t\t\tthis._coordList.closeRing();\n\t\t\tvar pts = this._coordList.toCoordinateArray();\n\t\t\tif (pts.length !== 4) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._triCoords.add(pts);\n\t\t}\n\t},\n\tgetTriangles: function getTriangles() {\n\t\treturn this._triCoords;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [TriangleVisitor];\n\t},\n\tgetClass: function getClass() {\n\t\treturn TriangleCoordinatesVisitor;\n\t}\n});\nQuadEdgeSubdivision.TriangleCircumcentreVisitor = TriangleCircumcentreVisitor;\nQuadEdgeSubdivision.TriangleEdgesListVisitor = TriangleEdgesListVisitor;\nQuadEdgeSubdivision.TriangleVertexListVisitor = TriangleVertexListVisitor;\nQuadEdgeSubdivision.TriangleCoordinatesVisitor = TriangleCoordinatesVisitor;\nQuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR = 1000;\n\nfunction Segment() {\n\tthis._ls = null;\n\tthis._data = null;\n\tif (arguments.length === 2) {\n\t\tvar p0 = arguments[0],\n\t\t    p1 = arguments[1];\n\t\tthis._ls = new LineSegment(p0, p1);\n\t} else if (arguments.length === 3) {\n\t\tvar _p = arguments[0],\n\t\t    _p2 = arguments[1],\n\t\t    data = arguments[2];\n\t\tthis._ls = new LineSegment(_p, _p2);\n\t\tthis._data = data;\n\t} else if (arguments.length === 6) {\n\t\tvar x1 = arguments[0],\n\t\t    y1 = arguments[1],\n\t\t    z1 = arguments[2],\n\t\t    x2 = arguments[3],\n\t\t    y2 = arguments[4],\n\t\t    z2 = arguments[5];\n\t\tSegment.call(this, new Coordinate(x1, y1, z1), new Coordinate(x2, y2, z2));\n\t} else if (arguments.length === 7) {\n\t\tvar _x = arguments[0],\n\t\t    _y = arguments[1],\n\t\t    _z = arguments[2],\n\t\t    _x2 = arguments[3],\n\t\t    _y2 = arguments[4],\n\t\t    _z2 = arguments[5],\n\t\t    _data = arguments[6];\n\t\tSegment.call(this, new Coordinate(_x, _y, _z), new Coordinate(_x2, _y2, _z2), _data);\n\t}\n}\nextend(Segment.prototype, {\n\tgetLineSegment: function getLineSegment() {\n\t\treturn this._ls;\n\t},\n\tgetEndZ: function getEndZ() {\n\t\tvar p = this._ls.getCoordinate(1);\n\t\treturn p.z;\n\t},\n\tgetStartZ: function getStartZ() {\n\t\tvar p = this._ls.getCoordinate(0);\n\t\treturn p.z;\n\t},\n\tintersection: function intersection(s) {\n\t\treturn this._ls.intersection(s.getLineSegment());\n\t},\n\tgetStart: function getStart() {\n\t\treturn this._ls.getCoordinate(0);\n\t},\n\tgetEnd: function getEnd() {\n\t\treturn this._ls.getCoordinate(1);\n\t},\n\tgetEndY: function getEndY() {\n\t\tvar p = this._ls.getCoordinate(1);\n\t\treturn p.y;\n\t},\n\tgetStartX: function getStartX() {\n\t\tvar p = this._ls.getCoordinate(0);\n\t\treturn p.x;\n\t},\n\tequalsTopo: function equalsTopo(s) {\n\t\treturn this._ls.equalsTopo(s.getLineSegment());\n\t},\n\tgetStartY: function getStartY() {\n\t\tvar p = this._ls.getCoordinate(0);\n\t\treturn p.y;\n\t},\n\tsetData: function setData(data) {\n\t\tthis._data = data;\n\t},\n\tgetData: function getData() {\n\t\treturn this._data;\n\t},\n\tgetEndX: function getEndX() {\n\t\tvar p = this._ls.getCoordinate(1);\n\t\treturn p.x;\n\t},\n\ttoString: function toString() {\n\t\treturn this._ls.toString();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn Segment;\n\t}\n});\n\nfunction ConformingDelaunayTriangulator() {\n\tthis._initialVertices = null;\n\tthis._segVertices = null;\n\tthis._segments = new ArrayList();\n\tthis._subdiv = null;\n\tthis._incDel = null;\n\tthis._convexHull = null;\n\tthis._splitFinder = new NonEncroachingSplitPointFinder();\n\tthis._kdt = null;\n\tthis._vertexFactory = null;\n\tthis._computeAreaEnv = null;\n\tthis._splitPt = null;\n\tthis._tolerance = null;\n\tvar initialVertices = arguments[0],\n\t    tolerance = arguments[1];\n\tthis._initialVertices = new ArrayList(initialVertices);\n\tthis._tolerance = tolerance;\n\tthis._kdt = new KdTree(tolerance);\n}\nextend(ConformingDelaunayTriangulator.prototype, {\n\tgetInitialVertices: function getInitialVertices() {\n\t\treturn this._initialVertices;\n\t},\n\tgetKDT: function getKDT() {\n\t\treturn this._kdt;\n\t},\n\tenforceConstraints: function enforceConstraints() {\n\t\tthis.addConstraintVertices();\n\t\tvar count = 0;\n\t\tvar splits = 0;\n\t\tdo {\n\t\t\tsplits = this.enforceGabriel(this._segments);\n\t\t\tcount++;\n\t\t} while (splits > 0 && count < ConformingDelaunayTriangulator.MAX_SPLIT_ITER);\n\t},\n\tinsertSites: function insertSites(vertices) {\n\t\tfor (var i = vertices.iterator(); i.hasNext();) {\n\t\t\tvar v = i.next();\n\t\t\tthis.insertSite(v);\n\t\t}\n\t},\n\tgetVertexFactory: function getVertexFactory() {\n\t\treturn this._vertexFactory;\n\t},\n\tgetPointArray: function getPointArray() {\n\t\tvar pts = new Array(this._initialVertices.size() + this._segVertices.size()).fill(null);\n\t\tvar index = 0;\n\t\tfor (var i = this._initialVertices.iterator(); i.hasNext();) {\n\t\t\tvar v = i.next();\n\t\t\tpts[index++] = v.getCoordinate();\n\t\t}\n\t\tfor (var i2 = this._segVertices.iterator(); i2.hasNext();) {\n\t\t\tvar v = i2.next();\n\t\t\tpts[index++] = v.getCoordinate();\n\t\t}\n\t\treturn pts;\n\t},\n\tsetConstraints: function setConstraints(segments, segVertices) {\n\t\tthis._segments = segments;\n\t\tthis._segVertices = segVertices;\n\t},\n\tcomputeConvexHull: function computeConvexHull() {\n\t\tvar fact = new GeometryFactory();\n\t\tvar coords = this.getPointArray();\n\t\tvar hull = new ConvexHull(coords, fact);\n\t\tthis._convexHull = hull.getConvexHull();\n\t},\n\taddConstraintVertices: function addConstraintVertices() {\n\t\tthis.computeConvexHull();\n\t\tthis.insertSites(this._segVertices);\n\t},\n\tfindNonGabrielPoint: function findNonGabrielPoint(seg) {\n\t\tvar p = seg.getStart();\n\t\tvar q = seg.getEnd();\n\t\tvar midPt = new Coordinate((p.x + q.x) / 2.0, (p.y + q.y) / 2.0);\n\t\tvar segRadius = p.distance(midPt);\n\t\tvar env = new Envelope(midPt);\n\t\tenv.expandBy(segRadius);\n\t\tvar result = this._kdt.query(env);\n\t\tvar closestNonGabriel = null;\n\t\tvar minDist = Double.MAX_VALUE;\n\t\tfor (var i = result.iterator(); i.hasNext();) {\n\t\t\tvar nextNode = i.next();\n\t\t\tvar testPt = nextNode.getCoordinate();\n\t\t\tif (testPt.equals2D(p) || testPt.equals2D(q)) continue;\n\t\t\tvar testRadius = midPt.distance(testPt);\n\t\t\tif (testRadius < segRadius) {\n\t\t\t\tvar testDist = testRadius;\n\t\t\t\tif (closestNonGabriel === null || testDist < minDist) {\n\t\t\t\t\tclosestNonGabriel = testPt;\n\t\t\t\t\tminDist = testDist;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn closestNonGabriel;\n\t},\n\tgetConstraintSegments: function getConstraintSegments() {\n\t\treturn this._segments;\n\t},\n\tsetSplitPointFinder: function setSplitPointFinder(splitFinder) {\n\t\tthis._splitFinder = splitFinder;\n\t},\n\tgetConvexHull: function getConvexHull() {\n\t\treturn this._convexHull;\n\t},\n\tgetTolerance: function getTolerance() {\n\t\treturn this._tolerance;\n\t},\n\tenforceGabriel: function enforceGabriel(segsToInsert) {\n\t\tvar newSegments = new ArrayList();\n\t\tvar splits = 0;\n\t\tvar segsToRemove = new ArrayList();\n\t\tfor (var i = segsToInsert.iterator(); i.hasNext();) {\n\t\t\tvar seg = i.next();\n\t\t\tvar encroachPt = this.findNonGabrielPoint(seg);\n\t\t\tif (encroachPt === null) continue;\n\t\t\tthis._splitPt = this._splitFinder.findSplitPoint(seg, encroachPt);\n\t\t\tvar splitVertex = this.createVertex(this._splitPt, seg);\n\t\t\tvar insertedVertex = this.insertSite(splitVertex);\n\t\t\tif (!insertedVertex.getCoordinate().equals2D(this._splitPt)) {}\n\t\t\tvar s1 = new Segment(seg.getStartX(), seg.getStartY(), seg.getStartZ(), splitVertex.getX(), splitVertex.getY(), splitVertex.getZ(), seg.getData());\n\t\t\tvar s2 = new Segment(splitVertex.getX(), splitVertex.getY(), splitVertex.getZ(), seg.getEndX(), seg.getEndY(), seg.getEndZ(), seg.getData());\n\t\t\tnewSegments.add(s1);\n\t\t\tnewSegments.add(s2);\n\t\t\tsegsToRemove.add(seg);\n\t\t\tsplits = splits + 1;\n\t\t}\n\t\tsegsToInsert.removeAll(segsToRemove);\n\t\tsegsToInsert.addAll(newSegments);\n\t\treturn splits;\n\t},\n\tcreateVertex: function createVertex() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar p = arguments[0];\n\t\t\tvar v = null;\n\t\t\tif (this._vertexFactory !== null) v = this._vertexFactory.createVertex(p, null);else v = new ConstraintVertex(p);\n\t\t\treturn v;\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _p = arguments[0],\n\t\t\t    seg = arguments[1];\n\t\t\tvar v = null;\n\t\t\tif (this._vertexFactory !== null) v = this._vertexFactory.createVertex(_p, seg);else v = new ConstraintVertex(_p);\n\t\t\tv.setOnConstraint(true);\n\t\t\treturn v;\n\t\t}\n\t},\n\tgetSubdivision: function getSubdivision() {\n\t\treturn this._subdiv;\n\t},\n\tcomputeBoundingBox: function computeBoundingBox() {\n\t\tvar vertexEnv = ConformingDelaunayTriangulator.computeVertexEnvelope(this._initialVertices);\n\t\tvar segEnv = ConformingDelaunayTriangulator.computeVertexEnvelope(this._segVertices);\n\t\tvar allPointsEnv = new Envelope(vertexEnv);\n\t\tallPointsEnv.expandToInclude(segEnv);\n\t\tvar deltaX = allPointsEnv.getWidth() * 0.2;\n\t\tvar deltaY = allPointsEnv.getHeight() * 0.2;\n\t\tvar delta = Math.max(deltaX, deltaY);\n\t\tthis._computeAreaEnv = new Envelope(allPointsEnv);\n\t\tthis._computeAreaEnv.expandBy(delta);\n\t},\n\tsetVertexFactory: function setVertexFactory(vertexFactory) {\n\t\tthis._vertexFactory = vertexFactory;\n\t},\n\tformInitialDelaunay: function formInitialDelaunay() {\n\t\tthis.computeBoundingBox();\n\t\tthis._subdiv = new QuadEdgeSubdivision(this._computeAreaEnv, this._tolerance);\n\t\tthis._subdiv.setLocator(new LastFoundQuadEdgeLocator(this._subdiv));\n\t\tthis._incDel = new IncrementalDelaunayTriangulator(this._subdiv);\n\t\tthis.insertSites(this._initialVertices);\n\t},\n\tinsertSite: function insertSite() {\n\t\tif (arguments[0] instanceof ConstraintVertex) {\n\t\t\tvar v = arguments[0];\n\t\t\tvar kdnode = this._kdt.insert(v.getCoordinate(), v);\n\t\t\tif (!kdnode.isRepeated()) {\n\t\t\t\tthis._incDel.insertSite(v);\n\t\t\t} else {\n\t\t\t\tvar snappedV = kdnode.getData();\n\t\t\t\tsnappedV.merge(v);\n\t\t\t\treturn snappedV;\n\t\t\t}\n\t\t\treturn v;\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tvar p = arguments[0];\n\t\t\tthis.insertSite(this.createVertex(p));\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ConformingDelaunayTriangulator;\n\t}\n});\nConformingDelaunayTriangulator.computeVertexEnvelope = function (vertices) {\n\tvar env = new Envelope();\n\tfor (var i = vertices.iterator(); i.hasNext();) {\n\t\tvar v = i.next();\n\t\tenv.expandToInclude(v.getCoordinate());\n\t}\n\treturn env;\n};\nConformingDelaunayTriangulator.MAX_SPLIT_ITER = 99;\n\nfunction DelaunayTriangulationBuilder() {\n\tthis._siteCoords = null;\n\tthis._tolerance = 0.0;\n\tthis._subdiv = null;\n}\nextend(DelaunayTriangulationBuilder.prototype, {\n\tcreate: function create() {\n\t\tif (this._subdiv !== null) return null;\n\t\tvar siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n\t\tvar vertices = DelaunayTriangulationBuilder.toVertices(this._siteCoords);\n\t\tthis._subdiv = new QuadEdgeSubdivision(siteEnv, this._tolerance);\n\t\tvar triangulator = new IncrementalDelaunayTriangulator(this._subdiv);\n\t\ttriangulator.insertSites(vertices);\n\t},\n\tsetTolerance: function setTolerance(tolerance) {\n\t\tthis._tolerance = tolerance;\n\t},\n\tsetSites: function setSites() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tvar geom = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tvar coords = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.unique(CoordinateArrays.toCoordinateArray(coords));\n\t\t}\n\t},\n\tgetEdges: function getEdges(geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getEdges(geomFact);\n\t},\n\tgetSubdivision: function getSubdivision() {\n\t\tthis.create();\n\t\treturn this._subdiv;\n\t},\n\tgetTriangles: function getTriangles(geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getTriangles(geomFact);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn DelaunayTriangulationBuilder;\n\t}\n});\nDelaunayTriangulationBuilder.extractUniqueCoordinates = function (geom) {\n\tif (geom === null) return new CoordinateList();\n\tvar coords = geom.getCoordinates();\n\treturn DelaunayTriangulationBuilder.unique(coords);\n};\nDelaunayTriangulationBuilder.envelope = function (coords) {\n\tvar env = new Envelope();\n\tfor (var i = coords.iterator(); i.hasNext();) {\n\t\tvar coord = i.next();\n\t\tenv.expandToInclude(coord);\n\t}\n\treturn env;\n};\nDelaunayTriangulationBuilder.unique = function (coords) {\n\tvar coordsCopy = CoordinateArrays.copyDeep(coords);\n\tArrays.sort(coordsCopy);\n\tvar coordList = new CoordinateList(coordsCopy, false);\n\treturn coordList;\n};\nDelaunayTriangulationBuilder.toVertices = function (coords) {\n\tvar verts = new ArrayList();\n\tfor (var i = coords.iterator(); i.hasNext();) {\n\t\tvar coord = i.next();\n\t\tverts.add(new Vertex(coord));\n\t}\n\treturn verts;\n};\n\nfunction ConformingDelaunayTriangulationBuilder() {\n\tthis._siteCoords = null;\n\tthis._constraintLines = null;\n\tthis._tolerance = 0.0;\n\tthis._subdiv = null;\n\tthis._constraintVertexMap = new TreeMap();\n}\nextend(ConformingDelaunayTriangulationBuilder.prototype, {\n\tcreateSiteVertices: function createSiteVertices(coords) {\n\t\tvar verts = new ArrayList();\n\t\tfor (var i = coords.iterator(); i.hasNext();) {\n\t\t\tvar coord = i.next();\n\t\t\tif (this._constraintVertexMap.containsKey(coord)) continue;\n\t\t\tverts.add(new ConstraintVertex(coord));\n\t\t}\n\t\treturn verts;\n\t},\n\tcreate: function create() {\n\t\tif (this._subdiv !== null) return null;\n\t\tvar siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n\t\tvar segments = new ArrayList();\n\t\tif (this._constraintLines !== null) {\n\t\t\tsiteEnv.expandToInclude(this._constraintLines.getEnvelopeInternal());\n\t\t\tthis.createVertices(this._constraintLines);\n\t\t\tsegments = ConformingDelaunayTriangulationBuilder.createConstraintSegments(this._constraintLines);\n\t\t}\n\t\tvar sites = this.createSiteVertices(this._siteCoords);\n\t\tvar cdt = new ConformingDelaunayTriangulator(sites, this._tolerance);\n\t\tcdt.setConstraints(segments, new ArrayList(this._constraintVertexMap.values()));\n\t\tcdt.formInitialDelaunay();\n\t\tcdt.enforceConstraints();\n\t\tthis._subdiv = cdt.getSubdivision();\n\t},\n\tsetTolerance: function setTolerance(tolerance) {\n\t\tthis._tolerance = tolerance;\n\t},\n\tsetConstraints: function setConstraints(constraintLines) {\n\t\tthis._constraintLines = constraintLines;\n\t},\n\tsetSites: function setSites(geom) {\n\t\tthis._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n\t},\n\tgetEdges: function getEdges(geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getEdges(geomFact);\n\t},\n\tgetSubdivision: function getSubdivision() {\n\t\tthis.create();\n\t\treturn this._subdiv;\n\t},\n\tgetTriangles: function getTriangles(geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getTriangles(geomFact);\n\t},\n\tcreateVertices: function createVertices(geom) {\n\t\tvar coords = geom.getCoordinates();\n\t\tfor (var i = 0; i < coords.length; i++) {\n\t\t\tvar v = new ConstraintVertex(coords[i]);\n\t\t\tthis._constraintVertexMap.put(coords[i], v);\n\t\t}\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ConformingDelaunayTriangulationBuilder;\n\t}\n});\nConformingDelaunayTriangulationBuilder.createConstraintSegments = function () {\n\tif (arguments.length === 1) {\n\t\tvar geom = arguments[0];\n\t\tvar lines = LinearComponentExtracter.getLines(geom);\n\t\tvar constraintSegs = new ArrayList();\n\t\tfor (var i = lines.iterator(); i.hasNext();) {\n\t\t\tvar line = i.next();\n\t\t\tConformingDelaunayTriangulationBuilder.createConstraintSegments(line, constraintSegs);\n\t\t}\n\t\treturn constraintSegs;\n\t} else if (arguments.length === 2) {\n\t\tvar _line = arguments[0],\n\t\t    _constraintSegs = arguments[1];\n\t\tvar coords = _line.getCoordinates();\n\t\tfor (var i = 1; i < coords.length; i++) {\n\t\t\t_constraintSegs.add(new Segment(coords[i - 1], coords[i]));\n\t\t}\n\t}\n};\n\nfunction VoronoiDiagramBuilder() {\n\tthis._siteCoords = null;\n\tthis._tolerance = 0.0;\n\tthis._subdiv = null;\n\tthis._clipEnv = null;\n\tthis._diagramEnv = null;\n}\nextend(VoronoiDiagramBuilder.prototype, {\n\tcreate: function create() {\n\t\tif (this._subdiv !== null) return null;\n\t\tvar siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n\t\tthis._diagramEnv = siteEnv;\n\t\tvar expandBy = Math.max(this._diagramEnv.getWidth(), this._diagramEnv.getHeight());\n\t\tthis._diagramEnv.expandBy(expandBy);\n\t\tif (this._clipEnv !== null) this._diagramEnv.expandToInclude(this._clipEnv);\n\t\tvar vertices = DelaunayTriangulationBuilder.toVertices(this._siteCoords);\n\t\tthis._subdiv = new QuadEdgeSubdivision(siteEnv, this._tolerance);\n\t\tvar triangulator = new IncrementalDelaunayTriangulator(this._subdiv);\n\t\ttriangulator.insertSites(vertices);\n\t},\n\tgetDiagram: function getDiagram(geomFact) {\n\t\tthis.create();\n\t\tvar polys = this._subdiv.getVoronoiDiagram(geomFact);\n\t\treturn VoronoiDiagramBuilder.clipGeometryCollection(polys, this._diagramEnv);\n\t},\n\tsetTolerance: function setTolerance(tolerance) {\n\t\tthis._tolerance = tolerance;\n\t},\n\tsetSites: function setSites() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tvar geom = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tvar coords = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.unique(CoordinateArrays.toCoordinateArray(coords));\n\t\t}\n\t},\n\tsetClipEnvelope: function setClipEnvelope(clipEnv) {\n\t\tthis._clipEnv = clipEnv;\n\t},\n\tgetSubdivision: function getSubdivision() {\n\t\tthis.create();\n\t\treturn this._subdiv;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn VoronoiDiagramBuilder;\n\t}\n});\nVoronoiDiagramBuilder.clipGeometryCollection = function (geom, clipEnv) {\n\tvar clipPoly = geom.getFactory().toGeometry(clipEnv);\n\tvar clipped = new ArrayList();\n\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\tvar g = geom.getGeometryN(i);\n\t\tvar result = null;\n\t\tif (clipEnv.contains(g.getEnvelopeInternal())) result = g;else if (clipEnv.intersects(g.getEnvelopeInternal())) {\n\t\t\tresult = clipPoly.intersection(g);\n\t\t\tresult.setUserData(g.getUserData());\n\t\t}\n\t\tif (result !== null && !result.isEmpty()) {\n\t\t\tclipped.add(result);\n\t\t}\n\t}\n\treturn geom.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(clipped));\n};\n\n\n\nvar quadedge = Object.freeze({\n\tVertex: Vertex\n});\n\n\n\nvar triangulate = Object.freeze({\n\tConformingDelaunayTriangulationBuilder: ConformingDelaunayTriangulationBuilder,\n\tDelaunayTriangulationBuilder: DelaunayTriangulationBuilder,\n\tVoronoiDiagramBuilder: VoronoiDiagramBuilder,\n\tquadedge: quadedge\n});\n\nfunction LinearLocation() {\n\tthis._componentIndex = 0;\n\tthis._segmentIndex = 0;\n\tthis._segmentFraction = 0.0;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tvar loc = arguments[0];\n\t\tthis._componentIndex = loc._componentIndex;\n\t\tthis._segmentIndex = loc._segmentIndex;\n\t\tthis._segmentFraction = loc._segmentFraction;\n\t} else if (arguments.length === 2) {\n\t\tvar segmentIndex = arguments[0],\n\t\t    segmentFraction = arguments[1];\n\t\tLinearLocation.call(this, 0, segmentIndex, segmentFraction);\n\t} else if (arguments.length === 3) {\n\t\tvar componentIndex = arguments[0],\n\t\t    _segmentIndex = arguments[1],\n\t\t    _segmentFraction = arguments[2];\n\t\tthis._componentIndex = componentIndex;\n\t\tthis._segmentIndex = _segmentIndex;\n\t\tthis._segmentFraction = _segmentFraction;\n\t\tthis.normalize();\n\t} else if (arguments.length === 4) {\n\t\tvar _componentIndex = arguments[0],\n\t\t    _segmentIndex2 = arguments[1],\n\t\t    _segmentFraction2 = arguments[2],\n\t\t    doNormalize = arguments[3];\n\t\tthis._componentIndex = _componentIndex;\n\t\tthis._segmentIndex = _segmentIndex2;\n\t\tthis._segmentFraction = _segmentFraction2;\n\t\tif (doNormalize) this.normalize();\n\t}\n}\nextend(LinearLocation.prototype, {\n\tgetSegmentIndex: function getSegmentIndex() {\n\t\treturn this._segmentIndex;\n\t},\n\tgetComponentIndex: function getComponentIndex() {\n\t\treturn this._componentIndex;\n\t},\n\tisEndpoint: function isEndpoint(linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar nseg = lineComp.getNumPoints() - 1;\n\t\treturn this._segmentIndex >= nseg || this._segmentIndex === nseg && this._segmentFraction >= 1.0;\n\t},\n\tisValid: function isValid(linearGeom) {\n\t\tif (this._componentIndex < 0 || this._componentIndex >= linearGeom.getNumGeometries()) return false;\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tif (this._segmentIndex < 0 || this._segmentIndex > lineComp.getNumPoints()) return false;\n\t\tif (this._segmentIndex === lineComp.getNumPoints() && this._segmentFraction !== 0.0) return false;\n\t\tif (this._segmentFraction < 0.0 || this._segmentFraction > 1.0) return false;\n\t\treturn true;\n\t},\n\tnormalize: function normalize() {\n\t\tif (this._segmentFraction < 0.0) {\n\t\t\tthis._segmentFraction = 0.0;\n\t\t}\n\t\tif (this._segmentFraction > 1.0) {\n\t\t\tthis._segmentFraction = 1.0;\n\t\t}\n\t\tif (this._componentIndex < 0) {\n\t\t\tthis._componentIndex = 0;\n\t\t\tthis._segmentIndex = 0;\n\t\t\tthis._segmentFraction = 0.0;\n\t\t}\n\t\tif (this._segmentIndex < 0) {\n\t\t\tthis._segmentIndex = 0;\n\t\t\tthis._segmentFraction = 0.0;\n\t\t}\n\t\tif (this._segmentFraction === 1.0) {\n\t\t\tthis._segmentFraction = 0.0;\n\t\t\tthis._segmentIndex += 1;\n\t\t}\n\t},\n\ttoLowest: function toLowest(linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar nseg = lineComp.getNumPoints() - 1;\n\t\tif (this._segmentIndex < nseg) return this;\n\t\treturn new LinearLocation(this._componentIndex, nseg, 1.0, false);\n\t},\n\tgetCoordinate: function getCoordinate(linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar p0 = lineComp.getCoordinateN(this._segmentIndex);\n\t\tif (this._segmentIndex >= lineComp.getNumPoints() - 1) return p0;\n\t\tvar p1 = lineComp.getCoordinateN(this._segmentIndex + 1);\n\t\treturn LinearLocation.pointAlongSegmentByFraction(p0, p1, this._segmentFraction);\n\t},\n\tgetSegmentFraction: function getSegmentFraction() {\n\t\treturn this._segmentFraction;\n\t},\n\tgetSegment: function getSegment(linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar p0 = lineComp.getCoordinateN(this._segmentIndex);\n\t\tif (this._segmentIndex >= lineComp.getNumPoints() - 1) {\n\t\t\tvar prev = lineComp.getCoordinateN(lineComp.getNumPoints() - 2);\n\t\t\treturn new LineSegment(prev, p0);\n\t\t}\n\t\tvar p1 = lineComp.getCoordinateN(this._segmentIndex + 1);\n\t\treturn new LineSegment(p0, p1);\n\t},\n\tclamp: function clamp(linear) {\n\t\tif (this._componentIndex >= linear.getNumGeometries()) {\n\t\t\tthis.setToEnd(linear);\n\t\t\treturn null;\n\t\t}\n\t\tif (this._segmentIndex >= linear.getNumPoints()) {\n\t\t\tvar line = linear.getGeometryN(this._componentIndex);\n\t\t\tthis._segmentIndex = line.getNumPoints() - 1;\n\t\t\tthis._segmentFraction = 1.0;\n\t\t}\n\t},\n\tsetToEnd: function setToEnd(linear) {\n\t\tthis._componentIndex = linear.getNumGeometries() - 1;\n\t\tvar lastLine = linear.getGeometryN(this._componentIndex);\n\t\tthis._segmentIndex = lastLine.getNumPoints() - 1;\n\t\tthis._segmentFraction = 1.0;\n\t},\n\tcompareTo: function compareTo(o) {\n\t\tvar other = o;\n\t\tif (this._componentIndex < other._componentIndex) return -1;\n\t\tif (this._componentIndex > other._componentIndex) return 1;\n\t\tif (this._segmentIndex < other._segmentIndex) return -1;\n\t\tif (this._segmentIndex > other._segmentIndex) return 1;\n\t\tif (this._segmentFraction < other._segmentFraction) return -1;\n\t\tif (this._segmentFraction > other._segmentFraction) return 1;\n\t\treturn 0;\n\t},\n\tcopy: function copy() {\n\t\treturn new LinearLocation(this._componentIndex, this._segmentIndex, this._segmentFraction);\n\t},\n\ttoString: function toString() {\n\t\treturn \"LinearLoc[\" + this._componentIndex + \", \" + this._segmentIndex + \", \" + this._segmentFraction + \"]\";\n\t},\n\tisOnSameSegment: function isOnSameSegment(loc) {\n\t\tif (this._componentIndex !== loc._componentIndex) return false;\n\t\tif (this._segmentIndex === loc._segmentIndex) return true;\n\t\tif (loc._segmentIndex - this._segmentIndex === 1 && loc._segmentFraction === 0.0) return true;\n\t\tif (this._segmentIndex - loc._segmentIndex === 1 && this._segmentFraction === 0.0) return true;\n\t\treturn false;\n\t},\n\tsnapToVertex: function snapToVertex(linearGeom, minDistance) {\n\t\tif (this._segmentFraction <= 0.0 || this._segmentFraction >= 1.0) return null;\n\t\tvar segLen = this.getSegmentLength(linearGeom);\n\t\tvar lenToStart = this._segmentFraction * segLen;\n\t\tvar lenToEnd = segLen - lenToStart;\n\t\tif (lenToStart <= lenToEnd && lenToStart < minDistance) {\n\t\t\tthis._segmentFraction = 0.0;\n\t\t} else if (lenToEnd <= lenToStart && lenToEnd < minDistance) {\n\t\t\tthis._segmentFraction = 1.0;\n\t\t}\n\t},\n\tcompareLocationValues: function compareLocationValues(componentIndex1, segmentIndex1, segmentFraction1) {\n\t\tif (this._componentIndex < componentIndex1) return -1;\n\t\tif (this._componentIndex > componentIndex1) return 1;\n\t\tif (this._segmentIndex < segmentIndex1) return -1;\n\t\tif (this._segmentIndex > segmentIndex1) return 1;\n\t\tif (this._segmentFraction < segmentFraction1) return -1;\n\t\tif (this._segmentFraction > segmentFraction1) return 1;\n\t\treturn 0;\n\t},\n\tgetSegmentLength: function getSegmentLength(linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar segIndex = this._segmentIndex;\n\t\tif (this._segmentIndex >= lineComp.getNumPoints() - 1) segIndex = lineComp.getNumPoints() - 2;\n\t\tvar p0 = lineComp.getCoordinateN(segIndex);\n\t\tvar p1 = lineComp.getCoordinateN(segIndex + 1);\n\t\treturn p0.distance(p1);\n\t},\n\tisVertex: function isVertex() {\n\t\treturn this._segmentFraction <= 0.0 || this._segmentFraction >= 1.0;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LinearLocation;\n\t}\n});\nLinearLocation.getEndLocation = function (linear) {\n\tvar loc = new LinearLocation();\n\tloc.setToEnd(linear);\n\treturn loc;\n};\nLinearLocation.pointAlongSegmentByFraction = function (p0, p1, frac) {\n\tif (frac <= 0.0) return p0;\n\tif (frac >= 1.0) return p1;\n\tvar x = (p1.x - p0.x) * frac + p0.x;\n\tvar y = (p1.y - p0.y) * frac + p0.y;\n\tvar z = (p1.z - p0.z) * frac + p0.z;\n\treturn new Coordinate(x, y, z);\n};\nLinearLocation.compareLocationValues = function (componentIndex0, segmentIndex0, segmentFraction0, componentIndex1, segmentIndex1, segmentFraction1) {\n\tif (componentIndex0 < componentIndex1) return -1;\n\tif (componentIndex0 > componentIndex1) return 1;\n\tif (segmentIndex0 < segmentIndex1) return -1;\n\tif (segmentIndex0 > segmentIndex1) return 1;\n\tif (segmentFraction0 < segmentFraction1) return -1;\n\tif (segmentFraction0 > segmentFraction1) return 1;\n\treturn 0;\n};\n\nfunction LinearIterator() {\n\tthis._linearGeom = null;\n\tthis._numLines = null;\n\tthis._currentLine = null;\n\tthis._componentIndex = 0;\n\tthis._vertexIndex = 0;\n\tif (arguments.length === 1) {\n\t\tvar linear = arguments[0];\n\t\tLinearIterator.call(this, linear, 0, 0);\n\t} else if (arguments.length === 2) {\n\t\tvar _linear = arguments[0],\n\t\t    start = arguments[1];\n\t\tLinearIterator.call(this, _linear, start.getComponentIndex(), LinearIterator.segmentEndVertexIndex(start));\n\t} else if (arguments.length === 3) {\n\t\tvar linearGeom = arguments[0],\n\t\t    componentIndex = arguments[1],\n\t\t    vertexIndex = arguments[2];\n\t\tif (!hasInterface(linearGeom, Lineal)) throw new IllegalArgumentException(\"Lineal geometry is required\");\n\t\tthis._linearGeom = linearGeom;\n\t\tthis._numLines = linearGeom.getNumGeometries();\n\t\tthis._componentIndex = componentIndex;\n\t\tthis._vertexIndex = vertexIndex;\n\t\tthis.loadCurrentLine();\n\t}\n}\nextend(LinearIterator.prototype, {\n\tgetComponentIndex: function getComponentIndex() {\n\t\treturn this._componentIndex;\n\t},\n\tgetLine: function getLine() {\n\t\treturn this._currentLine;\n\t},\n\tgetVertexIndex: function getVertexIndex() {\n\t\treturn this._vertexIndex;\n\t},\n\tgetSegmentEnd: function getSegmentEnd() {\n\t\tif (this._vertexIndex < this.getLine().getNumPoints() - 1) return this._currentLine.getCoordinateN(this._vertexIndex + 1);\n\t\treturn null;\n\t},\n\tnext: function next() {\n\t\tif (!this.hasNext()) return null;\n\t\tthis._vertexIndex++;\n\t\tif (this._vertexIndex >= this._currentLine.getNumPoints()) {\n\t\t\tthis._componentIndex++;\n\t\t\tthis.loadCurrentLine();\n\t\t\tthis._vertexIndex = 0;\n\t\t}\n\t},\n\tloadCurrentLine: function loadCurrentLine() {\n\t\tif (this._componentIndex >= this._numLines) {\n\t\t\tthis._currentLine = null;\n\t\t\treturn null;\n\t\t}\n\t\tthis._currentLine = this._linearGeom.getGeometryN(this._componentIndex);\n\t},\n\tgetSegmentStart: function getSegmentStart() {\n\t\treturn this._currentLine.getCoordinateN(this._vertexIndex);\n\t},\n\tisEndOfLine: function isEndOfLine() {\n\t\tif (this._componentIndex >= this._numLines) return false;\n\t\tif (this._vertexIndex < this._currentLine.getNumPoints() - 1) return false;\n\t\treturn true;\n\t},\n\thasNext: function hasNext() {\n\t\tif (this._componentIndex >= this._numLines) return false;\n\t\tif (this._componentIndex === this._numLines - 1 && this._vertexIndex >= this._currentLine.getNumPoints()) return false;\n\t\treturn true;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LinearIterator;\n\t}\n});\nLinearIterator.segmentEndVertexIndex = function (loc) {\n\tif (loc.getSegmentFraction() > 0.0) return loc.getSegmentIndex() + 1;\n\treturn loc.getSegmentIndex();\n};\n\nfunction LocationIndexOfPoint() {\n\tthis._linearGeom = null;\n\tvar linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n}\nextend(LocationIndexOfPoint.prototype, {\n\tindexOf: function indexOf(inputPt) {\n\t\treturn this.indexOfFromStart(inputPt, null);\n\t},\n\tindexOfFromStart: function indexOfFromStart(inputPt, minIndex) {\n\t\tvar minDistance = Double.MAX_VALUE;\n\t\tvar minComponentIndex = 0;\n\t\tvar minSegmentIndex = 0;\n\t\tvar minFrac = -1.0;\n\t\tvar seg = new LineSegment();\n\t\tfor (var it = new LinearIterator(this._linearGeom); it.hasNext(); it.next()) {\n\t\t\tif (!it.isEndOfLine()) {\n\t\t\t\tseg.p0 = it.getSegmentStart();\n\t\t\t\tseg.p1 = it.getSegmentEnd();\n\t\t\t\tvar segDistance = seg.distance(inputPt);\n\t\t\t\tvar segFrac = seg.segmentFraction(inputPt);\n\t\t\t\tvar candidateComponentIndex = it.getComponentIndex();\n\t\t\t\tvar candidateSegmentIndex = it.getVertexIndex();\n\t\t\t\tif (segDistance < minDistance) {\n\t\t\t\t\tif (minIndex === null || minIndex.compareLocationValues(candidateComponentIndex, candidateSegmentIndex, segFrac) < 0) {\n\t\t\t\t\t\tminComponentIndex = candidateComponentIndex;\n\t\t\t\t\t\tminSegmentIndex = candidateSegmentIndex;\n\t\t\t\t\t\tminFrac = segFrac;\n\t\t\t\t\t\tminDistance = segDistance;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (minDistance === Double.MAX_VALUE) {\n\t\t\treturn new LinearLocation(minIndex);\n\t\t}\n\t\tvar loc = new LinearLocation(minComponentIndex, minSegmentIndex, minFrac);\n\t\treturn loc;\n\t},\n\tindexOfAfter: function indexOfAfter(inputPt, minIndex) {\n\t\tif (minIndex === null) return this.indexOf(inputPt);\n\t\tvar endLoc = LinearLocation.getEndLocation(this._linearGeom);\n\t\tif (endLoc.compareTo(minIndex) <= 0) return endLoc;\n\t\tvar closestAfter = this.indexOfFromStart(inputPt, minIndex);\n\t\tAssert.isTrue(closestAfter.compareTo(minIndex) >= 0, \"computed location is before specified minimum location\");\n\t\treturn closestAfter;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LocationIndexOfPoint;\n\t}\n});\nLocationIndexOfPoint.indexOf = function (linearGeom, inputPt) {\n\tvar locater = new LocationIndexOfPoint(linearGeom);\n\treturn locater.indexOf(inputPt);\n};\nLocationIndexOfPoint.indexOfAfter = function (linearGeom, inputPt, minIndex) {\n\tvar locater = new LocationIndexOfPoint(linearGeom);\n\treturn locater.indexOfAfter(inputPt, minIndex);\n};\n\nfunction LocationIndexOfLine() {\n\tthis._linearGeom = null;\n\tvar linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n}\nextend(LocationIndexOfLine.prototype, {\n\tindicesOf: function indicesOf(subLine) {\n\t\tvar startPt = subLine.getGeometryN(0).getCoordinateN(0);\n\t\tvar lastLine = subLine.getGeometryN(subLine.getNumGeometries() - 1);\n\t\tvar endPt = lastLine.getCoordinateN(lastLine.getNumPoints() - 1);\n\t\tvar locPt = new LocationIndexOfPoint(this._linearGeom);\n\t\tvar subLineLoc = new Array(2).fill(null);\n\t\tsubLineLoc[0] = locPt.indexOf(startPt);\n\t\tif (subLine.getLength() === 0.0) {\n\t\t\tsubLineLoc[1] = subLineLoc[0].copy();\n\t\t} else {\n\t\t\tsubLineLoc[1] = locPt.indexOfAfter(endPt, subLineLoc[0]);\n\t\t}\n\t\treturn subLineLoc;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LocationIndexOfLine;\n\t}\n});\nLocationIndexOfLine.indicesOf = function (linearGeom, subLine) {\n\tvar locater = new LocationIndexOfLine(linearGeom);\n\treturn locater.indicesOf(subLine);\n};\n\nfunction LinearGeometryBuilder() {\n\tthis._geomFact = null;\n\tthis._lines = new ArrayList();\n\tthis._coordList = null;\n\tthis._ignoreInvalidLines = false;\n\tthis._fixInvalidLines = false;\n\tthis._lastPt = null;\n\tvar geomFact = arguments[0];\n\tthis._geomFact = geomFact;\n}\nextend(LinearGeometryBuilder.prototype, {\n\tgetGeometry: function getGeometry() {\n\t\tthis.endLine();\n\t\treturn this._geomFact.buildGeometry(this._lines);\n\t},\n\tgetLastCoordinate: function getLastCoordinate() {\n\t\treturn this._lastPt;\n\t},\n\tendLine: function endLine() {\n\t\tif (this._coordList === null) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._ignoreInvalidLines && this._coordList.size() < 2) {\n\t\t\tthis._coordList = null;\n\t\t\treturn null;\n\t\t}\n\t\tvar rawPts = this._coordList.toCoordinateArray();\n\t\tvar pts = rawPts;\n\t\tif (this._fixInvalidLines) pts = this.validCoordinateSequence(rawPts);\n\t\tthis._coordList = null;\n\t\tvar line = null;\n\t\ttry {\n\t\t\tline = this._geomFact.createLineString(pts);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof IllegalArgumentException) {\n\t\t\t\tif (!this._ignoreInvalidLines) throw ex;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\tif (line !== null) this._lines.add(line);\n\t},\n\tsetFixInvalidLines: function setFixInvalidLines(fixInvalidLines) {\n\t\tthis._fixInvalidLines = fixInvalidLines;\n\t},\n\tadd: function add() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar pt = arguments[0];\n\t\t\tthis.add(pt, true);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _pt = arguments[0],\n\t\t\t    allowRepeatedPoints = arguments[1];\n\t\t\tif (this._coordList === null) this._coordList = new CoordinateList();\n\t\t\tthis._coordList.add(_pt, allowRepeatedPoints);\n\t\t\tthis._lastPt = _pt;\n\t\t}\n\t},\n\tsetIgnoreInvalidLines: function setIgnoreInvalidLines(ignoreInvalidLines) {\n\t\tthis._ignoreInvalidLines = ignoreInvalidLines;\n\t},\n\tvalidCoordinateSequence: function validCoordinateSequence(pts) {\n\t\tif (pts.length >= 2) return pts;\n\t\tvar validPts = [pts[0], pts[0]];\n\t\treturn validPts;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LinearGeometryBuilder;\n\t}\n});\n\nfunction ExtractLineByLocation() {\n\tthis._line = null;\n\tvar line = arguments[0];\n\tthis._line = line;\n}\nextend(ExtractLineByLocation.prototype, {\n\tcomputeLinear: function computeLinear(start, end) {\n\t\tvar builder = new LinearGeometryBuilder(this._line.getFactory());\n\t\tbuilder.setFixInvalidLines(true);\n\t\tif (!start.isVertex()) builder.add(start.getCoordinate(this._line));\n\t\tfor (var it = new LinearIterator(this._line, start); it.hasNext(); it.next()) {\n\t\t\tif (end.compareLocationValues(it.getComponentIndex(), it.getVertexIndex(), 0.0) < 0) break;\n\t\t\tvar pt = it.getSegmentStart();\n\t\t\tbuilder.add(pt);\n\t\t\tif (it.isEndOfLine()) builder.endLine();\n\t\t}\n\t\tif (!end.isVertex()) builder.add(end.getCoordinate(this._line));\n\t\treturn builder.getGeometry();\n\t},\n\tcomputeLine: function computeLine(start, end) {\n\t\tvar coordinates = this._line.getCoordinates();\n\t\tvar newCoordinates = new CoordinateList();\n\t\tvar startSegmentIndex = start.getSegmentIndex();\n\t\tif (start.getSegmentFraction() > 0.0) startSegmentIndex += 1;\n\t\tvar lastSegmentIndex = end.getSegmentIndex();\n\t\tif (end.getSegmentFraction() === 1.0) lastSegmentIndex += 1;\n\t\tif (lastSegmentIndex >= coordinates.length) lastSegmentIndex = coordinates.length - 1;\n\t\tif (!start.isVertex()) newCoordinates.add(start.getCoordinate(this._line));\n\t\tfor (var i = startSegmentIndex; i <= lastSegmentIndex; i++) {\n\t\t\tnewCoordinates.add(coordinates[i]);\n\t\t}\n\t\tif (!end.isVertex()) newCoordinates.add(end.getCoordinate(this._line));\n\t\tif (newCoordinates.size() <= 0) newCoordinates.add(start.getCoordinate(this._line));\n\t\tvar newCoordinateArray = newCoordinates.toCoordinateArray();\n\t\tif (newCoordinateArray.length <= 1) {\n\t\t\tnewCoordinateArray = [newCoordinateArray[0], newCoordinateArray[0]];\n\t\t}\n\t\treturn this._line.getFactory().createLineString(newCoordinateArray);\n\t},\n\textract: function extract(start, end) {\n\t\tif (end.compareTo(start) < 0) {\n\t\t\treturn this.reverse(this.computeLinear(end, start));\n\t\t}\n\t\treturn this.computeLinear(start, end);\n\t},\n\treverse: function reverse(linear) {\n\t\tif (linear instanceof LineString) return linear.reverse();\n\t\tif (linear instanceof MultiLineString) return linear.reverse();\n\t\tAssert.shouldNeverReachHere(\"non-linear geometry encountered\");\n\t\treturn null;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn ExtractLineByLocation;\n\t}\n});\nExtractLineByLocation.extract = function (line, start, end) {\n\tvar ls = new ExtractLineByLocation(line);\n\treturn ls.extract(start, end);\n};\n\nfunction LocationIndexedLine() {\n\tthis._linearGeom = null;\n\tvar linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n\tthis.checkGeometryType();\n}\nextend(LocationIndexedLine.prototype, {\n\tclampIndex: function clampIndex(index) {\n\t\tvar loc = index.copy();\n\t\tloc.clamp(this._linearGeom);\n\t\treturn loc;\n\t},\n\tproject: function project(pt) {\n\t\treturn LocationIndexOfPoint.indexOf(this._linearGeom, pt);\n\t},\n\tcheckGeometryType: function checkGeometryType() {\n\t\tif (!(this._linearGeom instanceof LineString || this._linearGeom instanceof MultiLineString)) throw new IllegalArgumentException(\"Input geometry must be linear\");\n\t},\n\textractPoint: function extractPoint() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar index = arguments[0];\n\t\t\treturn index.getCoordinate(this._linearGeom);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _index = arguments[0],\n\t\t\t    offsetDistance = arguments[1];\n\t\t\tvar indexLow = _index.toLowest(this._linearGeom);\n\t\t\treturn indexLow.getSegment(this._linearGeom).pointAlongOffset(indexLow.getSegmentFraction(), offsetDistance);\n\t\t}\n\t},\n\tisValidIndex: function isValidIndex(index) {\n\t\treturn index.isValid(this._linearGeom);\n\t},\n\tgetEndIndex: function getEndIndex() {\n\t\treturn LinearLocation.getEndLocation(this._linearGeom);\n\t},\n\tgetStartIndex: function getStartIndex() {\n\t\treturn new LinearLocation();\n\t},\n\tindexOfAfter: function indexOfAfter(pt, minIndex) {\n\t\treturn LocationIndexOfPoint.indexOfAfter(this._linearGeom, pt, minIndex);\n\t},\n\textractLine: function extractLine(startIndex, endIndex) {\n\t\treturn ExtractLineByLocation.extract(this._linearGeom, startIndex, endIndex);\n\t},\n\tindexOf: function indexOf(pt) {\n\t\treturn LocationIndexOfPoint.indexOf(this._linearGeom, pt);\n\t},\n\tindicesOf: function indicesOf(subLine) {\n\t\treturn LocationIndexOfLine.indicesOf(this._linearGeom, subLine);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LocationIndexedLine;\n\t}\n});\n\nfunction LengthIndexOfPoint() {\n\tthis._linearGeom = null;\n\tvar linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n}\nextend(LengthIndexOfPoint.prototype, {\n\tindexOf: function indexOf(inputPt) {\n\t\treturn this.indexOfFromStart(inputPt, -1.0);\n\t},\n\tindexOfFromStart: function indexOfFromStart(inputPt, minIndex) {\n\t\tvar minDistance = Double.MAX_VALUE;\n\t\tvar ptMeasure = minIndex;\n\t\tvar segmentStartMeasure = 0.0;\n\t\tvar seg = new LineSegment();\n\t\tvar it = new LinearIterator(this._linearGeom);\n\t\twhile (it.hasNext()) {\n\t\t\tif (!it.isEndOfLine()) {\n\t\t\t\tseg.p0 = it.getSegmentStart();\n\t\t\t\tseg.p1 = it.getSegmentEnd();\n\t\t\t\tvar segDistance = seg.distance(inputPt);\n\t\t\t\tvar segMeasureToPt = this.segmentNearestMeasure(seg, inputPt, segmentStartMeasure);\n\t\t\t\tif (segDistance < minDistance && segMeasureToPt > minIndex) {\n\t\t\t\t\tptMeasure = segMeasureToPt;\n\t\t\t\t\tminDistance = segDistance;\n\t\t\t\t}\n\t\t\t\tsegmentStartMeasure += seg.getLength();\n\t\t\t}\n\t\t\tit.next();\n\t\t}\n\t\treturn ptMeasure;\n\t},\n\tindexOfAfter: function indexOfAfter(inputPt, minIndex) {\n\t\tif (minIndex < 0.0) return this.indexOf(inputPt);\n\t\tvar endIndex = this._linearGeom.getLength();\n\t\tif (endIndex < minIndex) return endIndex;\n\t\tvar closestAfter = this.indexOfFromStart(inputPt, minIndex);\n\t\tAssert.isTrue(closestAfter >= minIndex, \"computed index is before specified minimum index\");\n\t\treturn closestAfter;\n\t},\n\tsegmentNearestMeasure: function segmentNearestMeasure(seg, inputPt, segmentStartMeasure) {\n\t\tvar projFactor = seg.projectionFactor(inputPt);\n\t\tif (projFactor <= 0.0) return segmentStartMeasure;\n\t\tif (projFactor <= 1.0) return segmentStartMeasure + projFactor * seg.getLength();\n\t\treturn segmentStartMeasure + seg.getLength();\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LengthIndexOfPoint;\n\t}\n});\nLengthIndexOfPoint.indexOf = function (linearGeom, inputPt) {\n\tvar locater = new LengthIndexOfPoint(linearGeom);\n\treturn locater.indexOf(inputPt);\n};\nLengthIndexOfPoint.indexOfAfter = function (linearGeom, inputPt, minIndex) {\n\tvar locater = new LengthIndexOfPoint(linearGeom);\n\treturn locater.indexOfAfter(inputPt, minIndex);\n};\n\nfunction LengthLocationMap() {\n\tthis._linearGeom = null;\n\tvar linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n}\nextend(LengthLocationMap.prototype, {\n\tgetLength: function getLength(loc) {\n\t\tvar totalLength = 0.0;\n\t\tvar it = new LinearIterator(this._linearGeom);\n\t\twhile (it.hasNext()) {\n\t\t\tif (!it.isEndOfLine()) {\n\t\t\t\tvar p0 = it.getSegmentStart();\n\t\t\t\tvar p1 = it.getSegmentEnd();\n\t\t\t\tvar segLen = p1.distance(p0);\n\t\t\t\tif (loc.getComponentIndex() === it.getComponentIndex() && loc.getSegmentIndex() === it.getVertexIndex()) {\n\t\t\t\t\treturn totalLength + segLen * loc.getSegmentFraction();\n\t\t\t\t}\n\t\t\t\ttotalLength += segLen;\n\t\t\t}\n\t\t\tit.next();\n\t\t}\n\t\treturn totalLength;\n\t},\n\tresolveHigher: function resolveHigher(loc) {\n\t\tif (!loc.isEndpoint(this._linearGeom)) return loc;\n\t\tvar compIndex = loc.getComponentIndex();\n\t\tif (compIndex >= this._linearGeom.getNumGeometries() - 1) return loc;\n\t\tdo {\n\t\t\tcompIndex++;\n\t\t} while (compIndex < this._linearGeom.getNumGeometries() - 1 && this._linearGeom.getGeometryN(compIndex).getLength() === 0);\n\t\treturn new LinearLocation(compIndex, 0, 0.0);\n\t},\n\tgetLocation: function getLocation() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar length = arguments[0];\n\t\t\treturn this.getLocation(length, true);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _length = arguments[0],\n\t\t\t    resolveLower = arguments[1];\n\t\t\tvar forwardLength = _length;\n\t\t\tif (_length < 0.0) {\n\t\t\t\tvar lineLen = this._linearGeom.getLength();\n\t\t\t\tforwardLength = lineLen + _length;\n\t\t\t}\n\t\t\tvar loc = this.getLocationForward(forwardLength);\n\t\t\tif (resolveLower) {\n\t\t\t\treturn loc;\n\t\t\t}\n\t\t\treturn this.resolveHigher(loc);\n\t\t}\n\t},\n\tgetLocationForward: function getLocationForward(length) {\n\t\tif (length <= 0.0) return new LinearLocation();\n\t\tvar totalLength = 0.0;\n\t\tvar it = new LinearIterator(this._linearGeom);\n\t\twhile (it.hasNext()) {\n\t\t\tif (it.isEndOfLine()) {\n\t\t\t\tif (totalLength === length) {\n\t\t\t\t\tvar compIndex = it.getComponentIndex();\n\t\t\t\t\tvar segIndex = it.getVertexIndex();\n\t\t\t\t\treturn new LinearLocation(compIndex, segIndex, 0.0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar p0 = it.getSegmentStart();\n\t\t\t\tvar p1 = it.getSegmentEnd();\n\t\t\t\tvar segLen = p1.distance(p0);\n\t\t\t\tif (totalLength + segLen > length) {\n\t\t\t\t\tvar frac = (length - totalLength) / segLen;\n\t\t\t\t\tvar compIndex = it.getComponentIndex();\n\t\t\t\t\tvar segIndex = it.getVertexIndex();\n\t\t\t\t\treturn new LinearLocation(compIndex, segIndex, frac);\n\t\t\t\t}\n\t\t\t\ttotalLength += segLen;\n\t\t\t}\n\t\t\tit.next();\n\t\t}\n\t\treturn LinearLocation.getEndLocation(this._linearGeom);\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LengthLocationMap;\n\t}\n});\nLengthLocationMap.getLength = function (linearGeom, loc) {\n\tvar locater = new LengthLocationMap(linearGeom);\n\treturn locater.getLength(loc);\n};\nLengthLocationMap.getLocation = function () {\n\tif (arguments.length === 2) {\n\t\tvar linearGeom = arguments[0],\n\t\t    length = arguments[1];\n\t\tvar locater = new LengthLocationMap(linearGeom);\n\t\treturn locater.getLocation(length);\n\t} else if (arguments.length === 3) {\n\t\tvar _linearGeom = arguments[0],\n\t\t    _length2 = arguments[1],\n\t\t    resolveLower = arguments[2];\n\t\tvar locater = new LengthLocationMap(_linearGeom);\n\t\treturn locater.getLocation(_length2, resolveLower);\n\t}\n};\n\nfunction LengthIndexedLine() {\n\tthis._linearGeom = null;\n\tvar linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n}\nextend(LengthIndexedLine.prototype, {\n\tclampIndex: function clampIndex(index) {\n\t\tvar posIndex = this.positiveIndex(index);\n\t\tvar startIndex = this.getStartIndex();\n\t\tif (posIndex < startIndex) return startIndex;\n\t\tvar endIndex = this.getEndIndex();\n\t\tif (posIndex > endIndex) return endIndex;\n\t\treturn posIndex;\n\t},\n\tlocationOf: function locationOf() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar index = arguments[0];\n\t\t\treturn LengthLocationMap.getLocation(this._linearGeom, index);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _index = arguments[0],\n\t\t\t    resolveLower = arguments[1];\n\t\t\treturn LengthLocationMap.getLocation(this._linearGeom, _index, resolveLower);\n\t\t}\n\t},\n\tproject: function project(pt) {\n\t\treturn LengthIndexOfPoint.indexOf(this._linearGeom, pt);\n\t},\n\tpositiveIndex: function positiveIndex(index) {\n\t\tif (index >= 0.0) return index;\n\t\treturn this._linearGeom.getLength() + index;\n\t},\n\textractPoint: function extractPoint() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar index = arguments[0];\n\t\t\tvar loc = LengthLocationMap.getLocation(this._linearGeom, index);\n\t\t\treturn loc.getCoordinate(this._linearGeom);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _index2 = arguments[0],\n\t\t\t    offsetDistance = arguments[1];\n\t\t\tvar loc = LengthLocationMap.getLocation(this._linearGeom, _index2);\n\t\t\tvar locLow = loc.toLowest(this._linearGeom);\n\t\t\treturn locLow.getSegment(this._linearGeom).pointAlongOffset(locLow.getSegmentFraction(), offsetDistance);\n\t\t}\n\t},\n\tisValidIndex: function isValidIndex(index) {\n\t\treturn index >= this.getStartIndex() && index <= this.getEndIndex();\n\t},\n\tgetEndIndex: function getEndIndex() {\n\t\treturn this._linearGeom.getLength();\n\t},\n\tgetStartIndex: function getStartIndex() {\n\t\treturn 0.0;\n\t},\n\tindexOfAfter: function indexOfAfter(pt, minIndex) {\n\t\treturn LengthIndexOfPoint.indexOfAfter(this._linearGeom, pt, minIndex);\n\t},\n\textractLine: function extractLine(startIndex, endIndex) {\n\t\tvar lil = new LocationIndexedLine(this._linearGeom);\n\t\tvar startIndex2 = this.clampIndex(startIndex);\n\t\tvar endIndex2 = this.clampIndex(endIndex);\n\t\tvar resolveStartLower = startIndex2 === endIndex2;\n\t\tvar startLoc = this.locationOf(startIndex2, resolveStartLower);\n\t\tvar endLoc = this.locationOf(endIndex2);\n\t\treturn ExtractLineByLocation.extract(this._linearGeom, startLoc, endLoc);\n\t},\n\tindexOf: function indexOf(pt) {\n\t\treturn LengthIndexOfPoint.indexOf(this._linearGeom, pt);\n\t},\n\tindicesOf: function indicesOf(subLine) {\n\t\tvar locIndex = LocationIndexOfLine.indicesOf(this._linearGeom, subLine);\n\t\tvar index = [LengthLocationMap.getLength(this._linearGeom, locIndex[0]), LengthLocationMap.getLength(this._linearGeom, locIndex[1])];\n\t\treturn index;\n\t},\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn LengthIndexedLine;\n\t}\n});\n\n\n\nvar linearref = Object.freeze({\n\tLengthIndexedLine: LengthIndexedLine,\n\tLengthLocationMap: LengthLocationMap,\n\tLinearGeometryBuilder: LinearGeometryBuilder,\n\tLinearIterator: LinearIterator,\n\tLinearLocation: LinearLocation,\n\tLocationIndexedLine: LocationIndexedLine\n});\n\nfunction UnionOp() {}\nextend(UnionOp.prototype, {\n\tinterfaces_: function interfaces_() {\n\t\treturn [];\n\t},\n\tgetClass: function getClass() {\n\t\treturn UnionOp;\n\t}\n});\nUnionOp.union = function (g, other) {\n\tif (g.isEmpty() || other.isEmpty()) {\n\t\tif (g.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.UNION, g, other, g.getFactory());\n\t\tif (g.isEmpty()) return other.copy();\n\t\tif (other.isEmpty()) return g.copy();\n\t}\n\tg.checkNotGeometryCollection(g);\n\tg.checkNotGeometryCollection(other);\n\treturn SnapIfNeededOverlayOp.overlayOp(g, other, OverlayOp.UNION);\n};\n\nextend(Geometry.prototype, {\n\tequalsTopo: function equalsTopo(g) {\n\t\tif (!this.getEnvelopeInternal().equals(g.getEnvelopeInternal())) return false;\n\t\treturn RelateOp.relate(this, g).isEquals(this.getDimension(), g.getDimension());\n\t},\n\tunion: function union() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn UnaryUnionOp.union(this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tvar other = arguments[0];\n\t\t\treturn UnionOp.union(this, other);\n\t\t}\n\t},\n\tisValid: function isValid() {\n\t\treturn IsValidOp.isValid(this);\n\t},\n\tintersection: function intersection(other) {\n\t\tif (this.isEmpty() || other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.INTERSECTION, this, other, this._factory);\n\t\tif (this.isGeometryCollection()) {\n\t\t\tvar g2 = other;\n\t\t\treturn GeometryCollectionMapper.map(this, {\n\t\t\t\tinterfaces_: function interfaces_() {\n\t\t\t\t\treturn [MapOp];\n\t\t\t\t},\n\t\t\t\tmap: function map(g) {\n\t\t\t\t\treturn g.intersection(g2);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.checkNotGeometryCollection(this);\n\t\tthis.checkNotGeometryCollection(other);\n\t\treturn SnapIfNeededOverlayOp.overlayOp(this, other, OverlayOp.INTERSECTION);\n\t},\n\tcovers: function covers(g) {\n\t\treturn RelateOp.covers(this, g);\n\t},\n\tcoveredBy: function coveredBy(g) {\n\t\treturn RelateOp.covers(g, this);\n\t},\n\ttouches: function touches(g) {\n\t\treturn RelateOp.touches(this, g);\n\t},\n\tintersects: function intersects(g) {\n\t\treturn RelateOp.intersects(this, g);\n\t},\n\twithin: function within(g) {\n\t\treturn RelateOp.within(this, g);\n\t},\n\toverlaps: function overlaps(g) {\n\t\treturn RelateOp.overlaps(this, g);\n\t},\n\tdisjoint: function disjoint(g) {\n\t\treturn RelateOp.disjoint(this, g);\n\t},\n\tcrosses: function crosses(g) {\n\t\treturn RelateOp.crosses(this, g);\n\t},\n\tbuffer: function buffer() {\n\t\tif (arguments.length === 1) {\n\t\t\tvar distance = arguments[0];\n\t\t\treturn BufferOp.bufferOp(this, distance);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _distance = arguments[0],\n\t\t\t    quadrantSegments = arguments[1];\n\t\t\treturn BufferOp.bufferOp(this, _distance, quadrantSegments);\n\t\t} else if (arguments.length === 3) {\n\t\t\tvar _distance2 = arguments[0],\n\t\t\t    _quadrantSegments = arguments[1],\n\t\t\t    endCapStyle = arguments[2];\n\t\t\treturn BufferOp.bufferOp(this, _distance2, _quadrantSegments, endCapStyle);\n\t\t}\n\t},\n\tconvexHull: function convexHull() {\n\t\treturn new ConvexHull(this).getConvexHull();\n\t},\n\trelate: function relate() {\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\tif (arguments.length === 1) {\n\t\t\tvar geometry = arguments[0];\n\t\t\treturn RelateOp.relate(this, geometry);\n\t\t} else if (arguments.length === 2) {\n\t\t\tvar _geometry = arguments[0],\n\t\t\t    intersectionPattern = arguments[1];\n\t\t\treturn RelateOp.relate(this, _geometry).matches(intersectionPattern);\n\t\t}\n\t},\n\tgetCentroid: function getCentroid() {\n\t\tif (this.isEmpty()) return this._factory.createPoint();\n\t\tvar centPt = Centroid.getCentroid(this);\n\t\treturn this.createPointFromInternalCoord(centPt, this);\n\t},\n\tgetInteriorPoint: function getInteriorPoint() {\n\t\tif (this.isEmpty()) return this._factory.createPoint();\n\t\tvar interiorPt = null;\n\t\tvar dim = this.getDimension();\n\t\tif (dim === 0) {\n\t\t\tvar intPt = new InteriorPointPoint(this);\n\t\t\tinteriorPt = intPt.getInteriorPoint();\n\t\t} else if (dim === 1) {\n\t\t\tvar intPt = new InteriorPointLine(this);\n\t\t\tinteriorPt = intPt.getInteriorPoint();\n\t\t} else {\n\t\t\tvar intPt = new InteriorPointArea(this);\n\t\t\tinteriorPt = intPt.getInteriorPoint();\n\t\t}\n\t\treturn this.createPointFromInternalCoord(interiorPt, this);\n\t},\n\tsymDifference: function symDifference(other) {\n\t\tif (this.isEmpty() || other.isEmpty()) {\n\t\t\tif (this.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.SYMDIFFERENCE, this, other, this._factory);\n\t\t\tif (this.isEmpty()) return other.copy();\n\t\t\tif (other.isEmpty()) return this.copy();\n\t\t}\n\t\tthis.checkNotGeometryCollection(this);\n\t\tthis.checkNotGeometryCollection(other);\n\t\treturn SnapIfNeededOverlayOp.overlayOp(this, other, OverlayOp.SYMDIFFERENCE);\n\t},\n\tcreatePointFromInternalCoord: function createPointFromInternalCoord(coord, exemplar) {\n\t\texemplar.getPrecisionModel().makePrecise(coord);\n\t\treturn exemplar.getFactory().createPoint(coord);\n\t},\n\ttoText: function toText() {\n\t\tvar writer = new WKTWriter();\n\t\treturn writer.write(this);\n\t},\n\ttoString: function toString() {\n\t\tthis.toText();\n\t},\n\tcontains: function contains(g) {\n\t\treturn RelateOp.contains(this, g);\n\t},\n\tdifference: function difference(other) {\n\t\tif (this.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.DIFFERENCE, this, other, this._factory);\n\t\tif (other.isEmpty()) return this.copy();\n\t\tthis.checkNotGeometryCollection(this);\n\t\tthis.checkNotGeometryCollection(other);\n\t\treturn SnapIfNeededOverlayOp.overlayOp(this, other, OverlayOp.DIFFERENCE);\n\t},\n\tisSimple: function isSimple() {\n\t\tvar op = new IsSimpleOp(this);\n\t\treturn op.isSimple();\n\t},\n\tisWithinDistance: function isWithinDistance(geom, distance) {\n\t\tvar envDist = this.getEnvelopeInternal().distance(geom.getEnvelopeInternal());\n\t\tif (envDist > distance) return false;\n\t\treturn DistanceOp.isWithinDistance(this, geom, distance);\n\t},\n\tdistance: function distance(g) {\n\t\treturn DistanceOp.distance(this, g);\n\t},\n\tisEquivalentClass: function isEquivalentClass(other) {\n\t\treturn this.getClass() === other.getClass();\n\t}\n});\n\nvar version = '1.6.0 (ac4d0f6)';\n\nexports.version = version;\nexports.algorithm = algorithm;\nexports.densify = densify;\nexports.dissolve = dissolve;\nexports.geom = geom;\nexports.geomgraph = geomgraph;\nexports.index = index;\nexports.io = io;\nexports.noding = noding;\nexports.operation = operation;\nexports.precision = precision;\nexports.simplify = simplify;\nexports.triangulate = triangulate;\nexports.linearref = linearref;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=jsts.js.map\n","/* eslint no-console:0 */\n/**\n * This is the main entry point for KaTeX. Here, we expose functions for\n * rendering expressions either to DOM nodes or to markup strings.\n *\n * We also expose the ParseError class to check if errors thrown from KaTeX are\n * errors in the expression, or errors in javascript handling.\n */\n\nvar ParseError = require(\"./src/ParseError\");\nvar Settings = require(\"./src/Settings\");\n\nvar buildTree = require(\"./src/buildTree\");\nvar parseTree = require(\"./src/parseTree\");\nvar utils = require(\"./src/utils\");\n\n/**\n * Parse and build an expression, and place that expression in the DOM node\n * given.\n */\nvar render = function(expression, baseNode, options) {\n    utils.clearNode(baseNode);\n\n    var settings = new Settings(options);\n\n    var tree = parseTree(expression, settings);\n    var node = buildTree(tree, expression, settings).toNode();\n\n    baseNode.appendChild(node);\n};\n\n// KaTeX's styles don't work properly in quirks mode. Print out an error, and\n// disable rendering.\nif (typeof document !== \"undefined\") {\n    if (document.compatMode !== \"CSS1Compat\") {\n        typeof console !== \"undefined\" && console.warn(\n            \"Warning: KaTeX doesn't work in quirks mode. Make sure your \" +\n                \"website has a suitable doctype.\");\n\n        render = function() {\n            throw new ParseError(\"KaTeX doesn't work in quirks mode.\");\n        };\n    }\n}\n\n/**\n * Parse and build an expression, and return the markup for that.\n */\nvar renderToString = function(expression, options) {\n    var settings = new Settings(options);\n\n    var tree = parseTree(expression, settings);\n    return buildTree(tree, expression, settings).toMarkup();\n};\n\n/**\n * Parse an expression and return the parse tree.\n */\nvar generateParseTree = function(expression, options) {\n    var settings = new Settings(options);\n    return parseTree(expression, settings);\n};\n\nmodule.exports = {\n    render: render,\n    renderToString: renderToString,\n    /**\n     * NOTE: This method is not currently recommended for public use.\n     * The internal tree representation is unstable and is very likely\n     * to change. Use at your own risk.\n     */\n    __parse: generateParseTree,\n    ParseError: ParseError\n};\n","/**\n * The Lexer class handles tokenizing the input in various ways. Since our\n * parser expects us to be able to backtrack, the lexer allows lexing from any\n * given starting point.\n *\n * Its main exposed function is the `lex` function, which takes a position to\n * lex from and a type of token to lex. It defers to the appropriate `_innerLex`\n * function.\n *\n * The various `_innerLex` functions perform the actual lexing of different\n * kinds.\n */\n\nvar matchAt = require(\"match-at\");\n\nvar ParseError = require(\"./ParseError\");\n\n// The main lexer class\nfunction Lexer(input) {\n    this.input = input;\n    this.pos = 0;\n}\n\n/**\n * The resulting token returned from `lex`.\n *\n * It consists of the token text plus some position information.\n * The position information is essentially a range in an input string,\n * but instead of referencing the bare input string, we refer to the lexer.\n * That way it is possible to attach extra metadata to the input string,\n * like for example a file name or similar.\n *\n * The position information (all three parameters) is optional,\n * so it is OK to construct synthetic tokens if appropriate.\n * Not providing available position information may lead to\n * degraded error reporting, though.\n *\n * @param {string}  text   the text of this token\n * @param {number=} start  the start offset, zero-based inclusive\n * @param {number=} end    the end offset, zero-based exclusive\n * @param {Lexer=}  lexer  the lexer which in turn holds the input string\n */\nfunction Token(text, start, end, lexer) {\n    this.text = text;\n    this.start = start;\n    this.end = end;\n    this.lexer = lexer;\n}\n\n/**\n * Given a pair of tokens (this and endToken), compute a “Token” encompassing\n * the whole input range enclosed by these two.\n *\n * @param {Token}  endToken  last token of the range, inclusive\n * @param {string} text      the text of the newly constructed token\n */\nToken.prototype.range = function(endToken, text) {\n    if (endToken.lexer !== this.lexer) {\n        return new Token(text); // sorry, no position information available\n    }\n    return new Token(text, this.start, endToken.end, this.lexer);\n};\n\n/* The following tokenRegex\n * - matches typical whitespace (but not NBSP etc.) using its first group\n * - does not match any control character \\x00-\\x1f except whitespace\n * - does not match a bare backslash\n * - matches any ASCII character except those just mentioned\n * - does not match the BMP private use area \\uE000-\\uF8FF\n * - does not match bare surrogate code units\n * - matches any BMP character except for those just described\n * - matches any valid Unicode surrogate pair\n * - matches a backslash followed by one or more letters\n * - matches a backslash followed by any BMP character, including newline\n * Just because the Lexer matches something doesn't mean it's valid input:\n * If there is no matching function or symbol definition, the Parser will\n * still reject the input.\n */\nvar tokenRegex = new RegExp(\n    \"([ \\r\\n\\t]+)|\" +                                 // whitespace\n    \"([!-\\\\[\\\\]-\\u2027\\u202A-\\uD7FF\\uF900-\\uFFFF]\" +  // single codepoint\n    \"|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]\" +               // surrogate pair\n    \"|\\\\\\\\(?:[a-zA-Z]+|[^\\uD800-\\uDFFF])\" +           // function name\n    \")\"\n);\n\n/**\n * This function lexes a single token.\n */\nLexer.prototype.lex = function() {\n    var input = this.input;\n    var pos = this.pos;\n    if (pos === input.length) {\n        return new Token(\"EOF\", pos, pos, this);\n    }\n    var match = matchAt(tokenRegex, input, pos);\n    if (match === null) {\n        throw new ParseError(\n            \"Unexpected character: '\" + input[pos] + \"'\",\n            new Token(input[pos], pos, pos + 1, this));\n    }\n    var text = match[2] || \" \";\n    var start = this.pos;\n    this.pos += match[0].length;\n    var end = this.pos;\n    return new Token(text, start, end, this);\n};\n\nmodule.exports = Lexer;\n","/**\n * This file contains the “gullet” where macros are expanded\n * until only non-macro tokens remain.\n */\n\nvar Lexer = require(\"./Lexer\");\n\nfunction MacroExpander(input, macros) {\n    this.lexer = new Lexer(input);\n    this.macros = macros;\n    this.stack = []; // contains tokens in REVERSE order\n    this.discardedWhiteSpace = [];\n}\n\n/**\n * Recursively expand first token, then return first non-expandable token.\n */\nMacroExpander.prototype.nextToken = function() {\n    for (;;) {\n        if (this.stack.length === 0) {\n            this.stack.push(this.lexer.lex());\n        }\n        var topToken = this.stack.pop();\n        var name = topToken.text;\n        if (!(name.charAt(0) === \"\\\\\" && this.macros.hasOwnProperty(name))) {\n            return topToken;\n        }\n        var expansion = this.macros[name];\n        if (typeof expansion === \"string\") {\n            var bodyLexer = new Lexer(expansion);\n            expansion = [];\n            var tok = bodyLexer.lex();\n            while (tok.text !== \"EOF\") {\n                expansion.push(tok);\n                tok = bodyLexer.lex();\n            }\n            expansion.reverse(); // to fit in with stack using push and pop\n            this.macros[name] = expansion;\n        }\n        this.stack = this.stack.concat(expansion);\n    }\n};\n\nMacroExpander.prototype.get = function(ignoreSpace) {\n    this.discardedWhiteSpace = [];\n    var token = this.nextToken();\n    if (ignoreSpace) {\n        while (token.text === \" \") {\n            this.discardedWhiteSpace.push(token);\n            token = this.nextToken();\n        }\n    }\n    return token;\n};\n\n/**\n * Undo the effect of the preceding call to the get method.\n * A call to this method MUST be immediately preceded and immediately followed\n * by a call to get.  Only used during mode switching, i.e. after one token\n * was got in the old mode but should get got again in a new mode\n * with possibly different whitespace handling.\n */\nMacroExpander.prototype.unget = function(token) {\n    this.stack.push(token);\n    while (this.discardedWhiteSpace.length !== 0) {\n        this.stack.push(this.discardedWhiteSpace.pop());\n    }\n};\n\nmodule.exports = MacroExpander;\n","/**\n * This file contains information about the options that the Parser carries\n * around with it while parsing. Data is held in an `Options` object, and when\n * recursing, a new `Options` object can be created with the `.with*` and\n * `.reset` functions.\n */\n\n/**\n * This is the main options class. It contains the style, size, color, and font\n * of the current parse level. It also contains the style and size of the parent\n * parse level, so size changes can be handled efficiently.\n *\n * Each of the `.with*` and `.reset` functions passes its current style and size\n * as the parentStyle and parentSize of the new options class, so parent\n * handling is taken care of automatically.\n */\nfunction Options(data) {\n    this.style = data.style;\n    this.color = data.color;\n    this.size = data.size;\n    this.phantom = data.phantom;\n    this.font = data.font;\n\n    if (data.parentStyle === undefined) {\n        this.parentStyle = data.style;\n    } else {\n        this.parentStyle = data.parentStyle;\n    }\n\n    if (data.parentSize === undefined) {\n        this.parentSize = data.size;\n    } else {\n        this.parentSize = data.parentSize;\n    }\n}\n\n/**\n * Returns a new options object with the same properties as \"this\".  Properties\n * from \"extension\" will be copied to the new options object.\n */\nOptions.prototype.extend = function(extension) {\n    var data = {\n        style: this.style,\n        size: this.size,\n        color: this.color,\n        parentStyle: this.style,\n        parentSize: this.size,\n        phantom: this.phantom,\n        font: this.font\n    };\n\n    for (var key in extension) {\n        if (extension.hasOwnProperty(key)) {\n            data[key] = extension[key];\n        }\n    }\n\n    return new Options(data);\n};\n\n/**\n * Create a new options object with the given style.\n */\nOptions.prototype.withStyle = function(style) {\n    return this.extend({\n        style: style\n    });\n};\n\n/**\n * Create a new options object with the given size.\n */\nOptions.prototype.withSize = function(size) {\n    return this.extend({\n        size: size\n    });\n};\n\n/**\n * Create a new options object with the given color.\n */\nOptions.prototype.withColor = function(color) {\n    return this.extend({\n        color: color\n    });\n};\n\n/**\n * Create a new options object with \"phantom\" set to true.\n */\nOptions.prototype.withPhantom = function() {\n    return this.extend({\n        phantom: true\n    });\n};\n\n/**\n * Create a new options objects with the give font.\n */\nOptions.prototype.withFont = function(font) {\n    return this.extend({\n        font: font || this.font\n    });\n};\n\n/**\n * Create a new options object with the same style, size, and color. This is\n * used so that parent style and size changes are handled correctly.\n */\nOptions.prototype.reset = function() {\n    return this.extend({});\n};\n\n/**\n * A map of color names to CSS colors.\n * TODO(emily): Remove this when we have real macros\n */\nvar colorMap = {\n    \"katex-blue\": \"#6495ed\",\n    \"katex-orange\": \"#ffa500\",\n    \"katex-pink\": \"#ff00af\",\n    \"katex-red\": \"#df0030\",\n    \"katex-green\": \"#28ae7b\",\n    \"katex-gray\": \"gray\",\n    \"katex-purple\": \"#9d38bd\",\n    \"katex-blueA\": \"#ccfaff\",\n    \"katex-blueB\": \"#80f6ff\",\n    \"katex-blueC\": \"#63d9ea\",\n    \"katex-blueD\": \"#11accd\",\n    \"katex-blueE\": \"#0c7f99\",\n    \"katex-tealA\": \"#94fff5\",\n    \"katex-tealB\": \"#26edd5\",\n    \"katex-tealC\": \"#01d1c1\",\n    \"katex-tealD\": \"#01a995\",\n    \"katex-tealE\": \"#208170\",\n    \"katex-greenA\": \"#b6ffb0\",\n    \"katex-greenB\": \"#8af281\",\n    \"katex-greenC\": \"#74cf70\",\n    \"katex-greenD\": \"#1fab54\",\n    \"katex-greenE\": \"#0d923f\",\n    \"katex-goldA\": \"#ffd0a9\",\n    \"katex-goldB\": \"#ffbb71\",\n    \"katex-goldC\": \"#ff9c39\",\n    \"katex-goldD\": \"#e07d10\",\n    \"katex-goldE\": \"#a75a05\",\n    \"katex-redA\": \"#fca9a9\",\n    \"katex-redB\": \"#ff8482\",\n    \"katex-redC\": \"#f9685d\",\n    \"katex-redD\": \"#e84d39\",\n    \"katex-redE\": \"#bc2612\",\n    \"katex-maroonA\": \"#ffbde0\",\n    \"katex-maroonB\": \"#ff92c6\",\n    \"katex-maroonC\": \"#ed5fa6\",\n    \"katex-maroonD\": \"#ca337c\",\n    \"katex-maroonE\": \"#9e034e\",\n    \"katex-purpleA\": \"#ddd7ff\",\n    \"katex-purpleB\": \"#c6b9fc\",\n    \"katex-purpleC\": \"#aa87ff\",\n    \"katex-purpleD\": \"#7854ab\",\n    \"katex-purpleE\": \"#543b78\",\n    \"katex-mintA\": \"#f5f9e8\",\n    \"katex-mintB\": \"#edf2df\",\n    \"katex-mintC\": \"#e0e5cc\",\n    \"katex-grayA\": \"#f6f7f7\",\n    \"katex-grayB\": \"#f0f1f2\",\n    \"katex-grayC\": \"#e3e5e6\",\n    \"katex-grayD\": \"#d6d8da\",\n    \"katex-grayE\": \"#babec2\",\n    \"katex-grayF\": \"#888d93\",\n    \"katex-grayG\": \"#626569\",\n    \"katex-grayH\": \"#3b3e40\",\n    \"katex-grayI\": \"#21242c\",\n    \"katex-kaBlue\": \"#314453\",\n    \"katex-kaGreen\": \"#71B307\"\n};\n\n/**\n * Gets the CSS color of the current options object, accounting for the\n * `colorMap`.\n */\nOptions.prototype.getColor = function() {\n    if (this.phantom) {\n        return \"transparent\";\n    } else {\n        return colorMap[this.color] || this.color;\n    }\n};\n\nmodule.exports = Options;\n","/**\n * This is the ParseError class, which is the main error thrown by KaTeX\n * functions when something has gone wrong. This is used to distinguish internal\n * errors from errors in the expression that the user provided.\n *\n * If possible, a caller should provide a Token or ParseNode with information\n * about where in the source string the problem occurred.\n *\n * @param {string} message  The error message\n * @param {(Token|ParseNode)=} token  An object providing position information\n */\nfunction ParseError(message, token) {\n    var error = \"KaTeX parse error: \" + message;\n    var start;\n    var end;\n\n    if (token && token.lexer && token.start <= token.end) {\n        // If we have the input and a position, make the error a bit fancier\n\n        // Get the input\n        var input = token.lexer.input;\n\n        // Prepend some information\n        start = token.start;\n        end = token.end;\n        if (start === input.length) {\n            error += \" at end of input: \";\n        } else {\n            error += \" at position \" + (start + 1) + \": \";\n        }\n\n        // Underline token in question using combining underscores\n        var underlined = input.slice(start, end).replace(/[^]/g, \"$&\\u0332\");\n\n        // Extract some context from the input and add it to the error\n        var left;\n        if (start > 15) {\n            left = \"…\" + input.slice(start - 15, start);\n        } else {\n            left = input.slice(0, start);\n        }\n        var right;\n        if (end + 15 < input.length) {\n            right = input.slice(end, end + 15) + \"…\";\n        } else {\n            right = input.slice(end);\n        }\n        error += left + underlined + right;\n    }\n\n    // Some hackery to make ParseError a prototype of Error\n    // See http://stackoverflow.com/a/8460753\n    var self = new Error(error);\n    self.name = \"ParseError\";\n    self.__proto__ = ParseError.prototype;\n\n    self.position = start;\n    return self;\n}\n\n// More hackery\nParseError.prototype.__proto__ = Error.prototype;\n\nmodule.exports = ParseError;\n","/* eslint no-constant-condition:0 */\nvar functions = require(\"./functions\");\nvar environments = require(\"./environments\");\nvar MacroExpander = require(\"./MacroExpander\");\nvar symbols = require(\"./symbols\");\nvar utils = require(\"./utils\");\nvar cjkRegex = require(\"./unicodeRegexes\").cjkRegex;\n\nvar parseData = require(\"./parseData\");\nvar ParseError = require(\"./ParseError\");\n\n/**\n * This file contains the parser used to parse out a TeX expression from the\n * input. Since TeX isn't context-free, standard parsers don't work particularly\n * well.\n *\n * The strategy of this parser is as such:\n *\n * The main functions (the `.parse...` ones) take a position in the current\n * parse string to parse tokens from. The lexer (found in Lexer.js, stored at\n * this.lexer) also supports pulling out tokens at arbitrary places. When\n * individual tokens are needed at a position, the lexer is called to pull out a\n * token, which is then used.\n *\n * The parser has a property called \"mode\" indicating the mode that\n * the parser is currently in. Currently it has to be one of \"math\" or\n * \"text\", which denotes whether the current environment is a math-y\n * one or a text-y one (e.g. inside \\text). Currently, this serves to\n * limit the functions which can be used in text mode.\n *\n * The main functions then return an object which contains the useful data that\n * was parsed at its given point, and a new position at the end of the parsed\n * data. The main functions can call each other and continue the parsing by\n * using the returned position as a new starting point.\n *\n * There are also extra `.handle...` functions, which pull out some reused\n * functionality into self-contained functions.\n *\n * The earlier functions return ParseNodes.\n * The later functions (which are called deeper in the parse) sometimes return\n * ParseFuncOrArgument, which contain a ParseNode as well as some data about\n * whether the parsed object is a function which is missing some arguments, or a\n * standalone object which can be used as an argument to another function.\n */\n\n/**\n * Main Parser class\n */\nfunction Parser(input, settings) {\n    // Create a new macro expander (gullet) and (indirectly via that) also a\n    // new lexer (mouth) for this parser (stomach, in the language of TeX)\n    this.gullet = new MacroExpander(input, settings.macros);\n    // Store the settings for use in parsing\n    this.settings = settings;\n    // Count leftright depth (for \\middle errors)\n    this.leftrightDepth = 0;\n}\n\nvar ParseNode = parseData.ParseNode;\n\n/**\n * An initial function (without its arguments), or an argument to a function.\n * The `result` argument should be a ParseNode.\n */\nfunction ParseFuncOrArgument(result, isFunction, token) {\n    this.result = result;\n    // Is this a function (i.e. is it something defined in functions.js)?\n    this.isFunction = isFunction;\n    this.token = token;\n}\n\n/**\n * Checks a result to make sure it has the right type, and throws an\n * appropriate error otherwise.\n *\n * @param {boolean=} consume whether to consume the expected token,\n *                           defaults to true\n */\nParser.prototype.expect = function(text, consume) {\n    if (this.nextToken.text !== text) {\n        throw new ParseError(\n            \"Expected '\" + text + \"', got '\" + this.nextToken.text + \"'\",\n            this.nextToken\n        );\n    }\n    if (consume !== false) {\n        this.consume();\n    }\n};\n\n/**\n * Considers the current look ahead token as consumed,\n * and fetches the one after that as the new look ahead.\n */\nParser.prototype.consume = function() {\n    this.nextToken = this.gullet.get(this.mode === \"math\");\n};\n\nParser.prototype.switchMode = function(newMode) {\n    this.gullet.unget(this.nextToken);\n    this.mode = newMode;\n    this.consume();\n};\n\n/**\n * Main parsing function, which parses an entire input.\n *\n * @return {?Array.<ParseNode>}\n */\nParser.prototype.parse = function() {\n    // Try to parse the input\n    this.mode = \"math\";\n    this.consume();\n    var parse = this.parseInput();\n    return parse;\n};\n\n/**\n * Parses an entire input tree.\n */\nParser.prototype.parseInput = function() {\n    // Parse an expression\n    var expression = this.parseExpression(false);\n    // If we succeeded, make sure there's an EOF at the end\n    this.expect(\"EOF\", false);\n    return expression;\n};\n\nvar endOfExpression = [\"}\", \"\\\\end\", \"\\\\right\", \"&\", \"\\\\\\\\\", \"\\\\cr\"];\n\n/**\n * Parses an \"expression\", which is a list of atoms.\n *\n * @param {boolean} breakOnInfix  Should the parsing stop when we hit infix\n *                  nodes? This happens when functions have higher precendence\n *                  than infix nodes in implicit parses.\n *\n * @param {?string} breakOnTokenText  The text of the token that the expression\n *                  should end with, or `null` if something else should end the\n *                  expression.\n *\n * @return {ParseNode}\n */\nParser.prototype.parseExpression = function(breakOnInfix, breakOnTokenText) {\n    var body = [];\n    // Keep adding atoms to the body until we can't parse any more atoms (either\n    // we reached the end, a }, or a \\right)\n    while (true) {\n        var lex = this.nextToken;\n        if (endOfExpression.indexOf(lex.text) !== -1) {\n            break;\n        }\n        if (breakOnTokenText && lex.text === breakOnTokenText) {\n            break;\n        }\n        if (breakOnInfix && functions[lex.text] && functions[lex.text].infix) {\n            break;\n        }\n        var atom = this.parseAtom();\n        if (!atom) {\n            if (!this.settings.throwOnError && lex.text[0] === \"\\\\\") {\n                var errorNode = this.handleUnsupportedCmd();\n                body.push(errorNode);\n                continue;\n            }\n\n            break;\n        }\n        body.push(atom);\n    }\n    return this.handleInfixNodes(body);\n};\n\n/**\n * Rewrites infix operators such as \\over with corresponding commands such\n * as \\frac.\n *\n * There can only be one infix operator per group.  If there's more than one\n * then the expression is ambiguous.  This can be resolved by adding {}.\n *\n * @returns {Array}\n */\nParser.prototype.handleInfixNodes = function(body) {\n    var overIndex = -1;\n    var funcName;\n\n    for (var i = 0; i < body.length; i++) {\n        var node = body[i];\n        if (node.type === \"infix\") {\n            if (overIndex !== -1) {\n                throw new ParseError(\n                    \"only one infix operator per group\",\n                    node.value.token);\n            }\n            overIndex = i;\n            funcName = node.value.replaceWith;\n        }\n    }\n\n    if (overIndex !== -1) {\n        var numerNode;\n        var denomNode;\n\n        var numerBody = body.slice(0, overIndex);\n        var denomBody = body.slice(overIndex + 1);\n\n        if (numerBody.length === 1 && numerBody[0].type === \"ordgroup\") {\n            numerNode = numerBody[0];\n        } else {\n            numerNode = new ParseNode(\"ordgroup\", numerBody, this.mode);\n        }\n\n        if (denomBody.length === 1 && denomBody[0].type === \"ordgroup\") {\n            denomNode = denomBody[0];\n        } else {\n            denomNode = new ParseNode(\"ordgroup\", denomBody, this.mode);\n        }\n\n        var value = this.callFunction(\n            funcName, [numerNode, denomNode], null);\n        return [new ParseNode(value.type, value, this.mode)];\n    } else {\n        return body;\n    }\n};\n\n// The greediness of a superscript or subscript\nvar SUPSUB_GREEDINESS = 1;\n\n/**\n * Handle a subscript or superscript with nice errors.\n */\nParser.prototype.handleSupSubscript = function(name) {\n    var symbolToken = this.nextToken;\n    var symbol = symbolToken.text;\n    this.consume();\n    var group = this.parseGroup();\n\n    if (!group) {\n        if (!this.settings.throwOnError && this.nextToken.text[0] === \"\\\\\") {\n            return this.handleUnsupportedCmd();\n        } else {\n            throw new ParseError(\n                \"Expected group after '\" + symbol + \"'\",\n                symbolToken\n            );\n        }\n    } else if (group.isFunction) {\n        // ^ and _ have a greediness, so handle interactions with functions'\n        // greediness\n        var funcGreediness = functions[group.result].greediness;\n        if (funcGreediness > SUPSUB_GREEDINESS) {\n            return this.parseFunction(group);\n        } else {\n            throw new ParseError(\n                \"Got function '\" + group.result + \"' with no arguments \" +\n                    \"as \" + name, symbolToken);\n        }\n    } else {\n        return group.result;\n    }\n};\n\n/**\n * Converts the textual input of an unsupported command into a text node\n * contained within a color node whose color is determined by errorColor\n */\nParser.prototype.handleUnsupportedCmd = function() {\n    var text = this.nextToken.text;\n    var textordArray = [];\n\n    for (var i = 0; i < text.length; i++) {\n        textordArray.push(new ParseNode(\"textord\", text[i], \"text\"));\n    }\n\n    var textNode = new ParseNode(\n        \"text\",\n        {\n            body: textordArray,\n            type: \"text\"\n        },\n        this.mode);\n\n    var colorNode = new ParseNode(\n        \"color\",\n        {\n            color: this.settings.errorColor,\n            value: [textNode],\n            type: \"color\"\n        },\n        this.mode);\n\n    this.consume();\n    return colorNode;\n};\n\n/**\n * Parses a group with optional super/subscripts.\n *\n * @return {?ParseNode}\n */\nParser.prototype.parseAtom = function() {\n    // The body of an atom is an implicit group, so that things like\n    // \\left(x\\right)^2 work correctly.\n    var base = this.parseImplicitGroup();\n\n    // In text mode, we don't have superscripts or subscripts\n    if (this.mode === \"text\") {\n        return base;\n    }\n\n    // Note that base may be empty (i.e. null) at this point.\n\n    var superscript;\n    var subscript;\n    while (true) {\n        // Lex the first token\n        var lex = this.nextToken;\n\n        if (lex.text === \"\\\\limits\" || lex.text === \"\\\\nolimits\") {\n            // We got a limit control\n            if (!base || base.type !== \"op\") {\n                throw new ParseError(\n                    \"Limit controls must follow a math operator\",\n                    lex);\n            } else {\n                var limits = lex.text === \"\\\\limits\";\n                base.value.limits = limits;\n                base.value.alwaysHandleSupSub = true;\n            }\n            this.consume();\n        } else if (lex.text === \"^\") {\n            // We got a superscript start\n            if (superscript) {\n                throw new ParseError(\"Double superscript\", lex);\n            }\n            superscript = this.handleSupSubscript(\"superscript\");\n        } else if (lex.text === \"_\") {\n            // We got a subscript start\n            if (subscript) {\n                throw new ParseError(\"Double subscript\", lex);\n            }\n            subscript = this.handleSupSubscript(\"subscript\");\n        } else if (lex.text === \"'\") {\n            // We got a prime\n            var prime = new ParseNode(\"textord\", \"\\\\prime\", this.mode);\n\n            // Many primes can be grouped together, so we handle this here\n            var primes = [prime];\n            this.consume();\n            // Keep lexing tokens until we get something that's not a prime\n            while (this.nextToken.text === \"'\") {\n                // For each one, add another prime to the list\n                primes.push(prime);\n                this.consume();\n            }\n            // Put them into an ordgroup as the superscript\n            superscript = new ParseNode(\"ordgroup\", primes, this.mode);\n        } else {\n            // If it wasn't ^, _, or ', stop parsing super/subscripts\n            break;\n        }\n    }\n\n    if (superscript || subscript) {\n        // If we got either a superscript or subscript, create a supsub\n        return new ParseNode(\"supsub\", {\n            base: base,\n            sup: superscript,\n            sub: subscript\n        }, this.mode);\n    } else {\n        // Otherwise return the original body\n        return base;\n    }\n};\n\n// A list of the size-changing functions, for use in parseImplicitGroup\nvar sizeFuncs = [\n    \"\\\\tiny\", \"\\\\scriptsize\", \"\\\\footnotesize\", \"\\\\small\", \"\\\\normalsize\",\n    \"\\\\large\", \"\\\\Large\", \"\\\\LARGE\", \"\\\\huge\", \"\\\\Huge\"\n];\n\n// A list of the style-changing functions, for use in parseImplicitGroup\nvar styleFuncs = [\n    \"\\\\displaystyle\", \"\\\\textstyle\", \"\\\\scriptstyle\", \"\\\\scriptscriptstyle\"\n];\n\n/**\n * Parses an implicit group, which is a group that starts at the end of a\n * specified, and ends right before a higher explicit group ends, or at EOL. It\n * is used for functions that appear to affect the current style, like \\Large or\n * \\textrm, where instead of keeping a style we just pretend that there is an\n * implicit grouping after it until the end of the group. E.g.\n *   small text {\\Large large text} small text again\n * It is also used for \\left and \\right to get the correct grouping.\n *\n * @return {?ParseNode}\n */\nParser.prototype.parseImplicitGroup = function() {\n    var start = this.parseSymbol();\n\n    if (start == null) {\n        // If we didn't get anything we handle, fall back to parseFunction\n        return this.parseFunction();\n    }\n\n    var func = start.result;\n    var body;\n\n    if (func === \"\\\\left\") {\n        // If we see a left:\n        // Parse the entire left function (including the delimiter)\n        var left = this.parseFunction(start);\n        // Parse out the implicit body\n        ++this.leftrightDepth;\n        body = this.parseExpression(false);\n        --this.leftrightDepth;\n        // Check the next token\n        this.expect(\"\\\\right\", false);\n        var right = this.parseFunction();\n        return new ParseNode(\"leftright\", {\n            body: body,\n            left: left.value.value,\n            right: right.value.value\n        }, this.mode);\n    } else if (func === \"\\\\begin\") {\n        // begin...end is similar to left...right\n        var begin = this.parseFunction(start);\n        var envName = begin.value.name;\n        if (!environments.hasOwnProperty(envName)) {\n            throw new ParseError(\n                \"No such environment: \" + envName, begin.value.nameGroup);\n        }\n        // Build the environment object. Arguments and other information will\n        // be made available to the begin and end methods using properties.\n        var env = environments[envName];\n        var args = this.parseArguments(\"\\\\begin{\" + envName + \"}\", env);\n        var context = {\n            mode: this.mode,\n            envName: envName,\n            parser: this,\n            positions: args.pop()\n        };\n        var result = env.handler(context, args);\n        this.expect(\"\\\\end\", false);\n        var endNameToken = this.nextToken;\n        var end = this.parseFunction();\n        if (end.value.name !== envName) {\n            throw new ParseError(\n                \"Mismatch: \\\\begin{\" + envName + \"} matched \" +\n                \"by \\\\end{\" + end.value.name + \"}\",\n                endNameToken);\n        }\n        result.position = end.position;\n        return result;\n    } else if (utils.contains(sizeFuncs, func)) {\n        // If we see a sizing function, parse out the implict body\n        body = this.parseExpression(false);\n        return new ParseNode(\"sizing\", {\n            // Figure out what size to use based on the list of functions above\n            size: \"size\" + (utils.indexOf(sizeFuncs, func) + 1),\n            value: body\n        }, this.mode);\n    } else if (utils.contains(styleFuncs, func)) {\n        // If we see a styling function, parse out the implict body\n        body = this.parseExpression(true);\n        return new ParseNode(\"styling\", {\n            // Figure out what style to use by pulling out the style from\n            // the function name\n            style: func.slice(1, func.length - 5),\n            value: body\n        }, this.mode);\n    } else {\n        // Defer to parseFunction if it's not a function we handle\n        return this.parseFunction(start);\n    }\n};\n\n/**\n * Parses an entire function, including its base and all of its arguments.\n * The base might either have been parsed already, in which case\n * it is provided as an argument, or it's the next group in the input.\n *\n * @param {ParseFuncOrArgument=} baseGroup optional as described above\n * @return {?ParseNode}\n */\nParser.prototype.parseFunction = function(baseGroup) {\n    if (!baseGroup) {\n        baseGroup = this.parseGroup();\n    }\n\n    if (baseGroup) {\n        if (baseGroup.isFunction) {\n            var func = baseGroup.result;\n            var funcData = functions[func];\n            if (this.mode === \"text\" && !funcData.allowedInText) {\n                throw new ParseError(\n                    \"Can't use function '\" + func + \"' in text mode\",\n                    baseGroup.token);\n            }\n\n            var args = this.parseArguments(func, funcData);\n            var token = baseGroup.token;\n            var result = this.callFunction(func, args, args.pop(), token);\n            return new ParseNode(result.type, result, this.mode);\n        } else {\n            return baseGroup.result;\n        }\n    } else {\n        return null;\n    }\n};\n\n/**\n * Call a function handler with a suitable context and arguments.\n */\nParser.prototype.callFunction = function(name, args, positions, token) {\n    var context = {\n        funcName: name,\n        parser: this,\n        positions: positions,\n        token: token\n    };\n    return functions[name].handler(context, args);\n};\n\n/**\n * Parses the arguments of a function or environment\n *\n * @param {string} func  \"\\name\" or \"\\begin{name}\"\n * @param {{numArgs:number,numOptionalArgs:number|undefined}} funcData\n * @return the array of arguments, with the list of positions as last element\n */\nParser.prototype.parseArguments = function(func, funcData) {\n    var totalArgs = funcData.numArgs + funcData.numOptionalArgs;\n    if (totalArgs === 0) {\n        return [[this.pos]];\n    }\n\n    var baseGreediness = funcData.greediness;\n    var positions = [this.pos];\n    var args = [];\n\n    for (var i = 0; i < totalArgs; i++) {\n        var nextToken = this.nextToken;\n        var argType = funcData.argTypes && funcData.argTypes[i];\n        var arg;\n        if (i < funcData.numOptionalArgs) {\n            if (argType) {\n                arg = this.parseGroupOfType(argType, true);\n            } else {\n                arg = this.parseGroup(true);\n            }\n            if (!arg) {\n                args.push(null);\n                positions.push(this.pos);\n                continue;\n            }\n        } else {\n            if (argType) {\n                arg = this.parseGroupOfType(argType);\n            } else {\n                arg = this.parseGroup();\n            }\n            if (!arg) {\n                if (!this.settings.throwOnError &&\n                    this.nextToken.text[0] === \"\\\\\") {\n                    arg = new ParseFuncOrArgument(\n                        this.handleUnsupportedCmd(this.nextToken.text),\n                        false);\n                } else {\n                    throw new ParseError(\n                        \"Expected group after '\" + func + \"'\", nextToken);\n                }\n            }\n        }\n        var argNode;\n        if (arg.isFunction) {\n            var argGreediness =\n                functions[arg.result].greediness;\n            if (argGreediness > baseGreediness) {\n                argNode = this.parseFunction(arg);\n            } else {\n                throw new ParseError(\n                    \"Got function '\" + arg.result + \"' as \" +\n                    \"argument to '\" + func + \"'\", nextToken);\n            }\n        } else {\n            argNode = arg.result;\n        }\n        args.push(argNode);\n        positions.push(this.pos);\n    }\n\n    args.push(positions);\n\n    return args;\n};\n\n\n/**\n * Parses a group when the mode is changing.\n *\n * @return {?ParseFuncOrArgument}\n */\nParser.prototype.parseGroupOfType = function(innerMode, optional) {\n    var outerMode = this.mode;\n    // Handle `original` argTypes\n    if (innerMode === \"original\") {\n        innerMode = outerMode;\n    }\n\n    if (innerMode === \"color\") {\n        return this.parseColorGroup(optional);\n    }\n    if (innerMode === \"size\") {\n        return this.parseSizeGroup(optional);\n    }\n\n    this.switchMode(innerMode);\n    if (innerMode === \"text\") {\n        // text mode is special because it should ignore the whitespace before\n        // it\n        while (this.nextToken.text === \" \") {\n            this.consume();\n        }\n    }\n    // By the time we get here, innerMode is one of \"text\" or \"math\".\n    // We switch the mode of the parser, recurse, then restore the old mode.\n    var res = this.parseGroup(optional);\n    this.switchMode(outerMode);\n    return res;\n};\n\n/**\n * Parses a group, essentially returning the string formed by the\n * brace-enclosed tokens plus some position information.\n *\n * @param {string} modeName  Used to describe the mode in error messages\n * @param {boolean=} optional  Whether the group is optional or required\n */\nParser.prototype.parseStringGroup = function(modeName, optional) {\n    if (optional && this.nextToken.text !== \"[\") {\n        return null;\n    }\n    var outerMode = this.mode;\n    this.mode = \"text\";\n    this.expect(optional ? \"[\" : \"{\");\n    var str = \"\";\n    var firstToken = this.nextToken;\n    var lastToken = firstToken;\n    while (this.nextToken.text !== (optional ? \"]\" : \"}\")) {\n        if (this.nextToken.text === \"EOF\") {\n            throw new ParseError(\n                \"Unexpected end of input in \" + modeName,\n                firstToken.range(this.nextToken, str));\n        }\n        lastToken = this.nextToken;\n        str += lastToken.text;\n        this.consume();\n    }\n    this.mode = outerMode;\n    this.expect(optional ? \"]\" : \"}\");\n    return firstToken.range(lastToken, str);\n};\n\n/**\n * Parses a regex-delimited group: the largest sequence of tokens\n * whose concatenated strings match `regex`. Returns the string\n * formed by the tokens plus some position information.\n *\n * @param {RegExp} regex\n * @param {string} modeName  Used to describe the mode in error messages\n */\nParser.prototype.parseRegexGroup = function(regex, modeName) {\n    var outerMode = this.mode;\n    this.mode = \"text\";\n    var firstToken = this.nextToken;\n    var lastToken = firstToken;\n    var str = \"\";\n    while (this.nextToken.text !== \"EOF\"\n           && regex.test(str + this.nextToken.text)) {\n        lastToken = this.nextToken;\n        str += lastToken.text;\n        this.consume();\n    }\n    if (str === \"\") {\n        throw new ParseError(\n            \"Invalid \" + modeName + \": '\" + firstToken.text + \"'\",\n            firstToken);\n    }\n    this.mode = outerMode;\n    return firstToken.range(lastToken, str);\n};\n\n/**\n * Parses a color description.\n */\nParser.prototype.parseColorGroup = function(optional) {\n    var res = this.parseStringGroup(\"color\", optional);\n    if (!res) {\n        return null;\n    }\n    var match = (/^(#[a-z0-9]+|[a-z]+)$/i).exec(res.text);\n    if (!match) {\n        throw new ParseError(\"Invalid color: '\" + res.text + \"'\", res);\n    }\n    return new ParseFuncOrArgument(\n        new ParseNode(\"color\", match[0], this.mode),\n        false);\n};\n\n/**\n * Parses a size specification, consisting of magnitude and unit.\n */\nParser.prototype.parseSizeGroup = function(optional) {\n    var res;\n    if (!optional && this.nextToken.text !== \"{\") {\n        res = this.parseRegexGroup(\n            /^[-+]? *(?:$|\\d+|\\d+\\.\\d*|\\.\\d*) *[a-z]{0,2}$/, \"size\");\n    } else {\n        res = this.parseStringGroup(\"size\", optional);\n    }\n    if (!res) {\n        return null;\n    }\n    var match = (/([-+]?) *(\\d+(?:\\.\\d*)?|\\.\\d+) *([a-z]{2})/).exec(res.text);\n    if (!match) {\n        throw new ParseError(\"Invalid size: '\" + res.text + \"'\", res);\n    }\n    var data = {\n        number: +(match[1] + match[2]), // sign + magnitude, cast to number\n        unit: match[3]\n    };\n    if (data.unit !== \"em\" && data.unit !== \"ex\" && data.unit !== \"mu\") {\n        throw new ParseError(\"Invalid unit: '\" + data.unit + \"'\", res);\n    }\n    return new ParseFuncOrArgument(\n        new ParseNode(\"color\", data, this.mode),\n        false);\n};\n\n/**\n * If the argument is false or absent, this parses an ordinary group,\n * which is either a single nucleus (like \"x\") or an expression\n * in braces (like \"{x+y}\").\n * If the argument is true, it parses either a bracket-delimited expression\n * (like \"[x+y]\") or returns null to indicate the absence of a\n * bracket-enclosed group.\n *\n * @param {boolean=} optional  Whether the group is optional or required\n * @return {?ParseFuncOrArgument}\n */\nParser.prototype.parseGroup = function(optional) {\n    var firstToken = this.nextToken;\n    // Try to parse an open brace\n    if (this.nextToken.text === (optional ? \"[\" : \"{\")) {\n        // If we get a brace, parse an expression\n        this.consume();\n        var expression = this.parseExpression(false, optional ? \"]\" : null);\n        var lastToken = this.nextToken;\n        // Make sure we get a close brace\n        this.expect(optional ? \"]\" : \"}\");\n        if (this.mode === \"text\") {\n            this.formLigatures(expression);\n        }\n        return new ParseFuncOrArgument(\n            new ParseNode(\"ordgroup\", expression, this.mode,\n                          firstToken, lastToken),\n            false);\n    } else {\n        // Otherwise, just return a nucleus, or nothing for an optional group\n        return optional ? null : this.parseSymbol();\n    }\n};\n\n/**\n * Form ligature-like combinations of characters for text mode.\n * This includes inputs like \"--\", \"---\", \"``\" and \"''\".\n * The result will simply replace multiple textord nodes with a single\n * character in each value by a single textord node having multiple\n * characters in its value.  The representation is still ASCII source.\n *\n * @param {Array.<ParseNode>} group  the nodes of this group,\n *                                   list will be moified in place\n */\nParser.prototype.formLigatures = function(group) {\n    var i;\n    var n = group.length - 1;\n    for (i = 0; i < n; ++i) {\n        var a = group[i];\n        var v = a.value;\n        if (v === \"-\" && group[i + 1].value === \"-\") {\n            if (i + 1 < n && group[i + 2].value === \"-\") {\n                group.splice(i, 3, new ParseNode(\n                    \"textord\", \"---\", \"text\", a, group[i + 2]));\n                n -= 2;\n            } else {\n                group.splice(i, 2, new ParseNode(\n                    \"textord\", \"--\", \"text\", a, group[i + 1]));\n                n -= 1;\n            }\n        }\n        if ((v === \"'\" || v === \"`\") && group[i + 1].value === v) {\n            group.splice(i, 2, new ParseNode(\n                \"textord\", v + v, \"text\", a, group[i + 1]));\n            n -= 1;\n        }\n    }\n};\n\n/**\n * Parse a single symbol out of the string. Here, we handle both the functions\n * we have defined, as well as the single character symbols\n *\n * @return {?ParseFuncOrArgument}\n */\nParser.prototype.parseSymbol = function() {\n    var nucleus = this.nextToken;\n\n    if (functions[nucleus.text]) {\n        this.consume();\n        // If there exists a function with this name, we return the function and\n        // say that it is a function.\n        return new ParseFuncOrArgument(\n            nucleus.text,\n            true, nucleus);\n    } else if (symbols[this.mode][nucleus.text]) {\n        this.consume();\n        // Otherwise if this is a no-argument function, find the type it\n        // corresponds to in the symbols map\n        return new ParseFuncOrArgument(\n            new ParseNode(symbols[this.mode][nucleus.text].group,\n                          nucleus.text, this.mode, nucleus),\n            false, nucleus);\n    } else if (this.mode === \"text\" && cjkRegex.test(nucleus.text)) {\n        this.consume();\n        return new ParseFuncOrArgument(\n            new ParseNode(\"textord\", nucleus.text, this.mode, nucleus),\n            false, nucleus);\n    } else {\n        return null;\n    }\n};\n\nParser.prototype.ParseNode = ParseNode;\n\nmodule.exports = Parser;\n","/**\n * This is a module for storing settings passed into KaTeX. It correctly handles\n * default settings.\n */\n\n/**\n * Helper function for getting a default value if the value is undefined\n */\nfunction get(option, defaultValue) {\n    return option === undefined ? defaultValue : option;\n}\n\n/**\n * The main Settings object\n *\n * The current options stored are:\n *  - displayMode: Whether the expression should be typeset by default in\n *                 textstyle or displaystyle (default false)\n */\nfunction Settings(options) {\n    // allow null options\n    options = options || {};\n    this.displayMode = get(options.displayMode, false);\n    this.throwOnError = get(options.throwOnError, true);\n    this.errorColor = get(options.errorColor, \"#cc0000\");\n    this.macros = options.macros || {};\n}\n\nmodule.exports = Settings;\n","/**\n * This file contains information and classes for the various kinds of styles\n * used in TeX. It provides a generic `Style` class, which holds information\n * about a specific style. It then provides instances of all the different kinds\n * of styles possible, and provides functions to move between them and get\n * information about them.\n */\n\nvar sigmas = require(\"./fontMetrics.js\").sigmas;\n\nvar metrics = [{}, {}, {}];\nvar i;\nfor (var key in sigmas) {\n    if (sigmas.hasOwnProperty(key)) {\n        for (i = 0; i < 3; i++) {\n            metrics[i][key] = sigmas[key][i];\n        }\n    }\n}\nfor (i = 0; i < 3; i++) {\n    metrics[i].emPerEx = sigmas.xHeight[i] / sigmas.quad[i];\n}\n\n/**\n * The main style class. Contains a unique id for the style, a size (which is\n * the same for cramped and uncramped version of a style), a cramped flag, and a\n * size multiplier, which gives the size difference between a style and\n * textstyle.\n */\nfunction Style(id, size, multiplier, cramped) {\n    this.id = id;\n    this.size = size;\n    this.cramped = cramped;\n    this.sizeMultiplier = multiplier;\n    this.metrics = metrics[size > 0 ? size - 1 : 0];\n}\n\n/**\n * Get the style of a superscript given a base in the current style.\n */\nStyle.prototype.sup = function() {\n    return styles[sup[this.id]];\n};\n\n/**\n * Get the style of a subscript given a base in the current style.\n */\nStyle.prototype.sub = function() {\n    return styles[sub[this.id]];\n};\n\n/**\n * Get the style of a fraction numerator given the fraction in the current\n * style.\n */\nStyle.prototype.fracNum = function() {\n    return styles[fracNum[this.id]];\n};\n\n/**\n * Get the style of a fraction denominator given the fraction in the current\n * style.\n */\nStyle.prototype.fracDen = function() {\n    return styles[fracDen[this.id]];\n};\n\n/**\n * Get the cramped version of a style (in particular, cramping a cramped style\n * doesn't change the style).\n */\nStyle.prototype.cramp = function() {\n    return styles[cramp[this.id]];\n};\n\n/**\n * HTML class name, like \"displaystyle cramped\"\n */\nStyle.prototype.cls = function() {\n    return sizeNames[this.size] + (this.cramped ? \" cramped\" : \" uncramped\");\n};\n\n/**\n * HTML Reset class name, like \"reset-textstyle\"\n */\nStyle.prototype.reset = function() {\n    return resetNames[this.size];\n};\n\n/**\n * Return if this style is tightly spaced (scriptstyle/scriptscriptstyle)\n */\nStyle.prototype.isTight = function() {\n    return this.size >= 2;\n};\n\n// IDs of the different styles\nvar D = 0;\nvar Dc = 1;\nvar T = 2;\nvar Tc = 3;\nvar S = 4;\nvar Sc = 5;\nvar SS = 6;\nvar SSc = 7;\n\n// String names for the different sizes\nvar sizeNames = [\n    \"displaystyle textstyle\",\n    \"textstyle\",\n    \"scriptstyle\",\n    \"scriptscriptstyle\"\n];\n\n// Reset names for the different sizes\nvar resetNames = [\n    \"reset-textstyle\",\n    \"reset-textstyle\",\n    \"reset-scriptstyle\",\n    \"reset-scriptscriptstyle\"\n];\n\n// Instances of the different styles\nvar styles = [\n    new Style(D, 0, 1.0, false),\n    new Style(Dc, 0, 1.0, true),\n    new Style(T, 1, 1.0, false),\n    new Style(Tc, 1, 1.0, true),\n    new Style(S, 2, 0.7, false),\n    new Style(Sc, 2, 0.7, true),\n    new Style(SS, 3, 0.5, false),\n    new Style(SSc, 3, 0.5, true)\n];\n\n// Lookup tables for switching from one style to another\nvar sup = [S, Sc, S, Sc, SS, SSc, SS, SSc];\nvar sub = [Sc, Sc, Sc, Sc, SSc, SSc, SSc, SSc];\nvar fracNum = [T, Tc, S, Sc, SS, SSc, SS, SSc];\nvar fracDen = [Tc, Tc, Sc, Sc, SSc, SSc, SSc, SSc];\nvar cramp = [Dc, Dc, Tc, Tc, Sc, Sc, SSc, SSc];\n\n// We only export some of the styles. Also, we don't export the `Style` class so\n// no more styles can be generated.\nmodule.exports = {\n    DISPLAY: styles[D],\n    TEXT: styles[T],\n    SCRIPT: styles[S],\n    SCRIPTSCRIPT: styles[SS]\n};\n","/* eslint no-console:0 */\n/**\n * This module contains general functions that can be used for building\n * different kinds of domTree nodes in a consistent manner.\n */\n\nvar domTree = require(\"./domTree\");\nvar fontMetrics = require(\"./fontMetrics\");\nvar symbols = require(\"./symbols\");\nvar utils = require(\"./utils\");\n\nvar greekCapitals = [\n    \"\\\\Gamma\",\n    \"\\\\Delta\",\n    \"\\\\Theta\",\n    \"\\\\Lambda\",\n    \"\\\\Xi\",\n    \"\\\\Pi\",\n    \"\\\\Sigma\",\n    \"\\\\Upsilon\",\n    \"\\\\Phi\",\n    \"\\\\Psi\",\n    \"\\\\Omega\"\n];\n\n// The following have to be loaded from Main-Italic font, using class mainit\nvar mainitLetters = [\n    \"\\u0131\",   // dotless i, \\imath\n    \"\\u0237\",   // dotless j, \\jmath\n    \"\\u00a3\"   // \\pounds\n];\n\n/**\n * Makes a symbolNode after translation via the list of symbols in symbols.js.\n * Correctly pulls out metrics for the character, and optionally takes a list of\n * classes to be attached to the node.\n *\n * TODO: make argument order closer to makeSpan\n * TODO: add a separate argument for math class (e.g. `mop`, `mbin`), which\n * should if present come first in `classes`.\n */\nvar makeSymbol = function(value, fontFamily, mode, options, classes) {\n    // Replace the value with its replaced value from symbol.js\n    if (symbols[mode][value] && symbols[mode][value].replace) {\n        value = symbols[mode][value].replace;\n    }\n\n    var metrics = fontMetrics.getCharacterMetrics(value, fontFamily);\n\n    var symbolNode;\n    if (metrics) {\n        var italic = metrics.italic;\n        if (mode === \"text\") {\n            italic = 0;\n        }\n        symbolNode = new domTree.symbolNode(\n            value, metrics.height, metrics.depth, italic, metrics.skew,\n            classes);\n    } else {\n        // TODO(emily): Figure out a good way to only print this in development\n        typeof console !== \"undefined\" && console.warn(\n            \"No character metrics for '\" + value + \"' in style '\" +\n                fontFamily + \"'\");\n        symbolNode = new domTree.symbolNode(value, 0, 0, 0, 0, classes);\n    }\n\n    if (options) {\n        if (options.style.isTight()) {\n            symbolNode.classes.push(\"mtight\");\n        }\n        if (options.getColor()) {\n            symbolNode.style.color = options.getColor();\n        }\n    }\n\n    return symbolNode;\n};\n\n/**\n * Makes a symbol in Main-Regular or AMS-Regular.\n * Used for rel, bin, open, close, inner, and punct.\n */\nvar mathsym = function(value, mode, options, classes) {\n    // Decide what font to render the symbol in by its entry in the symbols\n    // table.\n    // Have a special case for when the value = \\ because the \\ is used as a\n    // textord in unsupported command errors but cannot be parsed as a regular\n    // text ordinal and is therefore not present as a symbol in the symbols\n    // table for text\n    if (value === \"\\\\\" || symbols[mode][value].font === \"main\") {\n        return makeSymbol(value, \"Main-Regular\", mode, options, classes);\n    } else {\n        return makeSymbol(\n            value, \"AMS-Regular\", mode, options, classes.concat([\"amsrm\"]));\n    }\n};\n\n/**\n * Makes a symbol in the default font for mathords and textords.\n */\nvar mathDefault = function(value, mode, options, classes, type) {\n    if (type === \"mathord\") {\n        return mathit(value, mode, options, classes);\n    } else if (type === \"textord\") {\n        return makeSymbol(\n            value, \"Main-Regular\", mode, options, classes.concat([\"mathrm\"]));\n    } else {\n        throw new Error(\"unexpected type: \" + type + \" in mathDefault\");\n    }\n};\n\n/**\n * Makes a symbol in the italic math font.\n */\nvar mathit = function(value, mode, options, classes) {\n    if (/[0-9]/.test(value.charAt(0)) ||\n            // glyphs for \\imath and \\jmath do not exist in Math-Italic so we\n            // need to use Main-Italic instead\n            utils.contains(mainitLetters, value) ||\n            utils.contains(greekCapitals, value)) {\n        return makeSymbol(\n            value, \"Main-Italic\", mode, options, classes.concat([\"mainit\"]));\n    } else {\n        return makeSymbol(\n            value, \"Math-Italic\", mode, options, classes.concat([\"mathit\"]));\n    }\n};\n\n/**\n * Makes either a mathord or textord in the correct font and color.\n */\nvar makeOrd = function(group, options, type) {\n    var mode = group.mode;\n    var value = group.value;\n    if (symbols[mode][value] && symbols[mode][value].replace) {\n        value = symbols[mode][value].replace;\n    }\n\n    var classes = [\"mord\"];\n\n    var font = options.font;\n    if (font) {\n        if (font === \"mathit\" || utils.contains(mainitLetters, value)) {\n            return mathit(value, mode, options, classes);\n        } else {\n            var fontName = fontMap[font].fontName;\n            if (fontMetrics.getCharacterMetrics(value, fontName)) {\n                return makeSymbol(\n                    value, fontName, mode, options, classes.concat([font]));\n            } else {\n                return mathDefault(value, mode, options, classes, type);\n            }\n        }\n    } else {\n        return mathDefault(value, mode, options, classes, type);\n    }\n};\n\n/**\n * Calculate the height, depth, and maxFontSize of an element based on its\n * children.\n */\nvar sizeElementFromChildren = function(elem) {\n    var height = 0;\n    var depth = 0;\n    var maxFontSize = 0;\n\n    if (elem.children) {\n        for (var i = 0; i < elem.children.length; i++) {\n            if (elem.children[i].height > height) {\n                height = elem.children[i].height;\n            }\n            if (elem.children[i].depth > depth) {\n                depth = elem.children[i].depth;\n            }\n            if (elem.children[i].maxFontSize > maxFontSize) {\n                maxFontSize = elem.children[i].maxFontSize;\n            }\n        }\n    }\n\n    elem.height = height;\n    elem.depth = depth;\n    elem.maxFontSize = maxFontSize;\n};\n\n/**\n * Makes a span with the given list of classes, list of children, and options.\n *\n * TODO: Ensure that `options` is always provided (currently some call sites\n * don't pass it).\n * TODO: add a separate argument for math class (e.g. `mop`, `mbin`), which\n * should if present come first in `classes`.\n */\nvar makeSpan = function(classes, children, options) {\n    var span = new domTree.span(classes, children, options);\n\n    sizeElementFromChildren(span);\n\n    return span;\n};\n\n/**\n * Prepends the given children to the given span, updating height, depth, and\n * maxFontSize.\n */\nvar prependChildren = function(span, children) {\n    span.children = children.concat(span.children);\n\n    sizeElementFromChildren(span);\n};\n\n/**\n * Makes a document fragment with the given list of children.\n */\nvar makeFragment = function(children) {\n    var fragment = new domTree.documentFragment(children);\n\n    sizeElementFromChildren(fragment);\n\n    return fragment;\n};\n\n/**\n * Makes an element placed in each of the vlist elements to ensure that each\n * element has the same max font size. To do this, we create a zero-width space\n * with the correct font size.\n */\nvar makeFontSizer = function(options, fontSize) {\n    var fontSizeInner = makeSpan([], [new domTree.symbolNode(\"\\u200b\")]);\n    fontSizeInner.style.fontSize =\n        (fontSize / options.style.sizeMultiplier) + \"em\";\n\n    var fontSizer = makeSpan(\n        [\"fontsize-ensurer\", \"reset-\" + options.size, \"size5\"],\n        [fontSizeInner]);\n\n    return fontSizer;\n};\n\n/**\n * Makes a vertical list by stacking elements and kerns on top of each other.\n * Allows for many different ways of specifying the positioning method.\n *\n * Arguments:\n *  - children: A list of child or kern nodes to be stacked on top of each other\n *              (i.e. the first element will be at the bottom, and the last at\n *              the top). Element nodes are specified as\n *                {type: \"elem\", elem: node}\n *              while kern nodes are specified as\n *                {type: \"kern\", size: size}\n *  - positionType: The method by which the vlist should be positioned. Valid\n *                  values are:\n *                   - \"individualShift\": The children list only contains elem\n *                                        nodes, and each node contains an extra\n *                                        \"shift\" value of how much it should be\n *                                        shifted (note that shifting is always\n *                                        moving downwards). positionData is\n *                                        ignored.\n *                   - \"top\": The positionData specifies the topmost point of\n *                            the vlist (note this is expected to be a height,\n *                            so positive values move up)\n *                   - \"bottom\": The positionData specifies the bottommost point\n *                               of the vlist (note this is expected to be a\n *                               depth, so positive values move down\n *                   - \"shift\": The vlist will be positioned such that its\n *                              baseline is positionData away from the baseline\n *                              of the first child. Positive values move\n *                              downwards.\n *                   - \"firstBaseline\": The vlist will be positioned such that\n *                                      its baseline is aligned with the\n *                                      baseline of the first child.\n *                                      positionData is ignored. (this is\n *                                      equivalent to \"shift\" with\n *                                      positionData=0)\n *  - positionData: Data used in different ways depending on positionType\n *  - options: An Options object\n *\n */\nvar makeVList = function(children, positionType, positionData, options) {\n    var depth;\n    var currPos;\n    var i;\n    if (positionType === \"individualShift\") {\n        var oldChildren = children;\n        children = [oldChildren[0]];\n\n        // Add in kerns to the list of children to get each element to be\n        // shifted to the correct specified shift\n        depth = -oldChildren[0].shift - oldChildren[0].elem.depth;\n        currPos = depth;\n        for (i = 1; i < oldChildren.length; i++) {\n            var diff = -oldChildren[i].shift - currPos -\n                oldChildren[i].elem.depth;\n            var size = diff -\n                (oldChildren[i - 1].elem.height +\n                 oldChildren[i - 1].elem.depth);\n\n            currPos = currPos + diff;\n\n            children.push({type: \"kern\", size: size});\n            children.push(oldChildren[i]);\n        }\n    } else if (positionType === \"top\") {\n        // We always start at the bottom, so calculate the bottom by adding up\n        // all the sizes\n        var bottom = positionData;\n        for (i = 0; i < children.length; i++) {\n            if (children[i].type === \"kern\") {\n                bottom -= children[i].size;\n            } else {\n                bottom -= children[i].elem.height + children[i].elem.depth;\n            }\n        }\n        depth = bottom;\n    } else if (positionType === \"bottom\") {\n        depth = -positionData;\n    } else if (positionType === \"shift\") {\n        depth = -children[0].elem.depth - positionData;\n    } else if (positionType === \"firstBaseline\") {\n        depth = -children[0].elem.depth;\n    } else {\n        depth = 0;\n    }\n\n    // Make the fontSizer\n    var maxFontSize = 0;\n    for (i = 0; i < children.length; i++) {\n        if (children[i].type === \"elem\") {\n            maxFontSize = Math.max(maxFontSize, children[i].elem.maxFontSize);\n        }\n    }\n    var fontSizer = makeFontSizer(options, maxFontSize);\n\n    // Create a new list of actual children at the correct offsets\n    var realChildren = [];\n    currPos = depth;\n    for (i = 0; i < children.length; i++) {\n        if (children[i].type === \"kern\") {\n            currPos += children[i].size;\n        } else {\n            var child = children[i].elem;\n\n            var shift = -child.depth - currPos;\n            currPos += child.height + child.depth;\n\n            var childWrap = makeSpan([], [fontSizer, child]);\n            childWrap.height -= shift;\n            childWrap.depth += shift;\n            childWrap.style.top = shift + \"em\";\n\n            realChildren.push(childWrap);\n        }\n    }\n\n    // Add in an element at the end with no offset to fix the calculation of\n    // baselines in some browsers (namely IE, sometimes safari)\n    var baselineFix = makeSpan(\n        [\"baseline-fix\"], [fontSizer, new domTree.symbolNode(\"\\u200b\")]);\n    realChildren.push(baselineFix);\n\n    var vlist = makeSpan([\"vlist\"], realChildren);\n    // Fix the final height and depth, in case there were kerns at the ends\n    // since the makeSpan calculation won't take that in to account.\n    vlist.height = Math.max(currPos, vlist.height);\n    vlist.depth = Math.max(-depth, vlist.depth);\n    return vlist;\n};\n\n// A table of size -> font size for the different sizing functions\nvar sizingMultiplier = {\n    size1: 0.5,\n    size2: 0.7,\n    size3: 0.8,\n    size4: 0.9,\n    size5: 1.0,\n    size6: 1.2,\n    size7: 1.44,\n    size8: 1.73,\n    size9: 2.07,\n    size10: 2.49\n};\n\n// A map of spacing functions to their attributes, like size and corresponding\n// CSS class\nvar spacingFunctions = {\n    \"\\\\qquad\": {\n        size: \"2em\",\n        className: \"qquad\"\n    },\n    \"\\\\quad\": {\n        size: \"1em\",\n        className: \"quad\"\n    },\n    \"\\\\enspace\": {\n        size: \"0.5em\",\n        className: \"enspace\"\n    },\n    \"\\\\;\": {\n        size: \"0.277778em\",\n        className: \"thickspace\"\n    },\n    \"\\\\:\": {\n        size: \"0.22222em\",\n        className: \"mediumspace\"\n    },\n    \"\\\\,\": {\n        size: \"0.16667em\",\n        className: \"thinspace\"\n    },\n    \"\\\\!\": {\n        size: \"-0.16667em\",\n        className: \"negativethinspace\"\n    }\n};\n\n/**\n * Maps TeX font commands to objects containing:\n * - variant: string used for \"mathvariant\" attribute in buildMathML.js\n * - fontName: the \"style\" parameter to fontMetrics.getCharacterMetrics\n */\n// A map between tex font commands an MathML mathvariant attribute values\nvar fontMap = {\n    // styles\n    \"mathbf\": {\n        variant: \"bold\",\n        fontName: \"Main-Bold\"\n    },\n    \"mathrm\": {\n        variant: \"normal\",\n        fontName: \"Main-Regular\"\n    },\n    \"textit\": {\n        variant: \"italic\",\n        fontName: \"Main-Italic\"\n    },\n\n    // \"mathit\" is missing because it requires the use of two fonts: Main-Italic\n    // and Math-Italic.  This is handled by a special case in makeOrd which ends\n    // up calling mathit.\n\n    // families\n    \"mathbb\": {\n        variant: \"double-struck\",\n        fontName: \"AMS-Regular\"\n    },\n    \"mathcal\": {\n        variant: \"script\",\n        fontName: \"Caligraphic-Regular\"\n    },\n    \"mathfrak\": {\n        variant: \"fraktur\",\n        fontName: \"Fraktur-Regular\"\n    },\n    \"mathscr\": {\n        variant: \"script\",\n        fontName: \"Script-Regular\"\n    },\n    \"mathsf\": {\n        variant: \"sans-serif\",\n        fontName: \"SansSerif-Regular\"\n    },\n    \"mathtt\": {\n        variant: \"monospace\",\n        fontName: \"Typewriter-Regular\"\n    }\n};\n\nmodule.exports = {\n    fontMap: fontMap,\n    makeSymbol: makeSymbol,\n    mathsym: mathsym,\n    makeSpan: makeSpan,\n    makeFragment: makeFragment,\n    makeVList: makeVList,\n    makeOrd: makeOrd,\n    prependChildren: prependChildren,\n    sizingMultiplier: sizingMultiplier,\n    spacingFunctions: spacingFunctions\n};\n","/* eslint no-console:0 */\n/**\n * This file does the main work of building a domTree structure from a parse\n * tree. The entry point is the `buildHTML` function, which takes a parse tree.\n * Then, the buildExpression, buildGroup, and various groupTypes functions are\n * called, to produce a final HTML tree.\n */\n\nvar ParseError = require(\"./ParseError\");\nvar Style = require(\"./Style\");\n\nvar buildCommon = require(\"./buildCommon\");\nvar delimiter = require(\"./delimiter\");\nvar domTree = require(\"./domTree\");\nvar fontMetrics = require(\"./fontMetrics\");\nvar utils = require(\"./utils\");\n\nvar makeSpan = buildCommon.makeSpan;\n\nvar isSpace = function(node) {\n    return node instanceof domTree.span && node.classes[0] === \"mspace\";\n};\n\n// Binary atoms (first class `mbin`) change into ordinary atoms (`mord`)\n// depending on their surroundings. See TeXbook pg. 442-446, Rules 5 and 6,\n// and the text before Rule 19.\n\nvar isBin = function(node) {\n    return node && node.classes[0] === \"mbin\";\n};\n\nvar isBinLeftCanceller = function(node, isRealGroup) {\n    // TODO: This code assumes that a node's math class is the first element\n    // of its `classes` array. A later cleanup should ensure this, for\n    // instance by changing the signature of `makeSpan`.\n    if (node) {\n        return utils.contains([\"mbin\", \"mopen\", \"mrel\", \"mop\", \"mpunct\"],\n                              node.classes[0]);\n    } else {\n        return isRealGroup;\n    }\n};\n\nvar isBinRightCanceller = function(node, isRealGroup) {\n    if (node) {\n        return utils.contains([\"mrel\", \"mclose\", \"mpunct\"], node.classes[0]);\n    } else {\n        return isRealGroup;\n    }\n};\n\n/**\n * Take a list of nodes, build them in order, and return a list of the built\n * nodes. documentFragments are flattened into their contents, so the\n * returned list contains no fragments. `isRealGroup` is true if `expression`\n * is a real group (no atoms will be added on either side), as opposed to\n * a partial group (e.g. one created by \\color).\n */\nvar buildExpression = function(expression, options, isRealGroup) {\n    // Parse expressions into `groups`.\n    var groups = [];\n    for (var i = 0; i < expression.length; i++) {\n        var group = expression[i];\n        var output = buildGroup(group, options);\n        if (output instanceof domTree.documentFragment) {\n            Array.prototype.push.apply(groups, output.children);\n        } else {\n            groups.push(output);\n        }\n    }\n    // At this point `groups` consists entirely of `symbolNode`s and `span`s.\n\n    // Explicit spaces (e.g., \\;, \\,) should be ignored with respect to atom\n    // spacing (e.g., \"add thick space between mord and mrel\"). Since CSS\n    // adjacency rules implement atom spacing, spaces should be invisible to\n    // CSS. So we splice them out of `groups` and into the atoms themselves.\n    var spaces = null;\n    for (i = 0; i < groups.length; i++) {\n        if (isSpace(groups[i])) {\n            spaces = spaces || [];\n            spaces.push(groups[i]);\n            groups.splice(i, 1);\n            i--;\n        } else if (spaces) {\n            if (groups[i] instanceof domTree.symbolNode) {\n                groups[i] = makeSpan([].concat(groups[i].classes), [groups[i]]);\n            }\n            buildCommon.prependChildren(groups[i], spaces);\n            spaces = null;\n        }\n    }\n    if (spaces) {\n        Array.prototype.push.apply(groups, spaces);\n    }\n\n    // Binary operators change to ordinary symbols in some contexts.\n    for (i = 0; i < groups.length; i++) {\n        if (isBin(groups[i])\n            && (isBinLeftCanceller(groups[i - 1], isRealGroup)\n                || isBinRightCanceller(groups[i + 1], isRealGroup))) {\n            groups[i].classes[0] = \"mord\";\n        }\n    }\n\n    return groups;\n};\n\n// Return math atom class (mclass) of a domTree.\nvar getTypeOfDomTree = function(node) {\n    if (node instanceof domTree.documentFragment) {\n        if (node.children.length) {\n            return getTypeOfDomTree(\n                node.children[node.children.length - 1]);\n        }\n    } else {\n        if (utils.contains([\"mord\", \"mop\", \"mbin\", \"mrel\", \"mopen\", \"mclose\",\n            \"mpunct\", \"minner\"], node.classes[0])) {\n            return node.classes[0];\n        }\n    }\n    return null;\n};\n\n/**\n * Sometimes, groups perform special rules when they have superscripts or\n * subscripts attached to them. This function lets the `supsub` group know that\n * its inner element should handle the superscripts and subscripts instead of\n * handling them itself.\n */\nvar shouldHandleSupSub = function(group, options) {\n    if (!group) {\n        return false;\n    } else if (group.type === \"op\") {\n        // Operators handle supsubs differently when they have limits\n        // (e.g. `\\displaystyle\\sum_2^3`)\n        return group.value.limits &&\n            (options.style.size === Style.DISPLAY.size ||\n            group.value.alwaysHandleSupSub);\n    } else if (group.type === \"accent\") {\n        return isCharacterBox(group.value.base);\n    } else {\n        return null;\n    }\n};\n\n/**\n * Sometimes we want to pull out the innermost element of a group. In most\n * cases, this will just be the group itself, but when ordgroups and colors have\n * a single element, we want to pull that out.\n */\nvar getBaseElem = function(group) {\n    if (!group) {\n        return false;\n    } else if (group.type === \"ordgroup\") {\n        if (group.value.length === 1) {\n            return getBaseElem(group.value[0]);\n        } else {\n            return group;\n        }\n    } else if (group.type === \"color\") {\n        if (group.value.value.length === 1) {\n            return getBaseElem(group.value.value[0]);\n        } else {\n            return group;\n        }\n    } else if (group.type === \"font\") {\n        return getBaseElem(group.value.body);\n    } else {\n        return group;\n    }\n};\n\n/**\n * TeXbook algorithms often reference \"character boxes\", which are simply groups\n * with a single character in them. To decide if something is a character box,\n * we find its innermost group, and see if it is a single character.\n */\nvar isCharacterBox = function(group) {\n    var baseElem = getBaseElem(group);\n\n    // These are all they types of groups which hold single characters\n    return baseElem.type === \"mathord\" ||\n        baseElem.type === \"textord\" ||\n        baseElem.type === \"bin\" ||\n        baseElem.type === \"rel\" ||\n        baseElem.type === \"inner\" ||\n        baseElem.type === \"open\" ||\n        baseElem.type === \"close\" ||\n        baseElem.type === \"punct\";\n};\n\nvar makeNullDelimiter = function(options, classes) {\n    return makeSpan(classes.concat([\n        \"sizing\", \"reset-\" + options.size, \"size5\",\n        options.style.reset(), Style.TEXT.cls(),\n        \"nulldelimiter\"]));\n};\n\n/**\n * This is a map of group types to the function used to handle that type.\n * Simpler types come at the beginning, while complicated types come afterwards.\n */\nvar groupTypes = {};\n\ngroupTypes.mathord = function(group, options) {\n    return buildCommon.makeOrd(group, options, \"mathord\");\n};\n\ngroupTypes.textord = function(group, options) {\n    return buildCommon.makeOrd(group, options, \"textord\");\n};\n\ngroupTypes.bin = function(group, options) {\n    return buildCommon.mathsym(\n        group.value, group.mode, options, [\"mbin\"]);\n};\n\ngroupTypes.rel = function(group, options) {\n    return buildCommon.mathsym(\n        group.value, group.mode, options, [\"mrel\"]);\n};\n\ngroupTypes.open = function(group, options) {\n    return buildCommon.mathsym(\n        group.value, group.mode, options, [\"mopen\"]);\n};\n\ngroupTypes.close = function(group, options) {\n    return buildCommon.mathsym(\n        group.value, group.mode, options, [\"mclose\"]);\n};\n\ngroupTypes.inner = function(group, options) {\n    return buildCommon.mathsym(\n        group.value, group.mode, options, [\"minner\"]);\n};\n\ngroupTypes.punct = function(group, options) {\n    return buildCommon.mathsym(\n        group.value, group.mode, options, [\"mpunct\"]);\n};\n\ngroupTypes.ordgroup = function(group, options) {\n    return makeSpan(\n        [\"mord\", options.style.cls()],\n        buildExpression(group.value, options.reset(), true),\n        options\n    );\n};\n\ngroupTypes.text = function(group, options) {\n    var newOptions = options.withFont(group.value.style);\n    var inner = buildExpression(group.value.body, newOptions, true);\n    for (var i = 0; i < inner.length - 1; i++) {\n        if (inner[i].tryCombine(inner[i + 1])) {\n            inner.splice(i + 1, 1);\n            i--;\n        }\n    }\n    return makeSpan([\"mord\", \"text\", newOptions.style.cls()],\n        inner, newOptions);\n};\n\ngroupTypes.color = function(group, options) {\n    var elements = buildExpression(\n        group.value.value,\n        options.withColor(group.value.color),\n        false\n    );\n\n    // \\color isn't supposed to affect the type of the elements it contains.\n    // To accomplish this, we wrap the results in a fragment, so the inner\n    // elements will be able to directly interact with their neighbors. For\n    // example, `\\color{red}{2 +} 3` has the same spacing as `2 + 3`\n    return new buildCommon.makeFragment(elements);\n};\n\ngroupTypes.supsub = function(group, options) {\n    // Superscript and subscripts are handled in the TeXbook on page\n    // 445-446, rules 18(a-f).\n\n    // Here is where we defer to the inner group if it should handle\n    // superscripts and subscripts itself.\n    if (shouldHandleSupSub(group.value.base, options)) {\n        return groupTypes[group.value.base.type](group, options);\n    }\n\n    var base = buildGroup(group.value.base, options.reset());\n    var supmid;\n    var submid;\n    var sup;\n    var sub;\n\n    var style = options.style;\n    var newOptions;\n\n    if (group.value.sup) {\n        newOptions = options.withStyle(style.sup());\n        sup = buildGroup(group.value.sup, newOptions);\n        supmid = makeSpan([style.reset(), style.sup().cls()],\n            [sup], newOptions);\n    }\n\n    if (group.value.sub) {\n        newOptions = options.withStyle(style.sub());\n        sub = buildGroup(group.value.sub, newOptions);\n        submid = makeSpan([style.reset(), style.sub().cls()],\n            [sub], newOptions);\n    }\n\n    // Rule 18a\n    var supShift;\n    var subShift;\n    if (isCharacterBox(group.value.base)) {\n        supShift = 0;\n        subShift = 0;\n    } else {\n        supShift = base.height - style.metrics.supDrop;\n        subShift = base.depth + style.metrics.subDrop;\n    }\n\n    // Rule 18c\n    var minSupShift;\n    if (style === Style.DISPLAY) {\n        minSupShift = style.metrics.sup1;\n    } else if (style.cramped) {\n        minSupShift = style.metrics.sup3;\n    } else {\n        minSupShift = style.metrics.sup2;\n    }\n\n    // scriptspace is a font-size-independent size, so scale it\n    // appropriately\n    var multiplier = Style.TEXT.sizeMultiplier *\n            style.sizeMultiplier;\n    var scriptspace =\n        (0.5 / fontMetrics.metrics.ptPerEm) / multiplier + \"em\";\n\n    var supsub;\n    if (!group.value.sup) {\n        // Rule 18b\n        subShift = Math.max(\n            subShift, style.metrics.sub1,\n            sub.height - 0.8 * style.metrics.xHeight);\n\n        supsub = buildCommon.makeVList([\n            {type: \"elem\", elem: submid}\n        ], \"shift\", subShift, options);\n\n        supsub.children[0].style.marginRight = scriptspace;\n\n        // Subscripts shouldn't be shifted by the base's italic correction.\n        // Account for that by shifting the subscript back the appropriate\n        // amount. Note we only do this when the base is a single symbol.\n        if (base instanceof domTree.symbolNode) {\n            supsub.children[0].style.marginLeft = -base.italic + \"em\";\n        }\n    } else if (!group.value.sub) {\n        // Rule 18c, d\n        supShift = Math.max(supShift, minSupShift,\n            sup.depth + 0.25 * style.metrics.xHeight);\n\n        supsub = buildCommon.makeVList([\n            {type: \"elem\", elem: supmid}\n        ], \"shift\", -supShift, options);\n\n        supsub.children[0].style.marginRight = scriptspace;\n    } else {\n        supShift = Math.max(\n            supShift, minSupShift, sup.depth + 0.25 * style.metrics.xHeight);\n        subShift = Math.max(subShift, style.metrics.sub2);\n\n        var ruleWidth = fontMetrics.metrics.defaultRuleThickness;\n\n        // Rule 18e\n        if ((supShift - sup.depth) - (sub.height - subShift) <\n                4 * ruleWidth) {\n            subShift = 4 * ruleWidth - (supShift - sup.depth) + sub.height;\n            var psi = 0.8 * style.metrics.xHeight - (supShift - sup.depth);\n            if (psi > 0) {\n                supShift += psi;\n                subShift -= psi;\n            }\n        }\n\n        supsub = buildCommon.makeVList([\n            {type: \"elem\", elem: submid, shift: subShift},\n            {type: \"elem\", elem: supmid, shift: -supShift}\n        ], \"individualShift\", null, options);\n\n        // See comment above about subscripts not being shifted\n        if (base instanceof domTree.symbolNode) {\n            supsub.children[0].style.marginLeft = -base.italic + \"em\";\n        }\n\n        supsub.children[0].style.marginRight = scriptspace;\n        supsub.children[1].style.marginRight = scriptspace;\n    }\n\n    // We ensure to wrap the supsub vlist in a span.msupsub to reset text-align\n    var mclass = getTypeOfDomTree(base) || \"mord\";\n    return makeSpan([mclass],\n        [base, makeSpan([\"msupsub\"], [supsub])],\n        options);\n};\n\ngroupTypes.genfrac = function(group, options) {\n    // Fractions are handled in the TeXbook on pages 444-445, rules 15(a-e).\n    // Figure out what style this fraction should be in based on the\n    // function used\n    var style = options.style;\n    if (group.value.size === \"display\") {\n        style = Style.DISPLAY;\n    } else if (group.value.size === \"text\") {\n        style = Style.TEXT;\n    }\n\n    var nstyle = style.fracNum();\n    var dstyle = style.fracDen();\n    var newOptions;\n\n    newOptions = options.withStyle(nstyle);\n    var numer = buildGroup(group.value.numer, newOptions);\n    var numerreset = makeSpan([style.reset(), nstyle.cls()],\n        [numer], newOptions);\n\n    newOptions = options.withStyle(dstyle);\n    var denom = buildGroup(group.value.denom, newOptions);\n    var denomreset = makeSpan([style.reset(), dstyle.cls()],\n        [denom], newOptions);\n\n    var ruleWidth;\n    if (group.value.hasBarLine) {\n        ruleWidth = fontMetrics.metrics.defaultRuleThickness /\n            options.style.sizeMultiplier;\n    } else {\n        ruleWidth = 0;\n    }\n\n    // Rule 15b\n    var numShift;\n    var clearance;\n    var denomShift;\n    if (style.size === Style.DISPLAY.size) {\n        numShift = style.metrics.num1;\n        if (ruleWidth > 0) {\n            clearance = 3 * ruleWidth;\n        } else {\n            clearance = 7 * fontMetrics.metrics.defaultRuleThickness;\n        }\n        denomShift = style.metrics.denom1;\n    } else {\n        if (ruleWidth > 0) {\n            numShift = style.metrics.num2;\n            clearance = ruleWidth;\n        } else {\n            numShift = style.metrics.num3;\n            clearance = 3 * fontMetrics.metrics.defaultRuleThickness;\n        }\n        denomShift = style.metrics.denom2;\n    }\n\n    var frac;\n    if (ruleWidth === 0) {\n        // Rule 15c\n        var candidateClearance =\n            (numShift - numer.depth) - (denom.height - denomShift);\n        if (candidateClearance < clearance) {\n            numShift += 0.5 * (clearance - candidateClearance);\n            denomShift += 0.5 * (clearance - candidateClearance);\n        }\n\n        frac = buildCommon.makeVList([\n            {type: \"elem\", elem: denomreset, shift: denomShift},\n            {type: \"elem\", elem: numerreset, shift: -numShift}\n        ], \"individualShift\", null, options);\n    } else {\n        // Rule 15d\n        var axisHeight = style.metrics.axisHeight;\n\n        if ((numShift - numer.depth) - (axisHeight + 0.5 * ruleWidth) <\n                clearance) {\n            numShift +=\n                clearance - ((numShift - numer.depth) -\n                             (axisHeight + 0.5 * ruleWidth));\n        }\n\n        if ((axisHeight - 0.5 * ruleWidth) - (denom.height - denomShift) <\n                clearance) {\n            denomShift +=\n                clearance - ((axisHeight - 0.5 * ruleWidth) -\n                             (denom.height - denomShift));\n        }\n\n        var mid = makeSpan(\n            [options.style.reset(), Style.TEXT.cls(), \"frac-line\"]);\n        // Manually set the height of the line because its height is\n        // created in CSS\n        mid.height = ruleWidth;\n\n        var midShift = -(axisHeight - 0.5 * ruleWidth);\n\n        frac = buildCommon.makeVList([\n            {type: \"elem\", elem: denomreset, shift: denomShift},\n            {type: \"elem\", elem: mid,        shift: midShift},\n            {type: \"elem\", elem: numerreset, shift: -numShift}\n        ], \"individualShift\", null, options);\n    }\n\n    // Since we manually change the style sometimes (with \\dfrac or \\tfrac),\n    // account for the possible size change here.\n    frac.height *= style.sizeMultiplier / options.style.sizeMultiplier;\n    frac.depth *= style.sizeMultiplier / options.style.sizeMultiplier;\n\n    // Rule 15e\n    var delimSize;\n    if (style.size === Style.DISPLAY.size) {\n        delimSize = style.metrics.delim1;\n    } else {\n        delimSize = style.metrics.delim2;\n    }\n\n    var leftDelim;\n    var rightDelim;\n    if (group.value.leftDelim == null) {\n        leftDelim = makeNullDelimiter(options, [\"mopen\"]);\n    } else {\n        leftDelim = delimiter.customSizedDelim(\n            group.value.leftDelim, delimSize, true,\n            options.withStyle(style), group.mode, [\"mopen\"]);\n    }\n    if (group.value.rightDelim == null) {\n        rightDelim = makeNullDelimiter(options, [\"mclose\"]);\n    } else {\n        rightDelim = delimiter.customSizedDelim(\n            group.value.rightDelim, delimSize, true,\n            options.withStyle(style), group.mode, [\"mclose\"]);\n    }\n\n    return makeSpan(\n        [\"mord\", options.style.reset(), style.cls()],\n        [leftDelim, makeSpan([\"mfrac\"], [frac]), rightDelim],\n        options);\n};\n\nvar calculateSize = function(sizeValue, style) {\n    var x = sizeValue.number;\n    if (sizeValue.unit === \"ex\") {\n        x *= style.metrics.emPerEx;\n    } else if (sizeValue.unit === \"mu\") {\n        x /= 18;\n    }\n    return x;\n};\n\ngroupTypes.array = function(group, options) {\n    var r;\n    var c;\n    var nr = group.value.body.length;\n    var nc = 0;\n    var body = new Array(nr);\n\n    var style = options.style;\n\n    // Horizontal spacing\n    var pt = 1 / fontMetrics.metrics.ptPerEm;\n    var arraycolsep = 5 * pt; // \\arraycolsep in article.cls\n\n    // Vertical spacing\n    var baselineskip = 12 * pt; // see size10.clo\n    // Default \\arraystretch from lttab.dtx\n    // TODO(gagern): may get redefined once we have user-defined macros\n    var arraystretch = utils.deflt(group.value.arraystretch, 1);\n    var arrayskip = arraystretch * baselineskip;\n    var arstrutHeight = 0.7 * arrayskip; // \\strutbox in ltfsstrc.dtx and\n    var arstrutDepth = 0.3 * arrayskip;  // \\@arstrutbox in lttab.dtx\n\n    var totalHeight = 0;\n    for (r = 0; r < group.value.body.length; ++r) {\n        var inrow = group.value.body[r];\n        var height = arstrutHeight; // \\@array adds an \\@arstrut\n        var depth = arstrutDepth;   // to each tow (via the template)\n\n        if (nc < inrow.length) {\n            nc = inrow.length;\n        }\n\n        var outrow = new Array(inrow.length);\n        for (c = 0; c < inrow.length; ++c) {\n            var elt = buildGroup(inrow[c], options);\n            if (depth < elt.depth) {\n                depth = elt.depth;\n            }\n            if (height < elt.height) {\n                height = elt.height;\n            }\n            outrow[c] = elt;\n        }\n\n        var gap = 0;\n        if (group.value.rowGaps[r]) {\n            gap = calculateSize(group.value.rowGaps[r].value, style);\n            if (gap > 0) { // \\@argarraycr\n                gap += arstrutDepth;\n                if (depth < gap) {\n                    depth = gap; // \\@xargarraycr\n                }\n                gap = 0;\n            }\n        }\n\n        outrow.height = height;\n        outrow.depth = depth;\n        totalHeight += height;\n        outrow.pos = totalHeight;\n        totalHeight += depth + gap; // \\@yargarraycr\n        body[r] = outrow;\n    }\n\n    var offset = totalHeight / 2 + style.metrics.axisHeight;\n    var colDescriptions = group.value.cols || [];\n    var cols = [];\n    var colSep;\n    var colDescrNum;\n    for (c = 0, colDescrNum = 0;\n         // Continue while either there are more columns or more column\n         // descriptions, so trailing separators don't get lost.\n         c < nc || colDescrNum < colDescriptions.length;\n         ++c, ++colDescrNum) {\n\n        var colDescr = colDescriptions[colDescrNum] || {};\n\n        var firstSeparator = true;\n        while (colDescr.type === \"separator\") {\n            // If there is more than one separator in a row, add a space\n            // between them.\n            if (!firstSeparator) {\n                colSep = makeSpan([\"arraycolsep\"], []);\n                colSep.style.width =\n                    fontMetrics.metrics.doubleRuleSep + \"em\";\n                cols.push(colSep);\n            }\n\n            if (colDescr.separator === \"|\") {\n                var separator = makeSpan(\n                    [\"vertical-separator\"],\n                    []);\n                separator.style.height = totalHeight + \"em\";\n                separator.style.verticalAlign =\n                    -(totalHeight - offset) + \"em\";\n\n                cols.push(separator);\n            } else {\n                throw new ParseError(\n                    \"Invalid separator type: \" + colDescr.separator);\n            }\n\n            colDescrNum++;\n            colDescr = colDescriptions[colDescrNum] || {};\n            firstSeparator = false;\n        }\n\n        if (c >= nc) {\n            continue;\n        }\n\n        var sepwidth;\n        if (c > 0 || group.value.hskipBeforeAndAfter) {\n            sepwidth = utils.deflt(colDescr.pregap, arraycolsep);\n            if (sepwidth !== 0) {\n                colSep = makeSpan([\"arraycolsep\"], []);\n                colSep.style.width = sepwidth + \"em\";\n                cols.push(colSep);\n            }\n        }\n\n        var col = [];\n        for (r = 0; r < nr; ++r) {\n            var row = body[r];\n            var elem = row[c];\n            if (!elem) {\n                continue;\n            }\n            var shift = row.pos - offset;\n            elem.depth = row.depth;\n            elem.height = row.height;\n            col.push({type: \"elem\", elem: elem, shift: shift});\n        }\n\n        col = buildCommon.makeVList(col, \"individualShift\", null, options);\n        col = makeSpan(\n            [\"col-align-\" + (colDescr.align || \"c\")],\n            [col]);\n        cols.push(col);\n\n        if (c < nc - 1 || group.value.hskipBeforeAndAfter) {\n            sepwidth = utils.deflt(colDescr.postgap, arraycolsep);\n            if (sepwidth !== 0) {\n                colSep = makeSpan([\"arraycolsep\"], []);\n                colSep.style.width = sepwidth + \"em\";\n                cols.push(colSep);\n            }\n        }\n    }\n    body = makeSpan([\"mtable\"], cols);\n    return makeSpan([\"mord\"], [body], options);\n};\n\ngroupTypes.spacing = function(group, options) {\n    if (group.value === \"\\\\ \" || group.value === \"\\\\space\" ||\n        group.value === \" \" || group.value === \"~\") {\n        // Spaces are generated by adding an actual space. Each of these\n        // things has an entry in the symbols table, so these will be turned\n        // into appropriate outputs.\n        if (group.mode === \"text\") {\n            return buildCommon.makeOrd(group, options, \"textord\");\n        } else {\n            return makeSpan([\"mspace\"],\n                [buildCommon.mathsym(group.value, group.mode, options)],\n                options);\n        }\n    } else {\n        // Other kinds of spaces are of arbitrary width. We use CSS to\n        // generate these.\n        return makeSpan(\n            [\"mspace\",\n                buildCommon.spacingFunctions[group.value].className],\n            [], options);\n    }\n};\n\ngroupTypes.llap = function(group, options) {\n    var inner = makeSpan(\n        [\"inner\"], [buildGroup(group.value.body, options.reset())]);\n    var fix = makeSpan([\"fix\"], []);\n    return makeSpan(\n        [\"mord\", \"llap\", options.style.cls()], [inner, fix], options);\n};\n\ngroupTypes.rlap = function(group, options) {\n    var inner = makeSpan(\n        [\"inner\"], [buildGroup(group.value.body, options.reset())]);\n    var fix = makeSpan([\"fix\"], []);\n    return makeSpan(\n        [\"mord\", \"rlap\", options.style.cls()], [inner, fix], options);\n};\n\ngroupTypes.op = function(group, options) {\n    // Operators are handled in the TeXbook pg. 443-444, rule 13(a).\n    var supGroup;\n    var subGroup;\n    var hasLimits = false;\n    if (group.type === \"supsub\") {\n        // If we have limits, supsub will pass us its group to handle. Pull\n        // out the superscript and subscript and set the group to the op in\n        // its base.\n        supGroup = group.value.sup;\n        subGroup = group.value.sub;\n        group = group.value.base;\n        hasLimits = true;\n    }\n\n    var style = options.style;\n\n    // Most operators have a large successor symbol, but these don't.\n    var noSuccessor = [\n        \"\\\\smallint\"\n    ];\n\n    var large = false;\n    if (style.size === Style.DISPLAY.size &&\n        group.value.symbol &&\n        !utils.contains(noSuccessor, group.value.body)) {\n\n        // Most symbol operators get larger in displaystyle (rule 13)\n        large = true;\n    }\n\n    var base;\n    var baseShift = 0;\n    var slant = 0;\n    if (group.value.symbol) {\n        // If this is a symbol, create the symbol.\n        var fontName = large ? \"Size2-Regular\" : \"Size1-Regular\";\n        base = buildCommon.makeSymbol(\n            group.value.body, fontName, \"math\", options,\n            [\"mop\", \"op-symbol\", large ? \"large-op\" : \"small-op\"]);\n\n        // Shift the symbol so its center lies on the axis (rule 13). It\n        // appears that our fonts have the centers of the symbols already\n        // almost on the axis, so these numbers are very small. Note we\n        // don't actually apply this here, but instead it is used either in\n        // the vlist creation or separately when there are no limits.\n        baseShift = (base.height - base.depth) / 2 -\n            style.metrics.axisHeight * style.sizeMultiplier;\n\n        // The slant of the symbol is just its italic correction.\n        slant = base.italic;\n    } else if (group.value.value) {\n        // If this is a list, compose that list.\n        var inner = buildExpression(group.value.value, options, true);\n\n        base = makeSpan([\"mop\"], inner, options);\n    } else {\n        // Otherwise, this is a text operator. Build the text from the\n        // operator's name.\n        // TODO(emily): Add a space in the middle of some of these\n        // operators, like \\limsup\n        var output = [];\n        for (var i = 1; i < group.value.body.length; i++) {\n            output.push(buildCommon.mathsym(group.value.body[i], group.mode));\n        }\n        base = makeSpan([\"mop\"], output, options);\n    }\n\n    if (hasLimits) {\n        // IE 8 clips \\int if it is in a display: inline-block. We wrap it\n        // in a new span so it is an inline, and works.\n        base = makeSpan([], [base]);\n\n        var supmid;\n        var supKern;\n        var submid;\n        var subKern;\n        var newOptions;\n        // We manually have to handle the superscripts and subscripts. This,\n        // aside from the kern calculations, is copied from supsub.\n        if (supGroup) {\n            newOptions = options.withStyle(style.sup());\n            var sup = buildGroup(supGroup, newOptions);\n            supmid = makeSpan([style.reset(), style.sup().cls()],\n                [sup], newOptions);\n\n            supKern = Math.max(\n                fontMetrics.metrics.bigOpSpacing1,\n                fontMetrics.metrics.bigOpSpacing3 - sup.depth);\n        }\n\n        if (subGroup) {\n            newOptions = options.withStyle(style.sub());\n            var sub = buildGroup(subGroup, newOptions);\n            submid = makeSpan([style.reset(), style.sub().cls()],\n                [sub], newOptions);\n\n            subKern = Math.max(\n                fontMetrics.metrics.bigOpSpacing2,\n                fontMetrics.metrics.bigOpSpacing4 - sub.height);\n        }\n\n        // Build the final group as a vlist of the possible subscript, base,\n        // and possible superscript.\n        var finalGroup;\n        var top;\n        var bottom;\n        if (!supGroup) {\n            top = base.height - baseShift;\n\n            finalGroup = buildCommon.makeVList([\n                {type: \"kern\", size: fontMetrics.metrics.bigOpSpacing5},\n                {type: \"elem\", elem: submid},\n                {type: \"kern\", size: subKern},\n                {type: \"elem\", elem: base}\n            ], \"top\", top, options);\n\n            // Here, we shift the limits by the slant of the symbol. Note\n            // that we are supposed to shift the limits by 1/2 of the slant,\n            // but since we are centering the limits adding a full slant of\n            // margin will shift by 1/2 that.\n            finalGroup.children[0].style.marginLeft = -slant + \"em\";\n        } else if (!subGroup) {\n            bottom = base.depth + baseShift;\n\n            finalGroup = buildCommon.makeVList([\n                {type: \"elem\", elem: base},\n                {type: \"kern\", size: supKern},\n                {type: \"elem\", elem: supmid},\n                {type: \"kern\", size: fontMetrics.metrics.bigOpSpacing5}\n            ], \"bottom\", bottom, options);\n\n            // See comment above about slants\n            finalGroup.children[1].style.marginLeft = slant + \"em\";\n        } else if (!supGroup && !subGroup) {\n            // This case probably shouldn't occur (this would mean the\n            // supsub was sending us a group with no superscript or\n            // subscript) but be safe.\n            return base;\n        } else {\n            bottom = fontMetrics.metrics.bigOpSpacing5 +\n                submid.height + submid.depth +\n                subKern +\n                base.depth + baseShift;\n\n            finalGroup = buildCommon.makeVList([\n                {type: \"kern\", size: fontMetrics.metrics.bigOpSpacing5},\n                {type: \"elem\", elem: submid},\n                {type: \"kern\", size: subKern},\n                {type: \"elem\", elem: base},\n                {type: \"kern\", size: supKern},\n                {type: \"elem\", elem: supmid},\n                {type: \"kern\", size: fontMetrics.metrics.bigOpSpacing5}\n            ], \"bottom\", bottom, options);\n\n            // See comment above about slants\n            finalGroup.children[0].style.marginLeft = -slant + \"em\";\n            finalGroup.children[2].style.marginLeft = slant + \"em\";\n        }\n\n        return makeSpan([\"mop\", \"op-limits\"], [finalGroup], options);\n    } else {\n        if (group.value.symbol) {\n            base.style.top = baseShift + \"em\";\n        }\n\n        return base;\n    }\n};\n\ngroupTypes.mod = function(group, options) {\n    var inner = [];\n\n    if (group.value.modType === \"bmod\") {\n        // “\\nonscript\\mskip-\\medmuskip\\mkern5mu”\n        if (!options.style.isTight()) {\n            inner.push(makeSpan(\n                [\"mspace\", \"negativemediumspace\"], [], options));\n        }\n        inner.push(makeSpan([\"mspace\", \"thickspace\"], [], options));\n    } else if (options.style.size === Style.DISPLAY.size) {\n        inner.push(makeSpan([\"mspace\", \"quad\"], [], options));\n    } else if (group.value.modType === \"mod\") {\n        inner.push(makeSpan([\"mspace\", \"twelvemuspace\"], [], options));\n    } else {\n        inner.push(makeSpan([\"mspace\", \"eightmuspace\"], [], options));\n    }\n\n    if (group.value.modType === \"pod\" || group.value.modType === \"pmod\") {\n        inner.push(buildCommon.mathsym(\"(\", group.mode));\n    }\n\n    if (group.value.modType !== \"pod\") {\n        var modInner = [\n            buildCommon.mathsym(\"m\", group.mode),\n            buildCommon.mathsym(\"o\", group.mode),\n            buildCommon.mathsym(\"d\", group.mode)];\n        if (group.value.modType === \"bmod\") {\n            inner.push(makeSpan([\"mbin\"], modInner, options));\n            // “\\mkern5mu\\nonscript\\mskip-\\medmuskip”\n            inner.push(makeSpan([\"mspace\", \"thickspace\"], [], options));\n            if (!options.style.isTight()) {\n                inner.push(makeSpan(\n                    [\"mspace\", \"negativemediumspace\"], [], options));\n            }\n        } else {\n            Array.prototype.push.apply(inner, modInner);\n            inner.push(makeSpan([\"mspace\", \"sixmuspace\"], [], options));\n        }\n    }\n\n    if (group.value.value) {\n        Array.prototype.push.apply(inner,\n            buildExpression(group.value.value, options, false));\n    }\n\n    if (group.value.modType === \"pod\" || group.value.modType === \"pmod\") {\n        inner.push(buildCommon.mathsym(\")\", group.mode));\n    }\n\n    return buildCommon.makeFragment(inner);\n};\n\ngroupTypes.katex = function(group, options) {\n    // The KaTeX logo. The offsets for the K and a were chosen to look\n    // good, but the offsets for the T, E, and X were taken from the\n    // definition of \\TeX in TeX (see TeXbook pg. 356)\n    var k = makeSpan(\n        [\"k\"], [buildCommon.mathsym(\"K\", group.mode)], options);\n    var a = makeSpan(\n        [\"a\"], [buildCommon.mathsym(\"A\", group.mode)], options);\n\n    a.height = (a.height + 0.2) * 0.75;\n    a.depth = (a.height - 0.2) * 0.75;\n\n    var t = makeSpan(\n        [\"t\"], [buildCommon.mathsym(\"T\", group.mode)], options);\n    var e = makeSpan(\n        [\"e\"], [buildCommon.mathsym(\"E\", group.mode)], options);\n\n    e.height = (e.height - 0.2155);\n    e.depth = (e.depth + 0.2155);\n\n    var x = makeSpan(\n        [\"x\"], [buildCommon.mathsym(\"X\", group.mode)], options);\n\n    return makeSpan(\n        [\"mord\", \"katex-logo\"], [k, a, t, e, x], options);\n};\n\ngroupTypes.overline = function(group, options) {\n    // Overlines are handled in the TeXbook pg 443, Rule 9.\n    var style = options.style;\n\n    // Build the inner group in the cramped style.\n    var innerGroup = buildGroup(group.value.body,\n            options.withStyle(style.cramp()));\n\n    var ruleWidth = fontMetrics.metrics.defaultRuleThickness /\n        style.sizeMultiplier;\n\n    // Create the line above the body\n    var line = makeSpan(\n        [style.reset(), Style.TEXT.cls(), \"overline-line\"]);\n    line.height = ruleWidth;\n    line.maxFontSize = 1.0;\n\n    // Generate the vlist, with the appropriate kerns\n    var vlist = buildCommon.makeVList([\n        {type: \"elem\", elem: innerGroup},\n        {type: \"kern\", size: 3 * ruleWidth},\n        {type: \"elem\", elem: line},\n        {type: \"kern\", size: ruleWidth}\n    ], \"firstBaseline\", null, options);\n\n    return makeSpan([\"mord\", \"overline\"], [vlist], options);\n};\n\ngroupTypes.underline = function(group, options) {\n    // Underlines are handled in the TeXbook pg 443, Rule 10.\n    var style = options.style;\n\n    // Build the inner group.\n    var innerGroup = buildGroup(group.value.body, options);\n\n    var ruleWidth = fontMetrics.metrics.defaultRuleThickness /\n        style.sizeMultiplier;\n\n    // Create the line above the body\n    var line = makeSpan([style.reset(), Style.TEXT.cls(), \"underline-line\"]);\n    line.height = ruleWidth;\n    line.maxFontSize = 1.0;\n\n    // Generate the vlist, with the appropriate kerns\n    var vlist = buildCommon.makeVList([\n        {type: \"kern\", size: ruleWidth},\n        {type: \"elem\", elem: line},\n        {type: \"kern\", size: 3 * ruleWidth},\n        {type: \"elem\", elem: innerGroup}\n    ], \"top\", innerGroup.height, options);\n\n    return makeSpan([\"mord\", \"underline\"], [vlist], options);\n};\n\ngroupTypes.sqrt = function(group, options) {\n    // Square roots are handled in the TeXbook pg. 443, Rule 11.\n    var style = options.style;\n\n    // First, we do the same steps as in overline to build the inner group\n    // and line\n    var inner = buildGroup(group.value.body, options.withStyle(style.cramp()));\n\n    var ruleWidth = fontMetrics.metrics.defaultRuleThickness /\n        style.sizeMultiplier;\n\n    var line = makeSpan(\n        [style.reset(), Style.TEXT.cls(), \"sqrt-line\"], [],\n        options);\n    line.height = ruleWidth;\n    line.maxFontSize = 1.0;\n\n    var phi = ruleWidth;\n    if (style.id < Style.TEXT.id) {\n        phi = style.metrics.xHeight;\n    }\n\n    // Calculate the clearance between the body and line\n    var lineClearance = ruleWidth + phi / 4;\n\n    var innerHeight = (inner.height + inner.depth) * style.sizeMultiplier;\n    var minDelimiterHeight = innerHeight + lineClearance + ruleWidth;\n\n    // Create a \\surd delimiter of the required minimum size\n    var delim = makeSpan([\"sqrt-sign\"], [\n        delimiter.customSizedDelim(\"\\\\surd\", minDelimiterHeight,\n                                   false, options, group.mode)],\n                         options);\n\n    var delimDepth = (delim.height + delim.depth) - ruleWidth;\n\n    // Adjust the clearance based on the delimiter size\n    if (delimDepth > inner.height + inner.depth + lineClearance) {\n        lineClearance =\n            (lineClearance + delimDepth - inner.height - inner.depth) / 2;\n    }\n\n    // Shift the delimiter so that its top lines up with the top of the line\n    var delimShift = -(inner.height + lineClearance + ruleWidth) + delim.height;\n    delim.style.top = delimShift + \"em\";\n    delim.height -= delimShift;\n    delim.depth += delimShift;\n\n    // We add a special case here, because even when `inner` is empty, we\n    // still get a line. So, we use a simple heuristic to decide if we\n    // should omit the body entirely. (note this doesn't work for something\n    // like `\\sqrt{\\rlap{x}}`, but if someone is doing that they deserve for\n    // it not to work.\n    var body;\n    if (inner.height === 0 && inner.depth === 0) {\n        body = makeSpan();\n    } else {\n        body = buildCommon.makeVList([\n            {type: \"elem\", elem: inner},\n            {type: \"kern\", size: lineClearance},\n            {type: \"elem\", elem: line},\n            {type: \"kern\", size: ruleWidth}\n        ], \"firstBaseline\", null, options);\n    }\n\n    if (!group.value.index) {\n        return makeSpan([\"mord\", \"sqrt\"], [delim, body], options);\n    } else {\n        // Handle the optional root index\n\n        // The index is always in scriptscript style\n        var newOptions = options.withStyle(Style.SCRIPTSCRIPT);\n        var root = buildGroup(group.value.index, newOptions);\n        var rootWrap = makeSpan(\n            [style.reset(), Style.SCRIPTSCRIPT.cls()],\n            [root],\n            newOptions);\n\n        // Figure out the height and depth of the inner part\n        var innerRootHeight = Math.max(delim.height, body.height);\n        var innerRootDepth = Math.max(delim.depth, body.depth);\n\n        // The amount the index is shifted by. This is taken from the TeX\n        // source, in the definition of `\\r@@t`.\n        var toShift = 0.6 * (innerRootHeight - innerRootDepth);\n\n        // Build a VList with the superscript shifted up correctly\n        var rootVList = buildCommon.makeVList(\n            [{type: \"elem\", elem: rootWrap}],\n            \"shift\", -toShift, options);\n        // Add a class surrounding it so we can add on the appropriate\n        // kerning\n        var rootVListWrap = makeSpan([\"root\"], [rootVList]);\n\n        return makeSpan([\"mord\", \"sqrt\"],\n            [rootVListWrap, delim, body], options);\n    }\n};\n\ngroupTypes.sizing = function(group, options) {\n    // Handle sizing operators like \\Huge. Real TeX doesn't actually allow\n    // these functions inside of math expressions, so we do some special\n    // handling.\n    var inner = buildExpression(group.value.value,\n            options.withSize(group.value.size), false);\n\n    // Compute the correct maxFontSize.\n    var style = options.style;\n    var fontSize = buildCommon.sizingMultiplier[group.value.size];\n    fontSize = fontSize * style.sizeMultiplier;\n\n    // Add size-resetting classes to the inner list and set maxFontSize\n    // manually. Handle nested size changes.\n    for (var i = 0; i < inner.length; i++) {\n        var pos = utils.indexOf(inner[i].classes, \"sizing\");\n        if (pos < 0) {\n            inner[i].classes.push(\"sizing\", \"reset-\" + options.size,\n                                  group.value.size, style.cls());\n            inner[i].maxFontSize = fontSize;\n        } else if (inner[i].classes[pos + 1] === \"reset-\" + group.value.size) {\n            // This is a nested size change: e.g., inner[i] is the \"b\" in\n            // `\\Huge a \\small b`. Override the old size (the `reset-` class)\n            // but not the new size.\n            inner[i].classes[pos + 1] = \"reset-\" + options.size;\n        }\n    }\n\n    return buildCommon.makeFragment(inner);\n};\n\ngroupTypes.styling = function(group, options) {\n    // Style changes are handled in the TeXbook on pg. 442, Rule 3.\n\n    // Figure out what style we're changing to.\n    var styleMap = {\n        \"display\": Style.DISPLAY,\n        \"text\": Style.TEXT,\n        \"script\": Style.SCRIPT,\n        \"scriptscript\": Style.SCRIPTSCRIPT\n    };\n\n    var newStyle = styleMap[group.value.style];\n    var newOptions = options.withStyle(newStyle);\n\n    // Build the inner expression in the new style.\n    var inner = buildExpression(\n        group.value.value, newOptions, false);\n\n    // Add style-resetting classes to the inner list. Handle nested changes.\n    for (var i = 0; i < inner.length; i++) {\n        var pos = utils.indexOf(inner[i].classes, newStyle.reset());\n        if (pos < 0) {\n            inner[i].classes.push(options.style.reset(), newStyle.cls());\n        } else {\n            // This is a nested style change, as `\\textstyle a\\scriptstyle b`.\n            // Only override the old style (the reset class).\n            inner[i].classes[pos] = options.style.reset();\n        }\n    }\n\n    return new buildCommon.makeFragment(inner);\n};\n\ngroupTypes.font = function(group, options) {\n    var font = group.value.font;\n    return buildGroup(group.value.body, options.withFont(font));\n};\n\ngroupTypes.delimsizing = function(group, options) {\n    var delim = group.value.value;\n\n    if (delim === \".\") {\n        // Empty delimiters still count as elements, even though they don't\n        // show anything.\n        return makeSpan([group.value.mclass]);\n    }\n\n    // Use delimiter.sizedDelim to generate the delimiter.\n    return delimiter.sizedDelim(\n            delim, group.value.size, options, group.mode,\n            [group.value.mclass]);\n};\n\ngroupTypes.leftright = function(group, options) {\n    // Build the inner expression\n    var inner = buildExpression(group.value.body, options.reset(), true);\n\n    var innerHeight = 0;\n    var innerDepth = 0;\n    var hadMiddle = false;\n\n    // Calculate its height and depth\n    for (var i = 0; i < inner.length; i++) {\n        if (inner[i].isMiddle) {\n            hadMiddle = true;\n        } else {\n            innerHeight = Math.max(inner[i].height, innerHeight);\n            innerDepth = Math.max(inner[i].depth, innerDepth);\n        }\n    }\n\n    var style = options.style;\n\n    // The size of delimiters is the same, regardless of what style we are\n    // in. Thus, to correctly calculate the size of delimiter we need around\n    // a group, we scale down the inner size based on the size.\n    innerHeight *= style.sizeMultiplier;\n    innerDepth *= style.sizeMultiplier;\n\n    var leftDelim;\n    if (group.value.left === \".\") {\n        // Empty delimiters in \\left and \\right make null delimiter spaces.\n        leftDelim = makeNullDelimiter(options, [\"mopen\"]);\n    } else {\n        // Otherwise, use leftRightDelim to generate the correct sized\n        // delimiter.\n        leftDelim = delimiter.leftRightDelim(\n            group.value.left, innerHeight, innerDepth, options,\n            group.mode, [\"mopen\"]);\n    }\n    // Add it to the beginning of the expression\n    inner.unshift(leftDelim);\n\n    // Handle middle delimiters\n    if (hadMiddle) {\n        for (i = 1; i < inner.length; i++) {\n            if (inner[i].isMiddle) {\n                // Apply the options that were active when \\middle was called\n                inner[i] = delimiter.leftRightDelim(\n                    inner[i].isMiddle.value, innerHeight, innerDepth,\n                    inner[i].isMiddle.options, group.mode, []);\n            }\n        }\n    }\n\n    var rightDelim;\n    // Same for the right delimiter\n    if (group.value.right === \".\") {\n        rightDelim = makeNullDelimiter(options, [\"mclose\"]);\n    } else {\n        rightDelim = delimiter.leftRightDelim(\n            group.value.right, innerHeight, innerDepth, options,\n            group.mode, [\"mclose\"]);\n    }\n    // Add it to the end of the expression.\n    inner.push(rightDelim);\n\n    return makeSpan(\n        [\"minner\", style.cls()], inner, options);\n};\n\ngroupTypes.middle = function(group, options) {\n    var middleDelim;\n    if (group.value.value === \".\") {\n        middleDelim = makeNullDelimiter(options, []);\n    } else {\n        middleDelim = delimiter.sizedDelim(\n            group.value.value, 1, options,\n            group.mode, []);\n        middleDelim.isMiddle = {value: group.value.value, options: options};\n    }\n    return middleDelim;\n};\n\ngroupTypes.rule = function(group, options) {\n    // Make an empty span for the rule\n    var rule = makeSpan([\"mord\", \"rule\"], [], options);\n    var style = options.style;\n\n    // Calculate the shift, width, and height of the rule, and account for units\n    var shift = 0;\n    if (group.value.shift) {\n        shift = calculateSize(group.value.shift, style);\n    }\n\n    var width = calculateSize(group.value.width, style);\n    var height = calculateSize(group.value.height, style);\n\n    // The sizes of rules are absolute, so make it larger if we are in a\n    // smaller style.\n    shift /= style.sizeMultiplier;\n    width /= style.sizeMultiplier;\n    height /= style.sizeMultiplier;\n\n    // Style the rule to the right size\n    rule.style.borderRightWidth = width + \"em\";\n    rule.style.borderTopWidth = height + \"em\";\n    rule.style.bottom = shift + \"em\";\n\n    // Record the height and width\n    rule.width = width;\n    rule.height = height + shift;\n    rule.depth = -shift;\n\n    return rule;\n};\n\ngroupTypes.kern = function(group, options) {\n    // Make an empty span for the rule\n    var rule = makeSpan([\"mord\", \"rule\"], [], options);\n    var style = options.style;\n\n    var dimension = 0;\n    if (group.value.dimension) {\n        dimension = calculateSize(group.value.dimension, style);\n    }\n\n    dimension /= style.sizeMultiplier;\n\n    rule.style.marginLeft = dimension + \"em\";\n\n    return rule;\n};\n\ngroupTypes.accent = function(group, options) {\n    // Accents are handled in the TeXbook pg. 443, rule 12.\n    var base = group.value.base;\n    var style = options.style;\n\n    var supsubGroup;\n    if (group.type === \"supsub\") {\n        // If our base is a character box, and we have superscripts and\n        // subscripts, the supsub will defer to us. In particular, we want\n        // to attach the superscripts and subscripts to the inner body (so\n        // that the position of the superscripts and subscripts won't be\n        // affected by the height of the accent). We accomplish this by\n        // sticking the base of the accent into the base of the supsub, and\n        // rendering that, while keeping track of where the accent is.\n\n        // The supsub group is the group that was passed in\n        var supsub = group;\n        // The real accent group is the base of the supsub group\n        group = supsub.value.base;\n        // The character box is the base of the accent group\n        base = group.value.base;\n        // Stick the character box into the base of the supsub group\n        supsub.value.base = base;\n\n        // Rerender the supsub group with its new base, and store that\n        // result.\n        supsubGroup = buildGroup(\n            supsub, options.reset());\n    }\n\n    // Build the base group\n    var body = buildGroup(\n        base, options.withStyle(style.cramp()));\n\n    // Calculate the skew of the accent. This is based on the line \"If the\n    // nucleus is not a single character, let s = 0; otherwise set s to the\n    // kern amount for the nucleus followed by the \\skewchar of its font.\"\n    // Note that our skew metrics are just the kern between each character\n    // and the skewchar.\n    var skew;\n    if (isCharacterBox(base)) {\n        // If the base is a character box, then we want the skew of the\n        // innermost character. To do that, we find the innermost character:\n        var baseChar = getBaseElem(base);\n        // Then, we render its group to get the symbol inside it\n        var baseGroup = buildGroup(\n            baseChar, options.withStyle(style.cramp()));\n        // Finally, we pull the skew off of the symbol.\n        skew = baseGroup.skew;\n        // Note that we now throw away baseGroup, because the layers we\n        // removed with getBaseElem might contain things like \\color which\n        // we can't get rid of.\n        // TODO(emily): Find a better way to get the skew\n    } else {\n        skew = 0;\n    }\n\n    // calculate the amount of space between the body and the accent\n    var clearance = Math.min(\n        body.height,\n        style.metrics.xHeight);\n\n    // Build the accent\n    var accent = buildCommon.makeSymbol(\n        group.value.accent, \"Main-Regular\", \"math\", options);\n    // Remove the italic correction of the accent, because it only serves to\n    // shift the accent over to a place we don't want.\n    accent.italic = 0;\n\n    // The \\vec character that the fonts use is a combining character, and\n    // thus shows up much too far to the left. To account for this, we add a\n    // specific class which shifts the accent over to where we want it.\n    // TODO(emily): Fix this in a better way, like by changing the font\n    var vecClass = group.value.accent === \"\\\\vec\" ? \"accent-vec\" : null;\n\n    var accentBody = makeSpan([\"accent-body\", vecClass], [\n        makeSpan([], [accent])]);\n\n    accentBody = buildCommon.makeVList([\n        {type: \"elem\", elem: body},\n        {type: \"kern\", size: -clearance},\n        {type: \"elem\", elem: accentBody}\n    ], \"firstBaseline\", null, options);\n\n    // Shift the accent over by the skew. Note we shift by twice the skew\n    // because we are centering the accent, so by adding 2*skew to the left,\n    // we shift it to the right by 1*skew.\n    accentBody.children[1].style.marginLeft = 2 * skew + \"em\";\n\n    var accentWrap = makeSpan([\"mord\", \"accent\"], [accentBody], options);\n\n    if (supsubGroup) {\n        // Here, we replace the \"base\" child of the supsub with our newly\n        // generated accent.\n        supsubGroup.children[0] = accentWrap;\n\n        // Since we don't rerun the height calculation after replacing the\n        // accent, we manually recalculate height.\n        supsubGroup.height = Math.max(accentWrap.height, supsubGroup.height);\n\n        // Accents should always be ords, even when their innards are not.\n        supsubGroup.classes[0] = \"mord\";\n\n        return supsubGroup;\n    } else {\n        return accentWrap;\n    }\n};\n\ngroupTypes.phantom = function(group, options) {\n    var elements = buildExpression(\n        group.value.value,\n        options.withPhantom(),\n        false\n    );\n\n    // \\phantom isn't supposed to affect the elements it contains.\n    // See \"color\" for more details.\n    return new buildCommon.makeFragment(elements);\n};\n\ngroupTypes.mclass = function(group, options) {\n    var elements = buildExpression(group.value.value, options, true);\n\n    return makeSpan([group.value.mclass], elements, options);\n};\n\n/**\n * buildGroup is the function that takes a group and calls the correct groupType\n * function for it. It also handles the interaction of size and style changes\n * between parents and children.\n */\nvar buildGroup = function(group, options) {\n    if (!group) {\n        return makeSpan();\n    }\n\n    if (groupTypes[group.type]) {\n        // Call the groupTypes function\n        var groupNode = groupTypes[group.type](group, options);\n        var multiplier;\n\n        // If the style changed between the parent and the current group,\n        // account for the size difference\n        if (options.style !== options.parentStyle) {\n            multiplier = options.style.sizeMultiplier /\n                    options.parentStyle.sizeMultiplier;\n\n            groupNode.height *= multiplier;\n            groupNode.depth *= multiplier;\n        }\n\n        // If the size changed between the parent and the current group, account\n        // for that size difference.\n        if (options.size !== options.parentSize) {\n            multiplier = buildCommon.sizingMultiplier[options.size] /\n                    buildCommon.sizingMultiplier[options.parentSize];\n\n            groupNode.height *= multiplier;\n            groupNode.depth *= multiplier;\n        }\n\n        return groupNode;\n    } else {\n        throw new ParseError(\n            \"Got group of unknown type: '\" + group.type + \"'\");\n    }\n};\n\n/**\n * Take an entire parse tree, and build it into an appropriate set of HTML\n * nodes.\n */\nvar buildHTML = function(tree, options) {\n    // buildExpression is destructive, so we need to make a clone\n    // of the incoming tree so that it isn't accidentally changed\n    tree = JSON.parse(JSON.stringify(tree));\n\n    // Build the expression contained in the tree\n    var expression = buildExpression(tree, options, true);\n    var body = makeSpan([\"base\", options.style.cls()], expression, options);\n\n    // Add struts, which ensure that the top of the HTML element falls at the\n    // height of the expression, and the bottom of the HTML element falls at the\n    // depth of the expression.\n    var topStrut = makeSpan([\"strut\"]);\n    var bottomStrut = makeSpan([\"strut\", \"bottom\"]);\n\n    topStrut.style.height = body.height + \"em\";\n    bottomStrut.style.height = (body.height + body.depth) + \"em\";\n    // We'd like to use `vertical-align: top` but in IE 9 this lowers the\n    // baseline of the box to the bottom of this strut (instead staying in the\n    // normal place) so we use an absolute value for vertical-align instead\n    bottomStrut.style.verticalAlign = -body.depth + \"em\";\n\n    // Wrap the struts and body together\n    var htmlNode = makeSpan([\"katex-html\"], [topStrut, bottomStrut, body]);\n\n    htmlNode.setAttribute(\"aria-hidden\", \"true\");\n\n    return htmlNode;\n};\n\nmodule.exports = buildHTML;\n","/**\n * This file converts a parse tree into a cooresponding MathML tree. The main\n * entry point is the `buildMathML` function, which takes a parse tree from the\n * parser.\n */\n\nvar buildCommon = require(\"./buildCommon\");\nvar fontMetrics = require(\"./fontMetrics\");\nvar mathMLTree = require(\"./mathMLTree\");\nvar ParseError = require(\"./ParseError\");\nvar symbols = require(\"./symbols\");\nvar utils = require(\"./utils\");\n\nvar makeSpan = buildCommon.makeSpan;\nvar fontMap = buildCommon.fontMap;\n\n/**\n * Takes a symbol and converts it into a MathML text node after performing\n * optional replacement from symbols.js.\n */\nvar makeText = function(text, mode) {\n    if (symbols[mode][text] && symbols[mode][text].replace) {\n        text = symbols[mode][text].replace;\n    }\n\n    return new mathMLTree.TextNode(text);\n};\n\n/**\n * Returns the math variant as a string or null if none is required.\n */\nvar getVariant = function(group, options) {\n    var font = options.font;\n    if (!font) {\n        return null;\n    }\n\n    var mode = group.mode;\n    if (font === \"mathit\") {\n        return \"italic\";\n    }\n\n    var value = group.value;\n    if (utils.contains([\"\\\\imath\", \"\\\\jmath\"], value)) {\n        return null;\n    }\n\n    if (symbols[mode][value] && symbols[mode][value].replace) {\n        value = symbols[mode][value].replace;\n    }\n\n    var fontName = fontMap[font].fontName;\n    if (fontMetrics.getCharacterMetrics(value, fontName)) {\n        return fontMap[options.font].variant;\n    }\n\n    return null;\n};\n\n/**\n * Functions for handling the different types of groups found in the parse\n * tree. Each function should take a parse group and return a MathML node.\n */\nvar groupTypes = {};\n\ngroupTypes.mathord = function(group, options) {\n    var node = new mathMLTree.MathNode(\n        \"mi\",\n        [makeText(group.value, group.mode)]);\n\n    var variant = getVariant(group, options);\n    if (variant) {\n        node.setAttribute(\"mathvariant\", variant);\n    }\n    return node;\n};\n\ngroupTypes.textord = function(group, options) {\n    var text = makeText(group.value, group.mode);\n\n    var variant = getVariant(group, options) || \"normal\";\n\n    var node;\n    if (/[0-9]/.test(group.value)) {\n        // TODO(kevinb) merge adjacent <mn> nodes\n        // do it as a post processing step\n        node = new mathMLTree.MathNode(\"mn\", [text]);\n        if (options.font) {\n            node.setAttribute(\"mathvariant\", variant);\n        }\n    } else {\n        node = new mathMLTree.MathNode(\"mi\", [text]);\n        node.setAttribute(\"mathvariant\", variant);\n    }\n\n    return node;\n};\n\ngroupTypes.bin = function(group) {\n    var node = new mathMLTree.MathNode(\n        \"mo\", [makeText(group.value, group.mode)]);\n\n    return node;\n};\n\ngroupTypes.rel = function(group) {\n    var node = new mathMLTree.MathNode(\n        \"mo\", [makeText(group.value, group.mode)]);\n\n    return node;\n};\n\ngroupTypes.open = function(group) {\n    var node = new mathMLTree.MathNode(\n        \"mo\", [makeText(group.value, group.mode)]);\n\n    return node;\n};\n\ngroupTypes.close = function(group) {\n    var node = new mathMLTree.MathNode(\n        \"mo\", [makeText(group.value, group.mode)]);\n\n    return node;\n};\n\ngroupTypes.inner = function(group) {\n    var node = new mathMLTree.MathNode(\n        \"mo\", [makeText(group.value, group.mode)]);\n\n    return node;\n};\n\ngroupTypes.punct = function(group) {\n    var node = new mathMLTree.MathNode(\n        \"mo\", [makeText(group.value, group.mode)]);\n\n    node.setAttribute(\"separator\", \"true\");\n\n    return node;\n};\n\ngroupTypes.ordgroup = function(group, options) {\n    var inner = buildExpression(group.value, options);\n\n    var node = new mathMLTree.MathNode(\"mrow\", inner);\n\n    return node;\n};\n\ngroupTypes.text = function(group, options) {\n    var inner = buildExpression(group.value.body, options);\n\n    var node = new mathMLTree.MathNode(\"mtext\", inner);\n\n    return node;\n};\n\ngroupTypes.color = function(group, options) {\n    var inner = buildExpression(group.value.value, options);\n\n    var node = new mathMLTree.MathNode(\"mstyle\", inner);\n\n    node.setAttribute(\"mathcolor\", group.value.color);\n\n    return node;\n};\n\ngroupTypes.supsub = function(group, options) {\n    var children = [buildGroup(group.value.base, options)];\n\n    if (group.value.sub) {\n        children.push(buildGroup(group.value.sub, options));\n    }\n\n    if (group.value.sup) {\n        children.push(buildGroup(group.value.sup, options));\n    }\n\n    var nodeType;\n    if (!group.value.sub) {\n        nodeType = \"msup\";\n    } else if (!group.value.sup) {\n        nodeType = \"msub\";\n    } else {\n        nodeType = \"msubsup\";\n    }\n\n    var node = new mathMLTree.MathNode(nodeType, children);\n\n    return node;\n};\n\ngroupTypes.genfrac = function(group, options) {\n    var node = new mathMLTree.MathNode(\n        \"mfrac\",\n        [buildGroup(group.value.numer, options),\n            buildGroup(group.value.denom, options)]);\n\n    if (!group.value.hasBarLine) {\n        node.setAttribute(\"linethickness\", \"0px\");\n    }\n\n    if (group.value.leftDelim != null || group.value.rightDelim != null) {\n        var withDelims = [];\n\n        if (group.value.leftDelim != null) {\n            var leftOp = new mathMLTree.MathNode(\n                \"mo\", [new mathMLTree.TextNode(group.value.leftDelim)]);\n\n            leftOp.setAttribute(\"fence\", \"true\");\n\n            withDelims.push(leftOp);\n        }\n\n        withDelims.push(node);\n\n        if (group.value.rightDelim != null) {\n            var rightOp = new mathMLTree.MathNode(\n                \"mo\", [new mathMLTree.TextNode(group.value.rightDelim)]);\n\n            rightOp.setAttribute(\"fence\", \"true\");\n\n            withDelims.push(rightOp);\n        }\n\n        var outerNode = new mathMLTree.MathNode(\"mrow\", withDelims);\n\n        return outerNode;\n    }\n\n    return node;\n};\n\ngroupTypes.array = function(group, options) {\n    return new mathMLTree.MathNode(\n        \"mtable\", group.value.body.map(function(row) {\n            return new mathMLTree.MathNode(\n                \"mtr\", row.map(function(cell) {\n                    return new mathMLTree.MathNode(\n                        \"mtd\", [buildGroup(cell, options)]);\n                }));\n        }));\n};\n\ngroupTypes.sqrt = function(group, options) {\n    var node;\n    if (group.value.index) {\n        node = new mathMLTree.MathNode(\n            \"mroot\", [\n                buildGroup(group.value.body, options),\n                buildGroup(group.value.index, options)\n            ]);\n    } else {\n        node = new mathMLTree.MathNode(\n            \"msqrt\", [buildGroup(group.value.body, options)]);\n    }\n\n    return node;\n};\n\ngroupTypes.leftright = function(group, options) {\n    var inner = buildExpression(group.value.body, options);\n\n    if (group.value.left !== \".\") {\n        var leftNode = new mathMLTree.MathNode(\n            \"mo\", [makeText(group.value.left, group.mode)]);\n\n        leftNode.setAttribute(\"fence\", \"true\");\n\n        inner.unshift(leftNode);\n    }\n\n    if (group.value.right !== \".\") {\n        var rightNode = new mathMLTree.MathNode(\n            \"mo\", [makeText(group.value.right, group.mode)]);\n\n        rightNode.setAttribute(\"fence\", \"true\");\n\n        inner.push(rightNode);\n    }\n\n    var outerNode = new mathMLTree.MathNode(\"mrow\", inner);\n\n    return outerNode;\n};\n\ngroupTypes.middle = function(group, options) {\n    var middleNode = new mathMLTree.MathNode(\n        \"mo\", [makeText(group.value.middle, group.mode)]);\n    middleNode.setAttribute(\"fence\", \"true\");\n    return middleNode;\n};\n\ngroupTypes.accent = function(group, options) {\n    var accentNode = new mathMLTree.MathNode(\n        \"mo\", [makeText(group.value.accent, group.mode)]);\n\n    var node = new mathMLTree.MathNode(\n        \"mover\",\n        [buildGroup(group.value.base, options),\n            accentNode]);\n\n    node.setAttribute(\"accent\", \"true\");\n\n    return node;\n};\n\ngroupTypes.spacing = function(group) {\n    var node;\n\n    if (group.value === \"\\\\ \" || group.value === \"\\\\space\" ||\n        group.value === \" \" || group.value === \"~\") {\n        node = new mathMLTree.MathNode(\n            \"mtext\", [new mathMLTree.TextNode(\"\\u00a0\")]);\n    } else {\n        node = new mathMLTree.MathNode(\"mspace\");\n\n        node.setAttribute(\n            \"width\", buildCommon.spacingFunctions[group.value].size);\n    }\n\n    return node;\n};\n\ngroupTypes.op = function(group, options) {\n    var node;\n\n    // TODO(emily): handle big operators using the `largeop` attribute\n\n    if (group.value.symbol) {\n        // This is a symbol. Just add the symbol.\n        node = new mathMLTree.MathNode(\n            \"mo\", [makeText(group.value.body, group.mode)]);\n    } else if (group.value.value) {\n        // This is an operator with children. Add them.\n        node = new mathMLTree.MathNode(\n            \"mo\", buildExpression(group.value.value, options));\n    } else {\n        // This is a text operator. Add all of the characters from the\n        // operator's name.\n        // TODO(emily): Add a space in the middle of some of these\n        // operators, like \\limsup.\n        node = new mathMLTree.MathNode(\n            \"mi\", [new mathMLTree.TextNode(group.value.body.slice(1))]);\n    }\n\n    return node;\n};\n\ngroupTypes.mod = function(group, options) {\n    var inner = [];\n\n    if (group.value.modType === \"pod\" || group.value.modType === \"pmod\") {\n        inner.push(new mathMLTree.MathNode(\n            \"mo\", [makeText(\"(\", group.mode)]));\n    }\n    if (group.value.modType !== \"pod\") {\n        inner.push(new mathMLTree.MathNode(\n            \"mo\", [makeText(\"mod\", group.mode)]));\n    }\n    if (group.value.value) {\n        var space = new mathMLTree.MathNode(\"mspace\");\n        space.setAttribute(\"width\", \"0.333333em\");\n        inner.push(space);\n        inner = inner.concat(buildExpression(group.value.value, options));\n    }\n    if (group.value.modType === \"pod\" || group.value.modType === \"pmod\") {\n        inner.push(new mathMLTree.MathNode(\n            \"mo\", [makeText(\")\", group.mode)]));\n    }\n\n    return new mathMLTree.MathNode(\"mo\", inner);\n};\n\ngroupTypes.katex = function(group) {\n    var node = new mathMLTree.MathNode(\n        \"mtext\", [new mathMLTree.TextNode(\"KaTeX\")]);\n\n    return node;\n};\n\ngroupTypes.font = function(group, options) {\n    var font = group.value.font;\n    return buildGroup(group.value.body, options.withFont(font));\n};\n\ngroupTypes.delimsizing = function(group) {\n    var children = [];\n\n    if (group.value.value !== \".\") {\n        children.push(makeText(group.value.value, group.mode));\n    }\n\n    var node = new mathMLTree.MathNode(\"mo\", children);\n\n    if (group.value.mclass === \"mopen\" ||\n        group.value.mclass === \"mclose\") {\n        // Only some of the delimsizing functions act as fences, and they\n        // return \"mopen\" or \"mclose\" mclass.\n        node.setAttribute(\"fence\", \"true\");\n    } else {\n        // Explicitly disable fencing if it's not a fence, to override the\n        // defaults.\n        node.setAttribute(\"fence\", \"false\");\n    }\n\n    return node;\n};\n\ngroupTypes.styling = function(group, options) {\n    var inner = buildExpression(group.value.value, options);\n\n    var node = new mathMLTree.MathNode(\"mstyle\", inner);\n\n    var styleAttributes = {\n        \"display\": [\"0\", \"true\"],\n        \"text\": [\"0\", \"false\"],\n        \"script\": [\"1\", \"false\"],\n        \"scriptscript\": [\"2\", \"false\"]\n    };\n\n    var attr = styleAttributes[group.value.style];\n\n    node.setAttribute(\"scriptlevel\", attr[0]);\n    node.setAttribute(\"displaystyle\", attr[1]);\n\n    return node;\n};\n\ngroupTypes.sizing = function(group, options) {\n    var inner = buildExpression(group.value.value, options);\n\n    var node = new mathMLTree.MathNode(\"mstyle\", inner);\n\n    // TODO(emily): This doesn't produce the correct size for nested size\n    // changes, because we don't keep state of what style we're currently\n    // in, so we can't reset the size to normal before changing it.  Now\n    // that we're passing an options parameter we should be able to fix\n    // this.\n    node.setAttribute(\n        \"mathsize\", buildCommon.sizingMultiplier[group.value.size] + \"em\");\n\n    return node;\n};\n\ngroupTypes.overline = function(group, options) {\n    var operator = new mathMLTree.MathNode(\n        \"mo\", [new mathMLTree.TextNode(\"\\u203e\")]);\n    operator.setAttribute(\"stretchy\", \"true\");\n\n    var node = new mathMLTree.MathNode(\n        \"mover\",\n        [buildGroup(group.value.body, options),\n            operator]);\n    node.setAttribute(\"accent\", \"true\");\n\n    return node;\n};\n\ngroupTypes.underline = function(group, options) {\n    var operator = new mathMLTree.MathNode(\n        \"mo\", [new mathMLTree.TextNode(\"\\u203e\")]);\n    operator.setAttribute(\"stretchy\", \"true\");\n\n    var node = new mathMLTree.MathNode(\n        \"munder\",\n        [buildGroup(group.value.body, options),\n            operator]);\n    node.setAttribute(\"accentunder\", \"true\");\n\n    return node;\n};\n\ngroupTypes.rule = function(group) {\n    // TODO(emily): Figure out if there's an actual way to draw black boxes\n    // in MathML.\n    var node = new mathMLTree.MathNode(\"mrow\");\n\n    return node;\n};\n\ngroupTypes.kern = function(group) {\n    // TODO(kevin): Figure out if there's a way to add space in MathML\n    var node = new mathMLTree.MathNode(\"mrow\");\n\n    return node;\n};\n\ngroupTypes.llap = function(group, options) {\n    var node = new mathMLTree.MathNode(\n        \"mpadded\", [buildGroup(group.value.body, options)]);\n\n    node.setAttribute(\"lspace\", \"-1width\");\n    node.setAttribute(\"width\", \"0px\");\n\n    return node;\n};\n\ngroupTypes.rlap = function(group, options) {\n    var node = new mathMLTree.MathNode(\n        \"mpadded\", [buildGroup(group.value.body, options)]);\n\n    node.setAttribute(\"width\", \"0px\");\n\n    return node;\n};\n\ngroupTypes.phantom = function(group, options) {\n    var inner = buildExpression(group.value.value, options);\n    return new mathMLTree.MathNode(\"mphantom\", inner);\n};\n\ngroupTypes.mclass = function(group, options) {\n    var inner = buildExpression(group.value.value, options);\n    return new mathMLTree.MathNode(\"mstyle\", inner);\n};\n\n/**\n * Takes a list of nodes, builds them, and returns a list of the generated\n * MathML nodes. A little simpler than the HTML version because we don't do any\n * previous-node handling.\n */\nvar buildExpression = function(expression, options) {\n    var groups = [];\n    for (var i = 0; i < expression.length; i++) {\n        var group = expression[i];\n        groups.push(buildGroup(group, options));\n    }\n    return groups;\n};\n\n/**\n * Takes a group from the parser and calls the appropriate groupTypes function\n * on it to produce a MathML node.\n */\nvar buildGroup = function(group, options) {\n    if (!group) {\n        return new mathMLTree.MathNode(\"mrow\");\n    }\n\n    if (groupTypes[group.type]) {\n        // Call the groupTypes function\n        return groupTypes[group.type](group, options);\n    } else {\n        throw new ParseError(\n            \"Got group of unknown type: '\" + group.type + \"'\");\n    }\n};\n\n/**\n * Takes a full parse tree and settings and builds a MathML representation of\n * it. In particular, we put the elements from building the parse tree into a\n * <semantics> tag so we can also include that TeX source as an annotation.\n *\n * Note that we actually return a domTree element with a `<math>` inside it so\n * we can do appropriate styling.\n */\nvar buildMathML = function(tree, texExpression, options) {\n    var expression = buildExpression(tree, options);\n\n    // Wrap up the expression in an mrow so it is presented in the semantics\n    // tag correctly.\n    var wrapper = new mathMLTree.MathNode(\"mrow\", expression);\n\n    // Build a TeX annotation of the source\n    var annotation = new mathMLTree.MathNode(\n        \"annotation\", [new mathMLTree.TextNode(texExpression)]);\n\n    annotation.setAttribute(\"encoding\", \"application/x-tex\");\n\n    var semantics = new mathMLTree.MathNode(\n        \"semantics\", [wrapper, annotation]);\n\n    var math = new mathMLTree.MathNode(\"math\", [semantics]);\n\n    // You can't style <math> nodes, so we wrap the node in a span.\n    return makeSpan([\"katex-mathml\"], [math]);\n};\n\nmodule.exports = buildMathML;\n","var buildHTML = require(\"./buildHTML\");\nvar buildMathML = require(\"./buildMathML\");\nvar buildCommon = require(\"./buildCommon\");\nvar Options = require(\"./Options\");\nvar Settings = require(\"./Settings\");\nvar Style = require(\"./Style\");\n\nvar makeSpan = buildCommon.makeSpan;\n\nvar buildTree = function(tree, expression, settings) {\n    settings = settings || new Settings({});\n\n    var startStyle = Style.TEXT;\n    if (settings.displayMode) {\n        startStyle = Style.DISPLAY;\n    }\n\n    // Setup the default options\n    var options = new Options({\n        style: startStyle,\n        size: \"size5\"\n    });\n\n    // `buildHTML` sometimes messes with the parse tree (like turning bins ->\n    // ords), so we build the MathML version first.\n    var mathMLNode = buildMathML(tree, expression, options);\n    var htmlNode = buildHTML(tree, options);\n\n    var katexNode = makeSpan([\"katex\"], [\n        mathMLNode, htmlNode\n    ]);\n\n    if (settings.displayMode) {\n        return makeSpan([\"katex-display\"], [katexNode]);\n    } else {\n        return katexNode;\n    }\n};\n\nmodule.exports = buildTree;\n","/**\n * This file deals with creating delimiters of various sizes. The TeXbook\n * discusses these routines on page 441-442, in the \"Another subroutine sets box\n * x to a specified variable delimiter\" paragraph.\n *\n * There are three main routines here. `makeSmallDelim` makes a delimiter in the\n * normal font, but in either text, script, or scriptscript style.\n * `makeLargeDelim` makes a delimiter in textstyle, but in one of the Size1,\n * Size2, Size3, or Size4 fonts. `makeStackedDelim` makes a delimiter out of\n * smaller pieces that are stacked on top of one another.\n *\n * The functions take a parameter `center`, which determines if the delimiter\n * should be centered around the axis.\n *\n * Then, there are three exposed functions. `sizedDelim` makes a delimiter in\n * one of the given sizes. This is used for things like `\\bigl`.\n * `customSizedDelim` makes a delimiter with a given total height+depth. It is\n * called in places like `\\sqrt`. `leftRightDelim` makes an appropriate\n * delimiter which surrounds an expression of a given height an depth. It is\n * used in `\\left` and `\\right`.\n */\n\nvar ParseError = require(\"./ParseError\");\nvar Style = require(\"./Style\");\n\nvar buildCommon = require(\"./buildCommon\");\nvar fontMetrics = require(\"./fontMetrics\");\nvar symbols = require(\"./symbols\");\nvar utils = require(\"./utils\");\n\nvar makeSpan = buildCommon.makeSpan;\n\n/**\n * Get the metrics for a given symbol and font, after transformation (i.e.\n * after following replacement from symbols.js)\n */\nvar getMetrics = function(symbol, font) {\n    if (symbols.math[symbol] && symbols.math[symbol].replace) {\n        return fontMetrics.getCharacterMetrics(\n            symbols.math[symbol].replace, font);\n    } else {\n        return fontMetrics.getCharacterMetrics(\n            symbol, font);\n    }\n};\n\n/**\n * Builds a symbol in the given font size (note size is an integer)\n */\nvar mathrmSize = function(value, size, mode, options) {\n    return buildCommon.makeSymbol(value, \"Size\" + size + \"-Regular\",\n        mode, options);\n};\n\n/**\n * Puts a delimiter span in a given style, and adds appropriate height, depth,\n * and maxFontSizes.\n */\nvar styleWrap = function(delim, toStyle, options, classes) {\n    classes = classes || [];\n    var span = makeSpan(\n        classes.concat([\"style-wrap\", options.style.reset(), toStyle.cls()]),\n        [delim], options);\n\n    var multiplier = toStyle.sizeMultiplier / options.style.sizeMultiplier;\n\n    span.height *= multiplier;\n    span.depth *= multiplier;\n    span.maxFontSize = toStyle.sizeMultiplier;\n\n    return span;\n};\n\n/**\n * Makes a small delimiter. This is a delimiter that comes in the Main-Regular\n * font, but is restyled to either be in textstyle, scriptstyle, or\n * scriptscriptstyle.\n */\nvar makeSmallDelim = function(delim, style, center, options, mode, classes) {\n    var text = buildCommon.makeSymbol(delim, \"Main-Regular\", mode, options);\n\n    var span = styleWrap(text, style, options, classes);\n\n    if (center) {\n        var shift =\n            (1 - options.style.sizeMultiplier / style.sizeMultiplier) *\n            options.style.metrics.axisHeight;\n\n        span.style.top = shift + \"em\";\n        span.height -= shift;\n        span.depth += shift;\n    }\n\n    return span;\n};\n\n/**\n * Makes a large delimiter. This is a delimiter that comes in the Size1, Size2,\n * Size3, or Size4 fonts. It is always rendered in textstyle.\n */\nvar makeLargeDelim = function(delim, size, center, options, mode, classes) {\n    var inner = mathrmSize(delim, size, mode, options);\n\n    var span = styleWrap(\n        makeSpan([\"delimsizing\", \"size\" + size], [inner], options),\n        Style.TEXT, options, classes);\n\n    if (center) {\n        var shift = (1 - options.style.sizeMultiplier) *\n            options.style.metrics.axisHeight;\n\n        span.style.top = shift + \"em\";\n        span.height -= shift;\n        span.depth += shift;\n    }\n\n    return span;\n};\n\n/**\n * Make an inner span with the given offset and in the given font. This is used\n * in `makeStackedDelim` to make the stacking pieces for the delimiter.\n */\nvar makeInner = function(symbol, font, mode) {\n    var sizeClass;\n    // Apply the correct CSS class to choose the right font.\n    if (font === \"Size1-Regular\") {\n        sizeClass = \"delim-size1\";\n    } else if (font === \"Size4-Regular\") {\n        sizeClass = \"delim-size4\";\n    }\n\n    var inner = makeSpan(\n        [\"delimsizinginner\", sizeClass],\n        [makeSpan([], [buildCommon.makeSymbol(symbol, font, mode)])]);\n\n    // Since this will be passed into `makeVList` in the end, wrap the element\n    // in the appropriate tag that VList uses.\n    return {type: \"elem\", elem: inner};\n};\n\n/**\n * Make a stacked delimiter out of a given delimiter, with the total height at\n * least `heightTotal`. This routine is mentioned on page 442 of the TeXbook.\n */\nvar makeStackedDelim = function(delim, heightTotal, center, options, mode,\n                                classes) {\n    // There are four parts, the top, an optional middle, a repeated part, and a\n    // bottom.\n    var top;\n    var middle;\n    var repeat;\n    var bottom;\n    top = repeat = bottom = delim;\n    middle = null;\n    // Also keep track of what font the delimiters are in\n    var font = \"Size1-Regular\";\n\n    // We set the parts and font based on the symbol. Note that we use\n    // '\\u23d0' instead of '|' and '\\u2016' instead of '\\\\|' for the\n    // repeats of the arrows\n    if (delim === \"\\\\uparrow\") {\n        repeat = bottom = \"\\u23d0\";\n    } else if (delim === \"\\\\Uparrow\") {\n        repeat = bottom = \"\\u2016\";\n    } else if (delim === \"\\\\downarrow\") {\n        top = repeat = \"\\u23d0\";\n    } else if (delim === \"\\\\Downarrow\") {\n        top = repeat = \"\\u2016\";\n    } else if (delim === \"\\\\updownarrow\") {\n        top = \"\\\\uparrow\";\n        repeat = \"\\u23d0\";\n        bottom = \"\\\\downarrow\";\n    } else if (delim === \"\\\\Updownarrow\") {\n        top = \"\\\\Uparrow\";\n        repeat = \"\\u2016\";\n        bottom = \"\\\\Downarrow\";\n    } else if (delim === \"[\" || delim === \"\\\\lbrack\") {\n        top = \"\\u23a1\";\n        repeat = \"\\u23a2\";\n        bottom = \"\\u23a3\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"]\" || delim === \"\\\\rbrack\") {\n        top = \"\\u23a4\";\n        repeat = \"\\u23a5\";\n        bottom = \"\\u23a6\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\lfloor\") {\n        repeat = top = \"\\u23a2\";\n        bottom = \"\\u23a3\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\lceil\") {\n        top = \"\\u23a1\";\n        repeat = bottom = \"\\u23a2\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\rfloor\") {\n        repeat = top = \"\\u23a5\";\n        bottom = \"\\u23a6\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\rceil\") {\n        top = \"\\u23a4\";\n        repeat = bottom = \"\\u23a5\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"(\") {\n        top = \"\\u239b\";\n        repeat = \"\\u239c\";\n        bottom = \"\\u239d\";\n        font = \"Size4-Regular\";\n    } else if (delim === \")\") {\n        top = \"\\u239e\";\n        repeat = \"\\u239f\";\n        bottom = \"\\u23a0\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\{\" || delim === \"\\\\lbrace\") {\n        top = \"\\u23a7\";\n        middle = \"\\u23a8\";\n        bottom = \"\\u23a9\";\n        repeat = \"\\u23aa\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\}\" || delim === \"\\\\rbrace\") {\n        top = \"\\u23ab\";\n        middle = \"\\u23ac\";\n        bottom = \"\\u23ad\";\n        repeat = \"\\u23aa\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\lgroup\") {\n        top = \"\\u23a7\";\n        bottom = \"\\u23a9\";\n        repeat = \"\\u23aa\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\rgroup\") {\n        top = \"\\u23ab\";\n        bottom = \"\\u23ad\";\n        repeat = \"\\u23aa\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\lmoustache\") {\n        top = \"\\u23a7\";\n        bottom = \"\\u23ad\";\n        repeat = \"\\u23aa\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\rmoustache\") {\n        top = \"\\u23ab\";\n        bottom = \"\\u23a9\";\n        repeat = \"\\u23aa\";\n        font = \"Size4-Regular\";\n    } else if (delim === \"\\\\surd\") {\n        top = \"\\ue001\";\n        bottom = \"\\u23b7\";\n        repeat = \"\\ue000\";\n        font = \"Size4-Regular\";\n    }\n\n    // Get the metrics of the four sections\n    var topMetrics = getMetrics(top, font);\n    var topHeightTotal = topMetrics.height + topMetrics.depth;\n    var repeatMetrics = getMetrics(repeat, font);\n    var repeatHeightTotal = repeatMetrics.height + repeatMetrics.depth;\n    var bottomMetrics = getMetrics(bottom, font);\n    var bottomHeightTotal = bottomMetrics.height + bottomMetrics.depth;\n    var middleHeightTotal = 0;\n    var middleFactor = 1;\n    if (middle !== null) {\n        var middleMetrics = getMetrics(middle, font);\n        middleHeightTotal = middleMetrics.height + middleMetrics.depth;\n        middleFactor = 2; // repeat symmetrically above and below middle\n    }\n\n    // Calcuate the minimal height that the delimiter can have.\n    // It is at least the size of the top, bottom, and optional middle combined.\n    var minHeight = topHeightTotal + bottomHeightTotal + middleHeightTotal;\n\n    // Compute the number of copies of the repeat symbol we will need\n    var repeatCount = Math.ceil(\n        (heightTotal - minHeight) / (middleFactor * repeatHeightTotal));\n\n    // Compute the total height of the delimiter including all the symbols\n    var realHeightTotal =\n        minHeight + repeatCount * middleFactor * repeatHeightTotal;\n\n    // The center of the delimiter is placed at the center of the axis. Note\n    // that in this context, \"center\" means that the delimiter should be\n    // centered around the axis in the current style, while normally it is\n    // centered around the axis in textstyle.\n    var axisHeight = options.style.metrics.axisHeight;\n    if (center) {\n        axisHeight *= options.style.sizeMultiplier;\n    }\n    // Calculate the depth\n    var depth = realHeightTotal / 2 - axisHeight;\n\n    // Now, we start building the pieces that will go into the vlist\n\n    // Keep a list of the inner pieces\n    var inners = [];\n\n    // Add the bottom symbol\n    inners.push(makeInner(bottom, font, mode));\n\n    var i;\n    if (middle === null) {\n        // Add that many symbols\n        for (i = 0; i < repeatCount; i++) {\n            inners.push(makeInner(repeat, font, mode));\n        }\n    } else {\n        // When there is a middle bit, we need the middle part and two repeated\n        // sections\n        for (i = 0; i < repeatCount; i++) {\n            inners.push(makeInner(repeat, font, mode));\n        }\n        inners.push(makeInner(middle, font, mode));\n        for (i = 0; i < repeatCount; i++) {\n            inners.push(makeInner(repeat, font, mode));\n        }\n    }\n\n    // Add the top symbol\n    inners.push(makeInner(top, font, mode));\n\n    // Finally, build the vlist\n    var inner = buildCommon.makeVList(inners, \"bottom\", depth, options);\n\n    return styleWrap(\n        makeSpan([\"delimsizing\", \"mult\"], [inner], options),\n        Style.TEXT, options, classes);\n};\n\n// There are three kinds of delimiters, delimiters that stack when they become\n// too large\nvar stackLargeDelimiters = [\n    \"(\", \")\", \"[\", \"\\\\lbrack\", \"]\", \"\\\\rbrack\",\n    \"\\\\{\", \"\\\\lbrace\", \"\\\\}\", \"\\\\rbrace\",\n    \"\\\\lfloor\", \"\\\\rfloor\", \"\\\\lceil\", \"\\\\rceil\",\n    \"\\\\surd\"\n];\n\n// delimiters that always stack\nvar stackAlwaysDelimiters = [\n    \"\\\\uparrow\", \"\\\\downarrow\", \"\\\\updownarrow\",\n    \"\\\\Uparrow\", \"\\\\Downarrow\", \"\\\\Updownarrow\",\n    \"|\", \"\\\\|\", \"\\\\vert\", \"\\\\Vert\",\n    \"\\\\lvert\", \"\\\\rvert\", \"\\\\lVert\", \"\\\\rVert\",\n    \"\\\\lgroup\", \"\\\\rgroup\", \"\\\\lmoustache\", \"\\\\rmoustache\"\n];\n\n// and delimiters that never stack\nvar stackNeverDelimiters = [\n    \"<\", \">\", \"\\\\langle\", \"\\\\rangle\", \"/\", \"\\\\backslash\", \"\\\\lt\", \"\\\\gt\"\n];\n\n// Metrics of the different sizes. Found by looking at TeX's output of\n// $\\bigl| // \\Bigl| \\biggl| \\Biggl| \\showlists$\n// Used to create stacked delimiters of appropriate sizes in makeSizedDelim.\nvar sizeToMaxHeight = [0, 1.2, 1.8, 2.4, 3.0];\n\n/**\n * Used to create a delimiter of a specific size, where `size` is 1, 2, 3, or 4.\n */\nvar makeSizedDelim = function(delim, size, options, mode, classes) {\n    // < and > turn into \\langle and \\rangle in delimiters\n    if (delim === \"<\" || delim === \"\\\\lt\") {\n        delim = \"\\\\langle\";\n    } else if (delim === \">\" || delim === \"\\\\gt\") {\n        delim = \"\\\\rangle\";\n    }\n\n    // Sized delimiters are never centered.\n    if (utils.contains(stackLargeDelimiters, delim) ||\n        utils.contains(stackNeverDelimiters, delim)) {\n        return makeLargeDelim(delim, size, false, options, mode, classes);\n    } else if (utils.contains(stackAlwaysDelimiters, delim)) {\n        return makeStackedDelim(\n            delim, sizeToMaxHeight[size], false, options, mode, classes);\n    } else {\n        throw new ParseError(\"Illegal delimiter: '\" + delim + \"'\");\n    }\n};\n\n/**\n * There are three different sequences of delimiter sizes that the delimiters\n * follow depending on the kind of delimiter. This is used when creating custom\n * sized delimiters to decide whether to create a small, large, or stacked\n * delimiter.\n *\n * In real TeX, these sequences aren't explicitly defined, but are instead\n * defined inside the font metrics. Since there are only three sequences that\n * are possible for the delimiters that TeX defines, it is easier to just encode\n * them explicitly here.\n */\n\n// Delimiters that never stack try small delimiters and large delimiters only\nvar stackNeverDelimiterSequence = [\n    {type: \"small\", style: Style.SCRIPTSCRIPT},\n    {type: \"small\", style: Style.SCRIPT},\n    {type: \"small\", style: Style.TEXT},\n    {type: \"large\", size: 1},\n    {type: \"large\", size: 2},\n    {type: \"large\", size: 3},\n    {type: \"large\", size: 4}\n];\n\n// Delimiters that always stack try the small delimiters first, then stack\nvar stackAlwaysDelimiterSequence = [\n    {type: \"small\", style: Style.SCRIPTSCRIPT},\n    {type: \"small\", style: Style.SCRIPT},\n    {type: \"small\", style: Style.TEXT},\n    {type: \"stack\"}\n];\n\n// Delimiters that stack when large try the small and then large delimiters, and\n// stack afterwards\nvar stackLargeDelimiterSequence = [\n    {type: \"small\", style: Style.SCRIPTSCRIPT},\n    {type: \"small\", style: Style.SCRIPT},\n    {type: \"small\", style: Style.TEXT},\n    {type: \"large\", size: 1},\n    {type: \"large\", size: 2},\n    {type: \"large\", size: 3},\n    {type: \"large\", size: 4},\n    {type: \"stack\"}\n];\n\n/**\n * Get the font used in a delimiter based on what kind of delimiter it is.\n */\nvar delimTypeToFont = function(type) {\n    if (type.type === \"small\") {\n        return \"Main-Regular\";\n    } else if (type.type === \"large\") {\n        return \"Size\" + type.size + \"-Regular\";\n    } else if (type.type === \"stack\") {\n        return \"Size4-Regular\";\n    }\n};\n\n/**\n * Traverse a sequence of types of delimiters to decide what kind of delimiter\n * should be used to create a delimiter of the given height+depth.\n */\nvar traverseSequence = function(delim, height, sequence, options) {\n    // Here, we choose the index we should start at in the sequences. In smaller\n    // sizes (which correspond to larger numbers in style.size) we start earlier\n    // in the sequence. Thus, scriptscript starts at index 3-3=0, script starts\n    // at index 3-2=1, text starts at 3-1=2, and display starts at min(2,3-0)=2\n    var start = Math.min(2, 3 - options.style.size);\n    for (var i = start; i < sequence.length; i++) {\n        if (sequence[i].type === \"stack\") {\n            // This is always the last delimiter, so we just break the loop now.\n            break;\n        }\n\n        var metrics = getMetrics(delim, delimTypeToFont(sequence[i]));\n        var heightDepth = metrics.height + metrics.depth;\n\n        // Small delimiters are scaled down versions of the same font, so we\n        // account for the style change size.\n\n        if (sequence[i].type === \"small\") {\n            heightDepth *= sequence[i].style.sizeMultiplier;\n        }\n\n        // Check if the delimiter at this size works for the given height.\n        if (heightDepth > height) {\n            return sequence[i];\n        }\n    }\n\n    // If we reached the end of the sequence, return the last sequence element.\n    return sequence[sequence.length - 1];\n};\n\n/**\n * Make a delimiter of a given height+depth, with optional centering. Here, we\n * traverse the sequences, and create a delimiter that the sequence tells us to.\n */\nvar makeCustomSizedDelim = function(delim, height, center, options, mode,\n                                    classes) {\n    if (delim === \"<\" || delim === \"\\\\lt\") {\n        delim = \"\\\\langle\";\n    } else if (delim === \">\" || delim === \"\\\\gt\") {\n        delim = \"\\\\rangle\";\n    }\n\n    // Decide what sequence to use\n    var sequence;\n    if (utils.contains(stackNeverDelimiters, delim)) {\n        sequence = stackNeverDelimiterSequence;\n    } else if (utils.contains(stackLargeDelimiters, delim)) {\n        sequence = stackLargeDelimiterSequence;\n    } else {\n        sequence = stackAlwaysDelimiterSequence;\n    }\n\n    // Look through the sequence\n    var delimType = traverseSequence(delim, height, sequence, options);\n\n    // Depending on the sequence element we decided on, call the appropriate\n    // function.\n    if (delimType.type === \"small\") {\n        return makeSmallDelim(delim, delimType.style, center, options, mode,\n                              classes);\n    } else if (delimType.type === \"large\") {\n        return makeLargeDelim(delim, delimType.size, center, options, mode,\n                              classes);\n    } else if (delimType.type === \"stack\") {\n        return makeStackedDelim(delim, height, center, options, mode, classes);\n    }\n};\n\n/**\n * Make a delimiter for use with `\\left` and `\\right`, given a height and depth\n * of an expression that the delimiters surround.\n */\nvar makeLeftRightDelim = function(delim, height, depth, options, mode,\n                                  classes) {\n    // We always center \\left/\\right delimiters, so the axis is always shifted\n    var axisHeight =\n        options.style.metrics.axisHeight * options.style.sizeMultiplier;\n\n    // Taken from TeX source, tex.web, function make_left_right\n    var delimiterFactor = 901;\n    var delimiterExtend = 5.0 / fontMetrics.metrics.ptPerEm;\n\n    var maxDistFromAxis = Math.max(\n        height - axisHeight, depth + axisHeight);\n\n    var totalHeight = Math.max(\n        // In real TeX, calculations are done using integral values which are\n        // 65536 per pt, or 655360 per em. So, the division here truncates in\n        // TeX but doesn't here, producing different results. If we wanted to\n        // exactly match TeX's calculation, we could do\n        //   Math.floor(655360 * maxDistFromAxis / 500) *\n        //    delimiterFactor / 655360\n        // (To see the difference, compare\n        //    x^{x^{\\left(\\rule{0.1em}{0.68em}\\right)}}\n        // in TeX and KaTeX)\n        maxDistFromAxis / 500 * delimiterFactor,\n        2 * maxDistFromAxis - delimiterExtend);\n\n    // Finally, we defer to `makeCustomSizedDelim` with our calculated total\n    // height\n    return makeCustomSizedDelim(delim, totalHeight, true, options, mode,\n                                classes);\n};\n\nmodule.exports = {\n    sizedDelim: makeSizedDelim,\n    customSizedDelim: makeCustomSizedDelim,\n    leftRightDelim: makeLeftRightDelim\n};\n","/**\n * These objects store the data about the DOM nodes we create, as well as some\n * extra data. They can then be transformed into real DOM nodes with the\n * `toNode` function or HTML markup using `toMarkup`. They are useful for both\n * storing extra properties on the nodes, as well as providing a way to easily\n * work with the DOM.\n *\n * Similar functions for working with MathML nodes exist in mathMLTree.js.\n */\nvar unicodeRegexes = require(\"./unicodeRegexes\");\nvar utils = require(\"./utils\");\n\n/**\n * Create an HTML className based on a list of classes. In addition to joining\n * with spaces, we also remove null or empty classes.\n */\nvar createClass = function(classes) {\n    classes = classes.slice();\n    for (var i = classes.length - 1; i >= 0; i--) {\n        if (!classes[i]) {\n            classes.splice(i, 1);\n        }\n    }\n\n    return classes.join(\" \");\n};\n\n/**\n * This node represents a span node, with a className, a list of children, and\n * an inline style. It also contains information about its height, depth, and\n * maxFontSize.\n */\nfunction span(classes, children, options) {\n    this.classes = classes || [];\n    this.children = children || [];\n    this.height = 0;\n    this.depth = 0;\n    this.maxFontSize = 0;\n    this.style = {};\n    this.attributes = {};\n    if (options) {\n        if (options.style.isTight()) {\n            this.classes.push(\"mtight\");\n        }\n        if (options.getColor()) {\n            this.style.color = options.getColor();\n        }\n    }\n}\n\n/**\n * Sets an arbitrary attribute on the span. Warning: use this wisely. Not all\n * browsers support attributes the same, and having too many custom attributes\n * is probably bad.\n */\nspan.prototype.setAttribute = function(attribute, value) {\n    this.attributes[attribute] = value;\n};\n\nspan.prototype.tryCombine = function(sibling) {\n    return false;\n};\n\n/**\n * Convert the span into an HTML node\n */\nspan.prototype.toNode = function() {\n    var span = document.createElement(\"span\");\n\n    // Apply the class\n    span.className = createClass(this.classes);\n\n    // Apply inline styles\n    for (var style in this.style) {\n        if (Object.prototype.hasOwnProperty.call(this.style, style)) {\n            span.style[style] = this.style[style];\n        }\n    }\n\n    // Apply attributes\n    for (var attr in this.attributes) {\n        if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n            span.setAttribute(attr, this.attributes[attr]);\n        }\n    }\n\n    // Append the children, also as HTML nodes\n    for (var i = 0; i < this.children.length; i++) {\n        span.appendChild(this.children[i].toNode());\n    }\n\n    return span;\n};\n\n/**\n * Convert the span into an HTML markup string\n */\nspan.prototype.toMarkup = function() {\n    var markup = \"<span\";\n\n    // Add the class\n    if (this.classes.length) {\n        markup += \" class=\\\"\";\n        markup += utils.escape(createClass(this.classes));\n        markup += \"\\\"\";\n    }\n\n    var styles = \"\";\n\n    // Add the styles, after hyphenation\n    for (var style in this.style) {\n        if (this.style.hasOwnProperty(style)) {\n            styles += utils.hyphenate(style) + \":\" + this.style[style] + \";\";\n        }\n    }\n\n    if (styles) {\n        markup += \" style=\\\"\" + utils.escape(styles) + \"\\\"\";\n    }\n\n    // Add the attributes\n    for (var attr in this.attributes) {\n        if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n            markup += \" \" + attr + \"=\\\"\";\n            markup += utils.escape(this.attributes[attr]);\n            markup += \"\\\"\";\n        }\n    }\n\n    markup += \">\";\n\n    // Add the markup of the children, also as markup\n    for (var i = 0; i < this.children.length; i++) {\n        markup += this.children[i].toMarkup();\n    }\n\n    markup += \"</span>\";\n\n    return markup;\n};\n\n/**\n * This node represents a document fragment, which contains elements, but when\n * placed into the DOM doesn't have any representation itself. Thus, it only\n * contains children and doesn't have any HTML properties. It also keeps track\n * of a height, depth, and maxFontSize.\n */\nfunction documentFragment(children) {\n    this.children = children || [];\n    this.height = 0;\n    this.depth = 0;\n    this.maxFontSize = 0;\n}\n\n/**\n * Convert the fragment into a node\n */\ndocumentFragment.prototype.toNode = function() {\n    // Create a fragment\n    var frag = document.createDocumentFragment();\n\n    // Append the children\n    for (var i = 0; i < this.children.length; i++) {\n        frag.appendChild(this.children[i].toNode());\n    }\n\n    return frag;\n};\n\n/**\n * Convert the fragment into HTML markup\n */\ndocumentFragment.prototype.toMarkup = function() {\n    var markup = \"\";\n\n    // Simply concatenate the markup for the children together\n    for (var i = 0; i < this.children.length; i++) {\n        markup += this.children[i].toMarkup();\n    }\n\n    return markup;\n};\n\nvar iCombinations = {\n    'î': '\\u0131\\u0302',\n    'ï': '\\u0131\\u0308',\n    'í': '\\u0131\\u0301',\n    // 'ī': '\\u0131\\u0304', // enable when we add Extended Latin\n    'ì': '\\u0131\\u0300'\n};\n\n/**\n * A symbol node contains information about a single symbol. It either renders\n * to a single text node, or a span with a single text node in it, depending on\n * whether it has CSS classes, styles, or needs italic correction.\n */\nfunction symbolNode(value, height, depth, italic, skew, classes, style) {\n    this.value = value || \"\";\n    this.height = height || 0;\n    this.depth = depth || 0;\n    this.italic = italic || 0;\n    this.skew = skew || 0;\n    this.classes = classes || [];\n    this.style = style || {};\n    this.maxFontSize = 0;\n\n    // Mark CJK characters with specific classes so that we can specify which\n    // fonts to use.  This allows us to render these characters with a serif\n    // font in situations where the browser would either default to a sans serif\n    // or render a placeholder character.\n    if (unicodeRegexes.cjkRegex.test(value)) {\n        // I couldn't find any fonts that contained Hangul as well as all of\n        // the other characters we wanted to test there for it gets its own\n        // CSS class.\n        if (unicodeRegexes.hangulRegex.test(value)) {\n            this.classes.push('hangul_fallback');\n        } else {\n            this.classes.push('cjk_fallback');\n        }\n    }\n\n    if (/[îïíì]/.test(this.value)) {    // add ī when we add Extended Latin\n        this.value = iCombinations[this.value];\n    }\n}\n\nsymbolNode.prototype.tryCombine = function(sibling) {\n    if (!sibling\n        || !(sibling instanceof symbolNode)\n        || this.italic > 0\n        || createClass(this.classes) !== createClass(sibling.classes)\n        || this.skew !== sibling.skew\n        || this.maxFontSize !== sibling.maxFontSize) {\n        return false;\n    }\n    for (var style in this.style) {\n        if (this.style.hasOwnProperty(style)\n            && this.style[style] !== sibling.style[style]) {\n            return false;\n        }\n    }\n    for (style in sibling.style) {\n        if (sibling.style.hasOwnProperty(style)\n            && this.style[style] !== sibling.style[style]) {\n            return false;\n        }\n    }\n    this.value += sibling.value;\n    this.height = Math.max(this.height, sibling.height);\n    this.depth = Math.max(this.depth, sibling.depth);\n    this.italic = sibling.italic;\n    return true;\n};\n\n/**\n * Creates a text node or span from a symbol node. Note that a span is only\n * created if it is needed.\n */\nsymbolNode.prototype.toNode = function() {\n    var node = document.createTextNode(this.value);\n    var span = null;\n\n    if (this.italic > 0) {\n        span = document.createElement(\"span\");\n        span.style.marginRight = this.italic + \"em\";\n    }\n\n    if (this.classes.length > 0) {\n        span = span || document.createElement(\"span\");\n        span.className = createClass(this.classes);\n    }\n\n    for (var style in this.style) {\n        if (this.style.hasOwnProperty(style)) {\n            span = span || document.createElement(\"span\");\n            span.style[style] = this.style[style];\n        }\n    }\n\n    if (span) {\n        span.appendChild(node);\n        return span;\n    } else {\n        return node;\n    }\n};\n\n/**\n * Creates markup for a symbol node.\n */\nsymbolNode.prototype.toMarkup = function() {\n    // TODO(alpert): More duplication than I'd like from\n    // span.prototype.toMarkup and symbolNode.prototype.toNode...\n    var needsSpan = false;\n\n    var markup = \"<span\";\n\n    if (this.classes.length) {\n        needsSpan = true;\n        markup += \" class=\\\"\";\n        markup += utils.escape(createClass(this.classes));\n        markup += \"\\\"\";\n    }\n\n    var styles = \"\";\n\n    if (this.italic > 0) {\n        styles += \"margin-right:\" + this.italic + \"em;\";\n    }\n    for (var style in this.style) {\n        if (this.style.hasOwnProperty(style)) {\n            styles += utils.hyphenate(style) + \":\" + this.style[style] + \";\";\n        }\n    }\n\n    if (styles) {\n        needsSpan = true;\n        markup += \" style=\\\"\" + utils.escape(styles) + \"\\\"\";\n    }\n\n    var escaped = utils.escape(this.value);\n    if (needsSpan) {\n        markup += \">\";\n        markup += escaped;\n        markup += \"</span>\";\n        return markup;\n    } else {\n        return escaped;\n    }\n};\n\nmodule.exports = {\n    span: span,\n    documentFragment: documentFragment,\n    symbolNode: symbolNode\n};\n","/* eslint no-constant-condition:0 */\nvar parseData = require(\"./parseData\");\nvar ParseError = require(\"./ParseError\");\nvar Style = require(\"./Style\");\n\nvar ParseNode = parseData.ParseNode;\n\n/**\n * Parse the body of the environment, with rows delimited by \\\\ and\n * columns delimited by &, and create a nested list in row-major order\n * with one group per cell.\n */\nfunction parseArray(parser, result) {\n    var row = [];\n    var body = [row];\n    var rowGaps = [];\n    while (true) {\n        var cell = parser.parseExpression(false, null);\n        row.push(new ParseNode(\"ordgroup\", cell, parser.mode));\n        var next = parser.nextToken.text;\n        if (next === \"&\") {\n            parser.consume();\n        } else if (next === \"\\\\end\") {\n            break;\n        } else if (next === \"\\\\\\\\\" || next === \"\\\\cr\") {\n            var cr = parser.parseFunction();\n            rowGaps.push(cr.value.size);\n            row = [];\n            body.push(row);\n        } else {\n            throw new ParseError(\"Expected & or \\\\\\\\ or \\\\end\",\n                                 parser.nextToken);\n        }\n    }\n    result.body = body;\n    result.rowGaps = rowGaps;\n    return new ParseNode(result.type, result, parser.mode);\n}\n\n/*\n * An environment definition is very similar to a function definition:\n * it is declared with a name or a list of names, a set of properties\n * and a handler containing the actual implementation.\n *\n * The properties include:\n *  - numArgs: The number of arguments after the \\begin{name} function.\n *  - argTypes: (optional) Just like for a function\n *  - allowedInText: (optional) Whether or not the environment is allowed inside\n *                   text mode (default false) (not enforced yet)\n *  - numOptionalArgs: (optional) Just like for a function\n * A bare number instead of that object indicates the numArgs value.\n *\n * The handler function will receive two arguments\n *  - context: information and references provided by the parser\n *  - args: an array of arguments passed to \\begin{name}\n * The context contains the following properties:\n *  - envName: the name of the environment, one of the listed names.\n *  - parser: the parser object\n *  - lexer: the lexer object\n *  - positions: the positions associated with these arguments from args.\n * The handler must return a ParseResult.\n */\n\nfunction defineEnvironment(names, props, handler) {\n    if (typeof names === \"string\") {\n        names = [names];\n    }\n    if (typeof props === \"number\") {\n        props = { numArgs: props };\n    }\n    // Set default values of environments\n    var data = {\n        numArgs: props.numArgs || 0,\n        argTypes: props.argTypes,\n        greediness: 1,\n        allowedInText: !!props.allowedInText,\n        numOptionalArgs: props.numOptionalArgs || 0,\n        handler: handler\n    };\n    for (var i = 0; i < names.length; ++i) {\n        module.exports[names[i]] = data;\n    }\n}\n\n// Arrays are part of LaTeX, defined in lttab.dtx so its documentation\n// is part of the source2e.pdf file of LaTeX2e source documentation.\ndefineEnvironment(\"array\", {\n    numArgs: 1\n}, function(context, args) {\n    var colalign = args[0];\n    colalign = colalign.value.map ? colalign.value : [colalign];\n    var cols = colalign.map(function(node) {\n        var ca = node.value;\n        if (\"lcr\".indexOf(ca) !== -1) {\n            return {\n                type: \"align\",\n                align: ca\n            };\n        } else if (ca === \"|\") {\n            return {\n                type: \"separator\",\n                separator: \"|\"\n            };\n        }\n        throw new ParseError(\n            \"Unknown column alignment: \" + node.value,\n            node);\n    });\n    var res = {\n        type: \"array\",\n        cols: cols,\n        hskipBeforeAndAfter: true // \\@preamble in lttab.dtx\n    };\n    res = parseArray(context.parser, res);\n    return res;\n});\n\n// The matrix environments of amsmath builds on the array environment\n// of LaTeX, which is discussed above.\ndefineEnvironment([\n    \"matrix\",\n    \"pmatrix\",\n    \"bmatrix\",\n    \"Bmatrix\",\n    \"vmatrix\",\n    \"Vmatrix\"\n], {\n}, function(context) {\n    var delimiters = {\n        \"matrix\": null,\n        \"pmatrix\": [\"(\", \")\"],\n        \"bmatrix\": [\"[\", \"]\"],\n        \"Bmatrix\": [\"\\\\{\", \"\\\\}\"],\n        \"vmatrix\": [\"|\", \"|\"],\n        \"Vmatrix\": [\"\\\\Vert\", \"\\\\Vert\"]\n    }[context.envName];\n    var res = {\n        type: \"array\",\n        hskipBeforeAndAfter: false // \\hskip -\\arraycolsep in amsmath\n    };\n    res = parseArray(context.parser, res);\n    if (delimiters) {\n        res = new ParseNode(\"leftright\", {\n            body: [res],\n            left: delimiters[0],\n            right: delimiters[1]\n        }, context.mode);\n    }\n    return res;\n});\n\n// A cases environment (in amsmath.sty) is almost equivalent to\n// \\def\\arraystretch{1.2}%\n// \\left\\{\\begin{array}{@{}l@{\\quad}l@{}} … \\end{array}\\right.\ndefineEnvironment(\"cases\", {\n}, function(context) {\n    var res = {\n        type: \"array\",\n        arraystretch: 1.2,\n        cols: [{\n            type: \"align\",\n            align: \"l\",\n            pregap: 0,\n            // TODO(kevinb) get the current style.\n            // For now we use the metrics for TEXT style which is what we were\n            // doing before.  Before attempting to get the current style we\n            // should look at TeX's behavior especially for \\over and matrices.\n            postgap: Style.TEXT.metrics.quad\n        }, {\n            type: \"align\",\n            align: \"l\",\n            pregap: 0,\n            postgap: 0\n        }]\n    };\n    res = parseArray(context.parser, res);\n    res = new ParseNode(\"leftright\", {\n        body: [res],\n        left: \"\\\\{\",\n        right: \".\"\n    }, context.mode);\n    return res;\n});\n\n// An aligned environment is like the align* environment\n// except it operates within math mode.\n// Note that we assume \\nomallineskiplimit to be zero,\n// so that \\strut@ is the same as \\strut.\ndefineEnvironment(\"aligned\", {\n}, function(context) {\n    var res = {\n        type: \"array\",\n        cols: []\n    };\n    res = parseArray(context.parser, res);\n    var emptyGroup = new ParseNode(\"ordgroup\", [], context.mode);\n    var numCols = 0;\n    res.value.body.forEach(function(row) {\n        var i;\n        for (i = 1; i < row.length; i += 2) {\n            row[i].value.unshift(emptyGroup);\n        }\n        if (numCols < row.length) {\n            numCols = row.length;\n        }\n    });\n    for (var i = 0; i < numCols; ++i) {\n        var align = \"r\";\n        var pregap = 0;\n        if (i % 2 === 1) {\n            align = \"l\";\n        } else if (i > 0) {\n            pregap = 2; // one \\qquad between columns\n        }\n        res.value.cols[i] = {\n            type: \"align\",\n            align: align,\n            pregap: pregap,\n            postgap: 0\n        };\n    }\n    return res;\n});\n","/* eslint no-unused-vars:0 */\n\nvar Style = require(\"./Style\");\nvar cjkRegex = require(\"./unicodeRegexes\").cjkRegex;\n\n/**\n * This file contains metrics regarding fonts and individual symbols. The sigma\n * and xi variables, as well as the metricMap map contain data extracted from\n * TeX, TeX font metrics, and the TTF files. These data are then exposed via the\n * `metrics` variable and the getCharacterMetrics function.\n */\n\n// In TeX, there are actually three sets of dimensions, one for each of\n// textstyle, scriptstyle, and scriptscriptstyle.  These are provided in the\n// the arrays below, in that order.\n//\n// The font metrics are stored in fonts cmsy10, cmsy7, and cmsy5 respsectively.\n// This was determined by running the folllowing script:\n//\n//     latex -interaction=nonstopmode \\\n//     '\\documentclass{article}\\usepackage{amsmath}\\begin{document}' \\\n//     '$a$ \\expandafter\\show\\the\\textfont2' \\\n//     '\\expandafter\\show\\the\\scriptfont2' \\\n//     '\\expandafter\\show\\the\\scriptscriptfont2' \\\n//     '\\stop'\n//\n// The metrics themselves were retreived using the following commands:\n//\n//     tftopl cmsy10\n//     tftopl cmsy7\n//     tftopl cmsy5\n//\n// The output of each of these commands is quite lengthy.  The only part we\n// care about is the FONTDIMEN section. Each value is measured in EMs.\nvar sigmas = {\n    slant: [0.250, 0.250, 0.250],       // sigma1\n    space: [0.000, 0.000, 0.000],       // sigma2\n    stretch: [0.000, 0.000, 0.000],     // sigma3\n    shrink: [0.000, 0.000, 0.000],      // sigma4\n    xHeight: [0.431, 0.431, 0.431],     // sigma5\n    quad: [1.000, 1.171, 1.472],        // sigma6\n    extraSpace: [0.000, 0.000, 0.000],  // sigma7\n    num1: [0.677, 0.732, 0.925],        // sigma8\n    num2: [0.394, 0.384, 0.387],        // sigma9\n    num3: [0.444, 0.471, 0.504],        // sigma10\n    denom1: [0.686, 0.752, 1.025],      // sigma11\n    denom2: [0.345, 0.344, 0.532],      // sigma12\n    sup1: [0.413, 0.503, 0.504],        // sigma13\n    sup2: [0.363, 0.431, 0.404],        // sigma14\n    sup3: [0.289, 0.286, 0.294],        // sigma15\n    sub1: [0.150, 0.143, 0.200],        // sigma16\n    sub2: [0.247, 0.286, 0.400],        // sigma17\n    supDrop: [0.386, 0.353, 0.494],     // sigma18\n    subDrop: [0.050, 0.071, 0.100],     // sigma19\n    delim1: [2.390, 1.700, 1.980],      // sigma20\n    delim2: [1.010, 1.157, 1.420],      // sigma21\n    axisHeight: [0.250, 0.250, 0.250]  // sigma22\n};\n\n// These font metrics are extracted from TeX by using\n// \\font\\a=cmex10\n// \\showthe\\fontdimenX\\a\n// where X is the corresponding variable number. These correspond to the font\n// parameters of the extension fonts (family 3). See the TeXbook, page 441.\nvar xi1 = 0;\nvar xi2 = 0;\nvar xi3 = 0;\nvar xi4 = 0;\nvar xi5 = 0.431;\nvar xi6 = 1;\nvar xi7 = 0;\nvar xi8 = 0.04;\nvar xi9 = 0.111;\nvar xi10 = 0.166;\nvar xi11 = 0.2;\nvar xi12 = 0.6;\nvar xi13 = 0.1;\n\n// This value determines how large a pt is, for metrics which are defined in\n// terms of pts.\n// This value is also used in katex.less; if you change it make sure the values\n// match.\nvar ptPerEm = 10.0;\n\n// The space between adjacent `|` columns in an array definition. From\n// `\\showthe\\doublerulesep` in LaTeX.\nvar doubleRuleSep = 2.0 / ptPerEm;\n\n/**\n * This is just a mapping from common names to real metrics\n */\nvar metrics = {\n    defaultRuleThickness: xi8,\n    bigOpSpacing1: xi9,\n    bigOpSpacing2: xi10,\n    bigOpSpacing3: xi11,\n    bigOpSpacing4: xi12,\n    bigOpSpacing5: xi13,\n    ptPerEm: ptPerEm,\n    doubleRuleSep: doubleRuleSep\n};\n\n// This map contains a mapping from font name and character code to character\n// metrics, including height, depth, italic correction, and skew (kern from the\n// character to the corresponding \\skewchar)\n// This map is generated via `make metrics`. It should not be changed manually.\nvar metricMap = require(\"./fontMetricsData\");\n\n// These are very rough approximations.  We default to Times New Roman which\n// should have Latin-1 and Cyrillic characters, but may not depending on the\n// operating system.  The metrics do not account for extra height from the\n// accents.  In the case of Cyrillic characters which have both ascenders and\n// descenders we prefer approximations with ascenders, primarily to prevent\n// the fraction bar or root line from intersecting the glyph.\n// TODO(kevinb) allow union of multiple glyph metrics for better accuracy.\nvar extraCharacterMap = {\n    // Latin-1\n    'À': 'A',\n    'Á': 'A',\n    'Â': 'A',\n    'Ã': 'A',\n    'Ä': 'A',\n    'Å': 'A',\n    'Æ': 'A',\n    'Ç': 'C',\n    'È': 'E',\n    'É': 'E',\n    'Ê': 'E',\n    'Ë': 'E',\n    'Ì': 'I',\n    'Í': 'I',\n    'Î': 'I',\n    'Ï': 'I',\n    'Ð': 'D',\n    'Ñ': 'N',\n    'Ò': 'O',\n    'Ó': 'O',\n    'Ô': 'O',\n    'Õ': 'O',\n    'Ö': 'O',\n    'Ø': 'O',\n    'Ù': 'U',\n    'Ú': 'U',\n    'Û': 'U',\n    'Ü': 'U',\n    'Ý': 'Y',\n    'Þ': 'o',\n    'ß': 'B',\n    'à': 'a',\n    'á': 'a',\n    'â': 'a',\n    'ã': 'a',\n    'ä': 'a',\n    'å': 'a',\n    'æ': 'a',\n    'ç': 'c',\n    'è': 'e',\n    'é': 'e',\n    'ê': 'e',\n    'ë': 'e',\n    'ì': 'i',\n    'í': 'i',\n    'î': 'i',\n    'ï': 'i',\n    'ð': 'd',\n    'ñ': 'n',\n    'ò': 'o',\n    'ó': 'o',\n    'ô': 'o',\n    'õ': 'o',\n    'ö': 'o',\n    'ø': 'o',\n    'ù': 'u',\n    'ú': 'u',\n    'û': 'u',\n    'ü': 'u',\n    'ý': 'y',\n    'þ': 'o',\n    'ÿ': 'y',\n\n    // Cyrillic\n    'А': 'A',\n    'Б': 'B',\n    'В': 'B',\n    'Г': 'F',\n    'Д': 'A',\n    'Е': 'E',\n    'Ж': 'K',\n    'З': '3',\n    'И': 'N',\n    'Й': 'N',\n    'К': 'K',\n    'Л': 'N',\n    'М': 'M',\n    'Н': 'H',\n    'О': 'O',\n    'П': 'N',\n    'Р': 'P',\n    'С': 'C',\n    'Т': 'T',\n    'У': 'y',\n    'Ф': 'O',\n    'Х': 'X',\n    'Ц': 'U',\n    'Ч': 'h',\n    'Ш': 'W',\n    'Щ': 'W',\n    'Ъ': 'B',\n    'Ы': 'X',\n    'Ь': 'B',\n    'Э': '3',\n    'Ю': 'X',\n    'Я': 'R',\n    'а': 'a',\n    'б': 'b',\n    'в': 'a',\n    'г': 'r',\n    'д': 'y',\n    'е': 'e',\n    'ж': 'm',\n    'з': 'e',\n    'и': 'n',\n    'й': 'n',\n    'к': 'n',\n    'л': 'n',\n    'м': 'm',\n    'н': 'n',\n    'о': 'o',\n    'п': 'n',\n    'р': 'p',\n    'с': 'c',\n    'т': 'o',\n    'у': 'y',\n    'ф': 'b',\n    'х': 'x',\n    'ц': 'n',\n    'ч': 'n',\n    'ш': 'w',\n    'щ': 'w',\n    'ъ': 'a',\n    'ы': 'm',\n    'ь': 'a',\n    'э': 'e',\n    'ю': 'm',\n    'я': 'r'\n};\n\n/**\n * This function is a convenience function for looking up information in the\n * metricMap table. It takes a character as a string, and a style.\n *\n * Note: the `width` property may be undefined if fontMetricsData.js wasn't\n * built using `Make extended_metrics`.\n */\nvar getCharacterMetrics = function(character, style) {\n    var ch = character.charCodeAt(0);\n    if (character[0] in extraCharacterMap) {\n        ch = extraCharacterMap[character[0]].charCodeAt(0);\n    } else if (cjkRegex.test(character[0])) {\n        ch = 'M'.charCodeAt(0);\n    }\n    var metrics = metricMap[style][ch];\n    if (metrics) {\n        return {\n            depth: metrics[0],\n            height: metrics[1],\n            italic: metrics[2],\n            skew: metrics[3],\n            width: metrics[4]\n        };\n    }\n};\n\nmodule.exports = {\n    metrics: metrics,\n    sigmas: sigmas,\n    getCharacterMetrics: getCharacterMetrics\n};\n","module.exports = {\n    \"AMS-Regular\": {\n        \"65\": [0, 0.68889, 0, 0],\n        \"66\": [0, 0.68889, 0, 0],\n        \"67\": [0, 0.68889, 0, 0],\n        \"68\": [0, 0.68889, 0, 0],\n        \"69\": [0, 0.68889, 0, 0],\n        \"70\": [0, 0.68889, 0, 0],\n        \"71\": [0, 0.68889, 0, 0],\n        \"72\": [0, 0.68889, 0, 0],\n        \"73\": [0, 0.68889, 0, 0],\n        \"74\": [0.16667, 0.68889, 0, 0],\n        \"75\": [0, 0.68889, 0, 0],\n        \"76\": [0, 0.68889, 0, 0],\n        \"77\": [0, 0.68889, 0, 0],\n        \"78\": [0, 0.68889, 0, 0],\n        \"79\": [0.16667, 0.68889, 0, 0],\n        \"80\": [0, 0.68889, 0, 0],\n        \"81\": [0.16667, 0.68889, 0, 0],\n        \"82\": [0, 0.68889, 0, 0],\n        \"83\": [0, 0.68889, 0, 0],\n        \"84\": [0, 0.68889, 0, 0],\n        \"85\": [0, 0.68889, 0, 0],\n        \"86\": [0, 0.68889, 0, 0],\n        \"87\": [0, 0.68889, 0, 0],\n        \"88\": [0, 0.68889, 0, 0],\n        \"89\": [0, 0.68889, 0, 0],\n        \"90\": [0, 0.68889, 0, 0],\n        \"107\": [0, 0.68889, 0, 0],\n        \"165\": [0, 0.675, 0.025, 0],\n        \"174\": [0.15559, 0.69224, 0, 0],\n        \"240\": [0, 0.68889, 0, 0],\n        \"295\": [0, 0.68889, 0, 0],\n        \"710\": [0, 0.825, 0, 0],\n        \"732\": [0, 0.9, 0, 0],\n        \"770\": [0, 0.825, 0, 0],\n        \"771\": [0, 0.9, 0, 0],\n        \"989\": [0.08167, 0.58167, 0, 0],\n        \"1008\": [0, 0.43056, 0.04028, 0],\n        \"8245\": [0, 0.54986, 0, 0],\n        \"8463\": [0, 0.68889, 0, 0],\n        \"8487\": [0, 0.68889, 0, 0],\n        \"8498\": [0, 0.68889, 0, 0],\n        \"8502\": [0, 0.68889, 0, 0],\n        \"8503\": [0, 0.68889, 0, 0],\n        \"8504\": [0, 0.68889, 0, 0],\n        \"8513\": [0, 0.68889, 0, 0],\n        \"8592\": [-0.03598, 0.46402, 0, 0],\n        \"8594\": [-0.03598, 0.46402, 0, 0],\n        \"8602\": [-0.13313, 0.36687, 0, 0],\n        \"8603\": [-0.13313, 0.36687, 0, 0],\n        \"8606\": [0.01354, 0.52239, 0, 0],\n        \"8608\": [0.01354, 0.52239, 0, 0],\n        \"8610\": [0.01354, 0.52239, 0, 0],\n        \"8611\": [0.01354, 0.52239, 0, 0],\n        \"8619\": [0, 0.54986, 0, 0],\n        \"8620\": [0, 0.54986, 0, 0],\n        \"8621\": [-0.13313, 0.37788, 0, 0],\n        \"8622\": [-0.13313, 0.36687, 0, 0],\n        \"8624\": [0, 0.69224, 0, 0],\n        \"8625\": [0, 0.69224, 0, 0],\n        \"8630\": [0, 0.43056, 0, 0],\n        \"8631\": [0, 0.43056, 0, 0],\n        \"8634\": [0.08198, 0.58198, 0, 0],\n        \"8635\": [0.08198, 0.58198, 0, 0],\n        \"8638\": [0.19444, 0.69224, 0, 0],\n        \"8639\": [0.19444, 0.69224, 0, 0],\n        \"8642\": [0.19444, 0.69224, 0, 0],\n        \"8643\": [0.19444, 0.69224, 0, 0],\n        \"8644\": [0.1808, 0.675, 0, 0],\n        \"8646\": [0.1808, 0.675, 0, 0],\n        \"8647\": [0.1808, 0.675, 0, 0],\n        \"8648\": [0.19444, 0.69224, 0, 0],\n        \"8649\": [0.1808, 0.675, 0, 0],\n        \"8650\": [0.19444, 0.69224, 0, 0],\n        \"8651\": [0.01354, 0.52239, 0, 0],\n        \"8652\": [0.01354, 0.52239, 0, 0],\n        \"8653\": [-0.13313, 0.36687, 0, 0],\n        \"8654\": [-0.13313, 0.36687, 0, 0],\n        \"8655\": [-0.13313, 0.36687, 0, 0],\n        \"8666\": [0.13667, 0.63667, 0, 0],\n        \"8667\": [0.13667, 0.63667, 0, 0],\n        \"8669\": [-0.13313, 0.37788, 0, 0],\n        \"8672\": [-0.064, 0.437, 0, 0],\n        \"8674\": [-0.064, 0.437, 0, 0],\n        \"8705\": [0, 0.825, 0, 0],\n        \"8708\": [0, 0.68889, 0, 0],\n        \"8709\": [0.08167, 0.58167, 0, 0],\n        \"8717\": [0, 0.43056, 0, 0],\n        \"8722\": [-0.03598, 0.46402, 0, 0],\n        \"8724\": [0.08198, 0.69224, 0, 0],\n        \"8726\": [0.08167, 0.58167, 0, 0],\n        \"8733\": [0, 0.69224, 0, 0],\n        \"8736\": [0, 0.69224, 0, 0],\n        \"8737\": [0, 0.69224, 0, 0],\n        \"8738\": [0.03517, 0.52239, 0, 0],\n        \"8739\": [0.08167, 0.58167, 0, 0],\n        \"8740\": [0.25142, 0.74111, 0, 0],\n        \"8741\": [0.08167, 0.58167, 0, 0],\n        \"8742\": [0.25142, 0.74111, 0, 0],\n        \"8756\": [0, 0.69224, 0, 0],\n        \"8757\": [0, 0.69224, 0, 0],\n        \"8764\": [-0.13313, 0.36687, 0, 0],\n        \"8765\": [-0.13313, 0.37788, 0, 0],\n        \"8769\": [-0.13313, 0.36687, 0, 0],\n        \"8770\": [-0.03625, 0.46375, 0, 0],\n        \"8774\": [0.30274, 0.79383, 0, 0],\n        \"8776\": [-0.01688, 0.48312, 0, 0],\n        \"8778\": [0.08167, 0.58167, 0, 0],\n        \"8782\": [0.06062, 0.54986, 0, 0],\n        \"8783\": [0.06062, 0.54986, 0, 0],\n        \"8785\": [0.08198, 0.58198, 0, 0],\n        \"8786\": [0.08198, 0.58198, 0, 0],\n        \"8787\": [0.08198, 0.58198, 0, 0],\n        \"8790\": [0, 0.69224, 0, 0],\n        \"8791\": [0.22958, 0.72958, 0, 0],\n        \"8796\": [0.08198, 0.91667, 0, 0],\n        \"8806\": [0.25583, 0.75583, 0, 0],\n        \"8807\": [0.25583, 0.75583, 0, 0],\n        \"8808\": [0.25142, 0.75726, 0, 0],\n        \"8809\": [0.25142, 0.75726, 0, 0],\n        \"8812\": [0.25583, 0.75583, 0, 0],\n        \"8814\": [0.20576, 0.70576, 0, 0],\n        \"8815\": [0.20576, 0.70576, 0, 0],\n        \"8816\": [0.30274, 0.79383, 0, 0],\n        \"8817\": [0.30274, 0.79383, 0, 0],\n        \"8818\": [0.22958, 0.72958, 0, 0],\n        \"8819\": [0.22958, 0.72958, 0, 0],\n        \"8822\": [0.1808, 0.675, 0, 0],\n        \"8823\": [0.1808, 0.675, 0, 0],\n        \"8828\": [0.13667, 0.63667, 0, 0],\n        \"8829\": [0.13667, 0.63667, 0, 0],\n        \"8830\": [0.22958, 0.72958, 0, 0],\n        \"8831\": [0.22958, 0.72958, 0, 0],\n        \"8832\": [0.20576, 0.70576, 0, 0],\n        \"8833\": [0.20576, 0.70576, 0, 0],\n        \"8840\": [0.30274, 0.79383, 0, 0],\n        \"8841\": [0.30274, 0.79383, 0, 0],\n        \"8842\": [0.13597, 0.63597, 0, 0],\n        \"8843\": [0.13597, 0.63597, 0, 0],\n        \"8847\": [0.03517, 0.54986, 0, 0],\n        \"8848\": [0.03517, 0.54986, 0, 0],\n        \"8858\": [0.08198, 0.58198, 0, 0],\n        \"8859\": [0.08198, 0.58198, 0, 0],\n        \"8861\": [0.08198, 0.58198, 0, 0],\n        \"8862\": [0, 0.675, 0, 0],\n        \"8863\": [0, 0.675, 0, 0],\n        \"8864\": [0, 0.675, 0, 0],\n        \"8865\": [0, 0.675, 0, 0],\n        \"8872\": [0, 0.69224, 0, 0],\n        \"8873\": [0, 0.69224, 0, 0],\n        \"8874\": [0, 0.69224, 0, 0],\n        \"8876\": [0, 0.68889, 0, 0],\n        \"8877\": [0, 0.68889, 0, 0],\n        \"8878\": [0, 0.68889, 0, 0],\n        \"8879\": [0, 0.68889, 0, 0],\n        \"8882\": [0.03517, 0.54986, 0, 0],\n        \"8883\": [0.03517, 0.54986, 0, 0],\n        \"8884\": [0.13667, 0.63667, 0, 0],\n        \"8885\": [0.13667, 0.63667, 0, 0],\n        \"8888\": [0, 0.54986, 0, 0],\n        \"8890\": [0.19444, 0.43056, 0, 0],\n        \"8891\": [0.19444, 0.69224, 0, 0],\n        \"8892\": [0.19444, 0.69224, 0, 0],\n        \"8901\": [0, 0.54986, 0, 0],\n        \"8903\": [0.08167, 0.58167, 0, 0],\n        \"8905\": [0.08167, 0.58167, 0, 0],\n        \"8906\": [0.08167, 0.58167, 0, 0],\n        \"8907\": [0, 0.69224, 0, 0],\n        \"8908\": [0, 0.69224, 0, 0],\n        \"8909\": [-0.03598, 0.46402, 0, 0],\n        \"8910\": [0, 0.54986, 0, 0],\n        \"8911\": [0, 0.54986, 0, 0],\n        \"8912\": [0.03517, 0.54986, 0, 0],\n        \"8913\": [0.03517, 0.54986, 0, 0],\n        \"8914\": [0, 0.54986, 0, 0],\n        \"8915\": [0, 0.54986, 0, 0],\n        \"8916\": [0, 0.69224, 0, 0],\n        \"8918\": [0.0391, 0.5391, 0, 0],\n        \"8919\": [0.0391, 0.5391, 0, 0],\n        \"8920\": [0.03517, 0.54986, 0, 0],\n        \"8921\": [0.03517, 0.54986, 0, 0],\n        \"8922\": [0.38569, 0.88569, 0, 0],\n        \"8923\": [0.38569, 0.88569, 0, 0],\n        \"8926\": [0.13667, 0.63667, 0, 0],\n        \"8927\": [0.13667, 0.63667, 0, 0],\n        \"8928\": [0.30274, 0.79383, 0, 0],\n        \"8929\": [0.30274, 0.79383, 0, 0],\n        \"8934\": [0.23222, 0.74111, 0, 0],\n        \"8935\": [0.23222, 0.74111, 0, 0],\n        \"8936\": [0.23222, 0.74111, 0, 0],\n        \"8937\": [0.23222, 0.74111, 0, 0],\n        \"8938\": [0.20576, 0.70576, 0, 0],\n        \"8939\": [0.20576, 0.70576, 0, 0],\n        \"8940\": [0.30274, 0.79383, 0, 0],\n        \"8941\": [0.30274, 0.79383, 0, 0],\n        \"8994\": [0.19444, 0.69224, 0, 0],\n        \"8995\": [0.19444, 0.69224, 0, 0],\n        \"9416\": [0.15559, 0.69224, 0, 0],\n        \"9484\": [0, 0.69224, 0, 0],\n        \"9488\": [0, 0.69224, 0, 0],\n        \"9492\": [0, 0.37788, 0, 0],\n        \"9496\": [0, 0.37788, 0, 0],\n        \"9585\": [0.19444, 0.68889, 0, 0],\n        \"9586\": [0.19444, 0.74111, 0, 0],\n        \"9632\": [0, 0.675, 0, 0],\n        \"9633\": [0, 0.675, 0, 0],\n        \"9650\": [0, 0.54986, 0, 0],\n        \"9651\": [0, 0.54986, 0, 0],\n        \"9654\": [0.03517, 0.54986, 0, 0],\n        \"9660\": [0, 0.54986, 0, 0],\n        \"9661\": [0, 0.54986, 0, 0],\n        \"9664\": [0.03517, 0.54986, 0, 0],\n        \"9674\": [0.11111, 0.69224, 0, 0],\n        \"9733\": [0.19444, 0.69224, 0, 0],\n        \"10003\": [0, 0.69224, 0, 0],\n        \"10016\": [0, 0.69224, 0, 0],\n        \"10731\": [0.11111, 0.69224, 0, 0],\n        \"10846\": [0.19444, 0.75583, 0, 0],\n        \"10877\": [0.13667, 0.63667, 0, 0],\n        \"10878\": [0.13667, 0.63667, 0, 0],\n        \"10885\": [0.25583, 0.75583, 0, 0],\n        \"10886\": [0.25583, 0.75583, 0, 0],\n        \"10887\": [0.13597, 0.63597, 0, 0],\n        \"10888\": [0.13597, 0.63597, 0, 0],\n        \"10889\": [0.26167, 0.75726, 0, 0],\n        \"10890\": [0.26167, 0.75726, 0, 0],\n        \"10891\": [0.48256, 0.98256, 0, 0],\n        \"10892\": [0.48256, 0.98256, 0, 0],\n        \"10901\": [0.13667, 0.63667, 0, 0],\n        \"10902\": [0.13667, 0.63667, 0, 0],\n        \"10933\": [0.25142, 0.75726, 0, 0],\n        \"10934\": [0.25142, 0.75726, 0, 0],\n        \"10935\": [0.26167, 0.75726, 0, 0],\n        \"10936\": [0.26167, 0.75726, 0, 0],\n        \"10937\": [0.26167, 0.75726, 0, 0],\n        \"10938\": [0.26167, 0.75726, 0, 0],\n        \"10949\": [0.25583, 0.75583, 0, 0],\n        \"10950\": [0.25583, 0.75583, 0, 0],\n        \"10955\": [0.28481, 0.79383, 0, 0],\n        \"10956\": [0.28481, 0.79383, 0, 0],\n        \"57350\": [0.08167, 0.58167, 0, 0],\n        \"57351\": [0.08167, 0.58167, 0, 0],\n        \"57352\": [0.08167, 0.58167, 0, 0],\n        \"57353\": [0, 0.43056, 0.04028, 0],\n        \"57356\": [0.25142, 0.75726, 0, 0],\n        \"57357\": [0.25142, 0.75726, 0, 0],\n        \"57358\": [0.41951, 0.91951, 0, 0],\n        \"57359\": [0.30274, 0.79383, 0, 0],\n        \"57360\": [0.30274, 0.79383, 0, 0],\n        \"57361\": [0.41951, 0.91951, 0, 0],\n        \"57366\": [0.25142, 0.75726, 0, 0],\n        \"57367\": [0.25142, 0.75726, 0, 0],\n        \"57368\": [0.25142, 0.75726, 0, 0],\n        \"57369\": [0.25142, 0.75726, 0, 0],\n        \"57370\": [0.13597, 0.63597, 0, 0],\n        \"57371\": [0.13597, 0.63597, 0, 0]\n    },\n    \"Caligraphic-Regular\": {\n        \"48\": [0, 0.43056, 0, 0],\n        \"49\": [0, 0.43056, 0, 0],\n        \"50\": [0, 0.43056, 0, 0],\n        \"51\": [0.19444, 0.43056, 0, 0],\n        \"52\": [0.19444, 0.43056, 0, 0],\n        \"53\": [0.19444, 0.43056, 0, 0],\n        \"54\": [0, 0.64444, 0, 0],\n        \"55\": [0.19444, 0.43056, 0, 0],\n        \"56\": [0, 0.64444, 0, 0],\n        \"57\": [0.19444, 0.43056, 0, 0],\n        \"65\": [0, 0.68333, 0, 0.19445],\n        \"66\": [0, 0.68333, 0.03041, 0.13889],\n        \"67\": [0, 0.68333, 0.05834, 0.13889],\n        \"68\": [0, 0.68333, 0.02778, 0.08334],\n        \"69\": [0, 0.68333, 0.08944, 0.11111],\n        \"70\": [0, 0.68333, 0.09931, 0.11111],\n        \"71\": [0.09722, 0.68333, 0.0593, 0.11111],\n        \"72\": [0, 0.68333, 0.00965, 0.11111],\n        \"73\": [0, 0.68333, 0.07382, 0],\n        \"74\": [0.09722, 0.68333, 0.18472, 0.16667],\n        \"75\": [0, 0.68333, 0.01445, 0.05556],\n        \"76\": [0, 0.68333, 0, 0.13889],\n        \"77\": [0, 0.68333, 0, 0.13889],\n        \"78\": [0, 0.68333, 0.14736, 0.08334],\n        \"79\": [0, 0.68333, 0.02778, 0.11111],\n        \"80\": [0, 0.68333, 0.08222, 0.08334],\n        \"81\": [0.09722, 0.68333, 0, 0.11111],\n        \"82\": [0, 0.68333, 0, 0.08334],\n        \"83\": [0, 0.68333, 0.075, 0.13889],\n        \"84\": [0, 0.68333, 0.25417, 0],\n        \"85\": [0, 0.68333, 0.09931, 0.08334],\n        \"86\": [0, 0.68333, 0.08222, 0],\n        \"87\": [0, 0.68333, 0.08222, 0.08334],\n        \"88\": [0, 0.68333, 0.14643, 0.13889],\n        \"89\": [0.09722, 0.68333, 0.08222, 0.08334],\n        \"90\": [0, 0.68333, 0.07944, 0.13889]\n    },\n    \"Fraktur-Regular\": {\n        \"33\": [0, 0.69141, 0, 0],\n        \"34\": [0, 0.69141, 0, 0],\n        \"38\": [0, 0.69141, 0, 0],\n        \"39\": [0, 0.69141, 0, 0],\n        \"40\": [0.24982, 0.74947, 0, 0],\n        \"41\": [0.24982, 0.74947, 0, 0],\n        \"42\": [0, 0.62119, 0, 0],\n        \"43\": [0.08319, 0.58283, 0, 0],\n        \"44\": [0, 0.10803, 0, 0],\n        \"45\": [0.08319, 0.58283, 0, 0],\n        \"46\": [0, 0.10803, 0, 0],\n        \"47\": [0.24982, 0.74947, 0, 0],\n        \"48\": [0, 0.47534, 0, 0],\n        \"49\": [0, 0.47534, 0, 0],\n        \"50\": [0, 0.47534, 0, 0],\n        \"51\": [0.18906, 0.47534, 0, 0],\n        \"52\": [0.18906, 0.47534, 0, 0],\n        \"53\": [0.18906, 0.47534, 0, 0],\n        \"54\": [0, 0.69141, 0, 0],\n        \"55\": [0.18906, 0.47534, 0, 0],\n        \"56\": [0, 0.69141, 0, 0],\n        \"57\": [0.18906, 0.47534, 0, 0],\n        \"58\": [0, 0.47534, 0, 0],\n        \"59\": [0.12604, 0.47534, 0, 0],\n        \"61\": [-0.13099, 0.36866, 0, 0],\n        \"63\": [0, 0.69141, 0, 0],\n        \"65\": [0, 0.69141, 0, 0],\n        \"66\": [0, 0.69141, 0, 0],\n        \"67\": [0, 0.69141, 0, 0],\n        \"68\": [0, 0.69141, 0, 0],\n        \"69\": [0, 0.69141, 0, 0],\n        \"70\": [0.12604, 0.69141, 0, 0],\n        \"71\": [0, 0.69141, 0, 0],\n        \"72\": [0.06302, 0.69141, 0, 0],\n        \"73\": [0, 0.69141, 0, 0],\n        \"74\": [0.12604, 0.69141, 0, 0],\n        \"75\": [0, 0.69141, 0, 0],\n        \"76\": [0, 0.69141, 0, 0],\n        \"77\": [0, 0.69141, 0, 0],\n        \"78\": [0, 0.69141, 0, 0],\n        \"79\": [0, 0.69141, 0, 0],\n        \"80\": [0.18906, 0.69141, 0, 0],\n        \"81\": [0.03781, 0.69141, 0, 0],\n        \"82\": [0, 0.69141, 0, 0],\n        \"83\": [0, 0.69141, 0, 0],\n        \"84\": [0, 0.69141, 0, 0],\n        \"85\": [0, 0.69141, 0, 0],\n        \"86\": [0, 0.69141, 0, 0],\n        \"87\": [0, 0.69141, 0, 0],\n        \"88\": [0, 0.69141, 0, 0],\n        \"89\": [0.18906, 0.69141, 0, 0],\n        \"90\": [0.12604, 0.69141, 0, 0],\n        \"91\": [0.24982, 0.74947, 0, 0],\n        \"93\": [0.24982, 0.74947, 0, 0],\n        \"94\": [0, 0.69141, 0, 0],\n        \"97\": [0, 0.47534, 0, 0],\n        \"98\": [0, 0.69141, 0, 0],\n        \"99\": [0, 0.47534, 0, 0],\n        \"100\": [0, 0.62119, 0, 0],\n        \"101\": [0, 0.47534, 0, 0],\n        \"102\": [0.18906, 0.69141, 0, 0],\n        \"103\": [0.18906, 0.47534, 0, 0],\n        \"104\": [0.18906, 0.69141, 0, 0],\n        \"105\": [0, 0.69141, 0, 0],\n        \"106\": [0, 0.69141, 0, 0],\n        \"107\": [0, 0.69141, 0, 0],\n        \"108\": [0, 0.69141, 0, 0],\n        \"109\": [0, 0.47534, 0, 0],\n        \"110\": [0, 0.47534, 0, 0],\n        \"111\": [0, 0.47534, 0, 0],\n        \"112\": [0.18906, 0.52396, 0, 0],\n        \"113\": [0.18906, 0.47534, 0, 0],\n        \"114\": [0, 0.47534, 0, 0],\n        \"115\": [0, 0.47534, 0, 0],\n        \"116\": [0, 0.62119, 0, 0],\n        \"117\": [0, 0.47534, 0, 0],\n        \"118\": [0, 0.52396, 0, 0],\n        \"119\": [0, 0.52396, 0, 0],\n        \"120\": [0.18906, 0.47534, 0, 0],\n        \"121\": [0.18906, 0.47534, 0, 0],\n        \"122\": [0.18906, 0.47534, 0, 0],\n        \"8216\": [0, 0.69141, 0, 0],\n        \"8217\": [0, 0.69141, 0, 0],\n        \"58112\": [0, 0.62119, 0, 0],\n        \"58113\": [0, 0.62119, 0, 0],\n        \"58114\": [0.18906, 0.69141, 0, 0],\n        \"58115\": [0.18906, 0.69141, 0, 0],\n        \"58116\": [0.18906, 0.47534, 0, 0],\n        \"58117\": [0, 0.69141, 0, 0],\n        \"58118\": [0, 0.62119, 0, 0],\n        \"58119\": [0, 0.47534, 0, 0]\n    },\n    \"Main-Bold\": {\n        \"33\": [0, 0.69444, 0, 0],\n        \"34\": [0, 0.69444, 0, 0],\n        \"35\": [0.19444, 0.69444, 0, 0],\n        \"36\": [0.05556, 0.75, 0, 0],\n        \"37\": [0.05556, 0.75, 0, 0],\n        \"38\": [0, 0.69444, 0, 0],\n        \"39\": [0, 0.69444, 0, 0],\n        \"40\": [0.25, 0.75, 0, 0],\n        \"41\": [0.25, 0.75, 0, 0],\n        \"42\": [0, 0.75, 0, 0],\n        \"43\": [0.13333, 0.63333, 0, 0],\n        \"44\": [0.19444, 0.15556, 0, 0],\n        \"45\": [0, 0.44444, 0, 0],\n        \"46\": [0, 0.15556, 0, 0],\n        \"47\": [0.25, 0.75, 0, 0],\n        \"48\": [0, 0.64444, 0, 0],\n        \"49\": [0, 0.64444, 0, 0],\n        \"50\": [0, 0.64444, 0, 0],\n        \"51\": [0, 0.64444, 0, 0],\n        \"52\": [0, 0.64444, 0, 0],\n        \"53\": [0, 0.64444, 0, 0],\n        \"54\": [0, 0.64444, 0, 0],\n        \"55\": [0, 0.64444, 0, 0],\n        \"56\": [0, 0.64444, 0, 0],\n        \"57\": [0, 0.64444, 0, 0],\n        \"58\": [0, 0.44444, 0, 0],\n        \"59\": [0.19444, 0.44444, 0, 0],\n        \"60\": [0.08556, 0.58556, 0, 0],\n        \"61\": [-0.10889, 0.39111, 0, 0],\n        \"62\": [0.08556, 0.58556, 0, 0],\n        \"63\": [0, 0.69444, 0, 0],\n        \"64\": [0, 0.69444, 0, 0],\n        \"65\": [0, 0.68611, 0, 0],\n        \"66\": [0, 0.68611, 0, 0],\n        \"67\": [0, 0.68611, 0, 0],\n        \"68\": [0, 0.68611, 0, 0],\n        \"69\": [0, 0.68611, 0, 0],\n        \"70\": [0, 0.68611, 0, 0],\n        \"71\": [0, 0.68611, 0, 0],\n        \"72\": [0, 0.68611, 0, 0],\n        \"73\": [0, 0.68611, 0, 0],\n        \"74\": [0, 0.68611, 0, 0],\n        \"75\": [0, 0.68611, 0, 0],\n        \"76\": [0, 0.68611, 0, 0],\n        \"77\": [0, 0.68611, 0, 0],\n        \"78\": [0, 0.68611, 0, 0],\n        \"79\": [0, 0.68611, 0, 0],\n        \"80\": [0, 0.68611, 0, 0],\n        \"81\": [0.19444, 0.68611, 0, 0],\n        \"82\": [0, 0.68611, 0, 0],\n        \"83\": [0, 0.68611, 0, 0],\n        \"84\": [0, 0.68611, 0, 0],\n        \"85\": [0, 0.68611, 0, 0],\n        \"86\": [0, 0.68611, 0.01597, 0],\n        \"87\": [0, 0.68611, 0.01597, 0],\n        \"88\": [0, 0.68611, 0, 0],\n        \"89\": [0, 0.68611, 0.02875, 0],\n        \"90\": [0, 0.68611, 0, 0],\n        \"91\": [0.25, 0.75, 0, 0],\n        \"92\": [0.25, 0.75, 0, 0],\n        \"93\": [0.25, 0.75, 0, 0],\n        \"94\": [0, 0.69444, 0, 0],\n        \"95\": [0.31, 0.13444, 0.03194, 0],\n        \"96\": [0, 0.69444, 0, 0],\n        \"97\": [0, 0.44444, 0, 0],\n        \"98\": [0, 0.69444, 0, 0],\n        \"99\": [0, 0.44444, 0, 0],\n        \"100\": [0, 0.69444, 0, 0],\n        \"101\": [0, 0.44444, 0, 0],\n        \"102\": [0, 0.69444, 0.10903, 0],\n        \"103\": [0.19444, 0.44444, 0.01597, 0],\n        \"104\": [0, 0.69444, 0, 0],\n        \"105\": [0, 0.69444, 0, 0],\n        \"106\": [0.19444, 0.69444, 0, 0],\n        \"107\": [0, 0.69444, 0, 0],\n        \"108\": [0, 0.69444, 0, 0],\n        \"109\": [0, 0.44444, 0, 0],\n        \"110\": [0, 0.44444, 0, 0],\n        \"111\": [0, 0.44444, 0, 0],\n        \"112\": [0.19444, 0.44444, 0, 0],\n        \"113\": [0.19444, 0.44444, 0, 0],\n        \"114\": [0, 0.44444, 0, 0],\n        \"115\": [0, 0.44444, 0, 0],\n        \"116\": [0, 0.63492, 0, 0],\n        \"117\": [0, 0.44444, 0, 0],\n        \"118\": [0, 0.44444, 0.01597, 0],\n        \"119\": [0, 0.44444, 0.01597, 0],\n        \"120\": [0, 0.44444, 0, 0],\n        \"121\": [0.19444, 0.44444, 0.01597, 0],\n        \"122\": [0, 0.44444, 0, 0],\n        \"123\": [0.25, 0.75, 0, 0],\n        \"124\": [0.25, 0.75, 0, 0],\n        \"125\": [0.25, 0.75, 0, 0],\n        \"126\": [0.35, 0.34444, 0, 0],\n        \"168\": [0, 0.69444, 0, 0],\n        \"172\": [0, 0.44444, 0, 0],\n        \"175\": [0, 0.59611, 0, 0],\n        \"176\": [0, 0.69444, 0, 0],\n        \"177\": [0.13333, 0.63333, 0, 0],\n        \"180\": [0, 0.69444, 0, 0],\n        \"215\": [0.13333, 0.63333, 0, 0],\n        \"247\": [0.13333, 0.63333, 0, 0],\n        \"305\": [0, 0.44444, 0, 0],\n        \"567\": [0.19444, 0.44444, 0, 0],\n        \"710\": [0, 0.69444, 0, 0],\n        \"711\": [0, 0.63194, 0, 0],\n        \"713\": [0, 0.59611, 0, 0],\n        \"714\": [0, 0.69444, 0, 0],\n        \"715\": [0, 0.69444, 0, 0],\n        \"728\": [0, 0.69444, 0, 0],\n        \"729\": [0, 0.69444, 0, 0],\n        \"730\": [0, 0.69444, 0, 0],\n        \"732\": [0, 0.69444, 0, 0],\n        \"768\": [0, 0.69444, 0, 0],\n        \"769\": [0, 0.69444, 0, 0],\n        \"770\": [0, 0.69444, 0, 0],\n        \"771\": [0, 0.69444, 0, 0],\n        \"772\": [0, 0.59611, 0, 0],\n        \"774\": [0, 0.69444, 0, 0],\n        \"775\": [0, 0.69444, 0, 0],\n        \"776\": [0, 0.69444, 0, 0],\n        \"778\": [0, 0.69444, 0, 0],\n        \"779\": [0, 0.69444, 0, 0],\n        \"780\": [0, 0.63194, 0, 0],\n        \"824\": [0.19444, 0.69444, 0, 0],\n        \"915\": [0, 0.68611, 0, 0],\n        \"916\": [0, 0.68611, 0, 0],\n        \"920\": [0, 0.68611, 0, 0],\n        \"923\": [0, 0.68611, 0, 0],\n        \"926\": [0, 0.68611, 0, 0],\n        \"928\": [0, 0.68611, 0, 0],\n        \"931\": [0, 0.68611, 0, 0],\n        \"933\": [0, 0.68611, 0, 0],\n        \"934\": [0, 0.68611, 0, 0],\n        \"936\": [0, 0.68611, 0, 0],\n        \"937\": [0, 0.68611, 0, 0],\n        \"8211\": [0, 0.44444, 0.03194, 0],\n        \"8212\": [0, 0.44444, 0.03194, 0],\n        \"8216\": [0, 0.69444, 0, 0],\n        \"8217\": [0, 0.69444, 0, 0],\n        \"8220\": [0, 0.69444, 0, 0],\n        \"8221\": [0, 0.69444, 0, 0],\n        \"8224\": [0.19444, 0.69444, 0, 0],\n        \"8225\": [0.19444, 0.69444, 0, 0],\n        \"8242\": [0, 0.55556, 0, 0],\n        \"8407\": [0, 0.72444, 0.15486, 0],\n        \"8463\": [0, 0.69444, 0, 0],\n        \"8465\": [0, 0.69444, 0, 0],\n        \"8467\": [0, 0.69444, 0, 0],\n        \"8472\": [0.19444, 0.44444, 0, 0],\n        \"8476\": [0, 0.69444, 0, 0],\n        \"8501\": [0, 0.69444, 0, 0],\n        \"8592\": [-0.10889, 0.39111, 0, 0],\n        \"8593\": [0.19444, 0.69444, 0, 0],\n        \"8594\": [-0.10889, 0.39111, 0, 0],\n        \"8595\": [0.19444, 0.69444, 0, 0],\n        \"8596\": [-0.10889, 0.39111, 0, 0],\n        \"8597\": [0.25, 0.75, 0, 0],\n        \"8598\": [0.19444, 0.69444, 0, 0],\n        \"8599\": [0.19444, 0.69444, 0, 0],\n        \"8600\": [0.19444, 0.69444, 0, 0],\n        \"8601\": [0.19444, 0.69444, 0, 0],\n        \"8636\": [-0.10889, 0.39111, 0, 0],\n        \"8637\": [-0.10889, 0.39111, 0, 0],\n        \"8640\": [-0.10889, 0.39111, 0, 0],\n        \"8641\": [-0.10889, 0.39111, 0, 0],\n        \"8656\": [-0.10889, 0.39111, 0, 0],\n        \"8657\": [0.19444, 0.69444, 0, 0],\n        \"8658\": [-0.10889, 0.39111, 0, 0],\n        \"8659\": [0.19444, 0.69444, 0, 0],\n        \"8660\": [-0.10889, 0.39111, 0, 0],\n        \"8661\": [0.25, 0.75, 0, 0],\n        \"8704\": [0, 0.69444, 0, 0],\n        \"8706\": [0, 0.69444, 0.06389, 0],\n        \"8707\": [0, 0.69444, 0, 0],\n        \"8709\": [0.05556, 0.75, 0, 0],\n        \"8711\": [0, 0.68611, 0, 0],\n        \"8712\": [0.08556, 0.58556, 0, 0],\n        \"8715\": [0.08556, 0.58556, 0, 0],\n        \"8722\": [0.13333, 0.63333, 0, 0],\n        \"8723\": [0.13333, 0.63333, 0, 0],\n        \"8725\": [0.25, 0.75, 0, 0],\n        \"8726\": [0.25, 0.75, 0, 0],\n        \"8727\": [-0.02778, 0.47222, 0, 0],\n        \"8728\": [-0.02639, 0.47361, 0, 0],\n        \"8729\": [-0.02639, 0.47361, 0, 0],\n        \"8730\": [0.18, 0.82, 0, 0],\n        \"8733\": [0, 0.44444, 0, 0],\n        \"8734\": [0, 0.44444, 0, 0],\n        \"8736\": [0, 0.69224, 0, 0],\n        \"8739\": [0.25, 0.75, 0, 0],\n        \"8741\": [0.25, 0.75, 0, 0],\n        \"8743\": [0, 0.55556, 0, 0],\n        \"8744\": [0, 0.55556, 0, 0],\n        \"8745\": [0, 0.55556, 0, 0],\n        \"8746\": [0, 0.55556, 0, 0],\n        \"8747\": [0.19444, 0.69444, 0.12778, 0],\n        \"8764\": [-0.10889, 0.39111, 0, 0],\n        \"8768\": [0.19444, 0.69444, 0, 0],\n        \"8771\": [0.00222, 0.50222, 0, 0],\n        \"8776\": [0.02444, 0.52444, 0, 0],\n        \"8781\": [0.00222, 0.50222, 0, 0],\n        \"8801\": [0.00222, 0.50222, 0, 0],\n        \"8804\": [0.19667, 0.69667, 0, 0],\n        \"8805\": [0.19667, 0.69667, 0, 0],\n        \"8810\": [0.08556, 0.58556, 0, 0],\n        \"8811\": [0.08556, 0.58556, 0, 0],\n        \"8826\": [0.08556, 0.58556, 0, 0],\n        \"8827\": [0.08556, 0.58556, 0, 0],\n        \"8834\": [0.08556, 0.58556, 0, 0],\n        \"8835\": [0.08556, 0.58556, 0, 0],\n        \"8838\": [0.19667, 0.69667, 0, 0],\n        \"8839\": [0.19667, 0.69667, 0, 0],\n        \"8846\": [0, 0.55556, 0, 0],\n        \"8849\": [0.19667, 0.69667, 0, 0],\n        \"8850\": [0.19667, 0.69667, 0, 0],\n        \"8851\": [0, 0.55556, 0, 0],\n        \"8852\": [0, 0.55556, 0, 0],\n        \"8853\": [0.13333, 0.63333, 0, 0],\n        \"8854\": [0.13333, 0.63333, 0, 0],\n        \"8855\": [0.13333, 0.63333, 0, 0],\n        \"8856\": [0.13333, 0.63333, 0, 0],\n        \"8857\": [0.13333, 0.63333, 0, 0],\n        \"8866\": [0, 0.69444, 0, 0],\n        \"8867\": [0, 0.69444, 0, 0],\n        \"8868\": [0, 0.69444, 0, 0],\n        \"8869\": [0, 0.69444, 0, 0],\n        \"8900\": [-0.02639, 0.47361, 0, 0],\n        \"8901\": [-0.02639, 0.47361, 0, 0],\n        \"8902\": [-0.02778, 0.47222, 0, 0],\n        \"8968\": [0.25, 0.75, 0, 0],\n        \"8969\": [0.25, 0.75, 0, 0],\n        \"8970\": [0.25, 0.75, 0, 0],\n        \"8971\": [0.25, 0.75, 0, 0],\n        \"8994\": [-0.13889, 0.36111, 0, 0],\n        \"8995\": [-0.13889, 0.36111, 0, 0],\n        \"9651\": [0.19444, 0.69444, 0, 0],\n        \"9657\": [-0.02778, 0.47222, 0, 0],\n        \"9661\": [0.19444, 0.69444, 0, 0],\n        \"9667\": [-0.02778, 0.47222, 0, 0],\n        \"9711\": [0.19444, 0.69444, 0, 0],\n        \"9824\": [0.12963, 0.69444, 0, 0],\n        \"9825\": [0.12963, 0.69444, 0, 0],\n        \"9826\": [0.12963, 0.69444, 0, 0],\n        \"9827\": [0.12963, 0.69444, 0, 0],\n        \"9837\": [0, 0.75, 0, 0],\n        \"9838\": [0.19444, 0.69444, 0, 0],\n        \"9839\": [0.19444, 0.69444, 0, 0],\n        \"10216\": [0.25, 0.75, 0, 0],\n        \"10217\": [0.25, 0.75, 0, 0],\n        \"10815\": [0, 0.68611, 0, 0],\n        \"10927\": [0.19667, 0.69667, 0, 0],\n        \"10928\": [0.19667, 0.69667, 0, 0]\n    },\n    \"Main-Italic\": {\n        \"33\": [0, 0.69444, 0.12417, 0],\n        \"34\": [0, 0.69444, 0.06961, 0],\n        \"35\": [0.19444, 0.69444, 0.06616, 0],\n        \"37\": [0.05556, 0.75, 0.13639, 0],\n        \"38\": [0, 0.69444, 0.09694, 0],\n        \"39\": [0, 0.69444, 0.12417, 0],\n        \"40\": [0.25, 0.75, 0.16194, 0],\n        \"41\": [0.25, 0.75, 0.03694, 0],\n        \"42\": [0, 0.75, 0.14917, 0],\n        \"43\": [0.05667, 0.56167, 0.03694, 0],\n        \"44\": [0.19444, 0.10556, 0, 0],\n        \"45\": [0, 0.43056, 0.02826, 0],\n        \"46\": [0, 0.10556, 0, 0],\n        \"47\": [0.25, 0.75, 0.16194, 0],\n        \"48\": [0, 0.64444, 0.13556, 0],\n        \"49\": [0, 0.64444, 0.13556, 0],\n        \"50\": [0, 0.64444, 0.13556, 0],\n        \"51\": [0, 0.64444, 0.13556, 0],\n        \"52\": [0.19444, 0.64444, 0.13556, 0],\n        \"53\": [0, 0.64444, 0.13556, 0],\n        \"54\": [0, 0.64444, 0.13556, 0],\n        \"55\": [0.19444, 0.64444, 0.13556, 0],\n        \"56\": [0, 0.64444, 0.13556, 0],\n        \"57\": [0, 0.64444, 0.13556, 0],\n        \"58\": [0, 0.43056, 0.0582, 0],\n        \"59\": [0.19444, 0.43056, 0.0582, 0],\n        \"61\": [-0.13313, 0.36687, 0.06616, 0],\n        \"63\": [0, 0.69444, 0.1225, 0],\n        \"64\": [0, 0.69444, 0.09597, 0],\n        \"65\": [0, 0.68333, 0, 0],\n        \"66\": [0, 0.68333, 0.10257, 0],\n        \"67\": [0, 0.68333, 0.14528, 0],\n        \"68\": [0, 0.68333, 0.09403, 0],\n        \"69\": [0, 0.68333, 0.12028, 0],\n        \"70\": [0, 0.68333, 0.13305, 0],\n        \"71\": [0, 0.68333, 0.08722, 0],\n        \"72\": [0, 0.68333, 0.16389, 0],\n        \"73\": [0, 0.68333, 0.15806, 0],\n        \"74\": [0, 0.68333, 0.14028, 0],\n        \"75\": [0, 0.68333, 0.14528, 0],\n        \"76\": [0, 0.68333, 0, 0],\n        \"77\": [0, 0.68333, 0.16389, 0],\n        \"78\": [0, 0.68333, 0.16389, 0],\n        \"79\": [0, 0.68333, 0.09403, 0],\n        \"80\": [0, 0.68333, 0.10257, 0],\n        \"81\": [0.19444, 0.68333, 0.09403, 0],\n        \"82\": [0, 0.68333, 0.03868, 0],\n        \"83\": [0, 0.68333, 0.11972, 0],\n        \"84\": [0, 0.68333, 0.13305, 0],\n        \"85\": [0, 0.68333, 0.16389, 0],\n        \"86\": [0, 0.68333, 0.18361, 0],\n        \"87\": [0, 0.68333, 0.18361, 0],\n        \"88\": [0, 0.68333, 0.15806, 0],\n        \"89\": [0, 0.68333, 0.19383, 0],\n        \"90\": [0, 0.68333, 0.14528, 0],\n        \"91\": [0.25, 0.75, 0.1875, 0],\n        \"93\": [0.25, 0.75, 0.10528, 0],\n        \"94\": [0, 0.69444, 0.06646, 0],\n        \"95\": [0.31, 0.12056, 0.09208, 0],\n        \"97\": [0, 0.43056, 0.07671, 0],\n        \"98\": [0, 0.69444, 0.06312, 0],\n        \"99\": [0, 0.43056, 0.05653, 0],\n        \"100\": [0, 0.69444, 0.10333, 0],\n        \"101\": [0, 0.43056, 0.07514, 0],\n        \"102\": [0.19444, 0.69444, 0.21194, 0],\n        \"103\": [0.19444, 0.43056, 0.08847, 0],\n        \"104\": [0, 0.69444, 0.07671, 0],\n        \"105\": [0, 0.65536, 0.1019, 0],\n        \"106\": [0.19444, 0.65536, 0.14467, 0],\n        \"107\": [0, 0.69444, 0.10764, 0],\n        \"108\": [0, 0.69444, 0.10333, 0],\n        \"109\": [0, 0.43056, 0.07671, 0],\n        \"110\": [0, 0.43056, 0.07671, 0],\n        \"111\": [0, 0.43056, 0.06312, 0],\n        \"112\": [0.19444, 0.43056, 0.06312, 0],\n        \"113\": [0.19444, 0.43056, 0.08847, 0],\n        \"114\": [0, 0.43056, 0.10764, 0],\n        \"115\": [0, 0.43056, 0.08208, 0],\n        \"116\": [0, 0.61508, 0.09486, 0],\n        \"117\": [0, 0.43056, 0.07671, 0],\n        \"118\": [0, 0.43056, 0.10764, 0],\n        \"119\": [0, 0.43056, 0.10764, 0],\n        \"120\": [0, 0.43056, 0.12042, 0],\n        \"121\": [0.19444, 0.43056, 0.08847, 0],\n        \"122\": [0, 0.43056, 0.12292, 0],\n        \"126\": [0.35, 0.31786, 0.11585, 0],\n        \"163\": [0, 0.69444, 0, 0],\n        \"305\": [0, 0.43056, 0, 0.02778],\n        \"567\": [0.19444, 0.43056, 0, 0.08334],\n        \"768\": [0, 0.69444, 0, 0],\n        \"769\": [0, 0.69444, 0.09694, 0],\n        \"770\": [0, 0.69444, 0.06646, 0],\n        \"771\": [0, 0.66786, 0.11585, 0],\n        \"772\": [0, 0.56167, 0.10333, 0],\n        \"774\": [0, 0.69444, 0.10806, 0],\n        \"775\": [0, 0.66786, 0.11752, 0],\n        \"776\": [0, 0.66786, 0.10474, 0],\n        \"778\": [0, 0.69444, 0, 0],\n        \"779\": [0, 0.69444, 0.1225, 0],\n        \"780\": [0, 0.62847, 0.08295, 0],\n        \"915\": [0, 0.68333, 0.13305, 0],\n        \"916\": [0, 0.68333, 0, 0],\n        \"920\": [0, 0.68333, 0.09403, 0],\n        \"923\": [0, 0.68333, 0, 0],\n        \"926\": [0, 0.68333, 0.15294, 0],\n        \"928\": [0, 0.68333, 0.16389, 0],\n        \"931\": [0, 0.68333, 0.12028, 0],\n        \"933\": [0, 0.68333, 0.11111, 0],\n        \"934\": [0, 0.68333, 0.05986, 0],\n        \"936\": [0, 0.68333, 0.11111, 0],\n        \"937\": [0, 0.68333, 0.10257, 0],\n        \"8211\": [0, 0.43056, 0.09208, 0],\n        \"8212\": [0, 0.43056, 0.09208, 0],\n        \"8216\": [0, 0.69444, 0.12417, 0],\n        \"8217\": [0, 0.69444, 0.12417, 0],\n        \"8220\": [0, 0.69444, 0.1685, 0],\n        \"8221\": [0, 0.69444, 0.06961, 0],\n        \"8463\": [0, 0.68889, 0, 0]\n    },\n    \"Main-Regular\": {\n        \"32\": [0, 0, 0, 0],\n        \"33\": [0, 0.69444, 0, 0],\n        \"34\": [0, 0.69444, 0, 0],\n        \"35\": [0.19444, 0.69444, 0, 0],\n        \"36\": [0.05556, 0.75, 0, 0],\n        \"37\": [0.05556, 0.75, 0, 0],\n        \"38\": [0, 0.69444, 0, 0],\n        \"39\": [0, 0.69444, 0, 0],\n        \"40\": [0.25, 0.75, 0, 0],\n        \"41\": [0.25, 0.75, 0, 0],\n        \"42\": [0, 0.75, 0, 0],\n        \"43\": [0.08333, 0.58333, 0, 0],\n        \"44\": [0.19444, 0.10556, 0, 0],\n        \"45\": [0, 0.43056, 0, 0],\n        \"46\": [0, 0.10556, 0, 0],\n        \"47\": [0.25, 0.75, 0, 0],\n        \"48\": [0, 0.64444, 0, 0],\n        \"49\": [0, 0.64444, 0, 0],\n        \"50\": [0, 0.64444, 0, 0],\n        \"51\": [0, 0.64444, 0, 0],\n        \"52\": [0, 0.64444, 0, 0],\n        \"53\": [0, 0.64444, 0, 0],\n        \"54\": [0, 0.64444, 0, 0],\n        \"55\": [0, 0.64444, 0, 0],\n        \"56\": [0, 0.64444, 0, 0],\n        \"57\": [0, 0.64444, 0, 0],\n        \"58\": [0, 0.43056, 0, 0],\n        \"59\": [0.19444, 0.43056, 0, 0],\n        \"60\": [0.0391, 0.5391, 0, 0],\n        \"61\": [-0.13313, 0.36687, 0, 0],\n        \"62\": [0.0391, 0.5391, 0, 0],\n        \"63\": [0, 0.69444, 0, 0],\n        \"64\": [0, 0.69444, 0, 0],\n        \"65\": [0, 0.68333, 0, 0],\n        \"66\": [0, 0.68333, 0, 0],\n        \"67\": [0, 0.68333, 0, 0],\n        \"68\": [0, 0.68333, 0, 0],\n        \"69\": [0, 0.68333, 0, 0],\n        \"70\": [0, 0.68333, 0, 0],\n        \"71\": [0, 0.68333, 0, 0],\n        \"72\": [0, 0.68333, 0, 0],\n        \"73\": [0, 0.68333, 0, 0],\n        \"74\": [0, 0.68333, 0, 0],\n        \"75\": [0, 0.68333, 0, 0],\n        \"76\": [0, 0.68333, 0, 0],\n        \"77\": [0, 0.68333, 0, 0],\n        \"78\": [0, 0.68333, 0, 0],\n        \"79\": [0, 0.68333, 0, 0],\n        \"80\": [0, 0.68333, 0, 0],\n        \"81\": [0.19444, 0.68333, 0, 0],\n        \"82\": [0, 0.68333, 0, 0],\n        \"83\": [0, 0.68333, 0, 0],\n        \"84\": [0, 0.68333, 0, 0],\n        \"85\": [0, 0.68333, 0, 0],\n        \"86\": [0, 0.68333, 0.01389, 0],\n        \"87\": [0, 0.68333, 0.01389, 0],\n        \"88\": [0, 0.68333, 0, 0],\n        \"89\": [0, 0.68333, 0.025, 0],\n        \"90\": [0, 0.68333, 0, 0],\n        \"91\": [0.25, 0.75, 0, 0],\n        \"92\": [0.25, 0.75, 0, 0],\n        \"93\": [0.25, 0.75, 0, 0],\n        \"94\": [0, 0.69444, 0, 0],\n        \"95\": [0.31, 0.12056, 0.02778, 0],\n        \"96\": [0, 0.69444, 0, 0],\n        \"97\": [0, 0.43056, 0, 0],\n        \"98\": [0, 0.69444, 0, 0],\n        \"99\": [0, 0.43056, 0, 0],\n        \"100\": [0, 0.69444, 0, 0],\n        \"101\": [0, 0.43056, 0, 0],\n        \"102\": [0, 0.69444, 0.07778, 0],\n        \"103\": [0.19444, 0.43056, 0.01389, 0],\n        \"104\": [0, 0.69444, 0, 0],\n        \"105\": [0, 0.66786, 0, 0],\n        \"106\": [0.19444, 0.66786, 0, 0],\n        \"107\": [0, 0.69444, 0, 0],\n        \"108\": [0, 0.69444, 0, 0],\n        \"109\": [0, 0.43056, 0, 0],\n        \"110\": [0, 0.43056, 0, 0],\n        \"111\": [0, 0.43056, 0, 0],\n        \"112\": [0.19444, 0.43056, 0, 0],\n        \"113\": [0.19444, 0.43056, 0, 0],\n        \"114\": [0, 0.43056, 0, 0],\n        \"115\": [0, 0.43056, 0, 0],\n        \"116\": [0, 0.61508, 0, 0],\n        \"117\": [0, 0.43056, 0, 0],\n        \"118\": [0, 0.43056, 0.01389, 0],\n        \"119\": [0, 0.43056, 0.01389, 0],\n        \"120\": [0, 0.43056, 0, 0],\n        \"121\": [0.19444, 0.43056, 0.01389, 0],\n        \"122\": [0, 0.43056, 0, 0],\n        \"123\": [0.25, 0.75, 0, 0],\n        \"124\": [0.25, 0.75, 0, 0],\n        \"125\": [0.25, 0.75, 0, 0],\n        \"126\": [0.35, 0.31786, 0, 0],\n        \"160\": [0, 0, 0, 0],\n        \"168\": [0, 0.66786, 0, 0],\n        \"172\": [0, 0.43056, 0, 0],\n        \"175\": [0, 0.56778, 0, 0],\n        \"176\": [0, 0.69444, 0, 0],\n        \"177\": [0.08333, 0.58333, 0, 0],\n        \"180\": [0, 0.69444, 0, 0],\n        \"215\": [0.08333, 0.58333, 0, 0],\n        \"247\": [0.08333, 0.58333, 0, 0],\n        \"305\": [0, 0.43056, 0, 0],\n        \"567\": [0.19444, 0.43056, 0, 0],\n        \"710\": [0, 0.69444, 0, 0],\n        \"711\": [0, 0.62847, 0, 0],\n        \"713\": [0, 0.56778, 0, 0],\n        \"714\": [0, 0.69444, 0, 0],\n        \"715\": [0, 0.69444, 0, 0],\n        \"728\": [0, 0.69444, 0, 0],\n        \"729\": [0, 0.66786, 0, 0],\n        \"730\": [0, 0.69444, 0, 0],\n        \"732\": [0, 0.66786, 0, 0],\n        \"768\": [0, 0.69444, 0, 0],\n        \"769\": [0, 0.69444, 0, 0],\n        \"770\": [0, 0.69444, 0, 0],\n        \"771\": [0, 0.66786, 0, 0],\n        \"772\": [0, 0.56778, 0, 0],\n        \"774\": [0, 0.69444, 0, 0],\n        \"775\": [0, 0.66786, 0, 0],\n        \"776\": [0, 0.66786, 0, 0],\n        \"778\": [0, 0.69444, 0, 0],\n        \"779\": [0, 0.69444, 0, 0],\n        \"780\": [0, 0.62847, 0, 0],\n        \"824\": [0.19444, 0.69444, 0, 0],\n        \"915\": [0, 0.68333, 0, 0],\n        \"916\": [0, 0.68333, 0, 0],\n        \"920\": [0, 0.68333, 0, 0],\n        \"923\": [0, 0.68333, 0, 0],\n        \"926\": [0, 0.68333, 0, 0],\n        \"928\": [0, 0.68333, 0, 0],\n        \"931\": [0, 0.68333, 0, 0],\n        \"933\": [0, 0.68333, 0, 0],\n        \"934\": [0, 0.68333, 0, 0],\n        \"936\": [0, 0.68333, 0, 0],\n        \"937\": [0, 0.68333, 0, 0],\n        \"8211\": [0, 0.43056, 0.02778, 0],\n        \"8212\": [0, 0.43056, 0.02778, 0],\n        \"8216\": [0, 0.69444, 0, 0],\n        \"8217\": [0, 0.69444, 0, 0],\n        \"8220\": [0, 0.69444, 0, 0],\n        \"8221\": [0, 0.69444, 0, 0],\n        \"8224\": [0.19444, 0.69444, 0, 0],\n        \"8225\": [0.19444, 0.69444, 0, 0],\n        \"8230\": [0, 0.12, 0, 0],\n        \"8242\": [0, 0.55556, 0, 0],\n        \"8407\": [0, 0.71444, 0.15382, 0],\n        \"8463\": [0, 0.68889, 0, 0],\n        \"8465\": [0, 0.69444, 0, 0],\n        \"8467\": [0, 0.69444, 0, 0.11111],\n        \"8472\": [0.19444, 0.43056, 0, 0.11111],\n        \"8476\": [0, 0.69444, 0, 0],\n        \"8501\": [0, 0.69444, 0, 0],\n        \"8592\": [-0.13313, 0.36687, 0, 0],\n        \"8593\": [0.19444, 0.69444, 0, 0],\n        \"8594\": [-0.13313, 0.36687, 0, 0],\n        \"8595\": [0.19444, 0.69444, 0, 0],\n        \"8596\": [-0.13313, 0.36687, 0, 0],\n        \"8597\": [0.25, 0.75, 0, 0],\n        \"8598\": [0.19444, 0.69444, 0, 0],\n        \"8599\": [0.19444, 0.69444, 0, 0],\n        \"8600\": [0.19444, 0.69444, 0, 0],\n        \"8601\": [0.19444, 0.69444, 0, 0],\n        \"8614\": [0.011, 0.511, 0, 0],\n        \"8617\": [0.011, 0.511, 0, 0],\n        \"8618\": [0.011, 0.511, 0, 0],\n        \"8636\": [-0.13313, 0.36687, 0, 0],\n        \"8637\": [-0.13313, 0.36687, 0, 0],\n        \"8640\": [-0.13313, 0.36687, 0, 0],\n        \"8641\": [-0.13313, 0.36687, 0, 0],\n        \"8652\": [0.011, 0.671, 0, 0],\n        \"8656\": [-0.13313, 0.36687, 0, 0],\n        \"8657\": [0.19444, 0.69444, 0, 0],\n        \"8658\": [-0.13313, 0.36687, 0, 0],\n        \"8659\": [0.19444, 0.69444, 0, 0],\n        \"8660\": [-0.13313, 0.36687, 0, 0],\n        \"8661\": [0.25, 0.75, 0, 0],\n        \"8704\": [0, 0.69444, 0, 0],\n        \"8706\": [0, 0.69444, 0.05556, 0.08334],\n        \"8707\": [0, 0.69444, 0, 0],\n        \"8709\": [0.05556, 0.75, 0, 0],\n        \"8711\": [0, 0.68333, 0, 0],\n        \"8712\": [0.0391, 0.5391, 0, 0],\n        \"8715\": [0.0391, 0.5391, 0, 0],\n        \"8722\": [0.08333, 0.58333, 0, 0],\n        \"8723\": [0.08333, 0.58333, 0, 0],\n        \"8725\": [0.25, 0.75, 0, 0],\n        \"8726\": [0.25, 0.75, 0, 0],\n        \"8727\": [-0.03472, 0.46528, 0, 0],\n        \"8728\": [-0.05555, 0.44445, 0, 0],\n        \"8729\": [-0.05555, 0.44445, 0, 0],\n        \"8730\": [0.2, 0.8, 0, 0],\n        \"8733\": [0, 0.43056, 0, 0],\n        \"8734\": [0, 0.43056, 0, 0],\n        \"8736\": [0, 0.69224, 0, 0],\n        \"8739\": [0.25, 0.75, 0, 0],\n        \"8741\": [0.25, 0.75, 0, 0],\n        \"8743\": [0, 0.55556, 0, 0],\n        \"8744\": [0, 0.55556, 0, 0],\n        \"8745\": [0, 0.55556, 0, 0],\n        \"8746\": [0, 0.55556, 0, 0],\n        \"8747\": [0.19444, 0.69444, 0.11111, 0],\n        \"8764\": [-0.13313, 0.36687, 0, 0],\n        \"8768\": [0.19444, 0.69444, 0, 0],\n        \"8771\": [-0.03625, 0.46375, 0, 0],\n        \"8773\": [-0.022, 0.589, 0, 0],\n        \"8776\": [-0.01688, 0.48312, 0, 0],\n        \"8781\": [-0.03625, 0.46375, 0, 0],\n        \"8784\": [-0.133, 0.67, 0, 0],\n        \"8800\": [0.215, 0.716, 0, 0],\n        \"8801\": [-0.03625, 0.46375, 0, 0],\n        \"8804\": [0.13597, 0.63597, 0, 0],\n        \"8805\": [0.13597, 0.63597, 0, 0],\n        \"8810\": [0.0391, 0.5391, 0, 0],\n        \"8811\": [0.0391, 0.5391, 0, 0],\n        \"8826\": [0.0391, 0.5391, 0, 0],\n        \"8827\": [0.0391, 0.5391, 0, 0],\n        \"8834\": [0.0391, 0.5391, 0, 0],\n        \"8835\": [0.0391, 0.5391, 0, 0],\n        \"8838\": [0.13597, 0.63597, 0, 0],\n        \"8839\": [0.13597, 0.63597, 0, 0],\n        \"8846\": [0, 0.55556, 0, 0],\n        \"8849\": [0.13597, 0.63597, 0, 0],\n        \"8850\": [0.13597, 0.63597, 0, 0],\n        \"8851\": [0, 0.55556, 0, 0],\n        \"8852\": [0, 0.55556, 0, 0],\n        \"8853\": [0.08333, 0.58333, 0, 0],\n        \"8854\": [0.08333, 0.58333, 0, 0],\n        \"8855\": [0.08333, 0.58333, 0, 0],\n        \"8856\": [0.08333, 0.58333, 0, 0],\n        \"8857\": [0.08333, 0.58333, 0, 0],\n        \"8866\": [0, 0.69444, 0, 0],\n        \"8867\": [0, 0.69444, 0, 0],\n        \"8868\": [0, 0.69444, 0, 0],\n        \"8869\": [0, 0.69444, 0, 0],\n        \"8872\": [0.249, 0.75, 0, 0],\n        \"8900\": [-0.05555, 0.44445, 0, 0],\n        \"8901\": [-0.05555, 0.44445, 0, 0],\n        \"8902\": [-0.03472, 0.46528, 0, 0],\n        \"8904\": [0.005, 0.505, 0, 0],\n        \"8942\": [0.03, 0.9, 0, 0],\n        \"8943\": [-0.19, 0.31, 0, 0],\n        \"8945\": [-0.1, 0.82, 0, 0],\n        \"8968\": [0.25, 0.75, 0, 0],\n        \"8969\": [0.25, 0.75, 0, 0],\n        \"8970\": [0.25, 0.75, 0, 0],\n        \"8971\": [0.25, 0.75, 0, 0],\n        \"8994\": [-0.14236, 0.35764, 0, 0],\n        \"8995\": [-0.14236, 0.35764, 0, 0],\n        \"9136\": [0.244, 0.744, 0, 0],\n        \"9137\": [0.244, 0.744, 0, 0],\n        \"9651\": [0.19444, 0.69444, 0, 0],\n        \"9657\": [-0.03472, 0.46528, 0, 0],\n        \"9661\": [0.19444, 0.69444, 0, 0],\n        \"9667\": [-0.03472, 0.46528, 0, 0],\n        \"9711\": [0.19444, 0.69444, 0, 0],\n        \"9824\": [0.12963, 0.69444, 0, 0],\n        \"9825\": [0.12963, 0.69444, 0, 0],\n        \"9826\": [0.12963, 0.69444, 0, 0],\n        \"9827\": [0.12963, 0.69444, 0, 0],\n        \"9837\": [0, 0.75, 0, 0],\n        \"9838\": [0.19444, 0.69444, 0, 0],\n        \"9839\": [0.19444, 0.69444, 0, 0],\n        \"10216\": [0.25, 0.75, 0, 0],\n        \"10217\": [0.25, 0.75, 0, 0],\n        \"10222\": [0.244, 0.744, 0, 0],\n        \"10223\": [0.244, 0.744, 0, 0],\n        \"10229\": [0.011, 0.511, 0, 0],\n        \"10230\": [0.011, 0.511, 0, 0],\n        \"10231\": [0.011, 0.511, 0, 0],\n        \"10232\": [0.024, 0.525, 0, 0],\n        \"10233\": [0.024, 0.525, 0, 0],\n        \"10234\": [0.024, 0.525, 0, 0],\n        \"10236\": [0.011, 0.511, 0, 0],\n        \"10815\": [0, 0.68333, 0, 0],\n        \"10927\": [0.13597, 0.63597, 0, 0],\n        \"10928\": [0.13597, 0.63597, 0, 0]\n    },\n    \"Math-BoldItalic\": {\n        \"47\": [0.19444, 0.69444, 0, 0],\n        \"65\": [0, 0.68611, 0, 0],\n        \"66\": [0, 0.68611, 0.04835, 0],\n        \"67\": [0, 0.68611, 0.06979, 0],\n        \"68\": [0, 0.68611, 0.03194, 0],\n        \"69\": [0, 0.68611, 0.05451, 0],\n        \"70\": [0, 0.68611, 0.15972, 0],\n        \"71\": [0, 0.68611, 0, 0],\n        \"72\": [0, 0.68611, 0.08229, 0],\n        \"73\": [0, 0.68611, 0.07778, 0],\n        \"74\": [0, 0.68611, 0.10069, 0],\n        \"75\": [0, 0.68611, 0.06979, 0],\n        \"76\": [0, 0.68611, 0, 0],\n        \"77\": [0, 0.68611, 0.11424, 0],\n        \"78\": [0, 0.68611, 0.11424, 0],\n        \"79\": [0, 0.68611, 0.03194, 0],\n        \"80\": [0, 0.68611, 0.15972, 0],\n        \"81\": [0.19444, 0.68611, 0, 0],\n        \"82\": [0, 0.68611, 0.00421, 0],\n        \"83\": [0, 0.68611, 0.05382, 0],\n        \"84\": [0, 0.68611, 0.15972, 0],\n        \"85\": [0, 0.68611, 0.11424, 0],\n        \"86\": [0, 0.68611, 0.25555, 0],\n        \"87\": [0, 0.68611, 0.15972, 0],\n        \"88\": [0, 0.68611, 0.07778, 0],\n        \"89\": [0, 0.68611, 0.25555, 0],\n        \"90\": [0, 0.68611, 0.06979, 0],\n        \"97\": [0, 0.44444, 0, 0],\n        \"98\": [0, 0.69444, 0, 0],\n        \"99\": [0, 0.44444, 0, 0],\n        \"100\": [0, 0.69444, 0, 0],\n        \"101\": [0, 0.44444, 0, 0],\n        \"102\": [0.19444, 0.69444, 0.11042, 0],\n        \"103\": [0.19444, 0.44444, 0.03704, 0],\n        \"104\": [0, 0.69444, 0, 0],\n        \"105\": [0, 0.69326, 0, 0],\n        \"106\": [0.19444, 0.69326, 0.0622, 0],\n        \"107\": [0, 0.69444, 0.01852, 0],\n        \"108\": [0, 0.69444, 0.0088, 0],\n        \"109\": [0, 0.44444, 0, 0],\n        \"110\": [0, 0.44444, 0, 0],\n        \"111\": [0, 0.44444, 0, 0],\n        \"112\": [0.19444, 0.44444, 0, 0],\n        \"113\": [0.19444, 0.44444, 0.03704, 0],\n        \"114\": [0, 0.44444, 0.03194, 0],\n        \"115\": [0, 0.44444, 0, 0],\n        \"116\": [0, 0.63492, 0, 0],\n        \"117\": [0, 0.44444, 0, 0],\n        \"118\": [0, 0.44444, 0.03704, 0],\n        \"119\": [0, 0.44444, 0.02778, 0],\n        \"120\": [0, 0.44444, 0, 0],\n        \"121\": [0.19444, 0.44444, 0.03704, 0],\n        \"122\": [0, 0.44444, 0.04213, 0],\n        \"915\": [0, 0.68611, 0.15972, 0],\n        \"916\": [0, 0.68611, 0, 0],\n        \"920\": [0, 0.68611, 0.03194, 0],\n        \"923\": [0, 0.68611, 0, 0],\n        \"926\": [0, 0.68611, 0.07458, 0],\n        \"928\": [0, 0.68611, 0.08229, 0],\n        \"931\": [0, 0.68611, 0.05451, 0],\n        \"933\": [0, 0.68611, 0.15972, 0],\n        \"934\": [0, 0.68611, 0, 0],\n        \"936\": [0, 0.68611, 0.11653, 0],\n        \"937\": [0, 0.68611, 0.04835, 0],\n        \"945\": [0, 0.44444, 0, 0],\n        \"946\": [0.19444, 0.69444, 0.03403, 0],\n        \"947\": [0.19444, 0.44444, 0.06389, 0],\n        \"948\": [0, 0.69444, 0.03819, 0],\n        \"949\": [0, 0.44444, 0, 0],\n        \"950\": [0.19444, 0.69444, 0.06215, 0],\n        \"951\": [0.19444, 0.44444, 0.03704, 0],\n        \"952\": [0, 0.69444, 0.03194, 0],\n        \"953\": [0, 0.44444, 0, 0],\n        \"954\": [0, 0.44444, 0, 0],\n        \"955\": [0, 0.69444, 0, 0],\n        \"956\": [0.19444, 0.44444, 0, 0],\n        \"957\": [0, 0.44444, 0.06898, 0],\n        \"958\": [0.19444, 0.69444, 0.03021, 0],\n        \"959\": [0, 0.44444, 0, 0],\n        \"960\": [0, 0.44444, 0.03704, 0],\n        \"961\": [0.19444, 0.44444, 0, 0],\n        \"962\": [0.09722, 0.44444, 0.07917, 0],\n        \"963\": [0, 0.44444, 0.03704, 0],\n        \"964\": [0, 0.44444, 0.13472, 0],\n        \"965\": [0, 0.44444, 0.03704, 0],\n        \"966\": [0.19444, 0.44444, 0, 0],\n        \"967\": [0.19444, 0.44444, 0, 0],\n        \"968\": [0.19444, 0.69444, 0.03704, 0],\n        \"969\": [0, 0.44444, 0.03704, 0],\n        \"977\": [0, 0.69444, 0, 0],\n        \"981\": [0.19444, 0.69444, 0, 0],\n        \"982\": [0, 0.44444, 0.03194, 0],\n        \"1009\": [0.19444, 0.44444, 0, 0],\n        \"1013\": [0, 0.44444, 0, 0]\n    },\n    \"Math-Italic\": {\n        \"47\": [0.19444, 0.69444, 0, 0],\n        \"65\": [0, 0.68333, 0, 0.13889],\n        \"66\": [0, 0.68333, 0.05017, 0.08334],\n        \"67\": [0, 0.68333, 0.07153, 0.08334],\n        \"68\": [0, 0.68333, 0.02778, 0.05556],\n        \"69\": [0, 0.68333, 0.05764, 0.08334],\n        \"70\": [0, 0.68333, 0.13889, 0.08334],\n        \"71\": [0, 0.68333, 0, 0.08334],\n        \"72\": [0, 0.68333, 0.08125, 0.05556],\n        \"73\": [0, 0.68333, 0.07847, 0.11111],\n        \"74\": [0, 0.68333, 0.09618, 0.16667],\n        \"75\": [0, 0.68333, 0.07153, 0.05556],\n        \"76\": [0, 0.68333, 0, 0.02778],\n        \"77\": [0, 0.68333, 0.10903, 0.08334],\n        \"78\": [0, 0.68333, 0.10903, 0.08334],\n        \"79\": [0, 0.68333, 0.02778, 0.08334],\n        \"80\": [0, 0.68333, 0.13889, 0.08334],\n        \"81\": [0.19444, 0.68333, 0, 0.08334],\n        \"82\": [0, 0.68333, 0.00773, 0.08334],\n        \"83\": [0, 0.68333, 0.05764, 0.08334],\n        \"84\": [0, 0.68333, 0.13889, 0.08334],\n        \"85\": [0, 0.68333, 0.10903, 0.02778],\n        \"86\": [0, 0.68333, 0.22222, 0],\n        \"87\": [0, 0.68333, 0.13889, 0],\n        \"88\": [0, 0.68333, 0.07847, 0.08334],\n        \"89\": [0, 0.68333, 0.22222, 0],\n        \"90\": [0, 0.68333, 0.07153, 0.08334],\n        \"97\": [0, 0.43056, 0, 0],\n        \"98\": [0, 0.69444, 0, 0],\n        \"99\": [0, 0.43056, 0, 0.05556],\n        \"100\": [0, 0.69444, 0, 0.16667],\n        \"101\": [0, 0.43056, 0, 0.05556],\n        \"102\": [0.19444, 0.69444, 0.10764, 0.16667],\n        \"103\": [0.19444, 0.43056, 0.03588, 0.02778],\n        \"104\": [0, 0.69444, 0, 0],\n        \"105\": [0, 0.65952, 0, 0],\n        \"106\": [0.19444, 0.65952, 0.05724, 0],\n        \"107\": [0, 0.69444, 0.03148, 0],\n        \"108\": [0, 0.69444, 0.01968, 0.08334],\n        \"109\": [0, 0.43056, 0, 0],\n        \"110\": [0, 0.43056, 0, 0],\n        \"111\": [0, 0.43056, 0, 0.05556],\n        \"112\": [0.19444, 0.43056, 0, 0.08334],\n        \"113\": [0.19444, 0.43056, 0.03588, 0.08334],\n        \"114\": [0, 0.43056, 0.02778, 0.05556],\n        \"115\": [0, 0.43056, 0, 0.05556],\n        \"116\": [0, 0.61508, 0, 0.08334],\n        \"117\": [0, 0.43056, 0, 0.02778],\n        \"118\": [0, 0.43056, 0.03588, 0.02778],\n        \"119\": [0, 0.43056, 0.02691, 0.08334],\n        \"120\": [0, 0.43056, 0, 0.02778],\n        \"121\": [0.19444, 0.43056, 0.03588, 0.05556],\n        \"122\": [0, 0.43056, 0.04398, 0.05556],\n        \"915\": [0, 0.68333, 0.13889, 0.08334],\n        \"916\": [0, 0.68333, 0, 0.16667],\n        \"920\": [0, 0.68333, 0.02778, 0.08334],\n        \"923\": [0, 0.68333, 0, 0.16667],\n        \"926\": [0, 0.68333, 0.07569, 0.08334],\n        \"928\": [0, 0.68333, 0.08125, 0.05556],\n        \"931\": [0, 0.68333, 0.05764, 0.08334],\n        \"933\": [0, 0.68333, 0.13889, 0.05556],\n        \"934\": [0, 0.68333, 0, 0.08334],\n        \"936\": [0, 0.68333, 0.11, 0.05556],\n        \"937\": [0, 0.68333, 0.05017, 0.08334],\n        \"945\": [0, 0.43056, 0.0037, 0.02778],\n        \"946\": [0.19444, 0.69444, 0.05278, 0.08334],\n        \"947\": [0.19444, 0.43056, 0.05556, 0],\n        \"948\": [0, 0.69444, 0.03785, 0.05556],\n        \"949\": [0, 0.43056, 0, 0.08334],\n        \"950\": [0.19444, 0.69444, 0.07378, 0.08334],\n        \"951\": [0.19444, 0.43056, 0.03588, 0.05556],\n        \"952\": [0, 0.69444, 0.02778, 0.08334],\n        \"953\": [0, 0.43056, 0, 0.05556],\n        \"954\": [0, 0.43056, 0, 0],\n        \"955\": [0, 0.69444, 0, 0],\n        \"956\": [0.19444, 0.43056, 0, 0.02778],\n        \"957\": [0, 0.43056, 0.06366, 0.02778],\n        \"958\": [0.19444, 0.69444, 0.04601, 0.11111],\n        \"959\": [0, 0.43056, 0, 0.05556],\n        \"960\": [0, 0.43056, 0.03588, 0],\n        \"961\": [0.19444, 0.43056, 0, 0.08334],\n        \"962\": [0.09722, 0.43056, 0.07986, 0.08334],\n        \"963\": [0, 0.43056, 0.03588, 0],\n        \"964\": [0, 0.43056, 0.1132, 0.02778],\n        \"965\": [0, 0.43056, 0.03588, 0.02778],\n        \"966\": [0.19444, 0.43056, 0, 0.08334],\n        \"967\": [0.19444, 0.43056, 0, 0.05556],\n        \"968\": [0.19444, 0.69444, 0.03588, 0.11111],\n        \"969\": [0, 0.43056, 0.03588, 0],\n        \"977\": [0, 0.69444, 0, 0.08334],\n        \"981\": [0.19444, 0.69444, 0, 0.08334],\n        \"982\": [0, 0.43056, 0.02778, 0],\n        \"1009\": [0.19444, 0.43056, 0, 0.08334],\n        \"1013\": [0, 0.43056, 0, 0.05556]\n    },\n    \"Math-Regular\": {\n        \"65\": [0, 0.68333, 0, 0.13889],\n        \"66\": [0, 0.68333, 0.05017, 0.08334],\n        \"67\": [0, 0.68333, 0.07153, 0.08334],\n        \"68\": [0, 0.68333, 0.02778, 0.05556],\n        \"69\": [0, 0.68333, 0.05764, 0.08334],\n        \"70\": [0, 0.68333, 0.13889, 0.08334],\n        \"71\": [0, 0.68333, 0, 0.08334],\n        \"72\": [0, 0.68333, 0.08125, 0.05556],\n        \"73\": [0, 0.68333, 0.07847, 0.11111],\n        \"74\": [0, 0.68333, 0.09618, 0.16667],\n        \"75\": [0, 0.68333, 0.07153, 0.05556],\n        \"76\": [0, 0.68333, 0, 0.02778],\n        \"77\": [0, 0.68333, 0.10903, 0.08334],\n        \"78\": [0, 0.68333, 0.10903, 0.08334],\n        \"79\": [0, 0.68333, 0.02778, 0.08334],\n        \"80\": [0, 0.68333, 0.13889, 0.08334],\n        \"81\": [0.19444, 0.68333, 0, 0.08334],\n        \"82\": [0, 0.68333, 0.00773, 0.08334],\n        \"83\": [0, 0.68333, 0.05764, 0.08334],\n        \"84\": [0, 0.68333, 0.13889, 0.08334],\n        \"85\": [0, 0.68333, 0.10903, 0.02778],\n        \"86\": [0, 0.68333, 0.22222, 0],\n        \"87\": [0, 0.68333, 0.13889, 0],\n        \"88\": [0, 0.68333, 0.07847, 0.08334],\n        \"89\": [0, 0.68333, 0.22222, 0],\n        \"90\": [0, 0.68333, 0.07153, 0.08334],\n        \"97\": [0, 0.43056, 0, 0],\n        \"98\": [0, 0.69444, 0, 0],\n        \"99\": [0, 0.43056, 0, 0.05556],\n        \"100\": [0, 0.69444, 0, 0.16667],\n        \"101\": [0, 0.43056, 0, 0.05556],\n        \"102\": [0.19444, 0.69444, 0.10764, 0.16667],\n        \"103\": [0.19444, 0.43056, 0.03588, 0.02778],\n        \"104\": [0, 0.69444, 0, 0],\n        \"105\": [0, 0.65952, 0, 0],\n        \"106\": [0.19444, 0.65952, 0.05724, 0],\n        \"107\": [0, 0.69444, 0.03148, 0],\n        \"108\": [0, 0.69444, 0.01968, 0.08334],\n        \"109\": [0, 0.43056, 0, 0],\n        \"110\": [0, 0.43056, 0, 0],\n        \"111\": [0, 0.43056, 0, 0.05556],\n        \"112\": [0.19444, 0.43056, 0, 0.08334],\n        \"113\": [0.19444, 0.43056, 0.03588, 0.08334],\n        \"114\": [0, 0.43056, 0.02778, 0.05556],\n        \"115\": [0, 0.43056, 0, 0.05556],\n        \"116\": [0, 0.61508, 0, 0.08334],\n        \"117\": [0, 0.43056, 0, 0.02778],\n        \"118\": [0, 0.43056, 0.03588, 0.02778],\n        \"119\": [0, 0.43056, 0.02691, 0.08334],\n        \"120\": [0, 0.43056, 0, 0.02778],\n        \"121\": [0.19444, 0.43056, 0.03588, 0.05556],\n        \"122\": [0, 0.43056, 0.04398, 0.05556],\n        \"915\": [0, 0.68333, 0.13889, 0.08334],\n        \"916\": [0, 0.68333, 0, 0.16667],\n        \"920\": [0, 0.68333, 0.02778, 0.08334],\n        \"923\": [0, 0.68333, 0, 0.16667],\n        \"926\": [0, 0.68333, 0.07569, 0.08334],\n        \"928\": [0, 0.68333, 0.08125, 0.05556],\n        \"931\": [0, 0.68333, 0.05764, 0.08334],\n        \"933\": [0, 0.68333, 0.13889, 0.05556],\n        \"934\": [0, 0.68333, 0, 0.08334],\n        \"936\": [0, 0.68333, 0.11, 0.05556],\n        \"937\": [0, 0.68333, 0.05017, 0.08334],\n        \"945\": [0, 0.43056, 0.0037, 0.02778],\n        \"946\": [0.19444, 0.69444, 0.05278, 0.08334],\n        \"947\": [0.19444, 0.43056, 0.05556, 0],\n        \"948\": [0, 0.69444, 0.03785, 0.05556],\n        \"949\": [0, 0.43056, 0, 0.08334],\n        \"950\": [0.19444, 0.69444, 0.07378, 0.08334],\n        \"951\": [0.19444, 0.43056, 0.03588, 0.05556],\n        \"952\": [0, 0.69444, 0.02778, 0.08334],\n        \"953\": [0, 0.43056, 0, 0.05556],\n        \"954\": [0, 0.43056, 0, 0],\n        \"955\": [0, 0.69444, 0, 0],\n        \"956\": [0.19444, 0.43056, 0, 0.02778],\n        \"957\": [0, 0.43056, 0.06366, 0.02778],\n        \"958\": [0.19444, 0.69444, 0.04601, 0.11111],\n        \"959\": [0, 0.43056, 0, 0.05556],\n        \"960\": [0, 0.43056, 0.03588, 0],\n        \"961\": [0.19444, 0.43056, 0, 0.08334],\n        \"962\": [0.09722, 0.43056, 0.07986, 0.08334],\n        \"963\": [0, 0.43056, 0.03588, 0],\n        \"964\": [0, 0.43056, 0.1132, 0.02778],\n        \"965\": [0, 0.43056, 0.03588, 0.02778],\n        \"966\": [0.19444, 0.43056, 0, 0.08334],\n        \"967\": [0.19444, 0.43056, 0, 0.05556],\n        \"968\": [0.19444, 0.69444, 0.03588, 0.11111],\n        \"969\": [0, 0.43056, 0.03588, 0],\n        \"977\": [0, 0.69444, 0, 0.08334],\n        \"981\": [0.19444, 0.69444, 0, 0.08334],\n        \"982\": [0, 0.43056, 0.02778, 0],\n        \"1009\": [0.19444, 0.43056, 0, 0.08334],\n        \"1013\": [0, 0.43056, 0, 0.05556]\n    },\n    \"SansSerif-Regular\": {\n        \"33\": [0, 0.69444, 0, 0],\n        \"34\": [0, 0.69444, 0, 0],\n        \"35\": [0.19444, 0.69444, 0, 0],\n        \"36\": [0.05556, 0.75, 0, 0],\n        \"37\": [0.05556, 0.75, 0, 0],\n        \"38\": [0, 0.69444, 0, 0],\n        \"39\": [0, 0.69444, 0, 0],\n        \"40\": [0.25, 0.75, 0, 0],\n        \"41\": [0.25, 0.75, 0, 0],\n        \"42\": [0, 0.75, 0, 0],\n        \"43\": [0.08333, 0.58333, 0, 0],\n        \"44\": [0.125, 0.08333, 0, 0],\n        \"45\": [0, 0.44444, 0, 0],\n        \"46\": [0, 0.08333, 0, 0],\n        \"47\": [0.25, 0.75, 0, 0],\n        \"48\": [0, 0.65556, 0, 0],\n        \"49\": [0, 0.65556, 0, 0],\n        \"50\": [0, 0.65556, 0, 0],\n        \"51\": [0, 0.65556, 0, 0],\n        \"52\": [0, 0.65556, 0, 0],\n        \"53\": [0, 0.65556, 0, 0],\n        \"54\": [0, 0.65556, 0, 0],\n        \"55\": [0, 0.65556, 0, 0],\n        \"56\": [0, 0.65556, 0, 0],\n        \"57\": [0, 0.65556, 0, 0],\n        \"58\": [0, 0.44444, 0, 0],\n        \"59\": [0.125, 0.44444, 0, 0],\n        \"61\": [-0.13, 0.37, 0, 0],\n        \"63\": [0, 0.69444, 0, 0],\n        \"64\": [0, 0.69444, 0, 0],\n        \"65\": [0, 0.69444, 0, 0],\n        \"66\": [0, 0.69444, 0, 0],\n        \"67\": [0, 0.69444, 0, 0],\n        \"68\": [0, 0.69444, 0, 0],\n        \"69\": [0, 0.69444, 0, 0],\n        \"70\": [0, 0.69444, 0, 0],\n        \"71\": [0, 0.69444, 0, 0],\n        \"72\": [0, 0.69444, 0, 0],\n        \"73\": [0, 0.69444, 0, 0],\n        \"74\": [0, 0.69444, 0, 0],\n        \"75\": [0, 0.69444, 0, 0],\n        \"76\": [0, 0.69444, 0, 0],\n        \"77\": [0, 0.69444, 0, 0],\n        \"78\": [0, 0.69444, 0, 0],\n        \"79\": [0, 0.69444, 0, 0],\n        \"80\": [0, 0.69444, 0, 0],\n        \"81\": [0.125, 0.69444, 0, 0],\n        \"82\": [0, 0.69444, 0, 0],\n        \"83\": [0, 0.69444, 0, 0],\n        \"84\": [0, 0.69444, 0, 0],\n        \"85\": [0, 0.69444, 0, 0],\n        \"86\": [0, 0.69444, 0.01389, 0],\n        \"87\": [0, 0.69444, 0.01389, 0],\n        \"88\": [0, 0.69444, 0, 0],\n        \"89\": [0, 0.69444, 0.025, 0],\n        \"90\": [0, 0.69444, 0, 0],\n        \"91\": [0.25, 0.75, 0, 0],\n        \"93\": [0.25, 0.75, 0, 0],\n        \"94\": [0, 0.69444, 0, 0],\n        \"95\": [0.35, 0.09444, 0.02778, 0],\n        \"97\": [0, 0.44444, 0, 0],\n        \"98\": [0, 0.69444, 0, 0],\n        \"99\": [0, 0.44444, 0, 0],\n        \"100\": [0, 0.69444, 0, 0],\n        \"101\": [0, 0.44444, 0, 0],\n        \"102\": [0, 0.69444, 0.06944, 0],\n        \"103\": [0.19444, 0.44444, 0.01389, 0],\n        \"104\": [0, 0.69444, 0, 0],\n        \"105\": [0, 0.67937, 0, 0],\n        \"106\": [0.19444, 0.67937, 0, 0],\n        \"107\": [0, 0.69444, 0, 0],\n        \"108\": [0, 0.69444, 0, 0],\n        \"109\": [0, 0.44444, 0, 0],\n        \"110\": [0, 0.44444, 0, 0],\n        \"111\": [0, 0.44444, 0, 0],\n        \"112\": [0.19444, 0.44444, 0, 0],\n        \"113\": [0.19444, 0.44444, 0, 0],\n        \"114\": [0, 0.44444, 0.01389, 0],\n        \"115\": [0, 0.44444, 0, 0],\n        \"116\": [0, 0.57143, 0, 0],\n        \"117\": [0, 0.44444, 0, 0],\n        \"118\": [0, 0.44444, 0.01389, 0],\n        \"119\": [0, 0.44444, 0.01389, 0],\n        \"120\": [0, 0.44444, 0, 0],\n        \"121\": [0.19444, 0.44444, 0.01389, 0],\n        \"122\": [0, 0.44444, 0, 0],\n        \"126\": [0.35, 0.32659, 0, 0],\n        \"305\": [0, 0.44444, 0, 0],\n        \"567\": [0.19444, 0.44444, 0, 0],\n        \"768\": [0, 0.69444, 0, 0],\n        \"769\": [0, 0.69444, 0, 0],\n        \"770\": [0, 0.69444, 0, 0],\n        \"771\": [0, 0.67659, 0, 0],\n        \"772\": [0, 0.60889, 0, 0],\n        \"774\": [0, 0.69444, 0, 0],\n        \"775\": [0, 0.67937, 0, 0],\n        \"776\": [0, 0.67937, 0, 0],\n        \"778\": [0, 0.69444, 0, 0],\n        \"779\": [0, 0.69444, 0, 0],\n        \"780\": [0, 0.63194, 0, 0],\n        \"915\": [0, 0.69444, 0, 0],\n        \"916\": [0, 0.69444, 0, 0],\n        \"920\": [0, 0.69444, 0, 0],\n        \"923\": [0, 0.69444, 0, 0],\n        \"926\": [0, 0.69444, 0, 0],\n        \"928\": [0, 0.69444, 0, 0],\n        \"931\": [0, 0.69444, 0, 0],\n        \"933\": [0, 0.69444, 0, 0],\n        \"934\": [0, 0.69444, 0, 0],\n        \"936\": [0, 0.69444, 0, 0],\n        \"937\": [0, 0.69444, 0, 0],\n        \"8211\": [0, 0.44444, 0.02778, 0],\n        \"8212\": [0, 0.44444, 0.02778, 0],\n        \"8216\": [0, 0.69444, 0, 0],\n        \"8217\": [0, 0.69444, 0, 0],\n        \"8220\": [0, 0.69444, 0, 0],\n        \"8221\": [0, 0.69444, 0, 0]\n    },\n    \"Script-Regular\": {\n        \"65\": [0, 0.7, 0.22925, 0],\n        \"66\": [0, 0.7, 0.04087, 0],\n        \"67\": [0, 0.7, 0.1689, 0],\n        \"68\": [0, 0.7, 0.09371, 0],\n        \"69\": [0, 0.7, 0.18583, 0],\n        \"70\": [0, 0.7, 0.13634, 0],\n        \"71\": [0, 0.7, 0.17322, 0],\n        \"72\": [0, 0.7, 0.29694, 0],\n        \"73\": [0, 0.7, 0.19189, 0],\n        \"74\": [0.27778, 0.7, 0.19189, 0],\n        \"75\": [0, 0.7, 0.31259, 0],\n        \"76\": [0, 0.7, 0.19189, 0],\n        \"77\": [0, 0.7, 0.15981, 0],\n        \"78\": [0, 0.7, 0.3525, 0],\n        \"79\": [0, 0.7, 0.08078, 0],\n        \"80\": [0, 0.7, 0.08078, 0],\n        \"81\": [0, 0.7, 0.03305, 0],\n        \"82\": [0, 0.7, 0.06259, 0],\n        \"83\": [0, 0.7, 0.19189, 0],\n        \"84\": [0, 0.7, 0.29087, 0],\n        \"85\": [0, 0.7, 0.25815, 0],\n        \"86\": [0, 0.7, 0.27523, 0],\n        \"87\": [0, 0.7, 0.27523, 0],\n        \"88\": [0, 0.7, 0.26006, 0],\n        \"89\": [0, 0.7, 0.2939, 0],\n        \"90\": [0, 0.7, 0.24037, 0]\n    },\n    \"Size1-Regular\": {\n        \"40\": [0.35001, 0.85, 0, 0],\n        \"41\": [0.35001, 0.85, 0, 0],\n        \"47\": [0.35001, 0.85, 0, 0],\n        \"91\": [0.35001, 0.85, 0, 0],\n        \"92\": [0.35001, 0.85, 0, 0],\n        \"93\": [0.35001, 0.85, 0, 0],\n        \"123\": [0.35001, 0.85, 0, 0],\n        \"125\": [0.35001, 0.85, 0, 0],\n        \"710\": [0, 0.72222, 0, 0],\n        \"732\": [0, 0.72222, 0, 0],\n        \"770\": [0, 0.72222, 0, 0],\n        \"771\": [0, 0.72222, 0, 0],\n        \"8214\": [-0.00099, 0.601, 0, 0],\n        \"8593\": [1e-05, 0.6, 0, 0],\n        \"8595\": [1e-05, 0.6, 0, 0],\n        \"8657\": [1e-05, 0.6, 0, 0],\n        \"8659\": [1e-05, 0.6, 0, 0],\n        \"8719\": [0.25001, 0.75, 0, 0],\n        \"8720\": [0.25001, 0.75, 0, 0],\n        \"8721\": [0.25001, 0.75, 0, 0],\n        \"8730\": [0.35001, 0.85, 0, 0],\n        \"8739\": [-0.00599, 0.606, 0, 0],\n        \"8741\": [-0.00599, 0.606, 0, 0],\n        \"8747\": [0.30612, 0.805, 0.19445, 0],\n        \"8748\": [0.306, 0.805, 0.19445, 0],\n        \"8749\": [0.306, 0.805, 0.19445, 0],\n        \"8750\": [0.30612, 0.805, 0.19445, 0],\n        \"8896\": [0.25001, 0.75, 0, 0],\n        \"8897\": [0.25001, 0.75, 0, 0],\n        \"8898\": [0.25001, 0.75, 0, 0],\n        \"8899\": [0.25001, 0.75, 0, 0],\n        \"8968\": [0.35001, 0.85, 0, 0],\n        \"8969\": [0.35001, 0.85, 0, 0],\n        \"8970\": [0.35001, 0.85, 0, 0],\n        \"8971\": [0.35001, 0.85, 0, 0],\n        \"9168\": [-0.00099, 0.601, 0, 0],\n        \"10216\": [0.35001, 0.85, 0, 0],\n        \"10217\": [0.35001, 0.85, 0, 0],\n        \"10752\": [0.25001, 0.75, 0, 0],\n        \"10753\": [0.25001, 0.75, 0, 0],\n        \"10754\": [0.25001, 0.75, 0, 0],\n        \"10756\": [0.25001, 0.75, 0, 0],\n        \"10758\": [0.25001, 0.75, 0, 0]\n    },\n    \"Size2-Regular\": {\n        \"40\": [0.65002, 1.15, 0, 0],\n        \"41\": [0.65002, 1.15, 0, 0],\n        \"47\": [0.65002, 1.15, 0, 0],\n        \"91\": [0.65002, 1.15, 0, 0],\n        \"92\": [0.65002, 1.15, 0, 0],\n        \"93\": [0.65002, 1.15, 0, 0],\n        \"123\": [0.65002, 1.15, 0, 0],\n        \"125\": [0.65002, 1.15, 0, 0],\n        \"710\": [0, 0.75, 0, 0],\n        \"732\": [0, 0.75, 0, 0],\n        \"770\": [0, 0.75, 0, 0],\n        \"771\": [0, 0.75, 0, 0],\n        \"8719\": [0.55001, 1.05, 0, 0],\n        \"8720\": [0.55001, 1.05, 0, 0],\n        \"8721\": [0.55001, 1.05, 0, 0],\n        \"8730\": [0.65002, 1.15, 0, 0],\n        \"8747\": [0.86225, 1.36, 0.44445, 0],\n        \"8748\": [0.862, 1.36, 0.44445, 0],\n        \"8749\": [0.862, 1.36, 0.44445, 0],\n        \"8750\": [0.86225, 1.36, 0.44445, 0],\n        \"8896\": [0.55001, 1.05, 0, 0],\n        \"8897\": [0.55001, 1.05, 0, 0],\n        \"8898\": [0.55001, 1.05, 0, 0],\n        \"8899\": [0.55001, 1.05, 0, 0],\n        \"8968\": [0.65002, 1.15, 0, 0],\n        \"8969\": [0.65002, 1.15, 0, 0],\n        \"8970\": [0.65002, 1.15, 0, 0],\n        \"8971\": [0.65002, 1.15, 0, 0],\n        \"10216\": [0.65002, 1.15, 0, 0],\n        \"10217\": [0.65002, 1.15, 0, 0],\n        \"10752\": [0.55001, 1.05, 0, 0],\n        \"10753\": [0.55001, 1.05, 0, 0],\n        \"10754\": [0.55001, 1.05, 0, 0],\n        \"10756\": [0.55001, 1.05, 0, 0],\n        \"10758\": [0.55001, 1.05, 0, 0]\n    },\n    \"Size3-Regular\": {\n        \"40\": [0.95003, 1.45, 0, 0],\n        \"41\": [0.95003, 1.45, 0, 0],\n        \"47\": [0.95003, 1.45, 0, 0],\n        \"91\": [0.95003, 1.45, 0, 0],\n        \"92\": [0.95003, 1.45, 0, 0],\n        \"93\": [0.95003, 1.45, 0, 0],\n        \"123\": [0.95003, 1.45, 0, 0],\n        \"125\": [0.95003, 1.45, 0, 0],\n        \"710\": [0, 0.75, 0, 0],\n        \"732\": [0, 0.75, 0, 0],\n        \"770\": [0, 0.75, 0, 0],\n        \"771\": [0, 0.75, 0, 0],\n        \"8730\": [0.95003, 1.45, 0, 0],\n        \"8968\": [0.95003, 1.45, 0, 0],\n        \"8969\": [0.95003, 1.45, 0, 0],\n        \"8970\": [0.95003, 1.45, 0, 0],\n        \"8971\": [0.95003, 1.45, 0, 0],\n        \"10216\": [0.95003, 1.45, 0, 0],\n        \"10217\": [0.95003, 1.45, 0, 0]\n    },\n    \"Size4-Regular\": {\n        \"40\": [1.25003, 1.75, 0, 0],\n        \"41\": [1.25003, 1.75, 0, 0],\n        \"47\": [1.25003, 1.75, 0, 0],\n        \"91\": [1.25003, 1.75, 0, 0],\n        \"92\": [1.25003, 1.75, 0, 0],\n        \"93\": [1.25003, 1.75, 0, 0],\n        \"123\": [1.25003, 1.75, 0, 0],\n        \"125\": [1.25003, 1.75, 0, 0],\n        \"710\": [0, 0.825, 0, 0],\n        \"732\": [0, 0.825, 0, 0],\n        \"770\": [0, 0.825, 0, 0],\n        \"771\": [0, 0.825, 0, 0],\n        \"8730\": [1.25003, 1.75, 0, 0],\n        \"8968\": [1.25003, 1.75, 0, 0],\n        \"8969\": [1.25003, 1.75, 0, 0],\n        \"8970\": [1.25003, 1.75, 0, 0],\n        \"8971\": [1.25003, 1.75, 0, 0],\n        \"9115\": [0.64502, 1.155, 0, 0],\n        \"9116\": [1e-05, 0.6, 0, 0],\n        \"9117\": [0.64502, 1.155, 0, 0],\n        \"9118\": [0.64502, 1.155, 0, 0],\n        \"9119\": [1e-05, 0.6, 0, 0],\n        \"9120\": [0.64502, 1.155, 0, 0],\n        \"9121\": [0.64502, 1.155, 0, 0],\n        \"9122\": [-0.00099, 0.601, 0, 0],\n        \"9123\": [0.64502, 1.155, 0, 0],\n        \"9124\": [0.64502, 1.155, 0, 0],\n        \"9125\": [-0.00099, 0.601, 0, 0],\n        \"9126\": [0.64502, 1.155, 0, 0],\n        \"9127\": [1e-05, 0.9, 0, 0],\n        \"9128\": [0.65002, 1.15, 0, 0],\n        \"9129\": [0.90001, 0, 0, 0],\n        \"9130\": [0, 0.3, 0, 0],\n        \"9131\": [1e-05, 0.9, 0, 0],\n        \"9132\": [0.65002, 1.15, 0, 0],\n        \"9133\": [0.90001, 0, 0, 0],\n        \"9143\": [0.88502, 0.915, 0, 0],\n        \"10216\": [1.25003, 1.75, 0, 0],\n        \"10217\": [1.25003, 1.75, 0, 0],\n        \"57344\": [-0.00499, 0.605, 0, 0],\n        \"57345\": [-0.00499, 0.605, 0, 0],\n        \"57680\": [0, 0.12, 0, 0],\n        \"57681\": [0, 0.12, 0, 0],\n        \"57682\": [0, 0.12, 0, 0],\n        \"57683\": [0, 0.12, 0, 0]\n    },\n    \"Typewriter-Regular\": {\n        \"33\": [0, 0.61111, 0, 0],\n        \"34\": [0, 0.61111, 0, 0],\n        \"35\": [0, 0.61111, 0, 0],\n        \"36\": [0.08333, 0.69444, 0, 0],\n        \"37\": [0.08333, 0.69444, 0, 0],\n        \"38\": [0, 0.61111, 0, 0],\n        \"39\": [0, 0.61111, 0, 0],\n        \"40\": [0.08333, 0.69444, 0, 0],\n        \"41\": [0.08333, 0.69444, 0, 0],\n        \"42\": [0, 0.52083, 0, 0],\n        \"43\": [-0.08056, 0.53055, 0, 0],\n        \"44\": [0.13889, 0.125, 0, 0],\n        \"45\": [-0.08056, 0.53055, 0, 0],\n        \"46\": [0, 0.125, 0, 0],\n        \"47\": [0.08333, 0.69444, 0, 0],\n        \"48\": [0, 0.61111, 0, 0],\n        \"49\": [0, 0.61111, 0, 0],\n        \"50\": [0, 0.61111, 0, 0],\n        \"51\": [0, 0.61111, 0, 0],\n        \"52\": [0, 0.61111, 0, 0],\n        \"53\": [0, 0.61111, 0, 0],\n        \"54\": [0, 0.61111, 0, 0],\n        \"55\": [0, 0.61111, 0, 0],\n        \"56\": [0, 0.61111, 0, 0],\n        \"57\": [0, 0.61111, 0, 0],\n        \"58\": [0, 0.43056, 0, 0],\n        \"59\": [0.13889, 0.43056, 0, 0],\n        \"60\": [-0.05556, 0.55556, 0, 0],\n        \"61\": [-0.19549, 0.41562, 0, 0],\n        \"62\": [-0.05556, 0.55556, 0, 0],\n        \"63\": [0, 0.61111, 0, 0],\n        \"64\": [0, 0.61111, 0, 0],\n        \"65\": [0, 0.61111, 0, 0],\n        \"66\": [0, 0.61111, 0, 0],\n        \"67\": [0, 0.61111, 0, 0],\n        \"68\": [0, 0.61111, 0, 0],\n        \"69\": [0, 0.61111, 0, 0],\n        \"70\": [0, 0.61111, 0, 0],\n        \"71\": [0, 0.61111, 0, 0],\n        \"72\": [0, 0.61111, 0, 0],\n        \"73\": [0, 0.61111, 0, 0],\n        \"74\": [0, 0.61111, 0, 0],\n        \"75\": [0, 0.61111, 0, 0],\n        \"76\": [0, 0.61111, 0, 0],\n        \"77\": [0, 0.61111, 0, 0],\n        \"78\": [0, 0.61111, 0, 0],\n        \"79\": [0, 0.61111, 0, 0],\n        \"80\": [0, 0.61111, 0, 0],\n        \"81\": [0.13889, 0.61111, 0, 0],\n        \"82\": [0, 0.61111, 0, 0],\n        \"83\": [0, 0.61111, 0, 0],\n        \"84\": [0, 0.61111, 0, 0],\n        \"85\": [0, 0.61111, 0, 0],\n        \"86\": [0, 0.61111, 0, 0],\n        \"87\": [0, 0.61111, 0, 0],\n        \"88\": [0, 0.61111, 0, 0],\n        \"89\": [0, 0.61111, 0, 0],\n        \"90\": [0, 0.61111, 0, 0],\n        \"91\": [0.08333, 0.69444, 0, 0],\n        \"92\": [0.08333, 0.69444, 0, 0],\n        \"93\": [0.08333, 0.69444, 0, 0],\n        \"94\": [0, 0.61111, 0, 0],\n        \"95\": [0.09514, 0, 0, 0],\n        \"96\": [0, 0.61111, 0, 0],\n        \"97\": [0, 0.43056, 0, 0],\n        \"98\": [0, 0.61111, 0, 0],\n        \"99\": [0, 0.43056, 0, 0],\n        \"100\": [0, 0.61111, 0, 0],\n        \"101\": [0, 0.43056, 0, 0],\n        \"102\": [0, 0.61111, 0, 0],\n        \"103\": [0.22222, 0.43056, 0, 0],\n        \"104\": [0, 0.61111, 0, 0],\n        \"105\": [0, 0.61111, 0, 0],\n        \"106\": [0.22222, 0.61111, 0, 0],\n        \"107\": [0, 0.61111, 0, 0],\n        \"108\": [0, 0.61111, 0, 0],\n        \"109\": [0, 0.43056, 0, 0],\n        \"110\": [0, 0.43056, 0, 0],\n        \"111\": [0, 0.43056, 0, 0],\n        \"112\": [0.22222, 0.43056, 0, 0],\n        \"113\": [0.22222, 0.43056, 0, 0],\n        \"114\": [0, 0.43056, 0, 0],\n        \"115\": [0, 0.43056, 0, 0],\n        \"116\": [0, 0.55358, 0, 0],\n        \"117\": [0, 0.43056, 0, 0],\n        \"118\": [0, 0.43056, 0, 0],\n        \"119\": [0, 0.43056, 0, 0],\n        \"120\": [0, 0.43056, 0, 0],\n        \"121\": [0.22222, 0.43056, 0, 0],\n        \"122\": [0, 0.43056, 0, 0],\n        \"123\": [0.08333, 0.69444, 0, 0],\n        \"124\": [0.08333, 0.69444, 0, 0],\n        \"125\": [0.08333, 0.69444, 0, 0],\n        \"126\": [0, 0.61111, 0, 0],\n        \"127\": [0, 0.61111, 0, 0],\n        \"305\": [0, 0.43056, 0, 0],\n        \"567\": [0.22222, 0.43056, 0, 0],\n        \"768\": [0, 0.61111, 0, 0],\n        \"769\": [0, 0.61111, 0, 0],\n        \"770\": [0, 0.61111, 0, 0],\n        \"771\": [0, 0.61111, 0, 0],\n        \"772\": [0, 0.56555, 0, 0],\n        \"774\": [0, 0.61111, 0, 0],\n        \"776\": [0, 0.61111, 0, 0],\n        \"778\": [0, 0.61111, 0, 0],\n        \"780\": [0, 0.56597, 0, 0],\n        \"915\": [0, 0.61111, 0, 0],\n        \"916\": [0, 0.61111, 0, 0],\n        \"920\": [0, 0.61111, 0, 0],\n        \"923\": [0, 0.61111, 0, 0],\n        \"926\": [0, 0.61111, 0, 0],\n        \"928\": [0, 0.61111, 0, 0],\n        \"931\": [0, 0.61111, 0, 0],\n        \"933\": [0, 0.61111, 0, 0],\n        \"934\": [0, 0.61111, 0, 0],\n        \"936\": [0, 0.61111, 0, 0],\n        \"937\": [0, 0.61111, 0, 0],\n        \"2018\": [0, 0.61111, 0, 0],\n        \"2019\": [0, 0.61111, 0, 0],\n        \"8242\": [0, 0.61111, 0, 0]\n    }\n};\n","var utils = require(\"./utils\");\nvar ParseError = require(\"./ParseError\");\nvar parseData = require(\"./parseData\");\nvar ParseNode = parseData.ParseNode;\n\n/* This file contains a list of functions that we parse, identified by\n * the calls to defineFunction.\n *\n * The first argument to defineFunction is a single name or a list of names.\n * All functions named in such a list will share a single implementation.\n *\n * Each declared function can have associated properties, which\n * include the following:\n *\n *  - numArgs: The number of arguments the function takes.\n *             If this is the only property, it can be passed as a number\n *             instead of an element of a properties object.\n *  - argTypes: (optional) An array corresponding to each argument of the\n *              function, giving the type of argument that should be parsed. Its\n *              length should be equal to `numArgs + numOptionalArgs`. Valid\n *              types:\n *               - \"size\": A size-like thing, such as \"1em\" or \"5ex\"\n *               - \"color\": An html color, like \"#abc\" or \"blue\"\n *               - \"original\": The same type as the environment that the\n *                             function being parsed is in (e.g. used for the\n *                             bodies of functions like \\color where the first\n *                             argument is special and the second argument is\n *                             parsed normally)\n *              Other possible types (probably shouldn't be used)\n *               - \"text\": Text-like (e.g. \\text)\n *               - \"math\": Normal math\n *              If undefined, this will be treated as an appropriate length\n *              array of \"original\" strings\n *  - greediness: (optional) The greediness of the function to use ungrouped\n *                arguments.\n *\n *                E.g. if you have an expression\n *                  \\sqrt \\frac 1 2\n *                since \\frac has greediness=2 vs \\sqrt's greediness=1, \\frac\n *                will use the two arguments '1' and '2' as its two arguments,\n *                then that whole function will be used as the argument to\n *                \\sqrt. On the other hand, the expressions\n *                  \\frac \\frac 1 2 3\n *                and\n *                  \\frac \\sqrt 1 2\n *                will fail because \\frac and \\frac have equal greediness\n *                and \\sqrt has a lower greediness than \\frac respectively. To\n *                make these parse, we would have to change them to:\n *                  \\frac {\\frac 1 2} 3\n *                and\n *                  \\frac {\\sqrt 1} 2\n *\n *                The default value is `1`\n *  - allowedInText: (optional) Whether or not the function is allowed inside\n *                   text mode (default false)\n *  - numOptionalArgs: (optional) The number of optional arguments the function\n *                     should parse. If the optional arguments aren't found,\n *                     `null` will be passed to the handler in their place.\n *                     (default 0)\n *  - infix: (optional) Must be true if the function is an infix operator.\n *\n * The last argument is that implementation, the handler for the function(s).\n * It is called to handle these functions and their arguments.\n * It receives two arguments:\n *  - context contains information and references provided by the parser\n *  - args is an array of arguments obtained from TeX input\n * The context contains the following properties:\n *  - funcName: the text (i.e. name) of the function, including \\\n *  - parser: the parser object\n *  - lexer: the lexer object\n *  - positions: the positions in the overall string of the function\n *               and the arguments.\n * The latter three should only be used to produce error messages.\n *\n * The function should return an object with the following keys:\n *  - type: The type of element that this is. This is then used in\n *          buildHTML/buildMathML to determine which function\n *          should be called to build this node into a DOM node\n * Any other data can be added to the object, which will be passed\n * in to the function in buildHTML/buildMathML as `group.value`.\n */\n\nfunction defineFunction(names, props, handler) {\n    if (typeof names === \"string\") {\n        names = [names];\n    }\n    if (typeof props === \"number\") {\n        props = { numArgs: props };\n    }\n    // Set default values of functions\n    var data = {\n        numArgs: props.numArgs,\n        argTypes: props.argTypes,\n        greediness: (props.greediness === undefined) ? 1 : props.greediness,\n        allowedInText: !!props.allowedInText,\n        numOptionalArgs: props.numOptionalArgs || 0,\n        infix: !!props.infix,\n        handler: handler\n    };\n    for (var i = 0; i < names.length; ++i) {\n        module.exports[names[i]] = data;\n    }\n}\n\n// Since the corresponding buildHTML/buildMathML function expects a\n// list of elements, we normalize for different kinds of arguments\nvar ordargument = function(arg) {\n    if (arg.type === \"ordgroup\") {\n        return arg.value;\n    } else {\n        return [arg];\n    }\n};\n\n// A normal square root\ndefineFunction(\"\\\\sqrt\", {\n    numArgs: 1,\n    numOptionalArgs: 1\n}, function(context, args) {\n    var index = args[0];\n    var body = args[1];\n    return {\n        type: \"sqrt\",\n        body: body,\n        index: index\n    };\n});\n\n// Non-mathy text, possibly in a font\nvar textFunctionStyles = {\n    \"\\\\text\": undefined, \"\\\\textrm\": \"mathrm\", \"\\\\textsf\": \"mathsf\",\n    \"\\\\texttt\": \"mathtt\", \"\\\\textnormal\": \"mathrm\", \"\\\\textbf\": \"mathbf\",\n    \"\\\\textit\": \"textit\"\n};\n\ndefineFunction([\n    \"\\\\text\", \"\\\\textrm\", \"\\\\textsf\", \"\\\\texttt\", \"\\\\textnormal\",\n    \"\\\\textbf\", \"\\\\textit\"\n], {\n    numArgs: 1,\n    argTypes: [\"text\"],\n    greediness: 2,\n    allowedInText: true\n}, function(context, args) {\n    var body = args[0];\n    return {\n        type: \"text\",\n        body: ordargument(body),\n        style: textFunctionStyles[context.funcName]\n    };\n});\n\n// A two-argument custom color\ndefineFunction(\"\\\\color\", {\n    numArgs: 2,\n    allowedInText: true,\n    greediness: 3,\n    argTypes: [\"color\", \"original\"]\n}, function(context, args) {\n    var color = args[0];\n    var body = args[1];\n    return {\n        type: \"color\",\n        color: color.value,\n        value: ordargument(body)\n    };\n});\n\n// An overline\ndefineFunction(\"\\\\overline\", {\n    numArgs: 1\n}, function(context, args) {\n    var body = args[0];\n    return {\n        type: \"overline\",\n        body: body\n    };\n});\n\n// An underline\ndefineFunction(\"\\\\underline\", {\n    numArgs: 1\n}, function(context, args) {\n    var body = args[0];\n    return {\n        type: \"underline\",\n        body: body\n    };\n});\n\n// A box of the width and height\ndefineFunction(\"\\\\rule\", {\n    numArgs: 2,\n    numOptionalArgs: 1,\n    argTypes: [\"size\", \"size\", \"size\"]\n}, function(context, args) {\n    var shift = args[0];\n    var width = args[1];\n    var height = args[2];\n    return {\n        type: \"rule\",\n        shift: shift && shift.value,\n        width: width.value,\n        height: height.value\n    };\n});\n\n// TODO: In TeX, \\mkern only accepts mu-units, and \\kern does not accept\n// mu-units. In current KaTeX we relax this; both commands accept any unit.\ndefineFunction([\"\\\\kern\", \"\\\\mkern\"], {\n    numArgs: 1,\n    argTypes: [\"size\"]\n}, function(context, args) {\n    return {\n        type: \"kern\",\n        dimension: args[0].value\n    };\n});\n\n// A KaTeX logo\ndefineFunction(\"\\\\KaTeX\", {\n    numArgs: 0\n}, function(context) {\n    return {\n        type: \"katex\"\n    };\n});\n\ndefineFunction(\"\\\\phantom\", {\n    numArgs: 1\n}, function(context, args) {\n    var body = args[0];\n    return {\n        type: \"phantom\",\n        value: ordargument(body)\n    };\n});\n\n// Math class commands except \\mathop\ndefineFunction([\n    \"\\\\mathord\", \"\\\\mathbin\", \"\\\\mathrel\", \"\\\\mathopen\",\n    \"\\\\mathclose\", \"\\\\mathpunct\", \"\\\\mathinner\"\n], {\n    numArgs: 1\n}, function(context, args) {\n    var body = args[0];\n    return {\n        type: \"mclass\",\n        mclass: \"m\" + context.funcName.substr(5),\n        value: ordargument(body)\n    };\n});\n\n// Build a relation by placing one symbol on top of another\ndefineFunction(\"\\\\stackrel\", {\n    numArgs: 2\n}, function(context, args) {\n    var top = args[0];\n    var bottom = args[1];\n\n    var bottomop = new ParseNode(\"op\", {\n        type: \"op\",\n        limits: true,\n        alwaysHandleSupSub: true,\n        symbol: false,\n        value: ordargument(bottom)\n    }, bottom.mode);\n\n    var supsub = new ParseNode(\"supsub\", {\n        base: bottomop,\n        sup: top,\n        sub: null\n    }, top.mode);\n\n    return {\n        type: \"mclass\",\n        mclass: \"mrel\",\n        value: [supsub]\n    };\n});\n\n// \\mod-type functions\ndefineFunction(\"\\\\bmod\", {\n    numArgs: 0\n}, function(context, args) {\n    return {\n        type: \"mod\",\n        modType: \"bmod\",\n        value: null\n    };\n});\n\ndefineFunction([\"\\\\pod\", \"\\\\pmod\", \"\\\\mod\"], {\n    numArgs: 1\n}, function(context, args) {\n    var body = args[0];\n    return {\n        type: \"mod\",\n        modType: context.funcName.substr(1),\n        value: ordargument(body)\n    };\n});\n\n// Extra data needed for the delimiter handler down below\nvar delimiterSizes = {\n    \"\\\\bigl\" : {mclass: \"mopen\",    size: 1},\n    \"\\\\Bigl\" : {mclass: \"mopen\",    size: 2},\n    \"\\\\biggl\": {mclass: \"mopen\",    size: 3},\n    \"\\\\Biggl\": {mclass: \"mopen\",    size: 4},\n    \"\\\\bigr\" : {mclass: \"mclose\",   size: 1},\n    \"\\\\Bigr\" : {mclass: \"mclose\",   size: 2},\n    \"\\\\biggr\": {mclass: \"mclose\",   size: 3},\n    \"\\\\Biggr\": {mclass: \"mclose\",   size: 4},\n    \"\\\\bigm\" : {mclass: \"mrel\",     size: 1},\n    \"\\\\Bigm\" : {mclass: \"mrel\",     size: 2},\n    \"\\\\biggm\": {mclass: \"mrel\",     size: 3},\n    \"\\\\Biggm\": {mclass: \"mrel\",     size: 4},\n    \"\\\\big\"  : {mclass: \"mord\",     size: 1},\n    \"\\\\Big\"  : {mclass: \"mord\",     size: 2},\n    \"\\\\bigg\" : {mclass: \"mord\",     size: 3},\n    \"\\\\Bigg\" : {mclass: \"mord\",     size: 4}\n};\n\nvar delimiters = [\n    \"(\", \")\", \"[\", \"\\\\lbrack\", \"]\", \"\\\\rbrack\",\n    \"\\\\{\", \"\\\\lbrace\", \"\\\\}\", \"\\\\rbrace\",\n    \"\\\\lfloor\", \"\\\\rfloor\", \"\\\\lceil\", \"\\\\rceil\",\n    \"<\", \">\", \"\\\\langle\", \"\\\\rangle\", \"\\\\lt\", \"\\\\gt\",\n    \"\\\\lvert\", \"\\\\rvert\", \"\\\\lVert\", \"\\\\rVert\",\n    \"\\\\lgroup\", \"\\\\rgroup\", \"\\\\lmoustache\", \"\\\\rmoustache\",\n    \"/\", \"\\\\backslash\",\n    \"|\", \"\\\\vert\", \"\\\\|\", \"\\\\Vert\",\n    \"\\\\uparrow\", \"\\\\Uparrow\",\n    \"\\\\downarrow\", \"\\\\Downarrow\",\n    \"\\\\updownarrow\", \"\\\\Updownarrow\",\n    \".\"\n];\n\nvar fontAliases = {\n    \"\\\\Bbb\": \"\\\\mathbb\",\n    \"\\\\bold\": \"\\\\mathbf\",\n    \"\\\\frak\": \"\\\\mathfrak\"\n};\n\n// Single-argument color functions\ndefineFunction([\n    \"\\\\blue\", \"\\\\orange\", \"\\\\pink\", \"\\\\red\",\n    \"\\\\green\", \"\\\\gray\", \"\\\\purple\",\n    \"\\\\blueA\", \"\\\\blueB\", \"\\\\blueC\", \"\\\\blueD\", \"\\\\blueE\",\n    \"\\\\tealA\", \"\\\\tealB\", \"\\\\tealC\", \"\\\\tealD\", \"\\\\tealE\",\n    \"\\\\greenA\", \"\\\\greenB\", \"\\\\greenC\", \"\\\\greenD\", \"\\\\greenE\",\n    \"\\\\goldA\", \"\\\\goldB\", \"\\\\goldC\", \"\\\\goldD\", \"\\\\goldE\",\n    \"\\\\redA\", \"\\\\redB\", \"\\\\redC\", \"\\\\redD\", \"\\\\redE\",\n    \"\\\\maroonA\", \"\\\\maroonB\", \"\\\\maroonC\", \"\\\\maroonD\", \"\\\\maroonE\",\n    \"\\\\purpleA\", \"\\\\purpleB\", \"\\\\purpleC\", \"\\\\purpleD\", \"\\\\purpleE\",\n    \"\\\\mintA\", \"\\\\mintB\", \"\\\\mintC\",\n    \"\\\\grayA\", \"\\\\grayB\", \"\\\\grayC\", \"\\\\grayD\", \"\\\\grayE\",\n    \"\\\\grayF\", \"\\\\grayG\", \"\\\\grayH\", \"\\\\grayI\",\n    \"\\\\kaBlue\", \"\\\\kaGreen\"\n], {\n    numArgs: 1,\n    allowedInText: true,\n    greediness: 3\n}, function(context, args) {\n    var body = args[0];\n    return {\n        type: \"color\",\n        color: \"katex-\" + context.funcName.slice(1),\n        value: ordargument(body)\n    };\n});\n\n// There are 2 flags for operators; whether they produce limits in\n// displaystyle, and whether they are symbols and should grow in\n// displaystyle. These four groups cover the four possible choices.\n\n// No limits, not symbols\ndefineFunction([\n    \"\\\\arcsin\", \"\\\\arccos\", \"\\\\arctan\", \"\\\\arg\", \"\\\\cos\", \"\\\\cosh\",\n    \"\\\\cot\", \"\\\\coth\", \"\\\\csc\", \"\\\\deg\", \"\\\\dim\", \"\\\\exp\", \"\\\\hom\",\n    \"\\\\ker\", \"\\\\lg\", \"\\\\ln\", \"\\\\log\", \"\\\\sec\", \"\\\\sin\", \"\\\\sinh\",\n    \"\\\\tan\", \"\\\\tanh\"\n], {\n    numArgs: 0\n}, function(context) {\n    return {\n        type: \"op\",\n        limits: false,\n        symbol: false,\n        body: context.funcName\n    };\n});\n\n// Limits, not symbols\ndefineFunction([\n    \"\\\\det\", \"\\\\gcd\", \"\\\\inf\", \"\\\\lim\", \"\\\\liminf\", \"\\\\limsup\", \"\\\\max\",\n    \"\\\\min\", \"\\\\Pr\", \"\\\\sup\"\n], {\n    numArgs: 0\n}, function(context) {\n    return {\n        type: \"op\",\n        limits: true,\n        symbol: false,\n        body: context.funcName\n    };\n});\n\n// No limits, symbols\ndefineFunction([\n    \"\\\\int\", \"\\\\iint\", \"\\\\iiint\", \"\\\\oint\"\n], {\n    numArgs: 0\n}, function(context) {\n    return {\n        type: \"op\",\n        limits: false,\n        symbol: true,\n        body: context.funcName\n    };\n});\n\n// Limits, symbols\ndefineFunction([\n    \"\\\\coprod\", \"\\\\bigvee\", \"\\\\bigwedge\", \"\\\\biguplus\", \"\\\\bigcap\",\n    \"\\\\bigcup\", \"\\\\intop\", \"\\\\prod\", \"\\\\sum\", \"\\\\bigotimes\",\n    \"\\\\bigoplus\", \"\\\\bigodot\", \"\\\\bigsqcup\", \"\\\\smallint\"\n], {\n    numArgs: 0\n}, function(context) {\n    return {\n        type: \"op\",\n        limits: true,\n        symbol: true,\n        body: context.funcName\n    };\n});\n\n// \\mathop class command\ndefineFunction(\"\\\\mathop\", {\n    numArgs: 1\n}, function(context, args) {\n    var body = args[0];\n    return {\n        type: \"op\",\n        limits: false,\n        symbol: false,\n        value: ordargument(body)\n    };\n});\n\n// Fractions\ndefineFunction([\n    \"\\\\dfrac\", \"\\\\frac\", \"\\\\tfrac\",\n    \"\\\\dbinom\", \"\\\\binom\", \"\\\\tbinom\",\n    \"\\\\\\\\atopfrac\" // can’t be entered directly\n], {\n    numArgs: 2,\n    greediness: 2\n}, function(context, args) {\n    var numer = args[0];\n    var denom = args[1];\n    var hasBarLine;\n    var leftDelim = null;\n    var rightDelim = null;\n    var size = \"auto\";\n\n    switch (context.funcName) {\n        case \"\\\\dfrac\":\n        case \"\\\\frac\":\n        case \"\\\\tfrac\":\n            hasBarLine = true;\n            break;\n        case \"\\\\\\\\atopfrac\":\n            hasBarLine = false;\n            break;\n        case \"\\\\dbinom\":\n        case \"\\\\binom\":\n        case \"\\\\tbinom\":\n            hasBarLine = false;\n            leftDelim = \"(\";\n            rightDelim = \")\";\n            break;\n        default:\n            throw new Error(\"Unrecognized genfrac command\");\n    }\n\n    switch (context.funcName) {\n        case \"\\\\dfrac\":\n        case \"\\\\dbinom\":\n            size = \"display\";\n            break;\n        case \"\\\\tfrac\":\n        case \"\\\\tbinom\":\n            size = \"text\";\n            break;\n    }\n\n    return {\n        type: \"genfrac\",\n        numer: numer,\n        denom: denom,\n        hasBarLine: hasBarLine,\n        leftDelim: leftDelim,\n        rightDelim: rightDelim,\n        size: size\n    };\n});\n\n// Left and right overlap functions\ndefineFunction([\"\\\\llap\", \"\\\\rlap\"], {\n    numArgs: 1,\n    allowedInText: true\n}, function(context, args) {\n    var body = args[0];\n    return {\n        type: context.funcName.slice(1),\n        body: body\n    };\n});\n\n// Delimiter functions\nvar checkDelimiter = function(delim, context) {\n    if (utils.contains(delimiters, delim.value)) {\n        return delim;\n    } else {\n        throw new ParseError(\n            \"Invalid delimiter: '\" + delim.value + \"' after '\" +\n            context.funcName + \"'\", delim);\n    }\n};\n\ndefineFunction([\n    \"\\\\bigl\", \"\\\\Bigl\", \"\\\\biggl\", \"\\\\Biggl\",\n    \"\\\\bigr\", \"\\\\Bigr\", \"\\\\biggr\", \"\\\\Biggr\",\n    \"\\\\bigm\", \"\\\\Bigm\", \"\\\\biggm\", \"\\\\Biggm\",\n    \"\\\\big\",  \"\\\\Big\",  \"\\\\bigg\",  \"\\\\Bigg\"\n], {\n    numArgs: 1\n}, function(context, args) {\n    var delim = checkDelimiter(args[0], context);\n\n    return {\n        type: \"delimsizing\",\n        size: delimiterSizes[context.funcName].size,\n        mclass: delimiterSizes[context.funcName].mclass,\n        value: delim.value\n    };\n});\n\ndefineFunction([\n    \"\\\\left\", \"\\\\right\"\n], {\n    numArgs: 1\n}, function(context, args) {\n    var delim = checkDelimiter(args[0], context);\n\n    // \\left and \\right are caught somewhere in Parser.js, which is\n    // why this data doesn't match what is in buildHTML.\n    return {\n        type: \"leftright\",\n        value: delim.value\n    };\n});\n\ndefineFunction(\"\\\\middle\", {\n    numArgs: 1\n}, function(context, args) {\n    var delim = checkDelimiter(args[0], context);\n    if (!context.parser.leftrightDepth) {\n        throw new ParseError(\"\\\\middle without preceding \\\\left\", delim);\n    }\n\n    return {\n        type: \"middle\",\n        value: delim.value\n    };\n});\n\n// Sizing functions (handled in Parser.js explicitly, hence no handler)\ndefineFunction([\n    \"\\\\tiny\", \"\\\\scriptsize\", \"\\\\footnotesize\", \"\\\\small\",\n    \"\\\\normalsize\", \"\\\\large\", \"\\\\Large\", \"\\\\LARGE\", \"\\\\huge\", \"\\\\Huge\"\n], 0, null);\n\n// Style changing functions (handled in Parser.js explicitly, hence no\n// handler)\ndefineFunction([\n    \"\\\\displaystyle\", \"\\\\textstyle\", \"\\\\scriptstyle\",\n    \"\\\\scriptscriptstyle\"\n], 0, null);\n\ndefineFunction([\n    // styles\n    \"\\\\mathrm\", \"\\\\mathit\", \"\\\\mathbf\",\n\n    // families\n    \"\\\\mathbb\", \"\\\\mathcal\", \"\\\\mathfrak\", \"\\\\mathscr\", \"\\\\mathsf\",\n    \"\\\\mathtt\",\n\n    // aliases\n    \"\\\\Bbb\", \"\\\\bold\", \"\\\\frak\"\n], {\n    numArgs: 1,\n    greediness: 2\n}, function(context, args) {\n    var body = args[0];\n    var func = context.funcName;\n    if (func in fontAliases) {\n        func = fontAliases[func];\n    }\n    return {\n        type: \"font\",\n        font: func.slice(1),\n        body: body\n    };\n});\n\n// Accents\ndefineFunction([\n    \"\\\\acute\", \"\\\\grave\", \"\\\\ddot\", \"\\\\tilde\", \"\\\\bar\", \"\\\\breve\",\n    \"\\\\check\", \"\\\\hat\", \"\\\\vec\", \"\\\\dot\"\n    // We don't support expanding accents yet\n    // \"\\\\widetilde\", \"\\\\widehat\"\n], {\n    numArgs: 1\n}, function(context, args) {\n    var base = args[0];\n    return {\n        type: \"accent\",\n        accent: context.funcName,\n        base: base\n    };\n});\n\n// Infix generalized fractions\ndefineFunction([\"\\\\over\", \"\\\\choose\", \"\\\\atop\"], {\n    numArgs: 0,\n    infix: true\n}, function(context) {\n    var replaceWith;\n    switch (context.funcName) {\n        case \"\\\\over\":\n            replaceWith = \"\\\\frac\";\n            break;\n        case \"\\\\choose\":\n            replaceWith = \"\\\\binom\";\n            break;\n        case \"\\\\atop\":\n            replaceWith = \"\\\\\\\\atopfrac\";\n            break;\n        default:\n            throw new Error(\"Unrecognized infix genfrac command\");\n    }\n    return {\n        type: \"infix\",\n        replaceWith: replaceWith,\n        token: context.token\n    };\n});\n\n// Row breaks for aligned data\ndefineFunction([\"\\\\\\\\\", \"\\\\cr\"], {\n    numArgs: 0,\n    numOptionalArgs: 1,\n    argTypes: [\"size\"]\n}, function(context, args) {\n    var size = args[0];\n    return {\n        type: \"cr\",\n        size: size\n    };\n});\n\n// Environment delimiters\ndefineFunction([\"\\\\begin\", \"\\\\end\"], {\n    numArgs: 1,\n    argTypes: [\"text\"]\n}, function(context, args) {\n    var nameGroup = args[0];\n    if (nameGroup.type !== \"ordgroup\") {\n        throw new ParseError(\"Invalid environment name\", nameGroup);\n    }\n    var name = \"\";\n    for (var i = 0; i < nameGroup.value.length; ++i) {\n        name += nameGroup.value[i].value;\n    }\n    return {\n        type: \"environment\",\n        name: name,\n        nameGroup: nameGroup\n    };\n});\n","/**\n * These objects store data about MathML nodes. This is the MathML equivalent\n * of the types in domTree.js. Since MathML handles its own rendering, and\n * since we're mainly using MathML to improve accessibility, we don't manage\n * any of the styling state that the plain DOM nodes do.\n *\n * The `toNode` and `toMarkup` functions work simlarly to how they do in\n * domTree.js, creating namespaced DOM nodes and HTML text markup respectively.\n */\n\nvar utils = require(\"./utils\");\n\n/**\n * This node represents a general purpose MathML node of any type. The\n * constructor requires the type of node to create (for example, `\"mo\"` or\n * `\"mspace\"`, corresponding to `<mo>` and `<mspace>` tags).\n */\nfunction MathNode(type, children) {\n    this.type = type;\n    this.attributes = {};\n    this.children = children || [];\n}\n\n/**\n * Sets an attribute on a MathML node. MathML depends on attributes to convey a\n * semantic content, so this is used heavily.\n */\nMathNode.prototype.setAttribute = function(name, value) {\n    this.attributes[name] = value;\n};\n\n/**\n * Converts the math node into a MathML-namespaced DOM element.\n */\nMathNode.prototype.toNode = function() {\n    var node = document.createElementNS(\n        \"http://www.w3.org/1998/Math/MathML\", this.type);\n\n    for (var attr in this.attributes) {\n        if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n            node.setAttribute(attr, this.attributes[attr]);\n        }\n    }\n\n    for (var i = 0; i < this.children.length; i++) {\n        node.appendChild(this.children[i].toNode());\n    }\n\n    return node;\n};\n\n/**\n * Converts the math node into an HTML markup string.\n */\nMathNode.prototype.toMarkup = function() {\n    var markup = \"<\" + this.type;\n\n    // Add the attributes\n    for (var attr in this.attributes) {\n        if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n            markup += \" \" + attr + \"=\\\"\";\n            markup += utils.escape(this.attributes[attr]);\n            markup += \"\\\"\";\n        }\n    }\n\n    markup += \">\";\n\n    for (var i = 0; i < this.children.length; i++) {\n        markup += this.children[i].toMarkup();\n    }\n\n    markup += \"</\" + this.type + \">\";\n\n    return markup;\n};\n\n/**\n * This node represents a piece of text.\n */\nfunction TextNode(text) {\n    this.text = text;\n}\n\n/**\n * Converts the text node into a DOM text node.\n */\nTextNode.prototype.toNode = function() {\n    return document.createTextNode(this.text);\n};\n\n/**\n * Converts the text node into HTML markup (which is just the text itself).\n */\nTextNode.prototype.toMarkup = function() {\n    return utils.escape(this.text);\n};\n\nmodule.exports = {\n    MathNode: MathNode,\n    TextNode: TextNode\n};\n","/**\n * The resulting parse tree nodes of the parse tree.\n *\n * It is possible to provide position information, so that a ParseNode can\n * fulfil a role similar to a Token in error reporting.\n * For details on the corresponding properties see Token constructor.\n * Providing such information can lead to better error reporting.\n *\n * @param {string}  type       type of node, like e.g. \"ordgroup\"\n * @param {?object} value      type-specific representation of the node\n * @param {string}  mode       parse mode in action for this node,\n *                             \"math\" or \"text\"\n * @param {Token=} firstToken  first token of the input for this node,\n *                             will omit position information if unset\n * @param {Token=} lastToken   last token of the input for this node,\n *                             will default to firstToken if unset\n */\nfunction ParseNode(type, value, mode, firstToken, lastToken) {\n    this.type = type;\n    this.value = value;\n    this.mode = mode;\n    if (firstToken && (!lastToken || lastToken.lexer === firstToken.lexer)) {\n        this.lexer = firstToken.lexer;\n        this.start = firstToken.start;\n        this.end = (lastToken || firstToken).end;\n    }\n}\n\nmodule.exports = {\n    ParseNode: ParseNode\n};\n\n","/**\n * Provides a single function for parsing an expression using a Parser\n * TODO(emily): Remove this\n */\n\nvar Parser = require(\"./Parser\");\n\n/**\n * Parses an expression using a Parser, then returns the parsed result.\n */\nvar parseTree = function(toParse, settings) {\n    if (!(typeof toParse === 'string' || toParse instanceof String)) {\n        throw new TypeError('KaTeX can only parse string typed expression');\n    }\n    var parser = new Parser(toParse, settings);\n\n    return parser.parse();\n};\n\nmodule.exports = parseTree;\n","/**\n * This file holds a list of all no-argument functions and single-character\n * symbols (like 'a' or ';').\n *\n * For each of the symbols, there are three properties they can have:\n * - font (required): the font to be used for this symbol. Either \"main\" (the\n     normal font), or \"ams\" (the ams fonts).\n * - group (required): the ParseNode group type the symbol should have (i.e.\n     \"textord\", \"mathord\", etc).\n     See https://github.com/Khan/KaTeX/wiki/Examining-TeX#group-types\n * - replace: the character that this symbol or function should be\n *   replaced with (i.e. \"\\phi\" has a replace value of \"\\u03d5\", the phi\n *   character in the main font).\n *\n * The outermost map in the table indicates what mode the symbols should be\n * accepted in (e.g. \"math\" or \"text\").\n */\n\nmodule.exports = {\n    math: {},\n    text: {}\n};\n\nfunction defineSymbol(mode, font, group, replace, name) {\n    module.exports[mode][name] = {\n        font: font,\n        group: group,\n        replace: replace\n    };\n}\n\n// Some abbreviations for commonly used strings.\n// This helps minify the code, and also spotting typos using jshint.\n\n// modes:\nvar math = \"math\";\nvar text = \"text\";\n\n// fonts:\nvar main = \"main\";\nvar ams = \"ams\";\n\n// groups:\nvar accent = \"accent\";\nvar bin = \"bin\";\nvar close = \"close\";\nvar inner = \"inner\";\nvar mathord = \"mathord\";\nvar op = \"op\";\nvar open = \"open\";\nvar punct = \"punct\";\nvar rel = \"rel\";\nvar spacing = \"spacing\";\nvar textord = \"textord\";\n\n// Now comes the symbol table\n\n// Relation Symbols\ndefineSymbol(math, main, rel, \"\\u2261\", \"\\\\equiv\");\ndefineSymbol(math, main, rel, \"\\u227a\", \"\\\\prec\");\ndefineSymbol(math, main, rel, \"\\u227b\", \"\\\\succ\");\ndefineSymbol(math, main, rel, \"\\u223c\", \"\\\\sim\");\ndefineSymbol(math, main, rel, \"\\u22a5\", \"\\\\perp\");\ndefineSymbol(math, main, rel, \"\\u2aaf\", \"\\\\preceq\");\ndefineSymbol(math, main, rel, \"\\u2ab0\", \"\\\\succeq\");\ndefineSymbol(math, main, rel, \"\\u2243\", \"\\\\simeq\");\ndefineSymbol(math, main, rel, \"\\u2223\", \"\\\\mid\");\ndefineSymbol(math, main, rel, \"\\u226a\", \"\\\\ll\");\ndefineSymbol(math, main, rel, \"\\u226b\", \"\\\\gg\");\ndefineSymbol(math, main, rel, \"\\u224d\", \"\\\\asymp\");\ndefineSymbol(math, main, rel, \"\\u2225\", \"\\\\parallel\");\ndefineSymbol(math, main, rel, \"\\u22c8\", \"\\\\bowtie\");\ndefineSymbol(math, main, rel, \"\\u2323\", \"\\\\smile\");\ndefineSymbol(math, main, rel, \"\\u2291\", \"\\\\sqsubseteq\");\ndefineSymbol(math, main, rel, \"\\u2292\", \"\\\\sqsupseteq\");\ndefineSymbol(math, main, rel, \"\\u2250\", \"\\\\doteq\");\ndefineSymbol(math, main, rel, \"\\u2322\", \"\\\\frown\");\ndefineSymbol(math, main, rel, \"\\u220b\", \"\\\\ni\");\ndefineSymbol(math, main, rel, \"\\u221d\", \"\\\\propto\");\ndefineSymbol(math, main, rel, \"\\u22a2\", \"\\\\vdash\");\ndefineSymbol(math, main, rel, \"\\u22a3\", \"\\\\dashv\");\ndefineSymbol(math, main, rel, \"\\u220b\", \"\\\\owns\");\n\n// Punctuation\ndefineSymbol(math, main, punct, \"\\u002e\", \"\\\\ldotp\");\ndefineSymbol(math, main, punct, \"\\u22c5\", \"\\\\cdotp\");\n\n// Misc Symbols\ndefineSymbol(math, main, textord, \"\\u0023\", \"\\\\#\");\ndefineSymbol(text, main, textord, \"\\u0023\", \"\\\\#\");\ndefineSymbol(math, main, textord, \"\\u0026\", \"\\\\&\");\ndefineSymbol(text, main, textord, \"\\u0026\", \"\\\\&\");\ndefineSymbol(math, main, textord, \"\\u2135\", \"\\\\aleph\");\ndefineSymbol(math, main, textord, \"\\u2200\", \"\\\\forall\");\ndefineSymbol(math, main, textord, \"\\u210f\", \"\\\\hbar\");\ndefineSymbol(math, main, textord, \"\\u2203\", \"\\\\exists\");\ndefineSymbol(math, main, textord, \"\\u2207\", \"\\\\nabla\");\ndefineSymbol(math, main, textord, \"\\u266d\", \"\\\\flat\");\ndefineSymbol(math, main, textord, \"\\u2113\", \"\\\\ell\");\ndefineSymbol(math, main, textord, \"\\u266e\", \"\\\\natural\");\ndefineSymbol(math, main, textord, \"\\u2663\", \"\\\\clubsuit\");\ndefineSymbol(math, main, textord, \"\\u2118\", \"\\\\wp\");\ndefineSymbol(math, main, textord, \"\\u266f\", \"\\\\sharp\");\ndefineSymbol(math, main, textord, \"\\u2662\", \"\\\\diamondsuit\");\ndefineSymbol(math, main, textord, \"\\u211c\", \"\\\\Re\");\ndefineSymbol(math, main, textord, \"\\u2661\", \"\\\\heartsuit\");\ndefineSymbol(math, main, textord, \"\\u2111\", \"\\\\Im\");\ndefineSymbol(math, main, textord, \"\\u2660\", \"\\\\spadesuit\");\n\n// Math and Text\ndefineSymbol(math, main, textord, \"\\u2020\", \"\\\\dag\");\ndefineSymbol(math, main, textord, \"\\u2021\", \"\\\\ddag\");\n\n// Large Delimiters\ndefineSymbol(math, main, close, \"\\u23b1\", \"\\\\rmoustache\");\ndefineSymbol(math, main, open, \"\\u23b0\", \"\\\\lmoustache\");\ndefineSymbol(math, main, close, \"\\u27ef\", \"\\\\rgroup\");\ndefineSymbol(math, main, open, \"\\u27ee\", \"\\\\lgroup\");\n\n// Binary Operators\ndefineSymbol(math, main, bin, \"\\u2213\", \"\\\\mp\");\ndefineSymbol(math, main, bin, \"\\u2296\", \"\\\\ominus\");\ndefineSymbol(math, main, bin, \"\\u228e\", \"\\\\uplus\");\ndefineSymbol(math, main, bin, \"\\u2293\", \"\\\\sqcap\");\ndefineSymbol(math, main, bin, \"\\u2217\", \"\\\\ast\");\ndefineSymbol(math, main, bin, \"\\u2294\", \"\\\\sqcup\");\ndefineSymbol(math, main, bin, \"\\u25ef\", \"\\\\bigcirc\");\ndefineSymbol(math, main, bin, \"\\u2219\", \"\\\\bullet\");\ndefineSymbol(math, main, bin, \"\\u2021\", \"\\\\ddagger\");\ndefineSymbol(math, main, bin, \"\\u2240\", \"\\\\wr\");\ndefineSymbol(math, main, bin, \"\\u2a3f\", \"\\\\amalg\");\n\n// Arrow Symbols\ndefineSymbol(math, main, rel, \"\\u27f5\", \"\\\\longleftarrow\");\ndefineSymbol(math, main, rel, \"\\u21d0\", \"\\\\Leftarrow\");\ndefineSymbol(math, main, rel, \"\\u27f8\", \"\\\\Longleftarrow\");\ndefineSymbol(math, main, rel, \"\\u27f6\", \"\\\\longrightarrow\");\ndefineSymbol(math, main, rel, \"\\u21d2\", \"\\\\Rightarrow\");\ndefineSymbol(math, main, rel, \"\\u27f9\", \"\\\\Longrightarrow\");\ndefineSymbol(math, main, rel, \"\\u2194\", \"\\\\leftrightarrow\");\ndefineSymbol(math, main, rel, \"\\u27f7\", \"\\\\longleftrightarrow\");\ndefineSymbol(math, main, rel, \"\\u21d4\", \"\\\\Leftrightarrow\");\ndefineSymbol(math, main, rel, \"\\u27fa\", \"\\\\Longleftrightarrow\");\ndefineSymbol(math, main, rel, \"\\u21a6\", \"\\\\mapsto\");\ndefineSymbol(math, main, rel, \"\\u27fc\", \"\\\\longmapsto\");\ndefineSymbol(math, main, rel, \"\\u2197\", \"\\\\nearrow\");\ndefineSymbol(math, main, rel, \"\\u21a9\", \"\\\\hookleftarrow\");\ndefineSymbol(math, main, rel, \"\\u21aa\", \"\\\\hookrightarrow\");\ndefineSymbol(math, main, rel, \"\\u2198\", \"\\\\searrow\");\ndefineSymbol(math, main, rel, \"\\u21bc\", \"\\\\leftharpoonup\");\ndefineSymbol(math, main, rel, \"\\u21c0\", \"\\\\rightharpoonup\");\ndefineSymbol(math, main, rel, \"\\u2199\", \"\\\\swarrow\");\ndefineSymbol(math, main, rel, \"\\u21bd\", \"\\\\leftharpoondown\");\ndefineSymbol(math, main, rel, \"\\u21c1\", \"\\\\rightharpoondown\");\ndefineSymbol(math, main, rel, \"\\u2196\", \"\\\\nwarrow\");\ndefineSymbol(math, main, rel, \"\\u21cc\", \"\\\\rightleftharpoons\");\n\n// AMS Negated Binary Relations\ndefineSymbol(math, ams, rel, \"\\u226e\", \"\\\\nless\");\ndefineSymbol(math, ams, rel, \"\\ue010\", \"\\\\nleqslant\");\ndefineSymbol(math, ams, rel, \"\\ue011\", \"\\\\nleqq\");\ndefineSymbol(math, ams, rel, \"\\u2a87\", \"\\\\lneq\");\ndefineSymbol(math, ams, rel, \"\\u2268\", \"\\\\lneqq\");\ndefineSymbol(math, ams, rel, \"\\ue00c\", \"\\\\lvertneqq\");\ndefineSymbol(math, ams, rel, \"\\u22e6\", \"\\\\lnsim\");\ndefineSymbol(math, ams, rel, \"\\u2a89\", \"\\\\lnapprox\");\ndefineSymbol(math, ams, rel, \"\\u2280\", \"\\\\nprec\");\ndefineSymbol(math, ams, rel, \"\\u22e0\", \"\\\\npreceq\");\ndefineSymbol(math, ams, rel, \"\\u22e8\", \"\\\\precnsim\");\ndefineSymbol(math, ams, rel, \"\\u2ab9\", \"\\\\precnapprox\");\ndefineSymbol(math, ams, rel, \"\\u2241\", \"\\\\nsim\");\ndefineSymbol(math, ams, rel, \"\\ue006\", \"\\\\nshortmid\");\ndefineSymbol(math, ams, rel, \"\\u2224\", \"\\\\nmid\");\ndefineSymbol(math, ams, rel, \"\\u22ac\", \"\\\\nvdash\");\ndefineSymbol(math, ams, rel, \"\\u22ad\", \"\\\\nvDash\");\ndefineSymbol(math, ams, rel, \"\\u22ea\", \"\\\\ntriangleleft\");\ndefineSymbol(math, ams, rel, \"\\u22ec\", \"\\\\ntrianglelefteq\");\ndefineSymbol(math, ams, rel, \"\\u228a\", \"\\\\subsetneq\");\ndefineSymbol(math, ams, rel, \"\\ue01a\", \"\\\\varsubsetneq\");\ndefineSymbol(math, ams, rel, \"\\u2acb\", \"\\\\subsetneqq\");\ndefineSymbol(math, ams, rel, \"\\ue017\", \"\\\\varsubsetneqq\");\ndefineSymbol(math, ams, rel, \"\\u226f\", \"\\\\ngtr\");\ndefineSymbol(math, ams, rel, \"\\ue00f\", \"\\\\ngeqslant\");\ndefineSymbol(math, ams, rel, \"\\ue00e\", \"\\\\ngeqq\");\ndefineSymbol(math, ams, rel, \"\\u2a88\", \"\\\\gneq\");\ndefineSymbol(math, ams, rel, \"\\u2269\", \"\\\\gneqq\");\ndefineSymbol(math, ams, rel, \"\\ue00d\", \"\\\\gvertneqq\");\ndefineSymbol(math, ams, rel, \"\\u22e7\", \"\\\\gnsim\");\ndefineSymbol(math, ams, rel, \"\\u2a8a\", \"\\\\gnapprox\");\ndefineSymbol(math, ams, rel, \"\\u2281\", \"\\\\nsucc\");\ndefineSymbol(math, ams, rel, \"\\u22e1\", \"\\\\nsucceq\");\ndefineSymbol(math, ams, rel, \"\\u22e9\", \"\\\\succnsim\");\ndefineSymbol(math, ams, rel, \"\\u2aba\", \"\\\\succnapprox\");\ndefineSymbol(math, ams, rel, \"\\u2246\", \"\\\\ncong\");\ndefineSymbol(math, ams, rel, \"\\ue007\", \"\\\\nshortparallel\");\ndefineSymbol(math, ams, rel, \"\\u2226\", \"\\\\nparallel\");\ndefineSymbol(math, ams, rel, \"\\u22af\", \"\\\\nVDash\");\ndefineSymbol(math, ams, rel, \"\\u22eb\", \"\\\\ntriangleright\");\ndefineSymbol(math, ams, rel, \"\\u22ed\", \"\\\\ntrianglerighteq\");\ndefineSymbol(math, ams, rel, \"\\ue018\", \"\\\\nsupseteqq\");\ndefineSymbol(math, ams, rel, \"\\u228b\", \"\\\\supsetneq\");\ndefineSymbol(math, ams, rel, \"\\ue01b\", \"\\\\varsupsetneq\");\ndefineSymbol(math, ams, rel, \"\\u2acc\", \"\\\\supsetneqq\");\ndefineSymbol(math, ams, rel, \"\\ue019\", \"\\\\varsupsetneqq\");\ndefineSymbol(math, ams, rel, \"\\u22ae\", \"\\\\nVdash\");\ndefineSymbol(math, ams, rel, \"\\u2ab5\", \"\\\\precneqq\");\ndefineSymbol(math, ams, rel, \"\\u2ab6\", \"\\\\succneqq\");\ndefineSymbol(math, ams, rel, \"\\ue016\", \"\\\\nsubseteqq\");\ndefineSymbol(math, ams, bin, \"\\u22b4\", \"\\\\unlhd\");\ndefineSymbol(math, ams, bin, \"\\u22b5\", \"\\\\unrhd\");\n\n// AMS Negated Arrows\ndefineSymbol(math, ams, rel, \"\\u219a\", \"\\\\nleftarrow\");\ndefineSymbol(math, ams, rel, \"\\u219b\", \"\\\\nrightarrow\");\ndefineSymbol(math, ams, rel, \"\\u21cd\", \"\\\\nLeftarrow\");\ndefineSymbol(math, ams, rel, \"\\u21cf\", \"\\\\nRightarrow\");\ndefineSymbol(math, ams, rel, \"\\u21ae\", \"\\\\nleftrightarrow\");\ndefineSymbol(math, ams, rel, \"\\u21ce\", \"\\\\nLeftrightarrow\");\n\n// AMS Misc\ndefineSymbol(math, ams, rel, \"\\u25b3\", \"\\\\vartriangle\");\ndefineSymbol(math, ams, textord, \"\\u210f\", \"\\\\hslash\");\ndefineSymbol(math, ams, textord, \"\\u25bd\", \"\\\\triangledown\");\ndefineSymbol(math, ams, textord, \"\\u25ca\", \"\\\\lozenge\");\ndefineSymbol(math, ams, textord, \"\\u24c8\", \"\\\\circledS\");\ndefineSymbol(math, ams, textord, \"\\u00ae\", \"\\\\circledR\");\ndefineSymbol(math, ams, textord, \"\\u2221\", \"\\\\measuredangle\");\ndefineSymbol(math, ams, textord, \"\\u2204\", \"\\\\nexists\");\ndefineSymbol(math, ams, textord, \"\\u2127\", \"\\\\mho\");\ndefineSymbol(math, ams, textord, \"\\u2132\", \"\\\\Finv\");\ndefineSymbol(math, ams, textord, \"\\u2141\", \"\\\\Game\");\ndefineSymbol(math, ams, textord, \"\\u006b\", \"\\\\Bbbk\");\ndefineSymbol(math, ams, textord, \"\\u2035\", \"\\\\backprime\");\ndefineSymbol(math, ams, textord, \"\\u25b2\", \"\\\\blacktriangle\");\ndefineSymbol(math, ams, textord, \"\\u25bc\", \"\\\\blacktriangledown\");\ndefineSymbol(math, ams, textord, \"\\u25a0\", \"\\\\blacksquare\");\ndefineSymbol(math, ams, textord, \"\\u29eb\", \"\\\\blacklozenge\");\ndefineSymbol(math, ams, textord, \"\\u2605\", \"\\\\bigstar\");\ndefineSymbol(math, ams, textord, \"\\u2222\", \"\\\\sphericalangle\");\ndefineSymbol(math, ams, textord, \"\\u2201\", \"\\\\complement\");\ndefineSymbol(math, ams, textord, \"\\u00f0\", \"\\\\eth\");\ndefineSymbol(math, ams, textord, \"\\u2571\", \"\\\\diagup\");\ndefineSymbol(math, ams, textord, \"\\u2572\", \"\\\\diagdown\");\ndefineSymbol(math, ams, textord, \"\\u25a1\", \"\\\\square\");\ndefineSymbol(math, ams, textord, \"\\u25a1\", \"\\\\Box\");\ndefineSymbol(math, ams, textord, \"\\u25ca\", \"\\\\Diamond\");\ndefineSymbol(math, ams, textord, \"\\u00a5\", \"\\\\yen\");\ndefineSymbol(math, ams, textord, \"\\u2713\", \"\\\\checkmark\");\n\n// AMS Hebrew\ndefineSymbol(math, ams, textord, \"\\u2136\", \"\\\\beth\");\ndefineSymbol(math, ams, textord, \"\\u2138\", \"\\\\daleth\");\ndefineSymbol(math, ams, textord, \"\\u2137\", \"\\\\gimel\");\n\n// AMS Greek\ndefineSymbol(math, ams, textord, \"\\u03dd\", \"\\\\digamma\");\ndefineSymbol(math, ams, textord, \"\\u03f0\", \"\\\\varkappa\");\n\n// AMS Delimiters\ndefineSymbol(math, ams, open, \"\\u250c\", \"\\\\ulcorner\");\ndefineSymbol(math, ams, close, \"\\u2510\", \"\\\\urcorner\");\ndefineSymbol(math, ams, open, \"\\u2514\", \"\\\\llcorner\");\ndefineSymbol(math, ams, close, \"\\u2518\", \"\\\\lrcorner\");\n\n// AMS Binary Relations\ndefineSymbol(math, ams, rel, \"\\u2266\", \"\\\\leqq\");\ndefineSymbol(math, ams, rel, \"\\u2a7d\", \"\\\\leqslant\");\ndefineSymbol(math, ams, rel, \"\\u2a95\", \"\\\\eqslantless\");\ndefineSymbol(math, ams, rel, \"\\u2272\", \"\\\\lesssim\");\ndefineSymbol(math, ams, rel, \"\\u2a85\", \"\\\\lessapprox\");\ndefineSymbol(math, ams, rel, \"\\u224a\", \"\\\\approxeq\");\ndefineSymbol(math, ams, bin, \"\\u22d6\", \"\\\\lessdot\");\ndefineSymbol(math, ams, rel, \"\\u22d8\", \"\\\\lll\");\ndefineSymbol(math, ams, rel, \"\\u2276\", \"\\\\lessgtr\");\ndefineSymbol(math, ams, rel, \"\\u22da\", \"\\\\lesseqgtr\");\ndefineSymbol(math, ams, rel, \"\\u2a8b\", \"\\\\lesseqqgtr\");\ndefineSymbol(math, ams, rel, \"\\u2251\", \"\\\\doteqdot\");\ndefineSymbol(math, ams, rel, \"\\u2253\", \"\\\\risingdotseq\");\ndefineSymbol(math, ams, rel, \"\\u2252\", \"\\\\fallingdotseq\");\ndefineSymbol(math, ams, rel, \"\\u223d\", \"\\\\backsim\");\ndefineSymbol(math, ams, rel, \"\\u22cd\", \"\\\\backsimeq\");\ndefineSymbol(math, ams, rel, \"\\u2ac5\", \"\\\\subseteqq\");\ndefineSymbol(math, ams, rel, \"\\u22d0\", \"\\\\Subset\");\ndefineSymbol(math, ams, rel, \"\\u228f\", \"\\\\sqsubset\");\ndefineSymbol(math, ams, rel, \"\\u227c\", \"\\\\preccurlyeq\");\ndefineSymbol(math, ams, rel, \"\\u22de\", \"\\\\curlyeqprec\");\ndefineSymbol(math, ams, rel, \"\\u227e\", \"\\\\precsim\");\ndefineSymbol(math, ams, rel, \"\\u2ab7\", \"\\\\precapprox\");\ndefineSymbol(math, ams, rel, \"\\u22b2\", \"\\\\vartriangleleft\");\ndefineSymbol(math, ams, rel, \"\\u22b4\", \"\\\\trianglelefteq\");\ndefineSymbol(math, ams, rel, \"\\u22a8\", \"\\\\vDash\");\ndefineSymbol(math, ams, rel, \"\\u22aa\", \"\\\\Vvdash\");\ndefineSymbol(math, ams, rel, \"\\u2323\", \"\\\\smallsmile\");\ndefineSymbol(math, ams, rel, \"\\u2322\", \"\\\\smallfrown\");\ndefineSymbol(math, ams, rel, \"\\u224f\", \"\\\\bumpeq\");\ndefineSymbol(math, ams, rel, \"\\u224e\", \"\\\\Bumpeq\");\ndefineSymbol(math, ams, rel, \"\\u2267\", \"\\\\geqq\");\ndefineSymbol(math, ams, rel, \"\\u2a7e\", \"\\\\geqslant\");\ndefineSymbol(math, ams, rel, \"\\u2a96\", \"\\\\eqslantgtr\");\ndefineSymbol(math, ams, rel, \"\\u2273\", \"\\\\gtrsim\");\ndefineSymbol(math, ams, rel, \"\\u2a86\", \"\\\\gtrapprox\");\ndefineSymbol(math, ams, bin, \"\\u22d7\", \"\\\\gtrdot\");\ndefineSymbol(math, ams, rel, \"\\u22d9\", \"\\\\ggg\");\ndefineSymbol(math, ams, rel, \"\\u2277\", \"\\\\gtrless\");\ndefineSymbol(math, ams, rel, \"\\u22db\", \"\\\\gtreqless\");\ndefineSymbol(math, ams, rel, \"\\u2a8c\", \"\\\\gtreqqless\");\ndefineSymbol(math, ams, rel, \"\\u2256\", \"\\\\eqcirc\");\ndefineSymbol(math, ams, rel, \"\\u2257\", \"\\\\circeq\");\ndefineSymbol(math, ams, rel, \"\\u225c\", \"\\\\triangleq\");\ndefineSymbol(math, ams, rel, \"\\u223c\", \"\\\\thicksim\");\ndefineSymbol(math, ams, rel, \"\\u2248\", \"\\\\thickapprox\");\ndefineSymbol(math, ams, rel, \"\\u2ac6\", \"\\\\supseteqq\");\ndefineSymbol(math, ams, rel, \"\\u22d1\", \"\\\\Supset\");\ndefineSymbol(math, ams, rel, \"\\u2290\", \"\\\\sqsupset\");\ndefineSymbol(math, ams, rel, \"\\u227d\", \"\\\\succcurlyeq\");\ndefineSymbol(math, ams, rel, \"\\u22df\", \"\\\\curlyeqsucc\");\ndefineSymbol(math, ams, rel, \"\\u227f\", \"\\\\succsim\");\ndefineSymbol(math, ams, rel, \"\\u2ab8\", \"\\\\succapprox\");\ndefineSymbol(math, ams, rel, \"\\u22b3\", \"\\\\vartriangleright\");\ndefineSymbol(math, ams, rel, \"\\u22b5\", \"\\\\trianglerighteq\");\ndefineSymbol(math, ams, rel, \"\\u22a9\", \"\\\\Vdash\");\ndefineSymbol(math, ams, rel, \"\\u2223\", \"\\\\shortmid\");\ndefineSymbol(math, ams, rel, \"\\u2225\", \"\\\\shortparallel\");\ndefineSymbol(math, ams, rel, \"\\u226c\", \"\\\\between\");\ndefineSymbol(math, ams, rel, \"\\u22d4\", \"\\\\pitchfork\");\ndefineSymbol(math, ams, rel, \"\\u221d\", \"\\\\varpropto\");\ndefineSymbol(math, ams, rel, \"\\u25c0\", \"\\\\blacktriangleleft\");\ndefineSymbol(math, ams, rel, \"\\u2234\", \"\\\\therefore\");\ndefineSymbol(math, ams, rel, \"\\u220d\", \"\\\\backepsilon\");\ndefineSymbol(math, ams, rel, \"\\u25b6\", \"\\\\blacktriangleright\");\ndefineSymbol(math, ams, rel, \"\\u2235\", \"\\\\because\");\ndefineSymbol(math, ams, rel, \"\\u22d8\", \"\\\\llless\");\ndefineSymbol(math, ams, rel, \"\\u22d9\", \"\\\\gggtr\");\ndefineSymbol(math, ams, bin, \"\\u22b2\", \"\\\\lhd\");\ndefineSymbol(math, ams, bin, \"\\u22b3\", \"\\\\rhd\");\ndefineSymbol(math, ams, rel, \"\\u2242\", \"\\\\eqsim\");\ndefineSymbol(math, main, rel, \"\\u22c8\", \"\\\\Join\");\ndefineSymbol(math, ams, rel, \"\\u2251\", \"\\\\Doteq\");\n\n// AMS Binary Operators\ndefineSymbol(math, ams, bin, \"\\u2214\", \"\\\\dotplus\");\ndefineSymbol(math, ams, bin, \"\\u2216\", \"\\\\smallsetminus\");\ndefineSymbol(math, ams, bin, \"\\u22d2\", \"\\\\Cap\");\ndefineSymbol(math, ams, bin, \"\\u22d3\", \"\\\\Cup\");\ndefineSymbol(math, ams, bin, \"\\u2a5e\", \"\\\\doublebarwedge\");\ndefineSymbol(math, ams, bin, \"\\u229f\", \"\\\\boxminus\");\ndefineSymbol(math, ams, bin, \"\\u229e\", \"\\\\boxplus\");\ndefineSymbol(math, ams, bin, \"\\u22c7\", \"\\\\divideontimes\");\ndefineSymbol(math, ams, bin, \"\\u22c9\", \"\\\\ltimes\");\ndefineSymbol(math, ams, bin, \"\\u22ca\", \"\\\\rtimes\");\ndefineSymbol(math, ams, bin, \"\\u22cb\", \"\\\\leftthreetimes\");\ndefineSymbol(math, ams, bin, \"\\u22cc\", \"\\\\rightthreetimes\");\ndefineSymbol(math, ams, bin, \"\\u22cf\", \"\\\\curlywedge\");\ndefineSymbol(math, ams, bin, \"\\u22ce\", \"\\\\curlyvee\");\ndefineSymbol(math, ams, bin, \"\\u229d\", \"\\\\circleddash\");\ndefineSymbol(math, ams, bin, \"\\u229b\", \"\\\\circledast\");\ndefineSymbol(math, ams, bin, \"\\u22c5\", \"\\\\centerdot\");\ndefineSymbol(math, ams, bin, \"\\u22ba\", \"\\\\intercal\");\ndefineSymbol(math, ams, bin, \"\\u22d2\", \"\\\\doublecap\");\ndefineSymbol(math, ams, bin, \"\\u22d3\", \"\\\\doublecup\");\ndefineSymbol(math, ams, bin, \"\\u22a0\", \"\\\\boxtimes\");\n\n// AMS Arrows\ndefineSymbol(math, ams, rel, \"\\u21e2\", \"\\\\dashrightarrow\");\ndefineSymbol(math, ams, rel, \"\\u21e0\", \"\\\\dashleftarrow\");\ndefineSymbol(math, ams, rel, \"\\u21c7\", \"\\\\leftleftarrows\");\ndefineSymbol(math, ams, rel, \"\\u21c6\", \"\\\\leftrightarrows\");\ndefineSymbol(math, ams, rel, \"\\u21da\", \"\\\\Lleftarrow\");\ndefineSymbol(math, ams, rel, \"\\u219e\", \"\\\\twoheadleftarrow\");\ndefineSymbol(math, ams, rel, \"\\u21a2\", \"\\\\leftarrowtail\");\ndefineSymbol(math, ams, rel, \"\\u21ab\", \"\\\\looparrowleft\");\ndefineSymbol(math, ams, rel, \"\\u21cb\", \"\\\\leftrightharpoons\");\ndefineSymbol(math, ams, rel, \"\\u21b6\", \"\\\\curvearrowleft\");\ndefineSymbol(math, ams, rel, \"\\u21ba\", \"\\\\circlearrowleft\");\ndefineSymbol(math, ams, rel, \"\\u21b0\", \"\\\\Lsh\");\ndefineSymbol(math, ams, rel, \"\\u21c8\", \"\\\\upuparrows\");\ndefineSymbol(math, ams, rel, \"\\u21bf\", \"\\\\upharpoonleft\");\ndefineSymbol(math, ams, rel, \"\\u21c3\", \"\\\\downharpoonleft\");\ndefineSymbol(math, ams, rel, \"\\u22b8\", \"\\\\multimap\");\ndefineSymbol(math, ams, rel, \"\\u21ad\", \"\\\\leftrightsquigarrow\");\ndefineSymbol(math, ams, rel, \"\\u21c9\", \"\\\\rightrightarrows\");\ndefineSymbol(math, ams, rel, \"\\u21c4\", \"\\\\rightleftarrows\");\ndefineSymbol(math, ams, rel, \"\\u21a0\", \"\\\\twoheadrightarrow\");\ndefineSymbol(math, ams, rel, \"\\u21a3\", \"\\\\rightarrowtail\");\ndefineSymbol(math, ams, rel, \"\\u21ac\", \"\\\\looparrowright\");\ndefineSymbol(math, ams, rel, \"\\u21b7\", \"\\\\curvearrowright\");\ndefineSymbol(math, ams, rel, \"\\u21bb\", \"\\\\circlearrowright\");\ndefineSymbol(math, ams, rel, \"\\u21b1\", \"\\\\Rsh\");\ndefineSymbol(math, ams, rel, \"\\u21ca\", \"\\\\downdownarrows\");\ndefineSymbol(math, ams, rel, \"\\u21be\", \"\\\\upharpoonright\");\ndefineSymbol(math, ams, rel, \"\\u21c2\", \"\\\\downharpoonright\");\ndefineSymbol(math, ams, rel, \"\\u21dd\", \"\\\\rightsquigarrow\");\ndefineSymbol(math, ams, rel, \"\\u21dd\", \"\\\\leadsto\");\ndefineSymbol(math, ams, rel, \"\\u21db\", \"\\\\Rrightarrow\");\ndefineSymbol(math, ams, rel, \"\\u21be\", \"\\\\restriction\");\n\ndefineSymbol(math, main, textord, \"\\u2018\", \"`\");\ndefineSymbol(math, main, textord, \"$\", \"\\\\$\");\ndefineSymbol(text, main, textord, \"$\", \"\\\\$\");\ndefineSymbol(math, main, textord, \"%\", \"\\\\%\");\ndefineSymbol(text, main, textord, \"%\", \"\\\\%\");\ndefineSymbol(math, main, textord, \"_\", \"\\\\_\");\ndefineSymbol(text, main, textord, \"_\", \"\\\\_\");\ndefineSymbol(math, main, textord, \"\\u2220\", \"\\\\angle\");\ndefineSymbol(math, main, textord, \"\\u221e\", \"\\\\infty\");\ndefineSymbol(math, main, textord, \"\\u2032\", \"\\\\prime\");\ndefineSymbol(math, main, textord, \"\\u25b3\", \"\\\\triangle\");\ndefineSymbol(math, main, textord, \"\\u0393\", \"\\\\Gamma\");\ndefineSymbol(math, main, textord, \"\\u0394\", \"\\\\Delta\");\ndefineSymbol(math, main, textord, \"\\u0398\", \"\\\\Theta\");\ndefineSymbol(math, main, textord, \"\\u039b\", \"\\\\Lambda\");\ndefineSymbol(math, main, textord, \"\\u039e\", \"\\\\Xi\");\ndefineSymbol(math, main, textord, \"\\u03a0\", \"\\\\Pi\");\ndefineSymbol(math, main, textord, \"\\u03a3\", \"\\\\Sigma\");\ndefineSymbol(math, main, textord, \"\\u03a5\", \"\\\\Upsilon\");\ndefineSymbol(math, main, textord, \"\\u03a6\", \"\\\\Phi\");\ndefineSymbol(math, main, textord, \"\\u03a8\", \"\\\\Psi\");\ndefineSymbol(math, main, textord, \"\\u03a9\", \"\\\\Omega\");\ndefineSymbol(math, main, textord, \"\\u00ac\", \"\\\\neg\");\ndefineSymbol(math, main, textord, \"\\u00ac\", \"\\\\lnot\");\ndefineSymbol(math, main, textord, \"\\u22a4\", \"\\\\top\");\ndefineSymbol(math, main, textord, \"\\u22a5\", \"\\\\bot\");\ndefineSymbol(math, main, textord, \"\\u2205\", \"\\\\emptyset\");\ndefineSymbol(math, ams, textord, \"\\u2205\", \"\\\\varnothing\");\ndefineSymbol(math, main, mathord, \"\\u03b1\", \"\\\\alpha\");\ndefineSymbol(math, main, mathord, \"\\u03b2\", \"\\\\beta\");\ndefineSymbol(math, main, mathord, \"\\u03b3\", \"\\\\gamma\");\ndefineSymbol(math, main, mathord, \"\\u03b4\", \"\\\\delta\");\ndefineSymbol(math, main, mathord, \"\\u03f5\", \"\\\\epsilon\");\ndefineSymbol(math, main, mathord, \"\\u03b6\", \"\\\\zeta\");\ndefineSymbol(math, main, mathord, \"\\u03b7\", \"\\\\eta\");\ndefineSymbol(math, main, mathord, \"\\u03b8\", \"\\\\theta\");\ndefineSymbol(math, main, mathord, \"\\u03b9\", \"\\\\iota\");\ndefineSymbol(math, main, mathord, \"\\u03ba\", \"\\\\kappa\");\ndefineSymbol(math, main, mathord, \"\\u03bb\", \"\\\\lambda\");\ndefineSymbol(math, main, mathord, \"\\u03bc\", \"\\\\mu\");\ndefineSymbol(math, main, mathord, \"\\u03bd\", \"\\\\nu\");\ndefineSymbol(math, main, mathord, \"\\u03be\", \"\\\\xi\");\ndefineSymbol(math, main, mathord, \"o\", \"\\\\omicron\");\ndefineSymbol(math, main, mathord, \"\\u03c0\", \"\\\\pi\");\ndefineSymbol(math, main, mathord, \"\\u03c1\", \"\\\\rho\");\ndefineSymbol(math, main, mathord, \"\\u03c3\", \"\\\\sigma\");\ndefineSymbol(math, main, mathord, \"\\u03c4\", \"\\\\tau\");\ndefineSymbol(math, main, mathord, \"\\u03c5\", \"\\\\upsilon\");\ndefineSymbol(math, main, mathord, \"\\u03d5\", \"\\\\phi\");\ndefineSymbol(math, main, mathord, \"\\u03c7\", \"\\\\chi\");\ndefineSymbol(math, main, mathord, \"\\u03c8\", \"\\\\psi\");\ndefineSymbol(math, main, mathord, \"\\u03c9\", \"\\\\omega\");\ndefineSymbol(math, main, mathord, \"\\u03b5\", \"\\\\varepsilon\");\ndefineSymbol(math, main, mathord, \"\\u03d1\", \"\\\\vartheta\");\ndefineSymbol(math, main, mathord, \"\\u03d6\", \"\\\\varpi\");\ndefineSymbol(math, main, mathord, \"\\u03f1\", \"\\\\varrho\");\ndefineSymbol(math, main, mathord, \"\\u03c2\", \"\\\\varsigma\");\ndefineSymbol(math, main, mathord, \"\\u03c6\", \"\\\\varphi\");\ndefineSymbol(math, main, bin, \"\\u2217\", \"*\");\ndefineSymbol(math, main, bin, \"+\", \"+\");\ndefineSymbol(math, main, bin, \"\\u2212\", \"-\");\ndefineSymbol(math, main, bin, \"\\u22c5\", \"\\\\cdot\");\ndefineSymbol(math, main, bin, \"\\u2218\", \"\\\\circ\");\ndefineSymbol(math, main, bin, \"\\u00f7\", \"\\\\div\");\ndefineSymbol(math, main, bin, \"\\u00b1\", \"\\\\pm\");\ndefineSymbol(math, main, bin, \"\\u00d7\", \"\\\\times\");\ndefineSymbol(math, main, bin, \"\\u2229\", \"\\\\cap\");\ndefineSymbol(math, main, bin, \"\\u222a\", \"\\\\cup\");\ndefineSymbol(math, main, bin, \"\\u2216\", \"\\\\setminus\");\ndefineSymbol(math, main, bin, \"\\u2227\", \"\\\\land\");\ndefineSymbol(math, main, bin, \"\\u2228\", \"\\\\lor\");\ndefineSymbol(math, main, bin, \"\\u2227\", \"\\\\wedge\");\ndefineSymbol(math, main, bin, \"\\u2228\", \"\\\\vee\");\ndefineSymbol(math, main, textord, \"\\u221a\", \"\\\\surd\");\ndefineSymbol(math, main, open, \"(\", \"(\");\ndefineSymbol(math, main, open, \"[\", \"[\");\ndefineSymbol(math, main, open, \"\\u27e8\", \"\\\\langle\");\ndefineSymbol(math, main, open, \"\\u2223\", \"\\\\lvert\");\ndefineSymbol(math, main, open, \"\\u2225\", \"\\\\lVert\");\ndefineSymbol(math, main, close, \")\", \")\");\ndefineSymbol(math, main, close, \"]\", \"]\");\ndefineSymbol(math, main, close, \"?\", \"?\");\ndefineSymbol(math, main, close, \"!\", \"!\");\ndefineSymbol(math, main, close, \"\\u27e9\", \"\\\\rangle\");\ndefineSymbol(math, main, close, \"\\u2223\", \"\\\\rvert\");\ndefineSymbol(math, main, close, \"\\u2225\", \"\\\\rVert\");\ndefineSymbol(math, main, rel, \"=\", \"=\");\ndefineSymbol(math, main, rel, \"<\", \"<\");\ndefineSymbol(math, main, rel, \">\", \">\");\ndefineSymbol(math, main, rel, \":\", \":\");\ndefineSymbol(math, main, rel, \"\\u2248\", \"\\\\approx\");\ndefineSymbol(math, main, rel, \"\\u2245\", \"\\\\cong\");\ndefineSymbol(math, main, rel, \"\\u2265\", \"\\\\ge\");\ndefineSymbol(math, main, rel, \"\\u2265\", \"\\\\geq\");\ndefineSymbol(math, main, rel, \"\\u2190\", \"\\\\gets\");\ndefineSymbol(math, main, rel, \">\", \"\\\\gt\");\ndefineSymbol(math, main, rel, \"\\u2208\", \"\\\\in\");\ndefineSymbol(math, main, rel, \"\\u2209\", \"\\\\notin\");\ndefineSymbol(math, main, rel, \"\\u2282\", \"\\\\subset\");\ndefineSymbol(math, main, rel, \"\\u2283\", \"\\\\supset\");\ndefineSymbol(math, main, rel, \"\\u2286\", \"\\\\subseteq\");\ndefineSymbol(math, main, rel, \"\\u2287\", \"\\\\supseteq\");\ndefineSymbol(math, ams, rel, \"\\u2288\", \"\\\\nsubseteq\");\ndefineSymbol(math, ams, rel, \"\\u2289\", \"\\\\nsupseteq\");\ndefineSymbol(math, main, rel, \"\\u22a8\", \"\\\\models\");\ndefineSymbol(math, main, rel, \"\\u2190\", \"\\\\leftarrow\");\ndefineSymbol(math, main, rel, \"\\u2264\", \"\\\\le\");\ndefineSymbol(math, main, rel, \"\\u2264\", \"\\\\leq\");\ndefineSymbol(math, main, rel, \"<\", \"\\\\lt\");\ndefineSymbol(math, main, rel, \"\\u2260\", \"\\\\ne\");\ndefineSymbol(math, main, rel, \"\\u2260\", \"\\\\neq\");\ndefineSymbol(math, main, rel, \"\\u2192\", \"\\\\rightarrow\");\ndefineSymbol(math, main, rel, \"\\u2192\", \"\\\\to\");\ndefineSymbol(math, ams, rel, \"\\u2271\", \"\\\\ngeq\");\ndefineSymbol(math, ams, rel, \"\\u2270\", \"\\\\nleq\");\ndefineSymbol(math, main, spacing, null, \"\\\\!\");\ndefineSymbol(math, main, spacing, \"\\u00a0\", \"\\\\ \");\ndefineSymbol(math, main, spacing, \"\\u00a0\", \"~\");\ndefineSymbol(math, main, spacing, null, \"\\\\,\");\ndefineSymbol(math, main, spacing, null, \"\\\\:\");\ndefineSymbol(math, main, spacing, null, \"\\\\;\");\ndefineSymbol(math, main, spacing, null, \"\\\\enspace\");\ndefineSymbol(math, main, spacing, null, \"\\\\qquad\");\ndefineSymbol(math, main, spacing, null, \"\\\\quad\");\ndefineSymbol(math, main, spacing, \"\\u00a0\", \"\\\\space\");\ndefineSymbol(math, main, punct, \",\", \",\");\ndefineSymbol(math, main, punct, \";\", \";\");\ndefineSymbol(math, main, punct, \":\", \"\\\\colon\");\ndefineSymbol(math, ams, bin, \"\\u22bc\", \"\\\\barwedge\");\ndefineSymbol(math, ams, bin, \"\\u22bb\", \"\\\\veebar\");\ndefineSymbol(math, main, bin, \"\\u2299\", \"\\\\odot\");\ndefineSymbol(math, main, bin, \"\\u2295\", \"\\\\oplus\");\ndefineSymbol(math, main, bin, \"\\u2297\", \"\\\\otimes\");\ndefineSymbol(math, main, textord, \"\\u2202\", \"\\\\partial\");\ndefineSymbol(math, main, bin, \"\\u2298\", \"\\\\oslash\");\ndefineSymbol(math, ams, bin, \"\\u229a\", \"\\\\circledcirc\");\ndefineSymbol(math, ams, bin, \"\\u22a1\", \"\\\\boxdot\");\ndefineSymbol(math, main, bin, \"\\u25b3\", \"\\\\bigtriangleup\");\ndefineSymbol(math, main, bin, \"\\u25bd\", \"\\\\bigtriangledown\");\ndefineSymbol(math, main, bin, \"\\u2020\", \"\\\\dagger\");\ndefineSymbol(math, main, bin, \"\\u22c4\", \"\\\\diamond\");\ndefineSymbol(math, main, bin, \"\\u22c6\", \"\\\\star\");\ndefineSymbol(math, main, bin, \"\\u25c3\", \"\\\\triangleleft\");\ndefineSymbol(math, main, bin, \"\\u25b9\", \"\\\\triangleright\");\ndefineSymbol(math, main, open, \"{\", \"\\\\{\");\ndefineSymbol(text, main, textord, \"{\", \"\\\\{\");\ndefineSymbol(math, main, close, \"}\", \"\\\\}\");\ndefineSymbol(text, main, textord, \"}\", \"\\\\}\");\ndefineSymbol(math, main, open, \"{\", \"\\\\lbrace\");\ndefineSymbol(math, main, close, \"}\", \"\\\\rbrace\");\ndefineSymbol(math, main, open, \"[\", \"\\\\lbrack\");\ndefineSymbol(math, main, close, \"]\", \"\\\\rbrack\");\ndefineSymbol(math, main, open, \"\\u230a\", \"\\\\lfloor\");\ndefineSymbol(math, main, close, \"\\u230b\", \"\\\\rfloor\");\ndefineSymbol(math, main, open, \"\\u2308\", \"\\\\lceil\");\ndefineSymbol(math, main, close, \"\\u2309\", \"\\\\rceil\");\ndefineSymbol(math, main, textord, \"\\\\\", \"\\\\backslash\");\ndefineSymbol(math, main, textord, \"\\u2223\", \"|\");\ndefineSymbol(math, main, textord, \"\\u2223\", \"\\\\vert\");\ndefineSymbol(math, main, textord, \"\\u2225\", \"\\\\|\");\ndefineSymbol(math, main, textord, \"\\u2225\", \"\\\\Vert\");\ndefineSymbol(math, main, rel, \"\\u2191\", \"\\\\uparrow\");\ndefineSymbol(math, main, rel, \"\\u21d1\", \"\\\\Uparrow\");\ndefineSymbol(math, main, rel, \"\\u2193\", \"\\\\downarrow\");\ndefineSymbol(math, main, rel, \"\\u21d3\", \"\\\\Downarrow\");\ndefineSymbol(math, main, rel, \"\\u2195\", \"\\\\updownarrow\");\ndefineSymbol(math, main, rel, \"\\u21d5\", \"\\\\Updownarrow\");\ndefineSymbol(math, math, op, \"\\u2210\", \"\\\\coprod\");\ndefineSymbol(math, math, op, \"\\u22c1\", \"\\\\bigvee\");\ndefineSymbol(math, math, op, \"\\u22c0\", \"\\\\bigwedge\");\ndefineSymbol(math, math, op, \"\\u2a04\", \"\\\\biguplus\");\ndefineSymbol(math, math, op, \"\\u22c2\", \"\\\\bigcap\");\ndefineSymbol(math, math, op, \"\\u22c3\", \"\\\\bigcup\");\ndefineSymbol(math, math, op, \"\\u222b\", \"\\\\int\");\ndefineSymbol(math, math, op, \"\\u222b\", \"\\\\intop\");\ndefineSymbol(math, math, op, \"\\u222c\", \"\\\\iint\");\ndefineSymbol(math, math, op, \"\\u222d\", \"\\\\iiint\");\ndefineSymbol(math, math, op, \"\\u220f\", \"\\\\prod\");\ndefineSymbol(math, math, op, \"\\u2211\", \"\\\\sum\");\ndefineSymbol(math, math, op, \"\\u2a02\", \"\\\\bigotimes\");\ndefineSymbol(math, math, op, \"\\u2a01\", \"\\\\bigoplus\");\ndefineSymbol(math, math, op, \"\\u2a00\", \"\\\\bigodot\");\ndefineSymbol(math, math, op, \"\\u222e\", \"\\\\oint\");\ndefineSymbol(math, math, op, \"\\u2a06\", \"\\\\bigsqcup\");\ndefineSymbol(math, math, op, \"\\u222b\", \"\\\\smallint\");\ndefineSymbol(text, main, inner, \"\\u2026\", \"\\\\textellipsis\");\ndefineSymbol(math, main, inner, \"\\u2026\", \"\\\\mathellipsis\");\ndefineSymbol(text, main, inner, \"\\u2026\", \"\\\\ldots\");\ndefineSymbol(math, main, inner, \"\\u2026\", \"\\\\ldots\");\ndefineSymbol(math, main, inner, \"\\u22ef\", \"\\\\cdots\");\ndefineSymbol(math, main, inner, \"\\u22f1\", \"\\\\ddots\");\ndefineSymbol(math, main, textord, \"\\u22ee\", \"\\\\vdots\");\ndefineSymbol(math, main, accent, \"\\u00b4\", \"\\\\acute\");\ndefineSymbol(math, main, accent, \"\\u0060\", \"\\\\grave\");\ndefineSymbol(math, main, accent, \"\\u00a8\", \"\\\\ddot\");\ndefineSymbol(math, main, accent, \"\\u007e\", \"\\\\tilde\");\ndefineSymbol(math, main, accent, \"\\u00af\", \"\\\\bar\");\ndefineSymbol(math, main, accent, \"\\u02d8\", \"\\\\breve\");\ndefineSymbol(math, main, accent, \"\\u02c7\", \"\\\\check\");\ndefineSymbol(math, main, accent, \"\\u005e\", \"\\\\hat\");\ndefineSymbol(math, main, accent, \"\\u20d7\", \"\\\\vec\");\ndefineSymbol(math, main, accent, \"\\u02d9\", \"\\\\dot\");\ndefineSymbol(math, main, mathord, \"\\u0131\", \"\\\\imath\");\ndefineSymbol(math, main, mathord, \"\\u0237\", \"\\\\jmath\");\n\ndefineSymbol(text, main, textord, \"\\u2013\", \"--\");\ndefineSymbol(text, main, textord, \"\\u2014\", \"---\");\ndefineSymbol(text, main, textord, \"\\u2018\", \"`\");\ndefineSymbol(text, main, textord, \"\\u2019\", \"'\");\ndefineSymbol(text, main, textord, \"\\u201c\", \"``\");\ndefineSymbol(text, main, textord, \"\\u201d\", \"''\");\ndefineSymbol(math, main, textord, \"\\u00b0\", \"\\\\degree\");\ndefineSymbol(text, main, textord, \"\\u00b0\", \"\\\\degree\");\ndefineSymbol(math, main, mathord, \"\\u00a3\", \"\\\\pounds\");\ndefineSymbol(math, ams, textord, \"\\u2720\", \"\\\\maltese\");\ndefineSymbol(text, ams, textord, \"\\u2720\", \"\\\\maltese\");\n\ndefineSymbol(text, main, spacing, \"\\u00a0\", \"\\\\ \");\ndefineSymbol(text, main, spacing, \"\\u00a0\", \" \");\ndefineSymbol(text, main, spacing, \"\\u00a0\", \"~\");\n\n// There are lots of symbols which are the same, so we add them in afterwards.\nvar i;\nvar ch;\n\n// All of these are textords in math mode\nvar mathTextSymbols = \"0123456789/@.\\\"\";\nfor (i = 0; i < mathTextSymbols.length; i++) {\n    ch = mathTextSymbols.charAt(i);\n    defineSymbol(math, main, textord, ch, ch);\n}\n\n// All of these are textords in text mode\nvar textSymbols = \"0123456789!@*()-=+[]\\\";:?/.,\";\nfor (i = 0; i < textSymbols.length; i++) {\n    ch = textSymbols.charAt(i);\n    defineSymbol(text, main, textord, ch, ch);\n}\n\n// All of these are textords in text mode, and mathords in math mode\nvar letters = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nfor (i = 0; i < letters.length; i++) {\n    ch = letters.charAt(i);\n    defineSymbol(math, main, mathord, ch, ch);\n    defineSymbol(text, main, textord, ch, ch);\n}\n\n// Latin-1 letters\nfor (i = 0x00C0; i <= 0x00D6; i++) {\n    ch = String.fromCharCode(i);\n    defineSymbol(text, main, textord, ch, ch);\n}\n\nfor (i = 0x00D8; i <= 0x00F6; i++) {\n    ch = String.fromCharCode(i);\n    defineSymbol(text, main, textord, ch, ch);\n}\n\nfor (i = 0x00F8; i <= 0x00FF; i++) {\n    ch = String.fromCharCode(i);\n    defineSymbol(text, main, textord, ch, ch);\n}\n\n// Cyrillic\nfor (i = 0x0410; i <= 0x044F; i++) {\n    ch = String.fromCharCode(i);\n    defineSymbol(text, main, textord, ch, ch);\n}\n\n// Unicode versions of existing characters\ndefineSymbol(text, main, textord, \"\\u2013\", \"–\");\ndefineSymbol(text, main, textord, \"\\u2014\", \"—\");\ndefineSymbol(text, main, textord, \"\\u2018\", \"‘\");\ndefineSymbol(text, main, textord, \"\\u2019\", \"’\");\ndefineSymbol(text, main, textord, \"\\u201c\", \"“\");\ndefineSymbol(text, main, textord, \"\\u201d\", \"”\");\n","var hangulRegex = /[\\uAC00-\\uD7AF]/;\n\n// This regex combines\n// - Hiragana: [\\u3040-\\u309F]\n// - Katakana: [\\u30A0-\\u30FF]\n// - CJK ideograms: [\\u4E00-\\u9FAF]\n// - Hangul syllables: [\\uAC00-\\uD7AF]\n// Notably missing are halfwidth Katakana and Romanji glyphs.\nvar cjkRegex =\n    /[\\u3040-\\u309F]|[\\u30A0-\\u30FF]|[\\u4E00-\\u9FAF]|[\\uAC00-\\uD7AF]/;\n\nmodule.exports = {\n    cjkRegex: cjkRegex,\n    hangulRegex: hangulRegex\n};\n","/**\n * This file contains a list of utility functions which are useful in other\n * files.\n */\n\n/**\n * Provide an `indexOf` function which works in IE8, but defers to native if\n * possible.\n */\nvar nativeIndexOf = Array.prototype.indexOf;\nvar indexOf = function(list, elem) {\n    if (list == null) {\n        return -1;\n    }\n    if (nativeIndexOf && list.indexOf === nativeIndexOf) {\n        return list.indexOf(elem);\n    }\n    var i = 0;\n    var l = list.length;\n    for (; i < l; i++) {\n        if (list[i] === elem) {\n            return i;\n        }\n    }\n    return -1;\n};\n\n/**\n * Return whether an element is contained in a list\n */\nvar contains = function(list, elem) {\n    return indexOf(list, elem) !== -1;\n};\n\n/**\n * Provide a default value if a setting is undefined\n */\nvar deflt = function(setting, defaultIfUndefined) {\n    return setting === undefined ? defaultIfUndefined : setting;\n};\n\n// hyphenate and escape adapted from Facebook's React under Apache 2 license\n\nvar uppercase = /([A-Z])/g;\nvar hyphenate = function(str) {\n    return str.replace(uppercase, \"-$1\").toLowerCase();\n};\n\nvar ESCAPE_LOOKUP = {\n    \"&\": \"&amp;\",\n    \">\": \"&gt;\",\n    \"<\": \"&lt;\",\n    \"\\\"\": \"&quot;\",\n    \"'\": \"&#x27;\"\n};\n\nvar ESCAPE_REGEX = /[&><\"']/g;\n\nfunction escaper(match) {\n    return ESCAPE_LOOKUP[match];\n}\n\n/**\n * Escapes text to prevent scripting attacks.\n *\n * @param {*} text Text value to escape.\n * @return {string} An escaped string.\n */\nfunction escape(text) {\n    return (\"\" + text).replace(ESCAPE_REGEX, escaper);\n}\n\n/**\n * A function to set the text content of a DOM element in all supported\n * browsers. Note that we don't define this if there is no document.\n */\nvar setTextContent;\nif (typeof document !== \"undefined\") {\n    var testNode = document.createElement(\"span\");\n    if (\"textContent\" in testNode) {\n        setTextContent = function(node, text) {\n            node.textContent = text;\n        };\n    } else {\n        setTextContent = function(node, text) {\n            node.innerText = text;\n        };\n    }\n}\n\n/**\n * A function to clear a node.\n */\nfunction clearNode(node) {\n    setTextContent(node, \"\");\n}\n\nmodule.exports = {\n    contains: contains,\n    deflt: deflt,\n    escape: escape,\n    hyphenate: hyphenate,\n    indexOf: indexOf,\n    setTextContent: setTextContent,\n    clearNode: clearNode\n};\n","'use strict';\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\nfunction isString(obj) { return _class(obj) === '[object String]'; }\nfunction isObject(obj) { return _class(obj) === '[object Object]'; }\nfunction isRegExp(obj) { return _class(obj) === '[object RegExp]'; }\nfunction isFunction(obj) { return _class(obj) === '[object Function]'; }\n\n\nfunction escapeRE(str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&'); }\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n};\n\n\nfunction isOptionsObj(obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    return acc || defaultOptions.hasOwnProperty(k);\n  }, false);\n}\n\n\nvar defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http =  new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        );\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'https:':  'http:',\n  'ftp:':    'http:',\n  '//':      {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http =  new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        );\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0; }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0; }\n        return tail.match(self.re.no_http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.mailto) {\n        self.re.mailto =  new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        );\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length;\n      }\n      return 0;\n    }\n  }\n};\n\n/*eslint-disable max-len*/\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\nvar tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nvar tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф'.split('|');\n\n/*eslint-enable max-len*/\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction resetScanCache(self) {\n  self.__index__ = -1;\n  self.__text_cache__   = '';\n}\n\nfunction createValidator(re) {\n  return function (text, pos) {\n    var tail = text.slice(pos);\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length;\n    }\n    return 0;\n  };\n}\n\nfunction createNormalizer() {\n  return function (match, self) {\n    self.normalize(match);\n  };\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile(self) {\n\n  // Load & clone RE patterns.\n  var re = self.re = require('./lib/re')(self.__opts__);\n\n  // Define dynamic patterns\n  var tlds = self.__tlds__.slice();\n\n  self.onCompile();\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re);\n  }\n  tlds.push(re.src_xn);\n\n  re.src_tlds = tlds.join('|');\n\n  function untpl(tpl) { return tpl.replace('%TLDS%', re.src_tlds); }\n\n  re.email_fuzzy      = RegExp(untpl(re.tpl_email_fuzzy), 'i');\n  re.link_fuzzy       = RegExp(untpl(re.tpl_link_fuzzy), 'i');\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');\n  re.host_fuzzy_test  = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');\n\n  //\n  // Compile each schema\n  //\n\n  var aliases = [];\n\n  self.__compiled__ = {}; // Reset compiled data\n\n  function schemaError(name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val);\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    var val = self.__schemas__[name];\n\n    // skip disabled methods\n    if (val === null) { return; }\n\n    var compiled = { validate: null, link: null };\n\n    self.__compiled__[name] = compiled;\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate);\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate;\n      } else {\n        schemaError(name, val);\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize;\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer();\n      } else {\n        schemaError(name, val);\n      }\n\n      return;\n    }\n\n    if (isString(val)) {\n      aliases.push(name);\n      return;\n    }\n\n    schemaError(name, val);\n  });\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return;\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate;\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize;\n  });\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };\n\n  //\n  // Build schema condition\n  //\n  var slist = Object.keys(self.__compiled__)\n                      .filter(function (name) {\n                        // Filter disabled & fake schemas\n                        return name.length > 0 && self.__compiled__[name];\n                      })\n                      .map(escapeRE)\n                      .join('|');\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test   = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');\n  self.re.schema_search = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');\n\n  self.re.pretest = RegExp(\n    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',\n    'i'\n  );\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self);\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match(self, shift) {\n  var start = self.__index__,\n      end   = self.__last_index__,\n      text  = self.__text_cache__.slice(start, end);\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema    = self.__schema__.toLowerCase();\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index     = start + shift;\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift;\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw       = text;\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text      = text;\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url       = text;\n}\n\nfunction createMatch(self, shift) {\n  var match = new Match(self, shift);\n\n  self.__compiled__[match.schema].normalize(match, self);\n\n  return match;\n}\n\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt(schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options);\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas;\n      schemas = {};\n    }\n  }\n\n  this.__opts__           = assign({}, defaultOptions, options);\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__          = -1;\n  this.__last_index__     = -1; // Next scan position\n  this.__schema__         = '';\n  this.__text_cache__     = '';\n\n  this.__schemas__        = assign({}, defaultSchemas, schemas);\n  this.__compiled__       = {};\n\n  this.__tlds__           = tlds_default;\n  this.__tlds_replaced__  = false;\n\n  this.re = {};\n\n  compile(this);\n}\n\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add(schema, definition) {\n  this.__schemas__[schema] = definition;\n  compile(this);\n  return this;\n};\n\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set(options) {\n  this.__opts__ = assign(this.__opts__, options);\n  return this;\n};\n\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) { return false; }\n\n  var m, ml, me, len, shift, next, re, tld_pos, at_pos;\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search;\n    re.lastIndex = 0;\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex);\n      if (len) {\n        this.__schema__     = m[2];\n        this.__index__      = m.index + m[1].length;\n        this.__last_index__ = m.index + m[0].length + len;\n        break;\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test);\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n\n          shift = ml.index + ml[1].length;\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__     = '';\n            this.__index__      = shift;\n            this.__last_index__ = ml.index + ml[0].length;\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@');\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n\n        shift = me.index + me[1].length;\n        next  = me.index + me[0].length;\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__     = 'mailto:';\n          this.__index__      = shift;\n          this.__last_index__ = next;\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0;\n};\n\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest(text) {\n  return this.re.pretest.test(text);\n};\n\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt(text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0;\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this);\n};\n\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match(text) {\n  var shift = 0, result = [];\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift));\n    shift = this.__last_index__;\n  }\n\n  // Cut head if cache was used\n  var tail = shift ? text.slice(shift) : text;\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift));\n\n    tail = tail.slice(this.__last_index__);\n    shift += this.__last_index__;\n  }\n\n  if (result.length) {\n    return result;\n  }\n\n  return null;\n};\n\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds(list, keepOld) {\n  list = Array.isArray(list) ? list : [ list ];\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice();\n    this.__tlds_replaced__ = true;\n    compile(this);\n    return this;\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n                                  .sort()\n                                  .filter(function (el, idx, arr) {\n                                    return el !== arr[idx - 1];\n                                  })\n                                  .reverse();\n\n  compile(this);\n  return this;\n};\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize(match) {\n\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url; }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url;\n  }\n};\n\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile() {\n};\n\n\nmodule.exports = LinkifyIt;\n","'use strict';\n\n\nmodule.exports = function (opts) {\n  var re = {};\n\n  // Use direct extract instead of `regenerate` to reduse browserified size\n  re.src_Any = require('uc.micro/properties/Any/regex').source;\n  re.src_Cc  = require('uc.micro/categories/Cc/regex').source;\n  re.src_Z   = require('uc.micro/categories/Z/regex').source;\n  re.src_P   = require('uc.micro/categories/P/regex').source;\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [ re.src_Z, re.src_P, re.src_Cc ].join('|');\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [ re.src_Z, re.src_Cc ].join('|');\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  var text_separators = '[><\\uff5c]';\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter       = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  ////////////////////////////////////////////////////////////////////////////////\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth    = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?';\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?';\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')(?!-|_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))';\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-]).|' +  // allow `I'm_king` if no pair found\n          '\\\\.{2,4}[a-zA-Z0-9%/]|' + // github has ... in commit range links,\n                                     // google has .... in links (issue #66)\n                                     // Restrict to\n                                     // - english\n                                     // - percent-encoded\n                                     // - parts of file path\n                                     // until more examples found.\n          '\\\\.(?!' + re.src_ZCc + '|[.]).|' +\n          (opts && opts['---'] ?\n            '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n            :\n            '\\\\-+|'\n          ) +\n          '\\\\,(?!' + re.src_ZCc + ').|' +      // allow `,,,` in paths\n          '\\\\!(?!' + re.src_ZCc + '|[!]).|' +\n          '\\\\?(?!' + re.src_ZCc + '|[?]).' +\n        ')+' +\n      '|\\\\/' +\n    ')?';\n\n  // Allow anything in markdown spec, forbid quote (\") at the first position\n  // because emails enclosed in quotes are far more common\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*';\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}';\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')';\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')';\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/*_root*/ + ')' +\n    ')';\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')';\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))';\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator;\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator;\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;\n\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Main rules\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\"|\\\\(|' + re.src_ZCc + ')' +\n      '(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';\n\n  return re;\n};\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n","\"use strict\";\n\nString.prototype.trim = function() {\n  return this.replace(/^\\s+|\\s+$/g, \"\");\n};\n\nvar katex = require('katex');\nvar assign = require(\"lodash.assign\");\nvar defaults = {\n  useKeyword: false\n}\n\nfunction setup(md, options) {\n  if (typeof options === 'undefined') {\n    options = defaults;\n  }\n  var useKeyword = options.useKeyword;\n  console.log(useKeyword);\n\n\n  //var options = assign({}, defaults, options);\n  var defaultRender = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = function (tokens, idx, options, env, self) {\n    var token = tokens[idx];\n\n    if(token.info === \"math\") {\n      return render(token.content, true);\n    }\n\n    if(token.info === \"latex\") {\n      return renderTeX(token.content, true);\n    }\n\n    // pass token to default renderer.\n    return defaultRender(tokens, idx, options, env, self);\n  };\n\n  md.renderer.rules.code_inline = function(tokens, idx, options, env, self) {\n    var token = tokens[idx];\n\n    console.log(useKeyword);\n\n    if(!useKeyword) {\n      console.log(\"1\");\n      return renderInline(token.content.trim(), false);\n    } else {\n      console.log(\"2\");\n      if(token.content.substr(0,4) === \"math\") {\n        return renderInline(token.content.substr(4).trim(), false);\n      } else if(token.content.substr(0,5) === \"latex\") {\n        return renderElement(token.content.substr(5).trim(), false);\n      }\n    }\n\n    return defaultRender(tokens, idx, options, env, self);\n  }\n}\n\nfunction render(str, disp) {\n  // split content\n  var arr = str.trim().split(\"\\n\");\n  var result = \"\";\n\n  // render each line, skipping empty lines\n  for(var i = 0; i < arr.length; i++) {\n    if(arr[i]) {\n      result += \"<p>\" + renderElement(preprocessMath(arr[i]), disp) + \"<p>\";\n    }\n  }\n\n  return result;\n}\n\nfunction renderTeX(str, disp) {\n  // split content\n  var arr = str.trim().split(\"\\n\");\n  var result = \"\";\n\n  // render each line, skipping empty lines\n  for(var i = 0; i < arr.length; i++) {\n    if(arr[i]) {\n      result += \"<p>\" + renderElement(arr[i], disp) + \"<p>\";\n    }\n  }\n\n  return result;\n}\n\nfunction renderInline(str, disp) {\n  return renderElement(preprocessMath(str), disp);\n}\n\nfunction renderElement(str, disp) {\n  return katex.renderToString(str, { displayMode: disp });\n}\n\nfunction preprocessMath(str) {\n  var newstr;\n\n  // correct index-texts\n  newstr = str.replace(/_(.*?)(\\s|$|=|\\(|\\)|\\*|\\/|\\^)/g, '_($1)$2');\n\n  // parse to TeX\n  newstr = AMTparseAMtoTeX(newstr);\n\n  return newstr;\n}\n\nmodule.exports = setup;\n","'use strict';\n\n\nmodule.exports = require('./lib/');\n","// HTML5 entities map: { name -> utf16string }\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = require('entities/lib/maps/entities.json');\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\n\nmodule.exports = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'meta',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n];\n","// Regexps to match html elements\n\n'use strict';\n\nvar attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n\nvar unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nvar single_quoted = \"'[^']*'\";\nvar double_quoted = '\"[^\"]*\"';\n\nvar attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\n\nvar attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\n\nvar open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\n\nvar close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nvar comment     = '<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->';\nvar processing  = '<[?].*?[?]>';\nvar declaration = '<![A-Z]+\\\\s+[^>]*>';\nvar cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\n\nvar HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')');\nvar HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\nmodule.exports.HTML_OPEN_CLOSE_TAG_RE = HTML_OPEN_CLOSE_TAG_RE;\n","// Utilities\n//\n'use strict';\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction isString(obj) { return _class(obj) === '[object String]'; }\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\n\nvar UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~])/g;\nvar ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi;\nvar UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\n\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  }\n\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);\n\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n\n  return match;\n}\n\n/*function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n}*/\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str; }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped; }\n    return replaceEntityPattern(match, entity);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\n\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true; }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/*eslint-disable max-len*/\nvar UNICODE_PUNCT_RE = require('uc.micro/categories/P/regex');\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return UNICODE_PUNCT_RE.test(ch);\n}\n\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ');\n\n  // In node v10 'ẞ'.toLowerCase() === 'Ṿ', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if ('ẞ'.toLowerCase() === 'Ṿ') {\n    str = str.replace(/ẞ/g, 'ß');\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // İ, ϴ, ẞ, Ω, K, Å - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (Θ), U+03f4 (ϴ) and lowercase U+03b8 (θ), U+03d1 (ϑ)\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change ϑ (it's already lowercase),\n  // and .toUpperCase() doesn't change ϴ (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nexports.lib                 = {};\nexports.lib.mdurl           = require('mdurl');\nexports.lib.ucmicro         = require('uc.micro');\n\nexports.assign              = assign;\nexports.isString            = isString;\nexports.has                 = has;\nexports.unescapeMd          = unescapeMd;\nexports.unescapeAll         = unescapeAll;\nexports.isValidEntityCode   = isValidEntityCode;\nexports.fromCodePoint       = fromCodePoint;\n// exports.replaceEntities     = replaceEntities;\nexports.escapeHtml          = escapeHtml;\nexports.arrayReplaceAt      = arrayReplaceAt;\nexports.isSpace             = isSpace;\nexports.isWhiteSpace        = isWhiteSpace;\nexports.isMdAsciiPunct      = isMdAsciiPunct;\nexports.isPunctChar         = isPunctChar;\nexports.escapeRE            = escapeRE;\nexports.normalizeReference  = normalizeReference;\n","// Just a shortcut for bulk export\n'use strict';\n\n\nexports.parseLinkLabel       = require('./parse_link_label');\nexports.parseLinkDestination = require('./parse_link_destination');\nexports.parseLinkTitle       = require('./parse_link_title');\n","// Parse link destination\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkDestination(str, pos, max) {\n  var code, level,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return result; }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break; }\n      level--;\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return result; }\n  if (level !== 0) { return result; }\n\n  result.str = unescapeAll(str.slice(start, pos));\n  result.lines = lines;\n  result.pos = pos;\n  result.ok = true;\n  return result;\n};\n","// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n'use strict';\n\nmodule.exports = function parseLinkLabel(state, start, disableNested) {\n  var level, found, marker, prevPos,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos;\n\n  state.pos = start + 1;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    prevPos = state.pos;\n    state.md.inline.skipToken(state);\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++;\n      } else if (disableNested) {\n        state.pos = oldPos;\n        return -1;\n      }\n    }\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n\n  return labelEnd;\n};\n","// Parse link title\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkTitle(str, pos, max) {\n  var code,\n      marker,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (pos >= max) { return result; }\n\n  marker = str.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return result; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === marker) {\n      result.pos = pos + 1;\n      result.lines = lines;\n      result.str = unescapeAll(str.slice(start + 1, pos));\n      result.ok = true;\n      return result;\n    } else if (code === 0x0A) {\n      lines++;\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++;\n      if (str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n\n    pos++;\n  }\n\n  return result;\n};\n","// Main parser class\n\n'use strict';\n\n\nvar utils        = require('./common/utils');\nvar helpers      = require('./helpers');\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar LinkifyIt    = require('linkify-it');\nvar mdurl        = require('mdurl');\nvar punycode     = require('punycode');\n\n\nvar config = {\n  'default': require('./presets/default'),\n  zero: require('./presets/zero'),\n  commonmark: require('./presets/commonmark')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nvar BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;\nvar GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/;\n\nfunction validateLink(url) {\n  // url should be normalized at this point, and existing entities are decoded\n  var str = url.trim().toLowerCase();\n\n  return BAD_PROTO_RE.test(str) ? (GOOD_DATA_RE.test(str) ? true : false) : true;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar RECODE_HOSTNAME_FOR = [ 'http:', 'https:', 'mailto:' ];\n\nfunction normalizeLink(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.encode(mdurl.format(parsed));\n}\n\nfunction normalizeLinkText(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.decode(mdurl.format(parsed));\n}\n\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.js) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.js) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.js) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.js) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - `“”‘’`, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `'«»„“'` for Russian, `'„“‚‘'` for German, and\n *   `['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(lang, str, true).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre class=\"hljs\"><code>' +\n *                hljs.highlight(lang, str, true).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt(presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options);\n  }\n\n  if (!options) {\n    if (!utils.isString(presetName)) {\n      options = presetName || {};\n      presetName = 'default';\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline();\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock();\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new ParserCore();\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js).\n   **/\n  this.renderer = new Renderer();\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.js)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt();\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink;\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink;\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText;\n\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.js).\n   **/\n  this.utils = utils;\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = utils.assign({}, helpers);\n\n\n  this.options = {};\n  this.configure(presetName);\n\n  if (options) { this.set(options); }\n}\n\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  utils.assign(this.options, options);\n  return this;\n};\n\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you with - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  var self = this, presetName;\n\n  if (utils.isString(presets)) {\n    presetName = presets;\n    presets = config[presetName];\n    if (!presets) { throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name'); }\n  }\n\n  if (!presets) { throw new Error('Wrong `markdown-it` preset, can\\'t be empty'); }\n\n  if (presets.options) { self.set(presets.options); }\n\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules);\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2);\n      }\n    });\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.enable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed);\n  }\n\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.disable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  var args = [ this ].concat(Array.prototype.slice.call(arguments, 1));\n  plugin.apply(plugin, args);\n  return this;\n};\n\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and returns list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String');\n  }\n\n  var state = new this.core.State(src, this, env);\n\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parse(src, env), this.options, env);\n};\n\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  var state = new this.core.State(src, this, env);\n\n  state.inlineMode = true;\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parseInline(src, env), this.options, env);\n};\n\n\nmodule.exports = MarkdownIt;\n","/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\nvar _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph', 'reference' ] ],\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fence',      require('./rules_block/fence'),      [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'reference',  require('./rules_block/reference') ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'html_block', require('./rules_block/html_block'), [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() });\n  }\n}\n\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      line = startLine,\n      hasEmptyLines = false,\n      maxNesting = state.md.options.maxNesting;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) { break; }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break; }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) { break; }\n    }\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  var state;\n\n  if (!src) { return; }\n\n  state = new this.State(src, md, env, outTokens);\n\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n\nParserBlock.prototype.State = require('./rules_block/state_block');\n\n\nmodule.exports = ParserBlock;\n","/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n'use strict';\n\n\nvar Ruler  = require('./ruler');\n\n\nvar _rules = [\n  [ 'normalize',      require('./rules_core/normalize')      ],\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'linkify',        require('./rules_core/linkify')        ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ]\n];\n\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  var i, l, rules;\n\n  rules = this.ruler.getRules('');\n\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\nCore.prototype.State = require('./rules_core/state_core');\n\n\nmodule.exports = Core;\n","/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Parser rules\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').tokenize ],\n  [ 'emphasis',        require('./rules_inline/emphasis').tokenize ],\n  [ 'link',            require('./rules_inline/link') ],\n  [ 'image',           require('./rules_inline/image') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'html_inline',     require('./rules_inline/html_inline') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\nvar _rules2 = [\n  [ 'balance_pairs',   require('./rules_inline/balance_pairs') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').postProcess ],\n  [ 'emphasis',        require('./rules_inline/emphasis').postProcess ],\n  [ 'text_collapse',   require('./rules_inline/text_collapse') ]\n];\n\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  var i;\n\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n\n  for (i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  var ok, i, pos = state.pos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      maxNesting = state.md.options.maxNesting,\n      cache = state.cache;\n\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n\n  if (state.level < maxNesting) {\n    for (i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n\n      if (ok) { break; }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n\n  if (!ok) { state.pos++; }\n  cache[pos] = state.pos;\n};\n\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      end = state.posMax,\n      maxNesting = state.md.options.maxNesting;\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n\n    if (state.level < maxNesting) {\n      for (i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) { break; }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  var i, rules, len;\n  var state = new this.State(str, md, env, outTokens);\n\n  this.tokenize(state);\n\n  rules = this.ruler2.getRules('');\n  len = rules.length;\n\n  for (i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\n\n\nParserInline.prototype.State = require('./rules_inline/state_inline');\n\n\nmodule.exports = ParserInline;\n","// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fence',\n        'heading',\n        'hr',\n        'html_block',\n        'lheading',\n        'list',\n        'reference',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'html_inline',\n        'image',\n        'link',\n        'newline',\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'emphasis',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","// markdown-it default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   100            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n","// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n'use strict';\n\n\nvar assign          = require('./common/utils').assign;\nvar unescapeAll     = require('./common/utils').unescapeAll;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar default_rules = {};\n\n\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<code' + slf.renderAttrs(token) + '>' +\n          escapeHtml(tokens[idx].content) +\n          '</code>';\n};\n\n\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<pre' + slf.renderAttrs(token) + '><code>' +\n          escapeHtml(tokens[idx].content) +\n          '</code></pre>\\n';\n};\n\n\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx],\n      info = token.info ? unescapeAll(token.info).trim() : '',\n      langName = '',\n      highlighted, i, tmpAttrs, tmpToken;\n\n  if (info) {\n    langName = info.split(/\\s+/g)[0];\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n';\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .clone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    i        = token.attrIndex('class');\n    tmpAttrs = token.attrs ? token.attrs.slice() : [];\n\n    if (i < 0) {\n      tmpAttrs.push([ 'class', options.langPrefix + langName ]);\n    } else {\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName;\n    }\n\n    // Fake token just to render attributes\n    tmpToken = {\n      attrs: tmpAttrs\n    };\n\n    return  '<pre><code' + slf.renderAttrs(tmpToken) + '>'\n          + highlighted\n          + '</code></pre>\\n';\n  }\n\n\n  return  '<pre><code' + slf.renderAttrs(token) + '>'\n        + highlighted\n        + '</code></pre>\\n';\n};\n\n\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] =\n    slf.renderInlineAsText(token.children, options, env);\n\n  return slf.renderToken(tokens, idx, options);\n};\n\n\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer() {\n\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules);\n}\n\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs(token) {\n  var i, l, result;\n\n  if (!token.attrs) { return ''; }\n\n  result = '';\n\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"';\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken(tokens, idx, options) {\n  var nextToken,\n      result = '',\n      needLf = false,\n      token = tokens[idx];\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return '';\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n';\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag;\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token);\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /';\n  }\n\n  // Check if we need to add a newline after this tag\n  if (token.block) {\n    needLf = true;\n\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        nextToken = tokens[idx + 1];\n\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false;\n\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false;\n        }\n      }\n    }\n  }\n\n  result += needLf ? '>\\n' : '>';\n\n  return result;\n};\n\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var type,\n      result = '',\n      rules = this.rules;\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options);\n    }\n  }\n\n  return result;\n};\n\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  var result = '';\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    if (tokens[i].type === 'text') {\n      result += tokens[i].content;\n    } else if (tokens[i].type === 'image') {\n      result += this.renderInlineAsText(tokens[i].children, options, env);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  var i, len, type,\n      result = '',\n      rules = this.rules;\n\n  for (i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[tokens[i].type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n\n  return result;\n};\n\nmodule.exports = Renderer;\n","/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n","// Block quotes\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var adjustTab,\n      ch,\n      i,\n      initial,\n      l,\n      lastLineEmpty,\n      lines,\n      nextLine,\n      offset,\n      oldBMarks,\n      oldBSCount,\n      oldIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      spaceAfterMarker,\n      terminate,\n      terminatorRules,\n      token,\n      wasOutdented,\n      oldLineMax = state.lineMax,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip spaces after \">\" and re-calculate offset\n  initial = offset = state.sCount[startLine] + pos - (state.bMarks[startLine] + state.tShift[startLine]);\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n    // ' >   test '\n    //     ^ -- position start of line here:\n    pos++;\n    initial++;\n    offset++;\n    adjustTab = false;\n    spaceAfterMarker = true;\n  } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n    spaceAfterMarker = true;\n\n    if ((state.bsCount[startLine] + offset) % 4 === 3) {\n      // '  >\\t  test '\n      //       ^ -- position start of line here (tab has width===1)\n      pos++;\n      initial++;\n      offset++;\n      adjustTab = false;\n    } else {\n      // ' >\\t  test '\n      //    ^ -- position start of line here + shift bsCount slightly\n      //         to make extra space appear\n      adjustTab = true;\n    }\n  } else {\n    spaceAfterMarker = false;\n  }\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (isSpace(ch)) {\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[startLine] + (adjustTab ? 1 : 0)) % 4;\n      } else {\n        offset++;\n      }\n    } else {\n      break;\n    }\n\n    pos++;\n  }\n\n  oldBSCount = [ state.bsCount[startLine] ];\n  state.bsCount[startLine] = state.sCount[startLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n  lastLineEmpty = pos >= max;\n\n  oldSCount = [ state.sCount[startLine] ];\n  state.sCount[startLine] = offset - initial;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  wasOutdented = false;\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    if (state.sCount[nextLine] < state.blkIndent) wasOutdented = true;\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !wasOutdented) {\n      // This line is inside the blockquote.\n\n      // skip spaces after \">\" and re-calculate offset\n      initial = offset = state.sCount[nextLine] + pos - (state.bMarks[nextLine] + state.tShift[nextLine]);\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        offset++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n\n        if ((state.bsCount[nextLine] + offset) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          offset++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n\n        pos++;\n      }\n\n      lastLineEmpty = pos >= max;\n\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n\n      break;\n    }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  token        = state.push('blockquote_open', 'blockquote', 1);\n  token.markup = '>';\n  token.map    = lines = [ startLine, 0 ];\n\n  state.md.block.tokenize(state, startLine, nextLine);\n\n  token        = state.push('blockquote_close', 'blockquote', -1);\n  token.markup = '>';\n\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last, token;\n\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = last;\n\n  token         = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, true);\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fence(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem, token, markup,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  markup = state.src.slice(mem, pos);\n  params = state.src.slice(pos, max);\n\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false;\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n\n  token         = state.push('fence', 'code', 0);\n  token.info    = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup  = markup;\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// heading (#, ##, ...)\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  token        = state.push('heading_open', 'h' + String(level), 1);\n  token.markup = '########'.slice(0, level);\n  token.map    = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = state.src.slice(pos, max).trim();\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token        = state.push('heading_close', 'h' + String(level), -1);\n  token.markup = '########'.slice(0, level);\n\n  return true;\n};\n","// Horizontal rule\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n\n  token        = state.push('hr', 'hr', 0);\n  token.map    = [ startLine, state.line ];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n\n  return true;\n};\n","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\nvar HTML_OPEN_CLOSE_TAG_RE = require('../common/html_re').HTML_OPEN_CLOSE_TAG_RE;\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nvar HTML_SEQUENCES = [\n  [ /^<(script|pre|style)(?=(\\s|>|$))/i, /<\\/(script|pre|style)>/i, true ],\n  [ /^<!--/,        /-->/,   true ],\n  [ /^<\\?/,         /\\?>/,   true ],\n  [ /^<![A-Z]/,     />/,     true ],\n  [ /^<!\\[CDATA\\[/, /\\]\\]>/, true ],\n  [ new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true ],\n  [ new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false ]\n];\n\n\nmodule.exports = function html_block(state, startLine, endLine, silent) {\n  var i, nextLine, token, lineText,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (!state.md.options.html) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  lineText = state.src.slice(pos, max);\n\n  for (i = 0; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break; }\n  }\n\n  if (i === HTML_SEQUENCES.length) { return false; }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n\n  nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++; }\n        break;\n      }\n    }\n  }\n\n  state.line = nextLine;\n\n  token         = state.push('html_block', '', 0);\n  token.map     = [ startLine, nextLine ];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n\n  return true;\n};\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var content, terminate, i, l, token, pos, max, level, marker,\n      nextLine = startLine + 1, oldParentType,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2);\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine + 1;\n\n  token          = state.push('heading_open', 'h' + String(level), 1);\n  token.markup   = String.fromCharCode(marker);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line - 1 ];\n  token.children = [];\n\n  token          = state.push('heading_close', 'h' + String(level), -1);\n  token.markup   = String.fromCharCode(marker);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// Lists\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max, ch;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      pos = start,\n      max = state.eMarks[startLine];\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1; }\n\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var ch,\n      contentStart,\n      i,\n      indent,\n      indentAfterMarker,\n      initial,\n      isOrdered,\n      itemLines,\n      l,\n      listLines,\n      listTokIdx,\n      markerCharCode,\n      markerValue,\n      max,\n      nextLine,\n      offset,\n      oldListIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      oldTight,\n      pos,\n      posAfterMarker,\n      prevEmptyEnd,\n      start,\n      terminate,\n      terminatorRules,\n      token,\n      isTerminatingParagraph = false,\n      tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 &&\n      state.sCount[startLine] - state.listIndent >= 4 &&\n      state.sCount[startLine] < state.blkIndent) {\n    return false;\n  }\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.tShift[startLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[startLine]) return false;\n  }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [ [ 'start', markerValue ] ];\n    }\n\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1);\n  }\n\n  token.map    = listLines = [ startLine, 0 ];\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.md.block.ruler.getRules('list');\n\n  oldParentType = state.parentType;\n  state.parentType = 'list';\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n\n    initial = offset = state.sCount[nextLine] + posAfterMarker - (state.bMarks[startLine] + state.tShift[startLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    contentStart = pos;\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    token.map    = itemLines = [ startLine, 0 ];\n\n    // change current state, then restore it after parser subcall\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldSCount = state.sCount[startLine];\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    oldListIndent = state.listIndent;\n    state.listIndent = state.blkIndent;\n    state.blkIndent = indent;\n\n    state.tight = true;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.sCount[startLine] = offset;\n\n    if (contentStart >= max && state.isEmpty(startLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, startLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = state.listIndent;\n    state.listIndent = oldListIndent;\n    state.tShift[startLine] = oldTShift;\n    state.sCount[startLine] = oldSCount;\n    state.tight = oldTight;\n\n    token        = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[startLine] - state.blkIndent >= 4) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n\n  listLines[1] = nextLine;\n  state.line = nextLine;\n\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine/*, endLine*/) {\n  var content, terminate, i, l, token, oldParentType,\n      nextLine = startLine + 1,\n      terminatorRules = state.md.block.ruler.getRules('paragraph'),\n      endLine = state.lineMax;\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n\n  token          = state.push('paragraph_open', 'p', 1);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token          = state.push('paragraph_close', 'p', -1);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","'use strict';\n\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function reference(state, startLine, _endLine, silent) {\n  var ch,\n      destEndPos,\n      destEndLineNo,\n      endLine,\n      href,\n      i,\n      l,\n      label,\n      labelEnd,\n      oldParentType,\n      res,\n      start,\n      str,\n      terminate,\n      terminatorRules,\n      title,\n      lines = 0,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine],\n      nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false; }\n\n  // Simple check to quickly interrupt scan on [link](url) at the start of line.\n  // Can be useful on practice: https://github.com/markdown-it/markdown-it/issues/54\n  while (++pos < max) {\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */ &&\n        state.src.charCodeAt(pos - 1) !== 0x5C/* \\ */) {\n      if (pos + 1 === max) { return false; }\n      if (state.src.charCodeAt(pos + 1) !== 0x3A/* : */) { return false; }\n      break;\n    }\n  }\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  terminatorRules = state.md.block.ruler.getRules('reference');\n\n  oldParentType = state.parentType;\n  state.parentType = 'reference';\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  str = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  max = str.length;\n\n  for (pos = 1; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      lines++;\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false; }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  res = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!res.ok) { return false; }\n\n  href = state.md.normalizeLink(res.str);\n  if (!state.md.validateLink(href)) { return false; }\n\n  pos = res.pos;\n  lines += res.lines;\n\n  // save cursor state, we could require to rollback later\n  destEndPos = pos;\n  destEndLineNo = lines;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  res = state.md.helpers.parseLinkTitle(str, pos, max);\n  if (pos < max && start !== pos && res.ok) {\n    title = res.str;\n    pos = res.pos;\n    lines += res.lines;\n  } else {\n    title = '';\n    pos = destEndPos;\n    lines = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n    pos++;\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      lines = destEndLineNo;\n      while (pos < max) {\n        ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /*istanbul ignore if*/\n  if (silent) { return true; }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title: title, href: href };\n  }\n\n  state.parentType = oldParentType;\n\n  state.line = startLine + lines + 1;\n  return true;\n};\n","// Parser state class\n\n'use strict';\n\nvar Token = require('../token');\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction StateBlock(src, md, env, tokens) {\n  var ch, s, start, pos, len, indent, offset, indent_found;\n\n  this.src = src;\n\n  // link to parser instance\n  this.md     = md;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = [];  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent (for example, if we are\n                       // inside a list, it would be positioned after list marker)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1; // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent_found = false;\n\n  for (start = pos = indent = offset = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  var token = new Token(type, tag, nesting);\n  token.block = true;\n\n  if (nesting < 0) this.level--; // closing tag\n  token.level = this.level;\n  if (nesting > 0) this.level++; // opening tag\n\n  this.tokens.push(token);\n  return token;\n};\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  var ch;\n\n  for (var max = this.src.length; pos < max; pos++) {\n    ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, lineIndent, ch, first, last, queue, lineStart,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    lineIndent = 0;\n    lineStart = first = this.bMarks[line];\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    while (first < last && lineIndent < indent) {\n      ch = this.src.charCodeAt(first);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n\n      first++;\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n\nmodule.exports = StateBlock;\n","// GFM table, non-standard\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nfunction escapedSplit(str) {\n  var result = [],\n      pos = 0,\n      max = str.length,\n      ch,\n      escapes = 0,\n      lastPos = 0,\n      backTicked = false,\n      lastBackTick = 0;\n\n  ch  = str.charCodeAt(pos);\n\n  while (pos < max) {\n    if (ch === 0x60/* ` */) {\n      if (backTicked) {\n        // make \\` close code sequence, but not open it;\n        // the reason is: `\\` is correct code block\n        backTicked = false;\n        lastBackTick = pos;\n      } else if (escapes % 2 === 0) {\n        backTicked = true;\n        lastBackTick = pos;\n      }\n    } else if (ch === 0x7c/* | */ && (escapes % 2 === 0) && !backTicked) {\n      result.push(str.substring(lastPos, pos));\n      lastPos = pos + 1;\n    }\n\n    if (ch === 0x5c/* \\ */) {\n      escapes++;\n    } else {\n      escapes = 0;\n    }\n\n    pos++;\n\n    // If there was an un-closed backtick, go back to just after\n    // the last backtick, but as if it was a normal character\n    if (pos === max && backTicked) {\n      backTicked = false;\n      pos = lastBackTick + 1;\n    }\n\n    ch = str.charCodeAt(pos);\n  }\n\n  result.push(str.substring(lastPos));\n\n  return result;\n}\n\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, columns, columnCount, token,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false; }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos++);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  while (pos < state.eMarks[nextLine]) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false; }\n\n    pos++;\n  }\n\n  lineText = getLine(state, startLine + 1);\n\n  columns = lineText.split('|');\n  aligns = [];\n  for (i = 0; i < columns.length; i++) {\n    t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n  columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n  // header row will define an amount of columns in the entire table,\n  // and align row shouldn't be smaller than that (the rest of the rows can)\n  columnCount = columns.length;\n  if (columnCount > aligns.length) { return false; }\n\n  if (silent) { return true; }\n\n  token     = state.push('table_open', 'table', 1);\n  token.map = tableLines = [ startLine, 0 ];\n\n  token     = state.push('thead_open', 'thead', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  token     = state.push('tr_open', 'tr', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  for (i = 0; i < columns.length; i++) {\n    token          = state.push('th_open', 'th', 1);\n    token.map      = [ startLine, startLine + 1 ];\n    if (aligns[i]) {\n      token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n    }\n\n    token          = state.push('inline', '', 0);\n    token.content  = columns[i].trim();\n    token.map      = [ startLine, startLine + 1 ];\n    token.children = [];\n\n    token          = state.push('th_close', 'th', -1);\n  }\n\n  token     = state.push('tr_close', 'tr', -1);\n  token     = state.push('thead_close', 'thead', -1);\n\n  token     = state.push('tbody_open', 'tbody', 1);\n  token.map = tbodyLines = [ startLine + 2, 0 ];\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n    columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n    token = state.push('tr_open', 'tr', 1);\n    for (i = 0; i < columnCount; i++) {\n      token          = state.push('td_open', 'td', 1);\n      if (aligns[i]) {\n        token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n      }\n\n      token          = state.push('inline', '', 0);\n      token.content  = columns[i] ? columns[i].trim() : '';\n      token.children = [];\n\n      token          = state.push('td_close', 'td', -1);\n    }\n    token = state.push('tr_close', 'tr', -1);\n  }\n  token = state.push('tbody_close', 'tbody', -1);\n  token = state.push('table_close', 'table', -1);\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n};\n","'use strict';\n\n\nmodule.exports = function block(state) {\n  var token;\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0);\n    token.content  = state.src;\n    token.map      = [ 0, 1 ];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n};\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar arrayReplaceAt = require('../common/utils').arrayReplaceAt;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, currentToken, nodes, ln, text, pos, lastPos,\n      level, htmlLinkLevel, url, fullUrl, urlText,\n      blockTokens = state.tokens,\n      links;\n\n  if (!state.md.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n\n        text = currentToken.content;\n        links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        nodes = [];\n        level = currentToken.level;\n        lastPos = 0;\n\n        for (ln = 0; ln < links.length; ln++) {\n\n          url = links[ln].url;\n          fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) { continue; }\n\n          urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n\n          pos = links[ln].index;\n\n          if (pos > lastPos) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level   = level;\n            nodes.push(token);\n          }\n\n          token         = new state.Token('link_open', 'a', 1);\n          token.attrs   = [ [ 'href', fullUrl ] ];\n          token.level   = level++;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = urlText;\n          token.level   = level;\n          nodes.push(token);\n\n          token         = new state.Token('link_close', 'a', -1);\n          token.level   = --level;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level   = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n};\n","// Normalize input string\n\n'use strict';\n\n\n// https://spec.commonmark.org/0.29/#line-ending\nvar NEWLINES_RE  = /\\r\\n?|\\n/g;\nvar NULL_RE      = /\\0/g;\n\n\nmodule.exports = function normalize(state) {\n  var str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n\n  state.src = str;\n};\n","// Simple typographic replacements\n//\n// (c) (C) → ©\n// (tm) (TM) → ™\n// (r) (R) → ®\n// +- → ±\n// (p) (P) -> §\n// ... → … (also ?.... → ?.., !.... → !..)\n// ???????? → ???, !!!!! → !!!, `,,` → `,`\n// -- → &ndash;, --- → &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - miltiplication 2 x 4 -> 2 × 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r|p)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '©',\n  r: '®',\n  p: '§',\n  tm: '™'\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n          .replace(/\\+-/g, '±')\n          // .., ..., ....... -> …\n          // but ?..... & !..... -> ?.. & !..\n          .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..')\n          .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n          // em-dash\n          .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n          // en-dash\n          .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n          .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar APOSTROPHE = '\\u2019'; /* ’ */\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\nfunction process_inlines(tokens, state) {\n  var i, token, text, t, pos, max, thisLevel, item, lastChar, nextChar,\n      isLastPunctChar, isNextPunctChar, isLastWhiteSpace, isNextWhiteSpace,\n      canOpen, canClose, j, isSingle, stack, openQuote, closeQuote;\n\n  stack = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    thisLevel = tokens[i].level;\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break; }\n    }\n    stack.length = j + 1;\n\n    if (token.type !== 'text') { continue; }\n\n    text = token.content;\n    pos = 0;\n    max = text.length;\n\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      t = QUOTE_RE.exec(text);\n      if (!t) { break; }\n\n      canOpen = canClose = true;\n      pos = t.index + 1;\n      isSingle = (t[0] === \"'\");\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      lastChar = 0x20;\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (tokens[j].type !== 'text') continue;\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      nextChar = 0x20;\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (tokens[j].type !== 'text') continue;\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n\n      isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n      isLastWhiteSpace = isWhiteSpace(lastChar);\n      isNextWhiteSpace = isWhiteSpace(nextChar);\n\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n\n      if (canOpen && canClose) {\n        // treat this as the middle of the word\n        canOpen = false;\n        canClose = isNextPunctChar;\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          item = stack[j];\n          if (stack[j].level < thisLevel) { break; }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote);\n\n            pos += closeQuote.length - 1;\n            if (item.token === i) { pos += openQuote.length - 1; }\n\n            text = token.content;\n            max = text.length;\n\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n};\n","// Core state object\n//\n'use strict';\n\nvar Token = require('../token');\n\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n\nmodule.exports = StateCore;\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)>/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, token,\n      pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  if (AUTOLINK_RE.test(tail)) {\n    linkMatch = tail.match(AUTOLINK_RE);\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  if (EMAIL_RE.test(tail)) {\n    emailMatch = tail.match(EMAIL_RE);\n\n    url = emailMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n};\n","// Parse backticks\n\n'use strict';\n\nmodule.exports = function backtick(state, silent) {\n  var start, max, marker, matchStart, matchEnd, token,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        token         = state.push('code_inline', 'code', 0);\n        token.markup  = marker;\n        token.content = state.src.slice(pos, matchStart)\n          .replace(/\\n/g, ' ')\n          .replace(/^ (.+) $/, '$1');\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n};\n","// For each opening emphasis-like marker find a matching closing one\n//\n'use strict';\n\n\nfunction processDelimiters(state, delimiters) {\n  var closerIdx, openerIdx, closer, opener, minOpenerIdx, newMinOpenerIdx,\n      isOddMatch, lastJump,\n      openersBottom = {},\n      max = delimiters.length;\n\n  for (closerIdx = 0; closerIdx < max; closerIdx++) {\n    closer = delimiters[closerIdx];\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0;\n\n    if (!closer.close) continue;\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker and each delimiter length modulo 3.\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [ -1, -1, -1 ];\n    }\n\n    minOpenerIdx = openersBottom[closer.marker][closer.length % 3];\n    newMinOpenerIdx = -1;\n\n    openerIdx = closerIdx - closer.jump - 1;\n\n    for (; openerIdx > minOpenerIdx; openerIdx -= opener.jump + 1) {\n      opener = delimiters[openerIdx];\n\n      if (opener.marker !== closer.marker) continue;\n\n      if (newMinOpenerIdx === -1) newMinOpenerIdx = openerIdx;\n\n      if (opener.open &&\n          opener.end < 0 &&\n          opener.level === closer.level) {\n\n        isOddMatch = false;\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true;\n            }\n          }\n        }\n\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ?\n            delimiters[openerIdx - 1].jump + 1 :\n            0;\n\n          closer.jump  = closerIdx - openerIdx + lastJump;\n          closer.open  = false;\n          opener.end   = closerIdx;\n          opener.jump  = lastJump;\n          opener.close = false;\n          newMinOpenerIdx = -1;\n          break;\n        }\n      }\n    }\n\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.length || 0) % 3] = newMinOpenerIdx;\n    }\n  }\n}\n\n\nmodule.exports = function link_pairs(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  processDelimiters(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process *this* and _that_\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function emphasis(state, silent) {\n  var i, scanned, token,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false; }\n\n  scanned = state.scanDelims(state.pos, marker === 0x2A);\n\n  for (i = 0; i < scanned.length; i++) {\n    token         = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker: marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // An amount of characters before this one that's equivalent to\n      // current one. In plain English: if this delimiter does not open\n      // an emphasis, neither do previous `jump` characters.\n      //\n      // Used to skip sequences like \"*****\" in one step, for 1st asterisk\n      // value will be 0, for 2nd it's 1 and so on.\n      //\n      jump:   i,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token:  state.tokens.length - 1,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end:    -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i,\n      startDelim,\n      endDelim,\n      token,\n      ch,\n      isStrong,\n      max = delimiters.length;\n\n  for (i = max - 1; i >= 0; i--) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               delimiters[startDelim.end + 1].token === endDelim.token + 1 &&\n               delimiters[i - 1].marker === startDelim.marker;\n\n    ch = String.fromCharCode(startDelim.marker);\n\n    token         = state.tokens[startDelim.token];\n    token.type    = isStrong ? 'strong_open' : 'em_open';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = 1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = isStrong ? 'strong_close' : 'em_close';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = -1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function emphasis(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) { state.pending += entities[match[1]]; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n};\n","// Process escaped chars and hardbreaks\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push('hardbreak', 'br', 0);\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n};\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function html_inline(state, silent) {\n  var ch, match, max, token,\n      pos = state.pos;\n\n  if (!state.md.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    token         = state.push('html_inline', '', 0);\n    token.content = state.src.slice(pos, pos + match[0].length);\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","// Process ![image](<src> \"title\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function image(state, silent) {\n  var attrs,\n      code,\n      content,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      ref,\n      res,\n      title,\n      token,\n      tokens,\n      start,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false; }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 2;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens = []\n    );\n\n    token          = state.push('image', 'img', 0);\n    token.attrs    = attrs = [ [ 'src', href ], [ 'alt', '' ] ];\n    token.children = tokens;\n    token.content  = content;\n\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process [link](<to> \"stuff\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function link(state, silent) {\n  var attrs,\n      code,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      res,\n      ref,\n      title,\n      token,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      parseReference = true;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token        = state.push('link_open', 'a', 1);\n    token.attrs  = attrs = [ [ 'href', href ] ];\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n\n    state.md.inline.tokenize(state);\n\n    token        = state.push('link_close', 'a', -1);\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Proceess '\\n'\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        state.pending = state.pending.replace(/ +$/, '');\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// Inline parser state\n\n'use strict';\n\n\nvar Token          = require('../token');\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n  this.tokens_meta = Array(outTokens.length);\n\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {};\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = [];\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = [];\n}\n\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  var token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  var token = new Token(type, tag, nesting);\n  var token_meta = null;\n\n  if (nesting < 0) {\n    // closing tag\n    this.level--;\n    this.delimiters = this._prev_delimiters.pop();\n  }\n\n  token.level = this.level;\n\n  if (nesting > 0) {\n    // opening tag\n    this.level++;\n    this._prev_delimiters.push(this.delimiters);\n    this.delimiters = [];\n    token_meta = { delimiters: this.delimiters };\n  }\n\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  this.tokens_meta.push(token_meta);\n  return token;\n};\n\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  var pos = start, lastChar, nextChar, count, can_open, can_close,\n      isLastWhiteSpace, isLastPunctChar,\n      isNextWhiteSpace, isNextPunctChar,\n      left_flanking = true,\n      right_flanking = true,\n      max = this.posMax,\n      marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++; }\n\n  count = pos - start;\n\n  // treat end of the line as a whitespace\n  nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n\n  isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n  isLastWhiteSpace = isWhiteSpace(lastChar);\n  isNextWhiteSpace = isWhiteSpace(nextChar);\n\n  if (isNextWhiteSpace) {\n    left_flanking = false;\n  } else if (isNextPunctChar) {\n    if (!(isLastWhiteSpace || isLastPunctChar)) {\n      left_flanking = false;\n    }\n  }\n\n  if (isLastWhiteSpace) {\n    right_flanking = false;\n  } else if (isLastPunctChar) {\n    if (!(isNextWhiteSpace || isNextPunctChar)) {\n      right_flanking = false;\n    }\n  }\n\n  if (!canSplitWord) {\n    can_open  = left_flanking  && (!right_flanking || isLastPunctChar);\n    can_close = right_flanking && (!left_flanking  || isNextPunctChar);\n  } else {\n    can_open  = left_flanking;\n    can_close = right_flanking;\n  }\n\n  return {\n    can_open:  can_open,\n    can_close: can_close,\n    length:    count\n  };\n};\n\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n\nmodule.exports = StateInline;\n","// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      length: 0, // disable \"rule of 3\" length checks meant for emphasis\n      jump:   i,\n      token:  state.tokens.length - 1,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParcerInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n};*/\n","// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n'use strict';\n\n\nmodule.exports = function text_collapse(state) {\n  var curr, last,\n      level = 0,\n      tokens = state.tokens,\n      max = state.tokens.length;\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level--; // closing tag\n    tokens[curr].level = level;\n    if (tokens[curr].nesting > 0) level++; // opening tag\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr]; }\n\n      last++;\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last;\n  }\n};\n","// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * fence infostring\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n","function getRelocatable(re) {\n  // In the future, this could use a WeakMap instead of an expando.\n  if (!re.__matchAtRelocatable) {\n    // Disjunctions are the lowest-precedence operator, so we can make any\n    // pattern match the empty string by appending `|()` to it:\n    // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-patterns\n    var source = re.source + '|()';\n\n    // We always make the new regex global.\n    var flags = 'g' + (re.ignoreCase ? 'i' : '') + (re.multiline ? 'm' : '') + (re.unicode ? 'u' : '')\n    // sticky (/.../y) doesn't make sense in conjunction with our relocation\n    // logic, so we ignore it here.\n    ;\n\n    re.__matchAtRelocatable = new RegExp(source, flags);\n  }\n  return re.__matchAtRelocatable;\n}\n\nfunction matchAt(re, str, pos) {\n  if (re.global || re.sticky) {\n    throw new Error('matchAt(...): Only non-global regexes are supported');\n  }\n  var reloc = getRelocatable(re);\n  reloc.lastIndex = pos;\n  var match = reloc.exec(str);\n  // Last capturing group is our sentinel that indicates whether the regex\n  // matched at the given location.\n  if (match[match.length - 1] == null) {\n    // Original regex matched.\n    match.length = match.length - 1;\n    return match;\n  } else {\n    return null;\n  }\n}\n\nmodule.exports = matchAt;","\n'use strict';\n\n\n/* eslint-disable no-bitwise */\n\nvar decodeCache = {};\n\nfunction getDecodeCache(exclude) {\n  var i, ch, cache = decodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = decodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n    cache.push(ch);\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    ch = exclude.charCodeAt(i);\n    cache[ch] = '%' + ('0' + ch.toString(16).toUpperCase()).slice(-2);\n  }\n\n  return cache;\n}\n\n\n// Decode percent-encoded string.\n//\nfunction decode(string, exclude) {\n  var cache;\n\n  if (typeof exclude !== 'string') {\n    exclude = decode.defaultChars;\n  }\n\n  cache = getDecodeCache(exclude);\n\n  return string.replace(/(%[a-f0-9]{2})+/gi, function(seq) {\n    var i, l, b1, b2, b3, b4, chr,\n        result = '';\n\n    for (i = 0, l = seq.length; i < l; i += 3) {\n      b1 = parseInt(seq.slice(i + 1, i + 3), 16);\n\n      if (b1 < 0x80) {\n        result += cache[b1];\n        continue;\n      }\n\n      if ((b1 & 0xE0) === 0xC0 && (i + 3 < l)) {\n        // 110xxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n\n        if ((b2 & 0xC0) === 0x80) {\n          chr = ((b1 << 6) & 0x7C0) | (b2 & 0x3F);\n\n          if (chr < 0x80) {\n            result += '\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 3;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF0) === 0xE0 && (i + 6 < l)) {\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n          chr = ((b1 << 12) & 0xF000) | ((b2 << 6) & 0xFC0) | (b3 & 0x3F);\n\n          if (chr < 0x800 || (chr >= 0xD800 && chr <= 0xDFFF)) {\n            result += '\\ufffd\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 6;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF8) === 0xF0 && (i + 9 < l)) {\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n        b4 = parseInt(seq.slice(i + 10, i + 12), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80 && (b4 & 0xC0) === 0x80) {\n          chr = ((b1 << 18) & 0x1C0000) | ((b2 << 12) & 0x3F000) | ((b3 << 6) & 0xFC0) | (b4 & 0x3F);\n\n          if (chr < 0x10000 || chr > 0x10FFFF) {\n            result += '\\ufffd\\ufffd\\ufffd\\ufffd';\n          } else {\n            chr -= 0x10000;\n            result += String.fromCharCode(0xD800 + (chr >> 10), 0xDC00 + (chr & 0x3FF));\n          }\n\n          i += 9;\n          continue;\n        }\n      }\n\n      result += '\\ufffd';\n    }\n\n    return result;\n  });\n}\n\n\ndecode.defaultChars   = ';/?:@&=+$,#';\ndecode.componentChars = '';\n\n\nmodule.exports = decode;\n","\n'use strict';\n\n\nvar encodeCache = {};\n\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache(exclude) {\n  var i, ch, cache = encodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = encodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache;\n}\n\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode(string, exclude, keepEscaped) {\n  var i, l, code, nextCode, cache,\n      result = '';\n\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped  = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  cache = getEncodeCache(exclude);\n\n  for (i = 0, l = string.length; i < l; i++) {\n    code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue;\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue;\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue;\n        }\n      }\n      result += '%EF%BF%BD';\n      continue;\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result;\n}\n\nencode.defaultChars   = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\n\nmodule.exports = encode;\n","\n'use strict';\n\n\nmodule.exports = function format(url) {\n  var result = '';\n\n  result += url.protocol || '';\n  result += url.slashes ? '//' : '';\n  result += url.auth ? url.auth + '@' : '';\n\n  if (url.hostname && url.hostname.indexOf(':') !== -1) {\n    // ipv6 address\n    result += '[' + url.hostname + ']';\n  } else {\n    result += url.hostname || '';\n  }\n\n  result += url.port ? ':' + url.port : '';\n  result += url.pathname || '';\n  result += url.search || '';\n  result += url.hash || '';\n\n  return result;\n};\n","'use strict';\n\n\nmodule.exports.encode = require('./encode');\nmodule.exports.decode = require('./decode');\nmodule.exports.format = require('./format');\nmodule.exports.parse  = require('./parse');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n//\n// Changes from joyent/node:\n//\n// 1. No leading slash in paths,\n//    e.g. in `url.parse('http://foo?bar')` pathname is ``, not `/`\n//\n// 2. Backslashes are not replaced with slashes,\n//    so `http:\\\\example.org\\` is treated like a relative path\n//\n// 3. Trailing colon is treated like a part of the path,\n//    i.e. in `http://example.org:foo` pathname is `:foo`\n//\n// 4. Nothing is URL-encoded in the resulting object,\n//    (in joyent/node some chars in auth and paths are encoded)\n//\n// 5. `url.parse()` does not have `parseQueryString` argument\n//\n// 6. Removed extraneous result properties: `host`, `path`, `query`, etc.,\n//    which can be constructed using other parts of the url.\n//\n\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.pathname = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = [ '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t' ],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = [ '{', '}', '|', '\\\\', '^', '`' ].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = [ '\\'' ].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = [ '%', '/', '?', ';', '#' ].concat(autoEscape),\n    hostEndingChars = [ '/', '?', '#' ],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    /* eslint-disable no-script-url */\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    };\n    /* eslint-enable no-script-url */\n\nfunction urlParse(url, slashesDenoteHost) {\n  if (url && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, slashesDenoteHost) {\n  var i, l, lowerProto, hec, slashes,\n      rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    lowerProto = proto.toLowerCase();\n    this.protocol = proto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = auth;\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) {\n      hostEnd = rest.length;\n    }\n\n    if (rest[hostEnd - 1] === ':') { hostEnd--; }\n    var host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost(host);\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    }\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    rest = rest.slice(0, qm);\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '';\n  }\n\n  return this;\n};\n\nUrl.prototype.parseHost = function(host) {\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nmodule.exports = urlParse;\n","/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.2\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var textarea;\n\nfunction decodeEntity(name) {\n  textarea = textarea || document.createElement('textarea');\n  textarea.innerHTML = '&' + name;\n  return textarea.value;\n}\n\n/**\n * Utility functions\n */\n\nfunction typeOf(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nfunction isString(obj) {\n  return typeOf(obj) === '[object String]';\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return object\n    ? hasOwn.call(object, key)\n    : false;\n}\n\n// Extend objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = [].slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar UNESCAPE_MD_RE = /\\\\([\\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\nvar NAMED_ENTITY_RE   = /&([a-z#][a-z0-9]{1,31});/gi;\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n  var decoded = decodeEntity(name);\n\n  if (name !== decoded) {\n    return decoded;\n  } else if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16)\n    :\n      parseInt(name.slice(1), 10);\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n  return match;\n}\n\nfunction replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(NAMED_ENTITY_RE, replaceEntityPattern);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\nvar utils = /*#__PURE__*/Object.freeze({\n  isString: isString,\n  has: has,\n  assign: assign,\n  unescapeMd: unescapeMd,\n  isValidEntityCode: isValidEntityCode,\n  fromCodePoint: fromCodePoint,\n  replaceEntities: replaceEntities,\n  escapeHtml: escapeHtml\n});\n\n/**\n * Renderer rules cache\n */\n\nvar rules = {};\n\n/**\n * Blockquotes\n */\n\nrules.blockquote_open = function(/* tokens, idx, options, env */) {\n  return '<blockquote>\\n';\n};\n\nrules.blockquote_close = function(tokens, idx /*, options, env */) {\n  return '</blockquote>' + getBreak(tokens, idx);\n};\n\n/**\n * Code\n */\n\nrules.code = function(tokens, idx /*, options, env */) {\n  if (tokens[idx].block) {\n    return '<pre><code>' + escapeHtml(tokens[idx].content) + '</code></pre>' + getBreak(tokens, idx);\n  }\n  return '<code>' + escapeHtml(tokens[idx].content) + '</code>';\n};\n\n/**\n * Fenced code blocks\n */\n\nrules.fence = function(tokens, idx, options, env, instance) {\n  var token = tokens[idx];\n  var langClass = '';\n  var langPrefix = options.langPrefix;\n  var langName = '', fences, fenceName;\n  var highlighted;\n\n  if (token.params) {\n\n    //\n    // ```foo bar\n    //\n    // Try custom renderer \"foo\" first. That will simplify overwrite\n    // for diagrams, latex, and any other fenced block with custom look\n    //\n\n    fences = token.params.split(/\\s+/g);\n    fenceName = fences.join(' ');\n\n    if (has(instance.rules.fence_custom, fences[0])) {\n      return instance.rules.fence_custom[fences[0]](tokens, idx, options, env, instance);\n    }\n\n    langName = escapeHtml(replaceEntities(unescapeMd(fenceName)));\n    langClass = ' class=\"' + langPrefix + langName + '\"';\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight.apply(options.highlight, [ token.content ].concat(fences))\n      || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  return '<pre><code' + langClass + '>'\n        + highlighted\n        + '</code></pre>'\n        + getBreak(tokens, idx);\n};\n\nrules.fence_custom = {};\n\n/**\n * Headings\n */\n\nrules.heading_open = function(tokens, idx /*, options, env */) {\n  return '<h' + tokens[idx].hLevel + '>';\n};\nrules.heading_close = function(tokens, idx /*, options, env */) {\n  return '</h' + tokens[idx].hLevel + '>\\n';\n};\n\n/**\n * Horizontal rules\n */\n\nrules.hr = function(tokens, idx, options /*, env */) {\n  return (options.xhtmlOut ? '<hr />' : '<hr>') + getBreak(tokens, idx);\n};\n\n/**\n * Bullets\n */\n\nrules.bullet_list_open = function(/* tokens, idx, options, env */) {\n  return '<ul>\\n';\n};\nrules.bullet_list_close = function(tokens, idx /*, options, env */) {\n  return '</ul>' + getBreak(tokens, idx);\n};\n\n/**\n * List items\n */\n\nrules.list_item_open = function(/* tokens, idx, options, env */) {\n  return '<li>';\n};\nrules.list_item_close = function(/* tokens, idx, options, env */) {\n  return '</li>\\n';\n};\n\n/**\n * Ordered list items\n */\n\nrules.ordered_list_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  var order = token.order > 1 ? ' start=\"' + token.order + '\"' : '';\n  return '<ol' + order + '>\\n';\n};\nrules.ordered_list_close = function(tokens, idx /*, options, env */) {\n  return '</ol>' + getBreak(tokens, idx);\n};\n\n/**\n * Paragraphs\n */\n\nrules.paragraph_open = function(tokens, idx /*, options, env */) {\n  return tokens[idx].tight ? '' : '<p>';\n};\nrules.paragraph_close = function(tokens, idx /*, options, env */) {\n  var addBreak = !(tokens[idx].tight && idx && tokens[idx - 1].type === 'inline' && !tokens[idx - 1].content);\n  return (tokens[idx].tight ? '' : '</p>') + (addBreak ? getBreak(tokens, idx) : '');\n};\n\n/**\n * Links\n */\n\nrules.link_open = function(tokens, idx, options /* env */) {\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var target = options.linkTarget ? (' target=\"' + options.linkTarget + '\"') : '';\n  return '<a href=\"' + escapeHtml(tokens[idx].href) + '\"' + title + target + '>';\n};\nrules.link_close = function(/* tokens, idx, options, env */) {\n  return '</a>';\n};\n\n/**\n * Images\n */\n\nrules.image = function(tokens, idx, options /*, env */) {\n  var src = ' src=\"' + escapeHtml(tokens[idx].src) + '\"';\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var alt = ' alt=\"' + (tokens[idx].alt ? escapeHtml(replaceEntities(unescapeMd(tokens[idx].alt))) : '') + '\"';\n  var suffix = options.xhtmlOut ? ' /' : '';\n  return '<img' + src + alt + title + suffix + '>';\n};\n\n/**\n * Tables\n */\n\nrules.table_open = function(/* tokens, idx, options, env */) {\n  return '<table>\\n';\n};\nrules.table_close = function(/* tokens, idx, options, env */) {\n  return '</table>\\n';\n};\nrules.thead_open = function(/* tokens, idx, options, env */) {\n  return '<thead>\\n';\n};\nrules.thead_close = function(/* tokens, idx, options, env */) {\n  return '</thead>\\n';\n};\nrules.tbody_open = function(/* tokens, idx, options, env */) {\n  return '<tbody>\\n';\n};\nrules.tbody_close = function(/* tokens, idx, options, env */) {\n  return '</tbody>\\n';\n};\nrules.tr_open = function(/* tokens, idx, options, env */) {\n  return '<tr>';\n};\nrules.tr_close = function(/* tokens, idx, options, env */) {\n  return '</tr>\\n';\n};\nrules.th_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<th'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.th_close = function(/* tokens, idx, options, env */) {\n  return '</th>';\n};\nrules.td_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<td'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.td_close = function(/* tokens, idx, options, env */) {\n  return '</td>';\n};\n\n/**\n * Bold\n */\n\nrules.strong_open = function(/* tokens, idx, options, env */) {\n  return '<strong>';\n};\nrules.strong_close = function(/* tokens, idx, options, env */) {\n  return '</strong>';\n};\n\n/**\n * Italicize\n */\n\nrules.em_open = function(/* tokens, idx, options, env */) {\n  return '<em>';\n};\nrules.em_close = function(/* tokens, idx, options, env */) {\n  return '</em>';\n};\n\n/**\n * Strikethrough\n */\n\nrules.del_open = function(/* tokens, idx, options, env */) {\n  return '<del>';\n};\nrules.del_close = function(/* tokens, idx, options, env */) {\n  return '</del>';\n};\n\n/**\n * Insert\n */\n\nrules.ins_open = function(/* tokens, idx, options, env */) {\n  return '<ins>';\n};\nrules.ins_close = function(/* tokens, idx, options, env */) {\n  return '</ins>';\n};\n\n/**\n * Highlight\n */\n\nrules.mark_open = function(/* tokens, idx, options, env */) {\n  return '<mark>';\n};\nrules.mark_close = function(/* tokens, idx, options, env */) {\n  return '</mark>';\n};\n\n/**\n * Super- and sub-script\n */\n\nrules.sub = function(tokens, idx /*, options, env */) {\n  return '<sub>' + escapeHtml(tokens[idx].content) + '</sub>';\n};\nrules.sup = function(tokens, idx /*, options, env */) {\n  return '<sup>' + escapeHtml(tokens[idx].content) + '</sup>';\n};\n\n/**\n * Breaks\n */\n\nrules.hardbreak = function(tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\nrules.softbreak = function(tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n/**\n * Text\n */\n\nrules.text = function(tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n/**\n * Content\n */\n\nrules.htmlblock = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\nrules.htmltag = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n/**\n * Abbreviations, initialism\n */\n\nrules.abbr_open = function(tokens, idx /*, options, env */) {\n  return '<abbr title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\">';\n};\nrules.abbr_close = function(/* tokens, idx, options, env */) {\n  return '</abbr>';\n};\n\n/**\n * Footnotes\n */\n\nrules.footnote_ref = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return '<sup class=\"footnote-ref\"><a href=\"#fn' + n + '\" id=\"' + id + '\">[' + n + ']</a></sup>';\n};\nrules.footnote_block_open = function(tokens, idx, options) {\n  var hr = options.xhtmlOut\n    ? '<hr class=\"footnotes-sep\" />\\n'\n    : '<hr class=\"footnotes-sep\">\\n';\n  return hr + '<section class=\"footnotes\">\\n<ol class=\"footnotes-list\">\\n';\n};\nrules.footnote_block_close = function() {\n  return '</ol>\\n</section>\\n';\n};\nrules.footnote_open = function(tokens, idx) {\n  var id = Number(tokens[idx].id + 1).toString();\n  return '<li id=\"fn' + id + '\"  class=\"footnote-item\">';\n};\nrules.footnote_close = function() {\n  return '</li>\\n';\n};\nrules.footnote_anchor = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return ' <a href=\"#' + id + '\" class=\"footnote-backref\">↩</a>';\n};\n\n/**\n * Definition lists\n */\n\nrules.dl_open = function() {\n  return '<dl>\\n';\n};\nrules.dt_open = function() {\n  return '<dt>';\n};\nrules.dd_open = function() {\n  return '<dd>';\n};\nrules.dl_close = function() {\n  return '</dl>\\n';\n};\nrules.dt_close = function() {\n  return '</dt>\\n';\n};\nrules.dd_close = function() {\n  return '</dd>\\n';\n};\n\n/**\n * Helper functions\n */\n\nfunction nextToken(tokens, idx) {\n  if (++idx >= tokens.length - 2) {\n    return idx;\n  }\n  if ((tokens[idx].type === 'paragraph_open' && tokens[idx].tight) &&\n      (tokens[idx + 1].type === 'inline' && tokens[idx + 1].content.length === 0) &&\n      (tokens[idx + 2].type === 'paragraph_close' && tokens[idx + 2].tight)) {\n    return nextToken(tokens, idx + 2);\n  }\n  return idx;\n}\n\n/**\n * Check to see if `\\n` is needed before the next token.\n *\n * @param  {Array} `tokens`\n * @param  {Number} `idx`\n * @return {String} Empty string or newline\n * @api private\n */\n\nvar getBreak = rules.getBreak = function getBreak(tokens, idx) {\n  idx = nextToken(tokens, idx);\n  if (idx < tokens.length && tokens[idx].type === 'list_item_close') {\n    return '';\n  }\n  return '\\n';\n};\n\n/**\n * Renderer class. Renders HTML and exposes `rules` to allow\n * local modifications.\n */\n\nfunction Renderer() {\n  this.rules = assign({}, rules);\n\n  // exported helper, for custom rules only\n  this.getBreak = rules.getBreak;\n}\n\n/**\n * Render a string of inline HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = 0;\n  var result = '';\n\n  while (len--) {\n    result += _rules[tokens[i].type](tokens, i++, options, env, this);\n  }\n\n  return result;\n};\n\n/**\n * Render a string of HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.render = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = -1;\n  var result = '';\n\n  while (++i < len) {\n    if (tokens[i].type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else {\n      result += _rules[tokens[i].type](tokens, i, options, env, this);\n    }\n  }\n  return result;\n};\n\n/**\n * Ruler is a helper class for building responsibility chains from\n * parse rules. It allows:\n *\n *   - easy stack rules chains\n *   - getting main chain and named chains content (as arrays of functions)\n *\n * Helper methods, should not be used directly.\n * @api private\n */\n\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // { name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ] }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - digital anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n/**\n * Find the index of a rule by `name`.\n *\n * @param  {String} `name`\n * @return {Number} Index of the given `name`\n * @api private\n */\n\nRuler.prototype.__find__ = function (name) {\n  var len = this.__rules__.length;\n  var i = -1;\n\n  while (len--) {\n    if (this.__rules__[++i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n/**\n * Build the rules lookup cache\n *\n * @api private\n */\n\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) {\n      return;\n    }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) {\n        return;\n      }\n\n      if (chain && rule.alt.indexOf(chain) < 0) {\n        return;\n      }\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n/**\n * Ruler public methods\n * ------------------------------------------------\n */\n\n/**\n * Replace rule function\n *\n * @param  {String} `name` Rule name\n * @param  {Function `fn`\n * @param  {Object} `options`\n * @api private\n */\n\nRuler.prototype.at = function (name, fn, options) {\n  var idx = this.__find__(name);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + name);\n  }\n\n  this.__rules__[idx].fn = fn;\n  this.__rules__[idx].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain before given the `ruleName`.\n *\n * @param  {String}   `beforeName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var idx = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + beforeName);\n  }\n\n  this.__rules__.splice(idx, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain after the given `ruleName`.\n *\n * @param  {String}   `afterName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var idx = this.__find__(afterName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + afterName);\n  }\n\n  this.__rules__.splice(idx + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the end of chain.\n *\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @return {String}\n */\n\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Enable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to enable\n * @param  {Boolean} `strict` If `true`, all non listed rules will be disabled.\n * @api private\n */\n\nRuler.prototype.enable = function (list, strict) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // In strict mode disable all existing rules first\n  if (strict) {\n    this.__rules__.forEach(function (rule) {\n      rule.enabled = false;\n    });\n  }\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Disable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to disable\n * @api private\n */\n\nRuler.prototype.disable = function (list) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n/**\n * Get a rules list as an array of functions.\n *\n * @param  {String} `chainName`\n * @return {Object}\n * @api private\n */\n\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n  return this.__cache__[chainName] || [];\n};\n\nfunction block(state) {\n\n  if (state.inlineMode) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.replace(/\\n/g, ' ').trim(),\n      level: 0,\n      lines: [ 0, 1 ],\n      children: []\n    });\n\n  } else {\n    state.block.parse(state.src, state.options, state.env, state.tokens);\n  }\n}\n\n// Inline parser state\n\nfunction StateInline(src, parserInline, options, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.options = options;\n  this.parser = parserInline;\n  this.tokens = outTokens;\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  this.cache = [];        // Stores { start: end } pairs. Useful for backtrack\n                          // optimization of pairs parse (emphasis, strikes).\n\n  // Link parser state vars\n\n  this.isInLabel = false; // Set true when seek link label - we should disable\n                          // \"paired\" rules (emphasis, strikes) to not skip\n                          // tailing `]`\n\n  this.linkLevel = 0;     // Increment for each nesting link. Used to prevent\n                          // nesting in definitions\n\n  this.linkContent = '';  // Temporary storage for link url\n\n  this.labelUnmatchedScopes = 0; // Track unpaired `[` for link labels\n                                 // (backtrack optimization)\n}\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  this.tokens.push({\n    type: 'text',\n    content: this.pending,\n    level: this.pendingLevel\n  });\n  this.pending = '';\n};\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (token) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  this.tokens.push(token);\n  this.pendingLevel = this.level;\n};\n\n// Store value to cache.\n// !!! Implementation has parser-specific optimizations\n// !!! keys MUST be integer, >= 0; values MUST be integer, > 0\n//\nStateInline.prototype.cacheSet = function (key, val) {\n  for (var i = this.cache.length; i <= key; i++) {\n    this.cache.push(0);\n  }\n\n  this.cache[key] = val;\n};\n\n// Get cache value\n//\nStateInline.prototype.cacheGet = function (key) {\n  return key < this.cache.length ? this.cache[key] : 0;\n};\n\n/**\n * Parse link labels\n *\n * This function assumes that first character (`[`) already matches;\n * returns the end of the label.\n *\n * @param  {Object} state\n * @param  {Number} start\n * @api private\n */\n\nfunction parseLinkLabel(state, start) {\n  var level, found, marker,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos,\n      oldFlag = state.isInLabel;\n\n  if (state.isInLabel) { return -1; }\n\n  if (state.labelUnmatchedScopes) {\n    state.labelUnmatchedScopes--;\n    return -1;\n  }\n\n  state.pos = start + 1;\n  state.isInLabel = true;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5B /* [ */) {\n      level++;\n    } else if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n    state.labelUnmatchedScopes = 0;\n  } else {\n    state.labelUnmatchedScopes = level - 1;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n  state.isInLabel = oldFlag;\n\n  return labelEnd;\n}\n\n// Parse abbreviation definitions, i.e. `*[abbr]: description`\n\n\nfunction parseAbbr(str, parserInline, options, env) {\n  var state, labelEnd, pos, max, label, title;\n\n  if (str.charCodeAt(0) !== 0x2A/* * */) { return -1; }\n  if (str.charCodeAt(1) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parserInline, options, env, []);\n  labelEnd = parseLinkLabel(state, 1);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // abbr title is always one line, so looking for ending \"\\n\" here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x0A) { break; }\n  }\n\n  label = str.slice(2, labelEnd);\n  title = str.slice(labelEnd + 2, pos).trim();\n  if (title.length === 0) { return -1; }\n  if (!env.abbreviations) { env.abbreviations = {}; }\n  // prepend ':' to avoid conflict with Object.prototype members\n  if (typeof env.abbreviations[':' + label] === 'undefined') {\n    env.abbreviations[':' + label] = title;\n  }\n\n  return pos;\n}\n\nfunction abbr(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Parse inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i].type === 'inline' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseAbbr(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n}\n\nfunction normalizeLink(url) {\n  var normalized = replaceEntities(url);\n  // We shouldn't care about the result of malformed URIs,\n  // and should not throw an exception.\n  try {\n    normalized = decodeURI(normalized);\n  } catch (err) {}\n  return encodeURI(normalized);\n}\n\n/**\n * Parse link destination\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nfunction parseLinkDestination(state, pos) {\n  var code, level, link,\n      start = pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = state.src.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return false; }\n      if (code === 0x3E /* > */) {\n        link = normalizeLink(unescapeMd(state.src.slice(start + 1, pos)));\n        if (!state.parser.validateLink(link)) { return false; }\n        state.pos = pos + 1;\n        state.linkContent = link;\n        return true;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return false;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control chars\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 1) { break; }\n    }\n\n    if (code === 0x29 /* ) */) {\n      level--;\n      if (level < 0) { break; }\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return false; }\n\n  link = unescapeMd(state.src.slice(start, pos));\n  if (!state.parser.validateLink(link)) { return false; }\n\n  state.linkContent = link;\n  state.pos = pos;\n  return true;\n}\n\n/**\n * Parse link title\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nfunction parseLinkTitle(state, pos) {\n  var code,\n      start = pos,\n      max = state.posMax,\n      marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return false; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n    if (code === marker) {\n      state.pos = pos + 1;\n      state.linkContent = unescapeMd(state.src.slice(start + 1, pos));\n      return true;\n    }\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    pos++;\n  }\n\n  return false;\n}\n\nfunction normalizeReference(str) {\n  // use .toUpperCase() instead of .toLowerCase()\n  // here to avoid a conflict with Object.prototype\n  // members (most notably, `__proto__`)\n  return str.trim().replace(/\\s+/g, ' ').toUpperCase();\n}\n\nfunction parseReference(str, parser, options, env) {\n  var state, labelEnd, pos, max, code, start, href, title, label;\n\n  if (str.charCodeAt(0) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parser, options, env, []);\n  labelEnd = parseLinkLabel(state, 0);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  if (!parseLinkDestination(state, pos)) { return -1; }\n  href = state.linkContent;\n  pos = state.pos;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (pos = pos + 1; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n    title = state.linkContent;\n    pos = state.pos;\n  } else {\n    title = '';\n    pos = start;\n  }\n\n  // ensure that the end of the line is empty\n  while (pos < max && state.src.charCodeAt(pos) === 0x20/* space */) { pos++; }\n  if (pos < max && state.src.charCodeAt(pos) !== 0x0A) { return -1; }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (typeof env.references[label] === 'undefined') {\n    env.references[label] = { title: title, href: href };\n  }\n\n  return pos;\n}\n\n\nfunction references(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  state.env.references = state.env.references || {};\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Scan definitions in paragraph inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i].type === 'inline' &&\n        tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseReference(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n}\n\nfunction inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.inline.parse(tok.content, state.options, state.env, tok.children);\n    }\n  }\n}\n\nfunction footnote_block(state) {\n  var i, l, j, t, lastParagraph, list, tokens, current, currentLabel,\n      level = 0,\n      insideRef = false,\n      refTokens = {};\n\n  if (!state.env.footnotes) { return; }\n\n  state.tokens = state.tokens.filter(function(tok) {\n    if (tok.type === 'footnote_reference_open') {\n      insideRef = true;\n      current = [];\n      currentLabel = tok.label;\n      return false;\n    }\n    if (tok.type === 'footnote_reference_close') {\n      insideRef = false;\n      // prepend ':' to avoid conflict with Object.prototype members\n      refTokens[':' + currentLabel] = current;\n      return false;\n    }\n    if (insideRef) { current.push(tok); }\n    return !insideRef;\n  });\n\n  if (!state.env.footnotes.list) { return; }\n  list = state.env.footnotes.list;\n\n  state.tokens.push({\n    type: 'footnote_block_open',\n    level: level++\n  });\n  for (i = 0, l = list.length; i < l; i++) {\n    state.tokens.push({\n      type: 'footnote_open',\n      id: i,\n      level: level++\n    });\n\n    if (list[i].tokens) {\n      tokens = [];\n      tokens.push({\n        type: 'paragraph_open',\n        tight: false,\n        level: level++\n      });\n      tokens.push({\n        type: 'inline',\n        content: '',\n        level: level,\n        children: list[i].tokens\n      });\n      tokens.push({\n        type: 'paragraph_close',\n        tight: false,\n        level: --level\n      });\n    } else if (list[i].label) {\n      tokens = refTokens[':' + list[i].label];\n    }\n\n    state.tokens = state.tokens.concat(tokens);\n    if (state.tokens[state.tokens.length - 1].type === 'paragraph_close') {\n      lastParagraph = state.tokens.pop();\n    } else {\n      lastParagraph = null;\n    }\n\n    t = list[i].count > 0 ? list[i].count : 1;\n    for (j = 0; j < t; j++) {\n      state.tokens.push({\n        type: 'footnote_anchor',\n        id: i,\n        subId: j,\n        level: level\n      });\n    }\n\n    if (lastParagraph) {\n      state.tokens.push(lastParagraph);\n    }\n\n    state.tokens.push({\n      type: 'footnote_close',\n      level: --level\n    });\n  }\n  state.tokens.push({\n    type: 'footnote_block_close',\n    level: --level\n  });\n}\n\n// Enclose abbreviations in <abbr> tags\n//\n\nvar PUNCT_CHARS = ' \\n()[]\\'\".,!?-';\n\n\n// from Google closure library\n// http://closure-library.googlecode.com/git-history/docs/local_closure_goog_string_string.js.source.html#line1021\nfunction regEscape(s) {\n  return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1');\n}\n\n\nfunction abbr2(state) {\n  var i, j, l, tokens, token, text, nodes, pos, level, reg, m, regText,\n      blockTokens = state.tokens;\n\n  if (!state.env.abbreviations) { return; }\n  if (!state.env.abbrRegExp) {\n    regText = '(^|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])'\n            + '(' + Object.keys(state.env.abbreviations).map(function (x) {\n                      return x.substr(1);\n                    }).sort(function (a, b) {\n                      return b.length - a.length;\n                    }).map(regEscape).join('|') + ')'\n            + '($|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])';\n    state.env.abbrRegExp = new RegExp(regText, 'g');\n  }\n  reg = state.env.abbrRegExp;\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') { continue; }\n    tokens = blockTokens[j].children;\n\n    // We scan from the end, to keep position when new tags added.\n    for (i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i];\n      if (token.type !== 'text') { continue; }\n\n      pos = 0;\n      text = token.content;\n      reg.lastIndex = 0;\n      level = token.level;\n      nodes = [];\n\n      while ((m = reg.exec(text))) {\n        if (reg.lastIndex > pos) {\n          nodes.push({\n            type: 'text',\n            content: text.slice(pos, m.index + m[1].length),\n            level: level\n          });\n        }\n\n        nodes.push({\n          type: 'abbr_open',\n          title: state.env.abbreviations[':' + m[2]],\n          level: level++\n        });\n        nodes.push({\n          type: 'text',\n          content: m[2],\n          level: level\n        });\n        nodes.push({\n          type: 'abbr_close',\n          level: --level\n        });\n        pos = reg.lastIndex - m[3].length;\n      }\n\n      if (!nodes.length) { continue; }\n\n      if (pos < text.length) {\n        nodes.push({\n          type: 'text',\n          content: text.slice(pos),\n          level: level\n        });\n      }\n\n      // replace current node\n      blockTokens[j].children = tokens = [].concat(tokens.slice(0, i), nodes, tokens.slice(i + 1));\n    }\n  }\n}\n\n// Simple typographical replacements\n//\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - miltiplication 2 x 4 -> 2 × 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  'c': '©',\n  'r': '®',\n  'p': '§',\n  'tm': '™'\n};\n\nfunction replaceScopedAbbr(str) {\n  if (str.indexOf('(') < 0) { return str; }\n\n  return str.replace(SCOPED_ABBR_RE, function(match, name) {\n    return SCOPED_ABBR[name.toLowerCase()];\n  });\n}\n\n\nfunction replace(state) {\n  var i, token, text, inlineTokens, blkIdx;\n\n  if (!state.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    inlineTokens = state.tokens[blkIdx].children;\n\n    for (i = inlineTokens.length - 1; i >= 0; i--) {\n      token = inlineTokens[i];\n      if (token.type === 'text') {\n        text = token.content;\n\n        text = replaceScopedAbbr(text);\n\n        if (RARE_RE.test(text)) {\n          text = text\n            .replace(/\\+-/g, '±')\n            // .., ..., ....... -> …\n            // but ?..... & !..... -> ?.. & !..\n            .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..')\n            .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n            // em-dash\n            .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n            // en-dash\n            .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n            .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n        }\n\n        token.content = text;\n      }\n    }\n  }\n}\n\n// Convert straight quotation marks to typographic ones\n//\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar PUNCT_RE = /[-\\s()\\[\\]]/;\nvar APOSTROPHE = '’';\n\n// This function returns true if the character at `pos`\n// could be inside a word.\nfunction isLetter(str, pos) {\n  if (pos < 0 || pos >= str.length) { return false; }\n  return !PUNCT_RE.test(str[pos]);\n}\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\n\nfunction smartquotes(state) {\n  /*eslint max-depth:0*/\n  var i, token, text, t, pos, max, thisLevel, lastSpace, nextSpace, item,\n      canOpen, canClose, j, isSingle, blkIdx, tokens,\n      stack;\n\n  if (!state.options.typographer) { return; }\n\n  stack = [];\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    tokens = state.tokens[blkIdx].children;\n    stack.length = 0;\n\n    for (i = 0; i < tokens.length; i++) {\n      token = tokens[i];\n\n      if (token.type !== 'text' || QUOTE_TEST_RE.test(token.text)) { continue; }\n\n      thisLevel = tokens[i].level;\n\n      for (j = stack.length - 1; j >= 0; j--) {\n        if (stack[j].level <= thisLevel) { break; }\n      }\n      stack.length = j + 1;\n\n      text = token.content;\n      pos = 0;\n      max = text.length;\n\n      /*eslint no-labels:0,block-scoped-var:0*/\n      OUTER:\n      while (pos < max) {\n        QUOTE_RE.lastIndex = pos;\n        t = QUOTE_RE.exec(text);\n        if (!t) { break; }\n\n        lastSpace = !isLetter(text, t.index - 1);\n        pos = t.index + 1;\n        isSingle = (t[0] === \"'\");\n        nextSpace = !isLetter(text, pos);\n\n        if (!nextSpace && !lastSpace) {\n          // middle of word\n          if (isSingle) {\n            token.content = replaceAt(token.content, t.index, APOSTROPHE);\n          }\n          continue;\n        }\n\n        canOpen = !nextSpace;\n        canClose = !lastSpace;\n\n        if (canClose) {\n          // this could be a closing quote, rewind the stack to get a match\n          for (j = stack.length - 1; j >= 0; j--) {\n            item = stack[j];\n            if (stack[j].level < thisLevel) { break; }\n            if (item.single === isSingle && stack[j].level === thisLevel) {\n              item = stack[j];\n              if (isSingle) {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[2]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[3]);\n              } else {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[0]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[1]);\n              }\n              stack.length = j;\n              continue OUTER;\n            }\n          }\n        }\n\n        if (canOpen) {\n          stack.push({\n            token: i,\n            pos: t.index,\n            single: isSingle,\n            level: thisLevel\n          });\n        } else if (canClose && isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n      }\n    }\n  }\n}\n\n/**\n * Core parser `rules`\n */\n\nvar _rules = [\n  [ 'block',          block          ],\n  [ 'abbr',           abbr           ],\n  [ 'references',     references     ],\n  [ 'inline',         inline         ],\n  [ 'footnote_tail',  footnote_block  ],\n  [ 'abbr2',          abbr2          ],\n  [ 'replacements',   replace   ],\n  [ 'smartquotes',    smartquotes    ],\n];\n\n/**\n * Class for top level (`core`) parser rules\n *\n * @api private\n */\n\nfunction Core() {\n  this.options = {};\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n/**\n * Process rules with the given `state`\n *\n * @param  {Object} `state`\n * @api private\n */\n\nCore.prototype.process = function (state) {\n  var i, l, rules;\n  rules = this.ruler.getRules('');\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\n// Parser state class\n\nfunction StateBlock(src, parser, options, env, tokens) {\n  var ch, s, start, pos, len, indent, indent_found;\n\n  this.src = src;\n\n  // Shortcuts to simplify nested calls\n  this.parser = parser;\n\n  this.options = options;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // indent for each line\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent\n                       // (for example, if we are in list)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.parentType = 'root'; // if `list`, block parser stops on two newlines\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent = 0;\n  indent_found = false;\n\n  for (start = pos = indent = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (ch === 0x20/* space */) {\n        indent++;\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n\n      indent_found = false;\n      indent = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== 0x20/* space */) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, first, last, queue, shift,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  // Opt: don't use push queue for single line;\n  if (line + 1 === end) {\n    first = this.bMarks[line] + Math.min(this.tShift[line], indent);\n    last = keepLastLF ? this.eMarks[line] + 1 : this.eMarks[line];\n    return this.src.slice(first, last);\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    shift = this.tShift[line];\n    if (shift > indent) { shift = indent; }\n    if (shift < 0) { shift = 0; }\n\n    first = this.bMarks[line] + shift;\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    queue[i] = this.src.slice(first, last);\n  }\n\n  return queue.join('');\n};\n\n// Code block (4 spaces padded)\n\nfunction code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last;\n\n  if (state.tShift[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'code',\n    content: state.getLines(startLine, last, 4 + state.blkIndent, true),\n    block: true,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// fences (``` lang, ~~~ lang)\n\nfunction fences(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  params = state.src.slice(pos, max).trim();\n\n  if (params.indexOf('`') >= 0) { return false; }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.tShift[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.tShift[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n  state.tokens.push({\n    type: 'fence',\n    params: params,\n    content: state.getLines(startLine + 1, nextLine, len, true),\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// Block quotes\n\nfunction blockquote(state, startLine, endLine, silent) {\n  var nextLine, lastLineEmpty, oldTShift, oldBMarks, oldIndent, oldParentType, lines,\n      terminatorRules,\n      i, l, terminate,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos > max) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  // check if we have an empty blockquote\n  pos = pos < max ? state.skipSpaces(pos) : pos;\n  lastLineEmpty = pos >= max;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.parser.ruler.getRules('blockquote');\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */) {\n      // This line is inside the blockquote.\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      pos = pos < max ? state.skipSpaces(pos) : pos;\n      lastLineEmpty = pos >= max;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n\n    // A negative number means that this is a paragraph continuation;\n    //\n    // Any negative number will do the job here, but it's better for it\n    // to be large enough to make any bugs obvious.\n    state.tShift[nextLine] = -1337;\n  }\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  state.tokens.push({\n    type: 'blockquote_open',\n    lines: lines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.parser.tokenize(state, startLine, nextLine);\n  state.tokens.push({\n    type: 'blockquote_close',\n    level: --state.level\n  });\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n}\n\n// Horizontal rule\n\nfunction hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine];\n\n  pos += state.tShift[startLine];\n\n  if (pos > max) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 one\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && ch !== 0x20/* space */) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n  state.tokens.push({\n    type: 'hr',\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// Lists\n\n// Search `[-+*][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  if (pos >= max) { return -1; }\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20/* space */) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\n\nfunction list(state, startLine, endLine, silent) {\n  var nextLine,\n      indent,\n      oldTShift,\n      oldIndent,\n      oldTight,\n      oldParentType,\n      start,\n      posAfterMarker,\n      max,\n      indentAfterMarker,\n      markerValue,\n      markerCharCode,\n      isOrdered,\n      contentStart,\n      listTokIdx,\n      prevEmptyEnd,\n      listLines,\n      itemLines,\n      tight = true,\n      terminatorRules,\n      i, l, terminate;\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n  } else {\n    return false;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    state.tokens.push({\n      type: 'ordered_list_open',\n      order: markerValue,\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n  } else {\n    state.tokens.push({\n      type: 'bullet_list_open',\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n  }\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.parser.ruler.getRules('list');\n\n  while (nextLine < endLine) {\n    contentStart = state.skipSpaces(posAfterMarker);\n    max = state.eMarks[nextLine];\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = contentStart - posAfterMarker;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // If indent is less than 1, assume that it's one, example:\n    //  \"-\\n  test\"\n    if (indentAfterMarker < 1) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = (posAfterMarker - state.bMarks[nextLine]) + indentAfterMarker;\n\n    // Run subparser & write tokens\n    state.tokens.push({\n      type: 'list_item_open',\n      lines: itemLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n    oldIndent = state.blkIndent;\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldParentType = state.parentType;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.blkIndent = indent;\n    state.tight = true;\n    state.parentType = 'list';\n\n    state.parser.tokenize(state, startLine, endLine, true);\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = oldIndent;\n    state.tShift[startLine] = oldTShift;\n    state.tight = oldTight;\n    state.parentType = oldParentType;\n\n    state.tokens.push({\n      type: 'list_item_close',\n      level: --state.level\n    });\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    if (state.isEmpty(nextLine)) {\n      break;\n    }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: isOrdered ? 'ordered_list_close' : 'bullet_list_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n}\n\n// Process footnote reference list\n\nfunction footnote(state, startLine, endLine, silent) {\n  var oldBMark, oldTShift, oldParentType, pos, label,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // line should be at least 5 chars - \"[^x]:\"\n  if (start + 4 > max) { return false; }\n\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos + 1 >= max || state.src.charCodeAt(++pos) !== 0x3A /* : */) { return false; }\n  if (silent) { return true; }\n  pos++;\n\n  if (!state.env.footnotes) { state.env.footnotes = {}; }\n  if (!state.env.footnotes.refs) { state.env.footnotes.refs = {}; }\n  label = state.src.slice(start + 2, pos - 2);\n  state.env.footnotes.refs[':' + label] = -1;\n\n  state.tokens.push({\n    type: 'footnote_reference_open',\n    label: label,\n    level: state.level++\n  });\n\n  oldBMark = state.bMarks[startLine];\n  oldTShift = state.tShift[startLine];\n  oldParentType = state.parentType;\n  state.tShift[startLine] = state.skipSpaces(pos) - pos;\n  state.bMarks[startLine] = pos;\n  state.blkIndent += 4;\n  state.parentType = 'footnote';\n\n  if (state.tShift[startLine] < state.blkIndent) {\n    state.tShift[startLine] += state.blkIndent;\n    state.bMarks[startLine] -= state.blkIndent;\n  }\n\n  state.parser.tokenize(state, startLine, endLine, true);\n\n  state.parentType = oldParentType;\n  state.blkIndent -= 4;\n  state.tShift[startLine] = oldTShift;\n  state.bMarks[startLine] = oldBMark;\n\n  state.tokens.push({\n    type: 'footnote_reference_close',\n    level: --state.level\n  });\n\n  return true;\n}\n\n// heading (#, ##, ...)\n\nfunction heading(state, startLine, endLine, silent) {\n  var ch, level, tmp,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos >= max) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && ch !== 0x20/* space */)) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipCharsBack(max, 0x20, pos); // space\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && state.src.charCodeAt(tmp - 1) === 0x20/* space */) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  state.tokens.push({ type: 'heading_open',\n    hLevel: level,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  // only if header is not empty\n  if (pos < max) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.slice(pos, max).trim(),\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n  }\n  state.tokens.push({ type: 'heading_close', hLevel: level, level: state.level });\n\n  return true;\n}\n\n// lheading (---, ===)\n\nfunction lheading(state, startLine, endLine/*, silent*/) {\n  var marker, pos, max,\n      next = startLine + 1;\n\n  if (next >= endLine) { return false; }\n  if (state.tShift[next] < state.blkIndent) { return false; }\n\n  // Scan next line\n\n  if (state.tShift[next] - state.blkIndent > 3) { return false; }\n\n  pos = state.bMarks[next] + state.tShift[next];\n  max = state.eMarks[next];\n\n  if (pos >= max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x2D/* - */ && marker !== 0x3D/* = */) { return false; }\n\n  pos = state.skipChars(pos, marker);\n\n  pos = state.skipSpaces(pos);\n\n  if (pos < max) { return false; }\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n\n  state.line = next + 1;\n  state.tokens.push({\n    type: 'heading_open',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n  state.tokens.push({\n    type: 'inline',\n    content: state.src.slice(pos, state.eMarks[startLine]).trim(),\n    level: state.level + 1,\n    lines: [ startLine, state.line - 1 ],\n    children: []\n  });\n  state.tokens.push({\n    type: 'heading_close',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    level: state.level\n  });\n\n  return true;\n}\n\n// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\nvar html_blocks = {};\n\n[\n  'article',\n  'aside',\n  'button',\n  'blockquote',\n  'body',\n  'canvas',\n  'caption',\n  'col',\n  'colgroup',\n  'dd',\n  'div',\n  'dl',\n  'dt',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'hr',\n  'iframe',\n  'li',\n  'map',\n  'object',\n  'ol',\n  'output',\n  'p',\n  'pre',\n  'progress',\n  'script',\n  'section',\n  'style',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'tr',\n  'thead',\n  'ul',\n  'video'\n].forEach(function (name) { html_blocks[name] = true; });\n\n// HTML block\n\n\nvar HTML_TAG_OPEN_RE = /^<([a-zA-Z]{1,15})[\\s\\/>]/;\nvar HTML_TAG_CLOSE_RE = /^<\\/([a-zA-Z]{1,15})[\\s>]/;\n\nfunction isLetter$1(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\nfunction htmlblock(state, startLine, endLine, silent) {\n  var ch, match, nextLine,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine],\n      shift = state.tShift[startLine];\n\n  pos += shift;\n\n  if (!state.options.html) { return false; }\n\n  if (shift > 3 || pos + 2 >= max) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x21/* ! */ || ch === 0x3F/* ? */) {\n    // Directive start / comment start / processing instruction start\n    if (silent) { return true; }\n\n  } else if (ch === 0x2F/* / */ || isLetter$1(ch)) {\n\n    // Probably start or end of tag\n    if (ch === 0x2F/* \\ */) {\n      // closing tag\n      match = state.src.slice(pos, max).match(HTML_TAG_CLOSE_RE);\n      if (!match) { return false; }\n    } else {\n      // opening tag\n      match = state.src.slice(pos, max).match(HTML_TAG_OPEN_RE);\n      if (!match) { return false; }\n    }\n    // Make sure tag name is valid\n    if (html_blocks[match[1].toLowerCase()] !== true) { return false; }\n    if (silent) { return true; }\n\n  } else {\n    return false;\n  }\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till empty line (block end).\n  nextLine = startLine + 1;\n  while (nextLine < state.lineMax && !state.isEmpty(nextLine)) {\n    nextLine++;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'htmlblock',\n    level: state.level,\n    lines: [ startLine, state.line ],\n    content: state.getLines(startLine, nextLine, 0, true)\n  });\n\n  return true;\n}\n\n// GFM table, non-standard\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nfunction table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, rows, cell,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least three lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n\n  // first character of the second line should be '|' or '-'\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  lineText = getLine(state, startLine + 1);\n  if (!/^[-:| ]+$/.test(lineText)) { return false; }\n\n  rows = lineText.split('|');\n  if (rows <= 2) { return false; }\n  aligns = [];\n  for (i = 0; i < rows.length; i++) {\n    t = rows[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === rows.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n  if (aligns.length !== rows.length) { return false; }\n  if (silent) { return true; }\n\n  state.tokens.push({\n    type: 'table_open',\n    lines: tableLines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.tokens.push({\n    type: 'thead_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n\n  state.tokens.push({\n    type: 'tr_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n  for (i = 0; i < rows.length; i++) {\n    state.tokens.push({\n      type: 'th_open',\n      align: aligns[i],\n      lines: [ startLine, startLine + 1 ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: rows[i].trim(),\n      lines: [ startLine, startLine + 1 ],\n      level: state.level,\n      children: []\n    });\n    state.tokens.push({ type: 'th_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tr_close', level: --state.level });\n  state.tokens.push({ type: 'thead_close', level: --state.level });\n\n  state.tokens.push({\n    type: 'tbody_open',\n    lines: tbodyLines = [ startLine + 2, 0 ],\n    level: state.level++\n  });\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n\n    state.tokens.push({ type: 'tr_open', level: state.level++ });\n    for (i = 0; i < rows.length; i++) {\n      state.tokens.push({ type: 'td_open', align: aligns[i], level: state.level++ });\n      // 0x7c === '|'\n      cell = rows[i].substring(\n          rows[i].charCodeAt(0) === 0x7c ? 1 : 0,\n          rows[i].charCodeAt(rows[i].length - 1) === 0x7c ? rows[i].length - 1 : rows[i].length\n      ).trim();\n      state.tokens.push({\n        type: 'inline',\n        content: cell,\n        level: state.level,\n        children: []\n      });\n      state.tokens.push({ type: 'td_close', level: --state.level });\n    }\n    state.tokens.push({ type: 'tr_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tbody_close', level: --state.level });\n  state.tokens.push({ type: 'table_close', level: --state.level });\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n}\n\n// Definition lists\n\n// Search `[:~][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipMarker(state, line) {\n  var pos, marker,\n      start = state.bMarks[line] + state.tShift[line],\n      max = state.eMarks[line];\n\n  if (start >= max) { return -1; }\n\n  // Check bullet\n  marker = state.src.charCodeAt(start++);\n  if (marker !== 0x7E/* ~ */ && marker !== 0x3A/* : */) { return -1; }\n\n  pos = state.skipSpaces(start);\n\n  // require space after \":\"\n  if (start === pos) { return -1; }\n\n  // no empty definitions, e.g. \"  : \"\n  if (pos >= max) { return -1; }\n\n  return pos;\n}\n\nfunction markTightParagraphs$1(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\nfunction deflist(state, startLine, endLine, silent) {\n  var contentStart,\n      ddLine,\n      dtLine,\n      itemLines,\n      listLines,\n      listTokIdx,\n      nextLine,\n      oldIndent,\n      oldDDIndent,\n      oldParentType,\n      oldTShift,\n      oldTight,\n      prevEmptyEnd,\n      tight;\n\n  if (silent) {\n    // quirk: validation mode validates a dd block only, not a whole deflist\n    if (state.ddIndent < 0) { return false; }\n    return skipMarker(state, startLine) >= 0;\n  }\n\n  nextLine = startLine + 1;\n  if (state.isEmpty(nextLine)) {\n    if (++nextLine > endLine) { return false; }\n  }\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n  contentStart = skipMarker(state, nextLine);\n  if (contentStart < 0) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  state.tokens.push({\n    type: 'dl_open',\n    lines: listLines = [ startLine, 0 ],\n    level: state.level++\n  });\n\n  //\n  // Iterate list items\n  //\n\n  dtLine = startLine;\n  ddLine = nextLine;\n\n  // One definition list can contain multiple DTs,\n  // and one DT can be followed by multiple DDs.\n  //\n  // Thus, there is two loops here, and label is\n  // needed to break out of the second one\n  //\n  /*eslint no-labels:0,block-scoped-var:0*/\n  OUTER:\n  for (;;) {\n    tight = true;\n    prevEmptyEnd = false;\n\n    state.tokens.push({\n      type: 'dt_open',\n      lines: [ dtLine, dtLine ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: state.getLines(dtLine, dtLine + 1, state.blkIndent, false).trim(),\n      level: state.level + 1,\n      lines: [ dtLine, dtLine ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'dt_close',\n      level: --state.level\n    });\n\n    for (;;) {\n      state.tokens.push({\n        type: 'dd_open',\n        lines: itemLines = [ nextLine, 0 ],\n        level: state.level++\n      });\n\n      oldTight = state.tight;\n      oldDDIndent = state.ddIndent;\n      oldIndent = state.blkIndent;\n      oldTShift = state.tShift[ddLine];\n      oldParentType = state.parentType;\n      state.blkIndent = state.ddIndent = state.tShift[ddLine] + 2;\n      state.tShift[ddLine] = contentStart - state.bMarks[ddLine];\n      state.tight = true;\n      state.parentType = 'deflist';\n\n      state.parser.tokenize(state, ddLine, endLine, true);\n\n      // If any of list item is tight, mark list as tight\n      if (!state.tight || prevEmptyEnd) {\n        tight = false;\n      }\n      // Item become loose if finish with empty line,\n      // but we should filter last element, because it means list finish\n      prevEmptyEnd = (state.line - ddLine) > 1 && state.isEmpty(state.line - 1);\n\n      state.tShift[ddLine] = oldTShift;\n      state.tight = oldTight;\n      state.parentType = oldParentType;\n      state.blkIndent = oldIndent;\n      state.ddIndent = oldDDIndent;\n\n      state.tokens.push({\n        type: 'dd_close',\n        level: --state.level\n      });\n\n      itemLines[1] = nextLine = state.line;\n\n      if (nextLine >= endLine) { break OUTER; }\n\n      if (state.tShift[nextLine] < state.blkIndent) { break OUTER; }\n      contentStart = skipMarker(state, nextLine);\n      if (contentStart < 0) { break; }\n\n      ddLine = nextLine;\n\n      // go to the next loop iteration:\n      // insert DD tag and repeat checking\n    }\n\n    if (nextLine >= endLine) { break; }\n    dtLine = nextLine;\n\n    if (state.isEmpty(dtLine)) { break; }\n    if (state.tShift[dtLine] < state.blkIndent) { break; }\n\n    ddLine = dtLine + 1;\n    if (ddLine >= endLine) { break; }\n    if (state.isEmpty(ddLine)) { ddLine++; }\n    if (ddLine >= endLine) { break; }\n\n    if (state.tShift[ddLine] < state.blkIndent) { break; }\n    contentStart = skipMarker(state, ddLine);\n    if (contentStart < 0) { break; }\n\n    // go to the next loop iteration:\n    // insert DT and DD tags and repeat checking\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: 'dl_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs$1(state, listTokIdx);\n  }\n\n  return true;\n}\n\n// Paragraph\n\nfunction paragraph(state, startLine/*, endLine*/) {\n  var endLine, content, terminate, i, l,\n      nextLine = startLine + 1,\n      terminatorRules;\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  if (nextLine < endLine && !state.isEmpty(nextLine)) {\n    terminatorRules = state.parser.ruler.getRules('paragraph');\n\n    for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n      // this would be a code block normally, but after paragraph\n      // it's considered a lazy continuation regardless of what's there\n      if (state.tShift[nextLine] - state.blkIndent > 3) { continue; }\n\n      // Some tags can terminate paragraph without empty line.\n      terminate = false;\n      for (i = 0, l = terminatorRules.length; i < l; i++) {\n        if (terminatorRules[i](state, nextLine, endLine, true)) {\n          terminate = true;\n          break;\n        }\n      }\n      if (terminate) { break; }\n    }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n  if (content.length) {\n    state.tokens.push({\n      type: 'paragraph_open',\n      tight: false,\n      lines: [ startLine, state.line ],\n      level: state.level\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: content,\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'paragraph_close',\n      tight: false,\n      level: state.level\n    });\n  }\n\n  return true;\n}\n\n/**\n * Parser rules\n */\n\nvar _rules$1 = [\n  [ 'code',       code ],\n  [ 'fences',     fences,     [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'blockquote', blockquote, [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'hr',         hr,         [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'list',       list,       [ 'paragraph', 'blockquote' ] ],\n  [ 'footnote',   footnote,   [ 'paragraph' ] ],\n  [ 'heading',    heading,    [ 'paragraph', 'blockquote' ] ],\n  [ 'lheading',   lheading ],\n  [ 'htmlblock',  htmlblock,  [ 'paragraph', 'blockquote' ] ],\n  [ 'table',      table,      [ 'paragraph' ] ],\n  [ 'deflist',    deflist,    [ 'paragraph' ] ],\n  [ 'paragraph',  paragraph ]\n];\n\n/**\n * Block Parser class\n *\n * @api private\n */\n\nfunction ParserBlock() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules$1.length; i++) {\n    this.ruler.push(_rules$1[i][0], _rules$1[i][1], {\n      alt: (_rules$1[i][2] || []).slice()\n    });\n  }\n}\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state` Has properties like `src`, `parser`, `options` etc\n * @param  {Number} `startLine`\n * @param  {Number} `endLine`\n * @api private\n */\n\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var line = startLine;\n  var hasEmptyLines = false;\n  var ok, i;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) {\n      break;\n    }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.tShift[line] < state.blkIndent) {\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) {\n        break;\n      }\n    }\n\n    // set state.tight iff we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n\n      // two empty lines should stop the parser in list mode\n      if (line < endLine && state.parentType === 'list' && state.isEmpty(line)) { break; }\n      state.line = line;\n    }\n  }\n};\n\nvar TABS_SCAN_RE = /[\\n\\t]/g;\nvar NEWLINES_RE  = /\\r[\\n\\u0085]|[\\u2424\\u2028\\u0085]/g;\nvar SPACES_RE    = /\\u00a0/g;\n\n/**\n * Tokenize the given `str`.\n *\n * @param  {String} `str` Source string\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserBlock.prototype.parse = function (str, options, env, outTokens) {\n  var state, lineStart = 0, lastTabPos = 0;\n  if (!str) { return []; }\n\n  // Normalize spaces\n  str = str.replace(SPACES_RE, ' ');\n\n  // Normalize newlines\n  str = str.replace(NEWLINES_RE, '\\n');\n\n  // Replace tabs with proper number of spaces (1..4)\n  if (str.indexOf('\\t') >= 0) {\n    str = str.replace(TABS_SCAN_RE, function (match, offset) {\n      var result;\n      if (str.charCodeAt(offset) === 0x0A) {\n        lineStart = offset + 1;\n        lastTabPos = 0;\n        return match;\n      }\n      result = '    '.slice((offset - lineStart - lastTabPos) % 4);\n      lastTabPos = offset - lineStart + 1;\n      return result;\n    });\n  }\n\n  state = new StateBlock(str, this, options, env, outTokens);\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x5C/* \\ */:\n    case 0x60/* ` */:\n    case 0x2A/* * */:\n    case 0x5F/* _ */:\n    case 0x5E/* ^ */:\n    case 0x5B/* [ */:\n    case 0x5D/* ] */:\n    case 0x21/* ! */:\n    case 0x26/* & */:\n    case 0x3C/* < */:\n    case 0x3E/* > */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x40/* @ */:\n    case 0x7E/* ~ */:\n    case 0x2B/* + */:\n    case 0x3D/* = */:\n    case 0x3A/* : */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nfunction text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n}\n\n// Proceess '\\n'\n\nfunction newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Strip out all trailing spaces on this line.\n        for (var i = pmax - 2; i >= 0; i--) {\n          if (state.pending.charCodeAt(i) !== 0x20) {\n            state.pending = state.pending.substring(0, i + 1);\n            break;\n          }\n        }\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push({\n          type: 'softbreak',\n          level: state.level\n        });\n      }\n\n    } else {\n      state.push({\n        type: 'softbreak',\n        level: state.level\n      });\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  state.pos = pos;\n  return true;\n}\n\n// Proceess escaped chars and hardbreaks\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function(ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nfunction escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n}\n\n// Parse backticks\n\nfunction backticks(state, silent) {\n  var start, max, marker, matchStart, matchEnd,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        state.push({\n          type: 'code',\n          content: state.src.slice(pos, matchStart)\n                              .replace(/[ \\n]+/g, ' ')\n                              .trim(),\n          block: false,\n          level: state.level\n        });\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n}\n\n// Process ~~deleted text~~\n\nfunction del(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x7E/* ~ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x7E/* ~ */) { pos++; }\n  if (pos > start + 3) {\n    // sequence of 4+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x7E/* ~ */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x7E/* ~ */ && lastChar !== 0x7E/* ~ */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '~~'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '~~'\n            stack++;\n          } // else {\n            //  // standalone ' ~~ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'del_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'del_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process ++inserted text++\n\nfunction ins(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x2B/* + */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x2B/* + */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x2B/* + */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x2B/* + */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x2B/* + */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x2B/* + */ && lastChar !== 0x2B/* + */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '++'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '++'\n            stack++;\n          } // else {\n            //  // standalone ' ++ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'ins_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'ins_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process ==highlighted text==\n\nfunction mark(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x3D/* = */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x3D/* = */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x3D/* = */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x3D/* = */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x3D/* = */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x3D/* = */ && lastChar !== 0x3D/* = */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '=='\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '=='\n            stack++;\n          } // else {\n            //  // standalone ' == ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'mark_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'mark_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process *this* and _that_\n\nfunction isAlphaNum(code) {\n  return (code >= 0x30 /* 0 */ && code <= 0x39 /* 9 */) ||\n         (code >= 0x41 /* A */ && code <= 0x5A /* Z */) ||\n         (code >= 0x61 /* a */ && code <= 0x7A /* z */);\n}\n\n// parse sequence of emphasis markers,\n// \"start\" should point at a valid marker\nfunction scanDelims(state, start) {\n  var pos = start, lastChar, nextChar, count,\n      can_open = true,\n      can_close = true,\n      max = state.posMax,\n      marker = state.src.charCodeAt(start);\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n\n  while (pos < max && state.src.charCodeAt(pos) === marker) { pos++; }\n  if (pos >= max) { can_open = false; }\n  count = pos - start;\n\n  if (count >= 4) {\n    // sequence of four or more unescaped markers can't start/end an emphasis\n    can_open = can_close = false;\n  } else {\n    nextChar = pos < max ? state.src.charCodeAt(pos) : -1;\n\n    // check whitespace conditions\n    if (nextChar === 0x20 || nextChar === 0x0A) { can_open = false; }\n    if (lastChar === 0x20 || lastChar === 0x0A) { can_close = false; }\n\n    if (marker === 0x5F /* _ */) {\n      // check if we aren't inside the word\n      if (isAlphaNum(lastChar)) { can_open = false; }\n      if (isAlphaNum(nextChar)) { can_close = false; }\n    }\n  }\n\n  return {\n    can_open: can_open,\n    can_close: can_close,\n    delims: count\n  };\n}\n\nfunction emphasis(state, silent) {\n  var startCount,\n      count,\n      found,\n      oldCount,\n      newCount,\n      stack,\n      res,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker !== 0x5F/* _ */ && marker !== 0x2A /* * */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n\n  res = scanDelims(state, start);\n  startCount = res.delims;\n  if (!res.can_open) {\n    state.pos += startCount;\n    if (!silent) { state.pending += state.src.slice(start, state.pos); }\n    return true;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + startCount;\n  stack = [ startCount ];\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === marker) {\n      res = scanDelims(state, state.pos);\n      count = res.delims;\n      if (res.can_close) {\n        oldCount = stack.pop();\n        newCount = count;\n\n        while (oldCount !== newCount) {\n          if (newCount < oldCount) {\n            stack.push(oldCount - newCount);\n            break;\n          }\n\n          // assert(newCount > oldCount)\n          newCount -= oldCount;\n\n          if (stack.length === 0) { break; }\n          state.pos += oldCount;\n          oldCount = stack.pop();\n        }\n\n        if (stack.length === 0) {\n          startCount = oldCount;\n          found = true;\n          break;\n        }\n        state.pos += count;\n        continue;\n      }\n\n      if (res.can_open) { stack.push(count); }\n      state.pos += count;\n      continue;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + startCount;\n\n  if (!silent) {\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_open', level: state.level++ });\n    }\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_open', level: state.level++ });\n    }\n\n    state.parser.tokenize(state);\n\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_close', level: --state.level });\n    }\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_close', level: --state.level });\n    }\n  }\n\n  state.pos = state.posMax + startCount;\n  state.posMax = max;\n  return true;\n}\n\n// Process ~subscript~\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction sub(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sub',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process ^superscript^\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE$1 = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction sup(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x5E/* ^ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sup',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE$1, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process [links](<to> \"stuff\")\n\n\nfunction links(state, silent) {\n  var labelStart,\n      labelEnd,\n      label,\n      href,\n      title,\n      pos,\n      ref,\n      code,\n      isImage = false,\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker === 0x21/* ! */) {\n    isImage = true;\n    marker = state.src.charCodeAt(++start);\n  }\n\n  if (marker !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 1;\n  labelEnd = parseLinkLabel(state, start);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    if (parseLinkDestination(state, pos)) {\n      href = state.linkContent;\n      pos = state.pos;\n    } else {\n      href = '';\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n      title = state.linkContent;\n      pos = state.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (code !== 0x20 && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n\n    // do not allow nested reference links\n    if (state.linkLevel > 0) { return false; }\n\n    // [foo]  [bar]\n    //      ^^ optional whitespace (can include newlines)\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = start - 1;\n      }\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) {\n      if (typeof label === 'undefined') {\n        pos = labelEnd + 1;\n      }\n      label = state.src.slice(labelStart, labelEnd);\n    }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    if (isImage) {\n      state.push({\n        type: 'image',\n        src: href,\n        title: title,\n        alt: state.src.substr(labelStart, labelEnd - labelStart),\n        level: state.level\n      });\n    } else {\n      state.push({\n        type: 'link_open',\n        href: href,\n        title: title,\n        level: state.level++\n      });\n      state.linkLevel++;\n      state.parser.tokenize(state);\n      state.linkLevel--;\n      state.push({ type: 'link_close', level: --state.level });\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n}\n\n// Process inline footnotes (^[...])\n\n\nfunction footnote_inline(state, silent) {\n  var labelStart,\n      labelEnd,\n      footnoteId,\n      oldLength,\n      max = state.posMax,\n      start = state.pos;\n\n  if (start + 2 >= max) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 2;\n  labelEnd = parseLinkLabel(state, start + 1);\n\n  // parser failed to find ']', so it's not a valid note\n  if (labelEnd < 0) { return false; }\n\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    if (!state.env.footnotes) { state.env.footnotes = {}; }\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n    footnoteId = state.env.footnotes.list.length;\n\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      level: state.level\n    });\n    state.linkLevel++;\n    oldLength = state.tokens.length;\n    state.parser.tokenize(state);\n    state.env.footnotes.list[footnoteId] = { tokens: state.tokens.splice(oldLength) };\n    state.linkLevel--;\n  }\n\n  state.pos = labelEnd + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process footnote references ([^...])\n\nfunction footnote_ref(state, silent) {\n  var label,\n      pos,\n      footnoteId,\n      footnoteSubId,\n      max = state.posMax,\n      start = state.pos;\n\n  // should be at least 4 chars - \"[^x]\"\n  if (start + 3 > max) { return false; }\n\n  if (!state.env.footnotes || !state.env.footnotes.refs) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x0A) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos >= max) { return false; }\n  pos++;\n\n  label = state.src.slice(start + 2, pos - 1);\n  if (typeof state.env.footnotes.refs[':' + label] === 'undefined') { return false; }\n\n  if (!silent) {\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n\n    if (state.env.footnotes.refs[':' + label] < 0) {\n      footnoteId = state.env.footnotes.list.length;\n      state.env.footnotes.list[footnoteId] = { label: label, count: 0 };\n      state.env.footnotes.refs[':' + label] = footnoteId;\n    } else {\n      footnoteId = state.env.footnotes.refs[':' + label];\n    }\n\n    footnoteSubId = state.env.footnotes.list[footnoteId].count;\n    state.env.footnotes.list[footnoteId].count++;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      subId: footnoteSubId,\n      level: state.level\n    });\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n}\n\n// List of valid url schemas, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#autolinks\n\nvar url_schemas = [\n  'coap',\n  'doi',\n  'javascript',\n  'aaa',\n  'aaas',\n  'about',\n  'acap',\n  'cap',\n  'cid',\n  'crid',\n  'data',\n  'dav',\n  'dict',\n  'dns',\n  'file',\n  'ftp',\n  'geo',\n  'go',\n  'gopher',\n  'h323',\n  'http',\n  'https',\n  'iax',\n  'icap',\n  'im',\n  'imap',\n  'info',\n  'ipp',\n  'iris',\n  'iris.beep',\n  'iris.xpc',\n  'iris.xpcs',\n  'iris.lwz',\n  'ldap',\n  'mailto',\n  'mid',\n  'msrp',\n  'msrps',\n  'mtqp',\n  'mupdate',\n  'news',\n  'nfs',\n  'ni',\n  'nih',\n  'nntp',\n  'opaquelocktoken',\n  'pop',\n  'pres',\n  'rtsp',\n  'service',\n  'session',\n  'shttp',\n  'sieve',\n  'sip',\n  'sips',\n  'sms',\n  'snmp',\n  'soap.beep',\n  'soap.beeps',\n  'tag',\n  'tel',\n  'telnet',\n  'tftp',\n  'thismessage',\n  'tn3270',\n  'tip',\n  'tv',\n  'urn',\n  'vemmi',\n  'ws',\n  'wss',\n  'xcon',\n  'xcon-userid',\n  'xmlrpc.beep',\n  'xmlrpc.beeps',\n  'xmpp',\n  'z39.50r',\n  'z39.50s',\n  'adiumxtra',\n  'afp',\n  'afs',\n  'aim',\n  'apt',\n  'attachment',\n  'aw',\n  'beshare',\n  'bitcoin',\n  'bolo',\n  'callto',\n  'chrome',\n  'chrome-extension',\n  'com-eventbrite-attendee',\n  'content',\n  'cvs',\n  'dlna-playsingle',\n  'dlna-playcontainer',\n  'dtn',\n  'dvb',\n  'ed2k',\n  'facetime',\n  'feed',\n  'finger',\n  'fish',\n  'gg',\n  'git',\n  'gizmoproject',\n  'gtalk',\n  'hcp',\n  'icon',\n  'ipn',\n  'irc',\n  'irc6',\n  'ircs',\n  'itms',\n  'jar',\n  'jms',\n  'keyparc',\n  'lastfm',\n  'ldaps',\n  'magnet',\n  'maps',\n  'market',\n  'message',\n  'mms',\n  'ms-help',\n  'msnim',\n  'mumble',\n  'mvn',\n  'notes',\n  'oid',\n  'palm',\n  'paparazzi',\n  'platform',\n  'proxy',\n  'psyc',\n  'query',\n  'res',\n  'resource',\n  'rmi',\n  'rsync',\n  'rtmp',\n  'secondlife',\n  'sftp',\n  'sgn',\n  'skype',\n  'smb',\n  'soldat',\n  'spotify',\n  'ssh',\n  'steam',\n  'svn',\n  'teamspeak',\n  'things',\n  'udp',\n  'unreal',\n  'ut2004',\n  'ventrilo',\n  'view-source',\n  'webcal',\n  'wtai',\n  'wyciwyg',\n  'xfire',\n  'xri',\n  'ymsgr'\n];\n\n// Process autolinks '<protocol:...>'\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z.\\-]{1,25}):([^<>\\x00-\\x20]*)>/;\n\n\nfunction autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  linkMatch = tail.match(AUTOLINK_RE);\n\n  if (linkMatch) {\n    if (url_schemas.indexOf(linkMatch[1].toLowerCase()) < 0) { return false; }\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = normalizeLink(url);\n    if (!state.parser.validateLink(url)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  emailMatch = tail.match(EMAIL_RE);\n\n  if (emailMatch) {\n\n    url = emailMatch[0].slice(1, -1);\n\n    fullUrl = normalizeLink('mailto:' + url);\n    if (!state.parser.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n}\n\n// Regexps to match html elements\n\nfunction replace$1(regex, options) {\n  regex = regex.source;\n  options = options || '';\n\n  return function self(name, val) {\n    if (!name) {\n      return new RegExp(regex, options);\n    }\n    val = val.source || val;\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\n\nvar attr_name     = /[a-zA-Z_:][a-zA-Z0-9:._-]*/;\n\nvar unquoted      = /[^\"'=<>`\\x00-\\x20]+/;\nvar single_quoted = /'[^']*'/;\nvar double_quoted = /\"[^\"]*\"/;\n\n/*eslint no-spaced-func:0*/\nvar attr_value  = replace$1(/(?:unquoted|single_quoted|double_quoted)/)\n                    ('unquoted', unquoted)\n                    ('single_quoted', single_quoted)\n                    ('double_quoted', double_quoted)\n                    ();\n\nvar attribute   = replace$1(/(?:\\s+attr_name(?:\\s*=\\s*attr_value)?)/)\n                    ('attr_name', attr_name)\n                    ('attr_value', attr_value)\n                    ();\n\nvar open_tag    = replace$1(/<[A-Za-z][A-Za-z0-9]*attribute*\\s*\\/?>/)\n                    ('attribute', attribute)\n                    ();\n\nvar close_tag   = /<\\/[A-Za-z][A-Za-z0-9]*\\s*>/;\nvar comment     = /<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/;\nvar processing  = /<[?].*?[?]>/;\nvar declaration = /<![A-Z]+\\s+[^>]*>/;\nvar cdata       = /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/;\n\nvar HTML_TAG_RE = replace$1(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)\n  ('open_tag', open_tag)\n  ('close_tag', close_tag)\n  ('comment', comment)\n  ('processing', processing)\n  ('declaration', declaration)\n  ('cdata', cdata)\n  ();\n\n// Process html tags\n\n\nfunction isLetter$2(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nfunction htmltag(state, silent) {\n  var ch, match, max, pos = state.pos;\n\n  if (!state.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter$2(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    state.push({\n      type: 'htmltag',\n      content: state.src.slice(pos, pos + match[0].length),\n      level: state.level\n    });\n  }\n  state.pos += match[0].length;\n  return true;\n}\n\n// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nfunction entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        var decoded = decodeEntity(match[1]);\n        if (match[1] !== decoded) {\n          if (!silent) { state.pending += decoded; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n}\n\n/**\n * Inline Parser `rules`\n */\n\nvar _rules$2 = [\n  [ 'text',            text ],\n  [ 'newline',         newline ],\n  [ 'escape',          escape ],\n  [ 'backticks',       backticks ],\n  [ 'del',             del ],\n  [ 'ins',             ins ],\n  [ 'mark',            mark ],\n  [ 'emphasis',        emphasis ],\n  [ 'sub',             sub ],\n  [ 'sup',             sup ],\n  [ 'links',           links ],\n  [ 'footnote_inline', footnote_inline ],\n  [ 'footnote_ref',    footnote_ref ],\n  [ 'autolink',        autolink ],\n  [ 'htmltag',         htmltag ],\n  [ 'entity',          entity ]\n];\n\n/**\n * Inline Parser class. Note that link validation is stricter\n * in Remarkable than what is specified by CommonMark. If you\n * want to change this you can use a custom validator.\n *\n * @api private\n */\n\nfunction ParserInline() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules$2.length; i++) {\n    this.ruler.push(_rules$2[i][0], _rules$2[i][1]);\n  }\n\n  // Can be overridden with a custom validator\n  this.validateLink = validateLink;\n}\n\n/**\n * Skip a single token by running all rules in validation mode.\n * Returns `true` if any rule reports success.\n *\n * @param  {Object} `state`\n * @api privage\n */\n\nParserInline.prototype.skipToken = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var pos = state.pos;\n  var i, cached_pos;\n\n  if ((cached_pos = state.cacheGet(pos)) > 0) {\n    state.pos = cached_pos;\n    return;\n  }\n\n  for (i = 0; i < len; i++) {\n    if (rules[i](state, true)) {\n      state.cacheSet(pos, state.pos);\n      return;\n    }\n  }\n\n  state.pos++;\n  state.cacheSet(pos, state.pos);\n};\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state`\n * @api private\n */\n\nParserInline.prototype.tokenize = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var end = state.posMax;\n  var ok, i;\n\n  while (state.pos < end) {\n\n    // Try all possible rules.\n    // On success, the rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, false);\n\n      if (ok) {\n        break;\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n/**\n * Parse the given input string.\n *\n * @param  {String} `str`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserInline.prototype.parse = function (str, options, env, outTokens) {\n  var state = new StateInline(str, this, options, env, outTokens);\n  this.tokenize(state);\n};\n\n/**\n * Validate the given `url` by checking for bad protocols.\n *\n * @param  {String} `url`\n * @return {Boolean}\n */\n\nfunction validateLink(url) {\n  var BAD_PROTOCOLS = [ 'vbscript', 'javascript', 'file', 'data' ];\n  var str = url.trim().toLowerCase();\n  // Care about digital entities \"javascript&#x3A;alert(1)\"\n  str = replaceEntities(str);\n  if (str.indexOf(':') !== -1 && BAD_PROTOCOLS.indexOf(str.split(':')[0]) !== -1) {\n    return false;\n  }\n  return true;\n}\n\n// Remarkable default options\n\nvar defaultConfig = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n    quotes: '“”‘’',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'replacements',\n        'smartquotes',\n        'references',\n        'abbr2',\n        'footnote_tail'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'footnote',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph',\n        'table'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'del',\n        'emphasis',\n        'entity',\n        'escape',\n        'footnote_ref',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n\n// Remarkable default options\n\nvar fullConfig = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n    quotes:       '“”‘’',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight:     null,\n\n    maxNesting:    20            // Internal protection, recursion limit\n  },\n\n  components: {\n    // Don't restrict core/block/inline rules\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n\n// Commonmark default options\n\nvar commonmarkConfig = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n    quotes: '“”‘’',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'abbr2'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n\n/**\n * Preset configs\n */\n\nvar config = {\n  'default': defaultConfig,\n  'full': fullConfig,\n  'commonmark': commonmarkConfig\n};\n\n/**\n * The `StateCore` class manages state.\n *\n * @param {Object} `instance` Remarkable instance\n * @param {String} `str` Markdown string\n * @param {Object} `env`\n */\n\nfunction StateCore(instance, str, env) {\n  this.src = str;\n  this.env = env;\n  this.options = instance.options;\n  this.tokens = [];\n  this.inlineMode = false;\n\n  this.inline = instance.inline;\n  this.block = instance.block;\n  this.renderer = instance.renderer;\n  this.typographer = instance.typographer;\n}\n\n/**\n * The main `Remarkable` class. Create an instance of\n * `Remarkable` with a `preset` and/or `options`.\n *\n * @param {String} `preset` If no preset is given, `default` is used.\n * @param {Object} `options`\n */\n\nfunction Remarkable(preset, options) {\n  if (typeof preset !== 'string') {\n    options = preset;\n    preset = 'default';\n  }\n\n  if (options && options.linkify != null) {\n    console.warn(\n      'linkify option is removed. Use linkify plugin instead:\\n\\n' +\n      'import Remarkable from \\'remarkable\\';\\n' +\n      'import linkify from \\'remarkable/linkify\\';\\n' +\n      'new Remarkable().use(linkify)\\n'\n    );\n  }\n\n  this.inline   = new ParserInline();\n  this.block    = new ParserBlock();\n  this.core     = new Core();\n  this.renderer = new Renderer();\n  this.ruler    = new Ruler();\n\n  this.options  = {};\n  this.configure(config[preset]);\n  this.set(options || {});\n}\n\n/**\n * Set options as an alternative to passing them\n * to the constructor.\n *\n * ```js\n * md.set({typographer: true});\n * ```\n * @param {Object} `options`\n * @api public\n */\n\nRemarkable.prototype.set = function (options) {\n  assign(this.options, options);\n};\n\n/**\n * Batch loader for components rules states, and options\n *\n * @param  {Object} `presets`\n */\n\nRemarkable.prototype.configure = function (presets) {\n  var self = this;\n\n  if (!presets) { throw new Error('Wrong `remarkable` preset, check name/content'); }\n  if (presets.options) { self.set(presets.options); }\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enable(presets.components[name].rules, true);\n      }\n    });\n  }\n};\n\n/**\n * Use a plugin.\n *\n * ```js\n * var md = new Remarkable();\n *\n * md.use(plugin1)\n *   .use(plugin2, opts)\n *   .use(plugin3);\n * ```\n *\n * @param  {Function} `plugin`\n * @param  {Object} `options`\n * @return {Object} `Remarkable` for chaining\n */\n\nRemarkable.prototype.use = function (plugin, options) {\n  plugin(this, options);\n  return this;\n};\n\n\n/**\n * Parse the input `string` and return a tokens array.\n * Modifies `env` with definitions data.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parse = function (str, env) {\n  var state = new StateCore(this, str, env);\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * The main `.render()` method that does all the magic :)\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {String} Rendered HTML.\n */\n\nRemarkable.prototype.render = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parse(str, env), this.options, env);\n};\n\n/**\n * Parse the given content `string` as a single string.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parseInline = function (str, env) {\n  var state = new StateCore(this, str, env);\n  state.inlineMode = true;\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * Render a single content `string`, without wrapping it\n * to paragraphs\n *\n * @param  {String} `str`\n * @param  {Object} `env`\n * @return {String}\n */\n\nRemarkable.prototype.renderInline = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parseInline(str, env), this.options, env);\n};\n\nexport { Remarkable, utils };\n","/*jshint node:true*/\n'use strict';\n\n/**\n * Replaces characters in strings that are illegal/unsafe for filenames.\n * Unsafe characters are either removed or replaced by a substitute set\n * in the optional `options` object.\n *\n * Illegal Characters on Various Operating Systems\n * / ? < > \\ : * | \"\n * https://kb.acronis.com/content/39790\n *\n * Unicode Control codes\n * C0 0x00-0x1f & C1 (0x80-0x9f)\n * http://en.wikipedia.org/wiki/C0_and_C1_control_codes\n *\n * Reserved filenames on Unix-based systems (\".\", \"..\")\n * Reserved filenames in Windows (\"CON\", \"PRN\", \"AUX\", \"NUL\", \"COM1\",\n * \"COM2\", \"COM3\", \"COM4\", \"COM5\", \"COM6\", \"COM7\", \"COM8\", \"COM9\",\n * \"LPT1\", \"LPT2\", \"LPT3\", \"LPT4\", \"LPT5\", \"LPT6\", \"LPT7\", \"LPT8\", and\n * \"LPT9\") case-insesitively and with or without filename extensions.\n *\n * Capped at 255 characters in length.\n * http://unix.stackexchange.com/questions/32795/what-is-the-maximum-allowed-filename-and-folder-size-with-ecryptfs\n *\n * @param  {String} input   Original filename\n * @param  {Object} options {replacement: String | Function }\n * @return {String}         Sanitized filename\n */\n\nvar truncate = require(\"truncate-utf8-bytes\");\n\nvar illegalRe = /[\\/\\?<>\\\\:\\*\\|\"]/g;\nvar controlRe = /[\\x00-\\x1f\\x80-\\x9f]/g;\nvar reservedRe = /^\\.+$/;\nvar windowsReservedRe = /^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\\..*)?$/i;\nvar windowsTrailingRe = /[\\. ]+$/;\n\nfunction sanitize(input, replacement) {\n  if (typeof input !== 'string') {\n    throw new Error('Input must be string');\n  }\n  var sanitized = input\n    .replace(illegalRe, replacement)\n    .replace(controlRe, replacement)\n    .replace(reservedRe, replacement)\n    .replace(windowsReservedRe, replacement)\n    .replace(windowsTrailingRe, replacement);\n  return truncate(sanitized, 255);\n}\n\nmodule.exports = function (input, options) {\n  var replacement = (options && options.replacement) || '';\n  var output = sanitize(input, replacement);\n  if (replacement === '') {\n    return output;\n  }\n  return sanitize(output, '');\n};\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","'use strict';\n\nvar truncate = require(\"./lib/truncate\");\nvar getLength = require(\"utf8-byte-length/browser\");\nmodule.exports = truncate.bind(null, getLength);\n","'use strict';\n\nfunction isHighSurrogate(codePoint) {\n  return codePoint >= 0xd800 && codePoint <= 0xdbff;\n}\n\nfunction isLowSurrogate(codePoint) {\n  return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n}\n\n// Truncate string by size in bytes\nmodule.exports = function truncate(getLength, string, byteLength) {\n  if (typeof string !== \"string\") {\n    throw new Error(\"Input must be string\");\n  }\n\n  var charLength = string.length;\n  var curByteLength = 0;\n  var codePoint;\n  var segment;\n\n  for (var i = 0; i < charLength; i += 1) {\n    codePoint = string.charCodeAt(i);\n    segment = string[i];\n\n    if (isHighSurrogate(codePoint) && isLowSurrogate(string.charCodeAt(i + 1))) {\n      i += 1;\n      segment += string[i];\n    }\n\n    curByteLength += getLength(segment);\n\n    if (curByteLength === byteLength) {\n      return string.slice(0, i + 1);\n    }\n    else if (curByteLength > byteLength) {\n      return string.slice(0, i - segment.length + 1);\n    }\n  }\n\n  return string;\n};\n\n","module.exports=/[\\0-\\x1F\\x7F-\\x9F]/","module.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/","module.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/","module.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/","'use strict';\n\nexports.Any = require('./properties/Any/regex');\nexports.Cc  = require('./categories/Cc/regex');\nexports.Cf  = require('./categories/Cf/regex');\nexports.P   = require('./categories/P/regex');\nexports.Z   = require('./categories/Z/regex');\n","module.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/","'use strict';\n\nfunction isHighSurrogate(codePoint) {\n  return codePoint >= 0xd800 && codePoint <= 0xdbff;\n}\n\nfunction isLowSurrogate(codePoint) {\n  return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n}\n\n// Truncate string by size in bytes\nmodule.exports = function getByteLength(string) {\n  if (typeof string !== \"string\") {\n    throw new Error(\"Input must be string\");\n  }\n\n  var charLength = string.length;\n  var byteLength = 0;\n  var codePoint = null;\n  var prevCodePoint = null;\n  for (var i = 0; i < charLength; i++) {\n    codePoint = string.charCodeAt(i);\n    // handle 4-byte non-BMP chars\n    // low surrogate\n    if (isLowSurrogate(codePoint)) {\n      // when parsing previous hi-surrogate, 3 is added to byteLength\n      if (prevCodePoint != null && isHighSurrogate(prevCodePoint)) {\n        byteLength += 1;\n      }\n      else {\n        byteLength += 3;\n      }\n    }\n    else if (codePoint <= 0x7f ) {\n      byteLength += 1;\n    }\n    else if (codePoint >= 0x80 && codePoint <= 0x7ff) {\n      byteLength += 2;\n    }\n    else if (codePoint >= 0x800 && codePoint <= 0xffff) {\n      byteLength += 3;\n    }\n    prevCodePoint = codePoint;\n  }\n\n  return byteLength;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n"],"sourceRoot":""}